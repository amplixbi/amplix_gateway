{"version":3,"sources":["roboassist_main.js"],"names":["window","IG$","_wcollab_data","msg_template","cls","items","id","type","innerHtml","workspace_template","attr","placeholder","contenteditable","role","spellcheck","welcome_template","for","handler","e","preventDefault","stopPropagation","this","_connect_channel","_wcollab","settings","_settings","_container","_render","_html","popup_error","$","bind","fadeOut","prototype","me","container","content","dsub","location","href","split","_embeded_html","message","start","nick","startup","sponsor","app_cuddle","appendTo","loading","join","main_loading","html","_init_setting","ctx_path","i","length","ws_path","request_url","protocol","url","_init","ws","ws_url","_userdetail","userdetail","__ws","WebSocket","onopen","onmessage","onclosed","onclosing","_send_ws","msg","m","JSON","parse","data","mbody","application","action","name","email","nodepath","username","nlp_entities","fmsg","nlp_entity","entity","utterance","utteranceText","sourceText","n","indexOf","n2","substring","before_message","startsWith","instance","requestRoboAction","apply","dv","orig_message","toString","visual_data","_appendMsg","requestRoboFormat","IRm$","r1","mdiv","s","messagelist","messagelist_inner","do_callback","theight","height","animate","scrollTop","atag","each","tag","dtag","amp","text","actor","self","focus","_ttimer","clearTimeout","_ttimer_c","trigger","draw_area","addClass","_appendChart","dommsg","chartobj","option","echarts","init","setOption","closeSession","close","is_link","_channel_info","t","channel","guid","readyState","send","stringify","load_app","tdiv","_loaded","rootdiv","empty","_pages","setTimeout","fadeIn","_load_page","dlgLogin","logininfo","val","hide","template","k","pg","region","show","pname","_draw_sub","setLoading","visible","showErrorMessage","title","msg_title","msg_content","_send_ajax","params","callback","uniquekey","_get_uniquekey","Pace","ajax","ack","dataType","async","contentType","timeout","beforeSend","xhr","cache","crossDomain","processData","success","response","status","stop","errcode","errorcode","errormsg","rerr","func","scope","error","err","dt","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","tpl","tname","c","push","charAt","append","txt","txtseq","speed","Math","floor","random","dval","typeWriter","ch","txt_nick","removeClass","payload","cmd","channel_name","_mts_","_g$a","resp","iserror","result","_init_ws","ircinput","_msg_hist","_msg_hist_back","keydown","which","_send_msg","lut","_guid_lut","d0","d1","d2","d3"],"mappings":"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","file":"../../../../../../igccud.min.js","sourcesContent":["if (!window.IG$)\n{\n\twindow.IG$ = {};\n}\n\nIG$._wcollab_data = {\n\tmsg_template: {\n\t\tcls: \"kiwi-messagelist-item\",\n\t\titems: [\n\t\t\t{\n\t\t\t\tcls: \"kiwi-messagelist-message kiwi-messagelist-message--modern kiwi-messagelist-message--authorfirst kiwi-messagelist-message-notice\",\n\t\t\t\t// cls: \"kiwi-messagelist-message kiwi-messagelist-message--modern kiwi-messagelist-message--authorfirst kiwi-messagelist-message-topic kiwi-messagelist-message--highlight\"\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-messagelist-modern-left\",\n\t\t\t\t\t\tid: \"avatar\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-messagelist-modern-right\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist-top\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist-nick\",\n\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist-nick-prefix\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerHtml: \"{actor.nick}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist-time\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist-body\",\n\t\t\t\t\t\t\t\t\t\tinnerHtml: \"{message}\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-messagelist-modern-right-pad\",\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t},\n\tworkspace_template: {\n\t\tcls: \"kiwi-workspace\",\n\t\titems: [\n\t\t\t{\n\t\t\t\tcls: \"kiwi-container kiwi-container--sidebar-open\",\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-header kiwi-theme-bg\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-header-name\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-header-options\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-container-content\",\n\t\t\t\t\t\tid: \"messagecontainer\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist\",\n\t\t\t\t\t\t\t\tid: \"messagelist\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-messagelist-inner\",\n\t\t\t\t\t\t\t\t\t\tid: \"messagelist-inner\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tcls: \"kiwi-controlinput kiwi-theme-bg\",\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-controlinput-selfuser\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-controlinput-inner\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-awaystatusindicator kiwi-awaystatusindicator--self\",\n\t\t\t\t\t\t\t\ttype: \"span\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-user\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-user-nick\",\n\t\t\t\t\t\t\t\t\t\ttype: \"span\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"fa fa-caret-square-up\",\n\t\t\t\t\t\t\t\t\t\ttype: \"i\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-form\",\n\t\t\t\t\t\t\t\ttype: \"form\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-typinguserslist\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-input-wrap\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-ircinput kiwi-controlinput-input\",\n\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-ircinput-editor\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: \"ircinput\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"Send a message...\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontenteditable: \"true\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trole: \"textbox\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tspellcheck: \"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-send fa fa-paper-plane\",\n\t\t\t\t\t\t\t\t\t\ttype: \"button\",\n\t\t\t\t\t\t\t\t\t\tid: \"btn_send\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/*,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-tools\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-tools-container\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"a\",\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-controlinput-tool\",\n\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"i\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"fa fa-smile-beam\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t},\n\twelcome_template: {\n\t\tcls: \"kiwi-wrap kiwi-theme-bg\",\n\t\titems: [\n\t\t\t{\n\t\t\t\tcls: \"kiwi-startup-common kiwi-welcome-simple kiwi-welcome-simple--recaptcha\",\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-startup-common-section kiwi-startup-common-section-connection\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"u-form u-form--big kiwi-welcome-simple-form\",\n\t\t\t\t\t\t\t\ttype: \"form\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: \"h2\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcls: \"u-input-text\",\n\t\t\t\t\t\t\t\t\t\tid: \"robo_form1\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"label\",\n\t\t\t\t\t\t\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"for\": \"txt_nick\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tinnerHtml: \"{nick}\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"u-input-text-inputs\",\n\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: \"txt_nick\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"u-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/*,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"kiwi-welcome-simple-input-container\",\n\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"u-input-text\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"u-input-text\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcls: \"u-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: \"button\",\n\t\t\t\t\t\t\t\t\t\tid: \"robo_form2\",\n\t\t\t\t\t\t\t\t\t\tcls: \"u-button u-button-primary u-submit kiwi-welcome-simple-start\",\n\t\t\t\t\t\t\t\t\t\tinnerHtml: \"{start}\",\n\t\t\t\t\t\t\t\t\t\thandler: function(e) {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tme._connect_channel();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tcls: \"fn-sponsor\",\n\t\t\t\t\t\t\t\t\t\t\t\tinnerHtml: \"{sponsor}\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcls: \"kiwi-startup-common-section kiwi-startup-common-section-info\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcls: \"kiwi-startup-common-section-info-content\",\n\t\t\t\t\t\t\t\tinnerHtml: \"{startup}\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n}\n\nIG$._wcollab = function(settings) {\n\tvar me = this;\n\tme._settings = settings || {};\n\tsettings._container && me._render();\n\n\tif (!settings._container)\n\t{\n\t\tsettings._container = settings._html;\n\t}\n\n\tvar popup_error = $(\"#popup_error\", settings._container),\n\t\tbtn_close = $(\"#btn_close\", popup_error);\n\t\n\tbtn_close.bind(\"click\", function() {\n\t\tpopup_error.fadeOut();\n\t});\n};\n\nIG$._wcollab.prototype = {\n\t_render: function() {\n        var me = this,\n\t\t\t_settings = me._settings,\n            container = _settings._container,\n            content = me._html = {},\n\t\t\tdurl = window.location.href,\n\t\t\tdsub = durl.split(\"/\");\n\n\t\t_settings._embeded_html = true;\n\t\t_settings.message = _settings.message || {\n\t\t\tstart: \"Start\",\n\t\t\tnick: \"Nick\",\n\t\t\tstartup: \"<p>Welcome to your AI Data Explorer.<br/><br/> <a href='http://www.amplixbi.com'>amplixbi</a> robo assist are here for help you.<br> To learn more about intelligent helper for your business, please visit <a href='https://amplixbi.com'>our website</a>.</p>\",\n\t\t\tsponsor: \"<span>AI Data Explorer<br></span>Created by <a href='http://www.amplixbi.com/'>amplixbi.com</a>\"\n\t\t};\n\n        content.app_cuddle = $('<div id=\"app_cuddle\"></div>').appendTo(container);\n        content.loading = $([\n            '<div id=\"loading\" class=\"loading\">',\n            '    <div class=\"loading_bg\"></div>',\n            '    <div class=\"loading-msg\"><img src=\"./images/ico_loading_circle.png\" width=\"30\" height=\"30\" alt=\"\" /></div>',\n            '</div>'].join('')).appendTo(container);\n\n        content.main_loading = $(['<div class=\"mainLoadingWrap\" id=\"main_loading\">',\n                '<div class=\"mainLoading\">',\n                '    <p>Calling agent to help you.<br/>I am more then happy to serve you!<br/><span>Please wait a moment.</span></p>',\n                '    <div class=\"progressWrap\">',\n                '        <p class=\"line\"></p>',\n                '        <img src=\"./images/ico_mainloading.png\" width=\"18\" height=\"14\" alt=\"\" />',\n                '    </div>',\n                '</div>',\n            '</div>'].join('')).appendTo(container);\n\n        content.popup_error = $(['<div id=\"popup_error\" class=\"popupContainer\">',\n                '<div class=\"popupWrap\">',\n                '    <div class=\"popupContentWrap\">',\n                '        <div class=\"popupImgWrap\">',\n                '            <img src=\"./images/img_alert.png\" width=\"80\" height=\"80\" alt=\"\" />',\n                '        </div>',\n                '        <div id=\"msg_area\" class=\"popupContent\">',\n                '            <p id=\"msg_title\" class=\"title\"></p>',\n                '            <p id=\"msg_content\"></p>',\n                '        </div>',\n                '        <div class=\"popupBtnWrap\">',\n                '            <a id=\"btn_close\" class=\"btn close\">Close</a>',\n                '        </div>',\n                '    </div>',\n                '</div>',\n                '<div class=\"popupDimmed\"></div>',\n            '</div>'].join('')).appendTo(container);\n\n        _settings.html = content.app_cuddle;\n\t\t\n\t\tme._init_setting();\n\n        let ctx_path = \"\";\n        for (let i=3; i < dsub.length; i++)\n        {\n            if (dsub[i] == \"launcher\")\n                break;\n\n            ctx_path += \"/\" + dsub[i];\n        }\n\n        if (!_settings.ws_path)\n        {\n            _settings.ws_path = ctx_path + \"/websocket/collaborate\";\n        }\n\n        if (!_settings.request_url)\n        {\n            _settings.request_url = ctx_path + \"/krcp\";\n        }\n\n        var popup_error = content.popup_error,\n            btn_close = $(\"#btn_close\", popup_error);\n        \n        btn_close.bind(\"click\", function() {\n            popup_error.fadeOut();\n        });\n    },\n\n\t_init_setting: function() {\n\t\tvar me = this,\n\t\t\t_settings = me._settings,\n\t\t\tdurl = window.location.href,\n\t\t\tdsub = durl.split(\"/\");\n\n\t\tif (!_settings.protocol)\n\t\t{\n\t\t\t_settings.protocol = (dsub[0] == \"https:\" ? \"wss\" : \"ws\");\n\t\t}\n\t\t\n\t\tif (!_settings.url)\n\t\t{\n\t\t\t_settings.url = dsub[2];\n\t\t}\n\t},\n\n\t_init: function() {\n\t\tvar me = this,\n\t\t\t_settings;\n\t\t\t\n\t\t_settings = me._settings;\n\n\t\tme._init_setting();\n\t\t\n\t\tvar ws_url = _settings.protocol + \"://\" + _settings.url + _settings.ws_path,\n\t\t\tws;\n\t\t\n\t\tme._userdetail = _settings.userdetail;\n\t\t\n\t\ttry\n\t\t{\n\t\t\tws = me.__ws = new WebSocket(ws_url);\n\t\t\tws.onopen = function (e) {\n\t\t\t\tme.onopen(e);\n\t\t\t};\n\t\t\t\n\t\t\tws.onmessage = function (e) {\n\t\t\t\tme.onmessage(e);\n\t\t\t};\n\t\t\t\n\t\t\tws.onclosed = function(e) {\n\t\t\t\tme.onclosed(e);\n\t\t\t};\n\t\t\t\n\t\t\tws.onclosing = function(e) {\n\t\t\t\tme.onclosing(e);\n\t\t\t}\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t}\n\t},\n\tonopen: function(e) {\n\t\tvar me = this;\n\t\tme._send_ws(\"_call_\", \"login\", {});\n\t},\n\tonmessage: function(e) {\n\t\tvar me = this,\n\t\t\tm = JSON.parse(e.data),\n\t\t\tsettings = me._settings,\n\t\t\tmsg,\n\t\t\tmbody = {},\n\t\t\ts, mdiv;\n\t\t\n\t\tif (m.application == \"_irc_\")\n\t\t{\n\t\t\tswitch (m.action)\n\t\t\t{\n\t\t\tcase \"login\":\n\t\t\t\tmsg = \"Logged in user <ul><li>\" + m.content.name + \" (\" + m.content.id + \")</li><li>\" + m.content.email + \"</li></ul>\";\n\t\t\t\tbreak;\n\t\t\tcase \"writecontent\":\n\t\t\t\tmsg = \"Content updated on server! <ul><li>\" + m.content.nodepath + \"</li></li>By: \" + m.content.username + \"</li></ul>\";\n\t\t\t\tbreak;\n\t\t\tcase \"message\":\n\t\t\t\t$(\"#main_loading\", settings._container).fadeOut();\n\t\t\t\tmbody = m.content;\n\t\t\t\tif (mbody.nlp_entities && mbody.nlp_entities.length)\n\t\t\t\t{\n\t\t\t\t\tvar fmsg = mbody.message;\n\t\t\t\t\tfor (let i=0; i < mbody.nlp_entities.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet nlp_entity = mbody.nlp_entities[i];\n\n\t\t\t\t\t\tlet entity = nlp_entity.entity;\n\t\t\t\t\t\tlet utterance = nlp_entity.utteranceText || nlp_entity.sourceText;\n\n\t\t\t\t\t\tlet n = fmsg.indexOf(\"{\" + entity + \"}\");\n\t\t\t\t\t\twhile (n > -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet n2 = fmsg.indexOf(\"}\", n);\n\t\t\t\t\t\t\tfmsg = fmsg.substring(0, n) + utterance + fmsg.substring(n2 + 1);\n\t\t\t\t\t\t\tn = fmsg.indexOf(\"{\" + entity + \"}\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tmbody.before_message = msg;\n\t\t\t\t\tmbody.message = fmsg;\n\t\t\t\t}\n\t\t\t\tmsg = mbody.message;\n\t\t\t\tif (msg && msg.startsWith(\"#ACT\") && settings.instance)\n\t\t\t\t{\n\t\t\t\t\tvoid 0;\n\t\t\t\t\t// settings.html.trigger(\"requestAction\", msg);\n\t\t\t\t\tsettings.instance.requestRoboAction.apply(settings.instance, [me, mbody, function(m, dv) {\n\t\t\t\t\t\tmbody.orig_message = msg;\n\t\t\t\t\t\tmbody.message = m.toString();\n\t\t\t\t\t\tmbody.visual_data = dv;\n\t\t\t\t\t\tme._appendMsg(mbody);\n\t\t\t\t\t}]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (msg && msg.indexOf(\"@\") > -1 && settings.instance)\n\t\t\t\t{\n\t\t\t\t\tsettings.instance.requestRoboFormat.apply(settings.instance, [me, mbody, function(m) {\n\t\t\t\t\t\tmbody.orig_message = msg;\n\t\t\t\t\t\tmbody.message = m;\n\t\t\t\t\t\tme._appendMsg(mbody);\n\t\t\t\t\t}]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (!msg)\n\t\t\t\t{\n\t\t\t\t\tmbody.message = IRm$.r1(\"ROBO_ERR_PROCESSING\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tme._appendMsg(mbody);\n\t\t}\n\t},\n\t\n\t_appendMsg: function(mbody) {\n\t\tvar me = this,\n\t\t\tmdiv,\n\t\t\ts,\n\t\t\tsettings = me._settings,\n\t\t\tmessagecontainer = $(\"#messagecontainer\", settings._container),\n\t\t\tmessagelist = me.messagelist,\n\t\t\tmessagelist_inner = me.messagelist_inner;\n\t\t\ttheight = me.theight || 0;\n\n\t\tif (me._ttimer)\n\t\t{\n\t\t\tclearTimeout(me._ttimer);\n\t\t\tme._ttimer = -1;\n\t\t\tif (me._ttimer_c)\n\t\t\t{\n\t\t\t\tme._ttimer_c.html.html(me._ttimer_c.message.join(\" \"));\n\t\t\t\tme._ttimer_c.html.trigger(\"animation_finished\");\n\t\t\t\tme._ttimer_c = null;\n\t\t\t}\n\t\t}\n\n\t\tmdiv = $(\"<div></div>\").appendTo(messagelist_inner);\n\t\ts = me.draw_area(mdiv, IG$._wcollab_data.msg_template, mbody, !mbody.actor.self && !mbody.visual_data);\n\t\t\n\t\tif (mbody.actor && mbody.actor.self)\n\t\t{\n\t\t\ts.addClass(\"igc_self_msg\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts.addClass(\"igc_bot_msg\");\n\t\t}\n\n\t\tfunction do_callback() {\n\t\t\tme.theight = theight = messagelist_inner.height(); // theight + s.height();\n\t\t\t\n\t\t\tmessagelist.animate({ scrollTop: theight }, \"slow\");\n\t\t\t\n\t\t\tvar atag = $(\"a\", mdiv);\n\t\t\t\n\t\t\t$.each(atag, function(i, tag) {\n\t\t\t\tvar dtag = $(tag);\n\t\t\t\tdtag.bind(\"click\", function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\n\t\t\t\t\tvar amp = dtag.attr(\"amp_reply\");\n\n\t\t\t\t\tif (amp === \"\")\n\t\t\t\t\t{\n\t\t\t\t\t\tamp = dtag.text();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (amp)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (amp.startsWith(\"#ACT_\"))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsettings.instance.requestRoboAction.apply(settings.instance, [me, {\n\t\t\t\t\t\t\t\tmessage: amp,\n\t\t\t\t\t\t\t\tactor: {\n\t\t\t\t\t\t\t\t\tnick: \"me\",\n\t\t\t\t\t\t\t\t\tself: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, function(m) {\n\t\t\t\t\t\t\t\tmbody.orig_message = mbody.message;\n\t\t\t\t\t\t\t\tmbody.message = m.toString();\n\t\t\t\t\t\t\t}]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tme._send_ws(\"_call_\", \"message\", {\n\t\t\t\t\t\t\t\tmessage: amp,\n\t\t\t\t\t\t\t\tactor: {\n\t\t\t\t\t\t\t\t\tnick: \"me\",\n\t\t\t\t\t\t\t\t\tself: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$(\"#ircinput\", settings._container).focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t\n\t\tif (mbody.visual_data)\n\t\t{\n\t\t\tmbody._html = s;\n\t\t\tme._appendChart(mbody);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!mbody.actor.self)\n\t\t\t{\n\t\t\t\ts.bind(\"animation_finished\", function(e) {\n\t\t\t\t\tdo_callback();\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdo_callback();\n\t\t\t}\n\t\t}\n\t},\n\n\t_appendChart: function(mbody) {\n\t\tvar dommsg = $(\".kiwi-messagelist-body\", mbody._html);\n\n\t\tvar chartobj = $(\"<div class='robo-chart'></div>\").appendTo(dommsg);\n\t\tvar option = mbody.visual_data;\n\n\t\tvar mchart = echarts.init(chartobj[0]);\n\t\tmchart.setOption(option);\n\t},\n\t\n\tcloseSession: function() {\n\t\tvar me = this,\n\t\t\tws = me.__ws;\n\t\t\n\t\tif (ws)\n\t\t{\n\t\t\tws.close();\n\t\t}\n\t\t\n\t\tme.__ws = null;\n\t},\n\t\n\t_send_ws: function(application, action, data, is_link) {\n\t\tvar me = this,\n\t\t\tws = me.__ws,\n\t\t\t_channel_info = me._channel_info,\n\t\t\tt = {\n\t\t\t\tapplication: application,\n\t\t\t\taction: action,\n\t\t\t\tinstance: _channel_info.instance,\n\t\t\t\tchannel: _channel_info.channel,\n\t\t\t\tid: me.guid(),\n\t\t\t\tcontent: data\n\t\t\t},\n\t\t\tmdiv,\n\t\t\tmsg;\n\n\t\tmsg = t.content.message;\n\n\t\tif (is_link && msg && msg.indexOf(\";\") > 0)\n\t\t{\n\t\t\tt.content.message = msg.substring(0, msg.indexOf(\";\"));\n\t\t}\n\t\t\n\t\tif (ws.readyState !== 1 && ws.readyState !== 0)\n\t\t{\n\t\t\tme._appendMsg({\n\t\t\t\tactor: {},\n\t\t\t\tmessage: \"Socket closed! Reconnect to bot\"\n\t\t\t});\n\t\t\tme._init()\n\t\t\treturn;\n\t\t}\n\t\tws.send(JSON.stringify(t));\n\n\t\tif (is_link && msg && msg.indexOf(\";\") > 0)\n\t\t{\n\t\t\tdata.message = msg.substring(msg.indexOf(\";\") + 1);\n\t\t}\n\t\t\n\t\tswitch(action)\n\t\t{\n\t\tcase \"message\":\n\t\t\tme._appendMsg(data);\n\t\t\tbreak;\n\t\t}\n\t},\n\t\n\tload_app: function() { \n\t\tvar me = this,\n\t\t\t_settings = me._settings,\n\t\t\tinstance = _settings.instance,\n\t\t\ttdiv = _settings.html,\n\t\t\ts;\n\n\t\tif (me._loaded)\n\t\t{\n\t\t\t$(\"#ircinput\", _settings._container).focus();\n\t\t\treturn;\n\t\t}\n\n\t\tme._loaded = true;\n\t\tme.rootdiv = tdiv;\n\t\tme.rootdiv.empty();\n\t\tme._pages = {};\n\n\t\tsetTimeout(function() {\n\t\t\t$(\"#main_loading\", _settings._container).fadeOut();\n\t\t\t_settings.html.fadeIn();\n\t\t\tme._load_page(\"welcome_template\");\n\n\t\t\tif (instance && instance.dlgLogin && instance.dlgLogin.logininfo)\n\t\t\t{\n\t\t\t\tlet txt_nick = $(\"#txt_nick\", _settings._container);\n\t\t\t\ttxt_nick.val(instance.dlgLogin.logininfo.username);\n\t\t\t\t$(\"#robo_form1\", _settings._container).hide();\n\t\t\t\t$(\"#robo_form2\", _settings._container).hide();\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(\"#robo_form2\", _settings._container).trigger(\"click\");\n\t\t\t\t}, 800);\n\t\t\t}\n\t\t}, 800);\n\t},\n\t\n\t_load_page: function(template) {\n\t\tvar me = this,\n\t\t\ts,\n\t\t\t_settings = me._settings;\n\t\t\n\t\t$.each(me._pages, function(k, pg) {\n\t\t\tif (k == template)\n\t\t\t{\n\t\t\t\tpg.region.show();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpg.region.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tif (!me._pages[template])\n\t\t{\n\t\t\ts = me.draw_area(me.rootdiv, IG$._wcollab_data[template], _settings.message);\n\t\t\t\n\t\t\tme._pages[template] = {\n\t\t\t\tpname: template,\n\t\t\t\tregion: s\n\t\t\t};\n\t\t}\n\t},\n\t\n\tdraw_area: function(tdiv, template, msg, animate) {\n\t\tvar me = this,\n\t\t\ts;\n\t\t\n\t\ts = this._draw_sub(tdiv, template, msg, animate);\n\t\t\n\t\treturn s;\n\t},\n\t\n\tsetLoading: function(visible) {\n\t\tvar me = this,\n\t\t\tsettings = me._settings;\n\t\t$(\"#loading\", settings._container)[visible ? \"show\" : \"fadeOut\"]();\n\t},\n\t\n\tshowErrorMessage: function(title, msg) {\n\t\tvar me = this,\n\t\t\tsettings = me._settings,\n\t\t\tpopup_error = $(\"#popup_error\", settings._container);\n\t\t\tmsg_title = $(\"#msg_title\", popup_error),\n\t\t\tmsg_content = $(\"#msg_content\", popup_error);\n\t\t\n\t\tmsg_title.html(title);\n\t\tmsg_content.html(msg);\n\t\t\n\t\tpopup_error.fadeIn();\n\t},\n\t\n\t_send_ajax: function(params, callback) {\n\t\tvar me = this,\n\t\t\t_settings = me._settings,\n\t\t\tret,\n\t\t\tp, k, pnames;\n\t\t\n\t\tparams.uniquekey = me._get_uniquekey();\n\t\t\n\t\twindow.Pace && window.Pace.start();\n\t\t\n\t\tme.setLoading(true);\n\t\t\n\t\t$.ajax({\n\t\t\turl: _settings.request_url + \"/\" + params.ack,\n\t\t\tdata: JSON.stringify(params),\n\t\t\tdataType: \"json\",\n\t\t\ttype: \"POST\",\n\t\t\tasync: true,\n\t\t\tcontentType: \"application/json; charset=UTF-8\",\n\t\t\ttimeout: 600000,\n\t\t\tbeforeSend: function(xhr, settings) {\n\t\t\t},\n\t\t\tcache: false,\n\t\t\tcrossDomain: false,\n\t\t\tprocessData: true,\n\t\t\tsuccess: function(response, status, xhr) {\n\t\t\t\twindow.Pace && window.Pace.stop();\n\t\t\t\t\n\t\t\t\tresponse = response || {\n\t\t\t\t\terrorcode: \"0xffff\",\n\t\t\t\t\terrormsg: 'Server incorrect responding'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar errcode = response.errorcode,\n\t\t\t\t\tstopprog = false;\n\t\t\t\t\n\t\t\t\tme.setLoading(false);\n\n\t\t\t\tif (errcode != null && errcode.length > 0)\n\t\t\t\t{\n\t\t\t\t\tvar rerr = true;\n\t\t\t\t\t\n\t\t\t\t\tif (callback)\n\t\t\t\t\t{\n\t\t\t\t\t\trerr = callback.func.apply(callback.scope || me, [response, true]);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (rerr !== false)\n\t\t\t\t\t{\n\t\t\t\t\t\tme.showErrorMessage(\"Error!\", response.errormsg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (callback)\n\t\t\t\t\t{\n\t\t\t\t\t\tcallback.func.apply(callback.scope || me, [response, false]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\twindow.Pace && window.Pace.stop();\n\t\t\t\t\n\t\t\t\tme.setLoading(false);\n\t\t\t\t\n\t\t\t\tvar response = {\n\t\t\t\t\terrorcode: '0x9999',\n\t\t\t\t\terrormsg: 'Server URL Connection Failed'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tme.showErrorMessage(\"Error!\", response.errormsg);\n\t\t\t}\n\t\t});\n\t},\n\t\n\t_get_uniquekey: function() {\n\t\tvar dt = new Date(),\n\t\t\tdateStr = \"\" + dt.getFullYear() + \n\t\t\t\t\t  (1+dt.getMonth()) +\n\t\t\t\t\t  dt.getDate() +\n\t\t\t\t\t  dt.getHours() + \n\t\t\t\t\t  dt.getMinutes() +\n\t\t\t\t\t  dt.getSeconds();\n\t\t\n\t\treturn dateStr;\n\t},\n\t\n\t_draw_sub: function(tdiv, tpl, msg, animate) {\n\t\tvar me = this,\n\t\t\ttag = tpl.type || \"div\",\n\t\t\tc = [\"<\" + tag],\n\t\t\ttname, k, i;\n\t\t\n\t\tif (tpl.cls)\n\t\t{\n\t\t\tc.push(\" class='\" + tpl.cls + \"'\");\n\t\t}\n\t\t\n\t\tif (tpl.name)\n\t\t{\n\t\t\tc.push(\" name='\" + tpl.name + \"'\");\n\t\t}\n\t\t\n\t\tif (tpl.id)\n\t\t{\n\t\t\tc.push(\" id='\" + tpl.id + \"'\");\n\t\t}\n\t\t\n\t\tif (tpl.attr)\n\t\t{\n\t\t\t$.each(tpl.attr, function(i, t) {\n\t\t\t\tc.push(\" \" + i + \"='\" + t + \"'\");\n\t\t\t});\n\t\t}\n\t\t\n\t\tc.push(\"></\" + tag + \">\");\n\t\t\n\t\tc = $(c.join(\"\")).appendTo(tdiv);\n\t\t\n\t\tif (tpl.handler)\n\t\t{\n\t\t\tc.bind(\"click\", function(e) {\n\t\t\t\ttpl.handler.apply(tpl.scope || me, [e]);\n\t\t\t});\n\t\t}\n\t\t\n\t\tif (tpl.items)\n\t\t{\n\t\t\t$.each(tpl.items, function(i, t) {\n\t\t\t\tme._draw_sub(c, t, msg, animate);\n\t\t\t});\n\t\t}\n\t\telse if (tpl.innerHtml)\n\t\t{\n\t\t\tif (msg && tpl.innerHtml.charAt(0) == '{' && tpl.innerHtml.charAt(tpl.innerHtml.length - 1) == '}')\n\t\t\t{\n\t\t\t\ttname = tpl.innerHtml.substring(1, tpl.innerHtml.length - 1);\n\t\t\t\t\n\t\t\t\tif (tname.indexOf(\".\") > -1)\n\t\t\t\t{\n\t\t\t\t\ttname = tname.split(\".\");\n\t\t\t\t\tk = msg;\n\t\t\t\t\tfor (i=0; i < tname.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (k[tname[i]])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tk = k[tname[i]];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tk = null;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tc.append(k || \"\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (tname == \"message\" && animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (msg[tname].indexOf(\"<a\") < 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet txt = msg[tname].split(\" \");\n\t\t\t\t\t\t\tlet txtseq = 0;\n\t\t\t\t\t\t\tlet speed = 5 + Math.floor(Math.random() * 50);\n\t\t\t\t\t\t\tlet dval = \"\";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfunction typeWriter() {\n\t\t\t\t\t\t\t\tif (txtseq < txt.length) {\n\t\t\t\t\t\t\t\t\tlet ch = txt[txtseq];\n\t\t\t\t\t\t\t\t\tdval += \" \" + ch;\n\t\t\t\t\t\t\t\t\ttxtseq++;\n\t\t\t\t\t\t\t\t\tc.html(dval);\n\n\t\t\t\t\t\t\t\t\tif (txtseq % 40 == 0)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tme.messagelist.animate({ scrollTop: me.messagelist_inner.height() }, \"slow\");\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tspeed = (ch == ' ' || ch == '.' ? 60 : 5) + Math.floor(Math.random() * 120);\n\t\t\t\t\t\t\t\t\tme._ttimer_c = {\n\t\t\t\t\t\t\t\t\t\thtml: c,\n\t\t\t\t\t\t\t\t\t\tmessage: txt\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tme._ttimer = setTimeout(typeWriter, speed);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tme._ttimer = -1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttypeWriter();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc.append(msg[tname] || \"\");\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tc.trigger(\"animation_finished\");\n\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tc.append(msg[tname] || \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tc.append(tpl.innerHtml);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn c;\n\t},\n\t\n\t_connect_channel: function() {\n\t\tvar me = this,\n\t\t\tsettings = me._settings,\n\t\t\ttxt_nick = $(\"#txt_nick\", settings._container);\n\t\t\n\t\tif (!txt_nick.val())\n\t\t{\n\t\t\ttxt_nick.addClass(\"required_field\");\n\t\t\tme.showErrorMessage(\"Field Input\", \"Nick name is required!\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttxt_nick.removeClass(\"required_field\");\n\t\t\n\t\t// loading main background\n\t\t// $(\"#main_loading\").show();\n\t\t\n\t\tme._send_ajax({\n\t\t\tack: \"collaborate\",\n\t\t\tpayload: {cmd: \"request_channel\"},\n\t\t\tmbody: me._settings.channel_name ? {\n\t\t\t\tchannel_name: \"#\" + me._settings.channel_name,\n\t\t\t\tnick: txt_nick.val()\n\t\t\t} : {\n\t\t\t\tnick: txt_nick.val()\n\t\t\t},\n\t\t\t_mts_: me._settings._mts_ || IG$._g$a\n\t\t}, {\n\t\t\tfunc: function(resp, iserror) {\n\t\t\t\tif (!iserror)\n\t\t\t\t{\n\t\t\t\t\tme._channel_info = resp.result;\n\t\t\t\t\tme._load_page(\"workspace_template\");\n\t\t\t\t\tme.messagelist = $(\"#messagelist\", me._settings._container);\n\t\t\t\t\tme.messagelist_inner = $(\"#messagelist-inner\", me.messagelist);\n\t\t\t\t\tme._init_ws();\n\t\t\t\t\tme._init();\n\n\t\t\t\t\t$(\"#ircinput\", settings._container).focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t\n\t_init_ws: function() {\n\t\tvar me = this,\n\t\t\tws = me._pages.workspace_template,\n\t\t\tircinput = $(\"#ircinput\", ws.region);\n\n\t\tme._msg_hist = me._msg_hist || [];\n\t\tme._msg_hist_back = me._msg_hist_back || 0;\n\t\t\n\t\tircinput.keydown(function(e) {\n\n\t\t\tif (e.which == 13)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\t\n\t\t\t\tme._send_msg();\n\t\t\t}\n\t\t\telse if (e.which == 38)\n\t\t\t{\n\t\t\t\tif (me._msg_hist.length > me._msg_hist_back)\n\t\t\t\t{\n\t\t\t\t\tme._msg_hist_back++;\n\t\t\t\t\tircinput.html(me._msg_hist[me._msg_hist.length - me._msg_hist_back]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (e.which == 40)\n\t\t\t{\n\t\t\t\tif (me._msg_hist_back > 0 && me._msg_hist.length > me._msg_hist_back-1)\n\t\t\t\t{\n\t\t\t\t\tme._msg_hist_back--;\n\t\t\t\t\tircinput.html(me._msg_hist[me._msg_hist.length - me._msg_hist_back]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\t$(\"#btn_send\", ws.region).bind(\"click\", function(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\t\n\t\t\tme._send_msg();\n\t\t});\n\t},\n\t\n\t_send_msg: function() {\n\t\tvar me = this,\n\t\t\tws = me._pages.workspace_template,\n\t\t\tc = $(\"#ircinput\", ws.region),\n\t\t\tt = c.html();\n\t\t\n\t\tif (!t)\n\t\t\treturn;\n\t\t\n\t\tc.empty();\n\n\t\tme._msg_hist = me._msg_hist || [];\n\t\tme._msg_hist_back = 0;\n\n\t\tme._msg_hist.push(t);\n\t\t\n\t\tme._send_ws(\"_call_\", \"message\", {\n\t\t\tmessage: t,\n\t\t\tactor: {\n\t\t\t\tnick: \"me\",\n\t\t\t\tself: true\n\t\t\t}\n\t\t});\n\t},\n\t\n\tguid: function() {\n\t\tvar lut,\n\t\t\ti;\n\t\t\n\t\tif (!IG$._guid_lut)\n\t\t{\n\t\t\tlut = IG$._guid_lut = [];\n\n\t\t\tfor (i=0; i<256; i++) { \n\t\t\t\tlut[i] = (i<16?'0':'')+(i).toString(16); \n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlut = IG$._guid_lut;\n\t\t}\n\t\t\n\t\tvar d0 = Math.random()*0xffffffff|0,\n\t\t\td1 = Math.random()*0xffffffff|0,\n\t\t\td2 = Math.random()*0xffffffff|0,\n\t\t\td3 = Math.random()*0xffffffff|0,\n\t\t\tguid;\n\t\t\n\t\tguid = lut[d0&0xff]+lut[d0>>8&0xff]+lut[d0>>16&0xff]+lut[d0>>24&0xff]+'-'+\n\t\tlut[d1&0xff]+lut[d1>>8&0xff]+'-'+lut[d1>>16&0x0f|0x40]+lut[d1>>24&0xff]+'-'+\n\t\tlut[d2&0x3f|0x80]+lut[d2>>8&0xff]+'-'+lut[d2>>16&0xff]+lut[d2>>24&0xff]+\n\t\tlut[d3&0xff]+lut[d3>>8&0xff]+lut[d3>>16&0xff]+lut[d3>>24&0xff];\n\t\t\n\t\treturn guid;\n\t}\n}\n"]}