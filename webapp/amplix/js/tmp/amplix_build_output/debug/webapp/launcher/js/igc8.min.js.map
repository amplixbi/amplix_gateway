{"version":3,"sources":["bowser.js","jsbn.js","rsa.js","prng4.js","rng.js","loader.js","ingbase.js","mainapp.js","mainapp_wb.js","base64.js","ing_login.js","resource.js","pace.js","fastclick.js"],"names":["name","definition","module","exports","define","amd","this","t","detect","ua","getFirstMatch","regex","match","length","result","iosdevice","toLowerCase","android","test","chromeBook","edgeVersion","versionIdentifier","tablet","mobile","opera","version","yandexbrowser","windowsphone","msedge","msie","chrome","sailfish","seamonkey","firefox","mozilla","firefoxos","silk","phantom","blackberry","webos","touchpad","bada","tizen","safari","webkit","gecko","ios","osVersion","replace","osversion","osMajorVersion","split","a","c","x","bowser","navigator","userAgent","browserList","i","browserItem","_detect","dbits","canary","j_lm","BigInteger","b","fromNumber","fromString","nbi","am1","w","j","n","v","Math","floor","am2","xl","xh","l","h","m","am3","appName","prototype","am","DB","DM","DV","BI_FP","FV","pow","F1","F2","BI_RM","BI_RC","Array","int2char","charAt","intAt","s","charCodeAt","bnpCopyTo","r","bnpFromInt","nbv","fromInt","bnpFromString","k","fromRadix","mi","sh","clamp","ZERO","subTo","bnpClamp","bnToString","negate","toString","toRadix","d","km","p","bnNegate","bnAbs","bnCompareTo","nbits","bnBitLength","bnpDLShiftTo","bnpDRShiftTo","max","bnpLShiftTo","bs","cbs","bm","ds","bnpRShiftTo","bnpSubTo","min","bnpMultiplyTo","abs","y","bnpSquareTo","bnpDivRemTo","q","pm","pt","copyTo","ts","ms","nsh","lShiftTo","ys","y0","yt","d1","d2","e","dlShiftTo","compareTo","ONE","qd","drShiftTo","rShiftTo","bnMod","divRemTo","Classic","cConvert","mod","cRevert","cReduce","cMulTo","multiplyTo","reduce","cSqrTo","squareTo","bnpInvDigit","Montgomery","mp","invDigit","mpl","mph","um","mt2","montConvert","montRevert","montReduce","u0","montSqrTo","montMulTo","bnpIsEven","bnpExp","z","r2","g","convert","sqrTo","mulTo","revert","bnModPowInt","isEven","exp","rr","vv","bitLength","modPowInt","parseBigInt","str","linebrk","ret","substring","byte2Hex","pkcs1pad2","ba","rng","SecureRandom","nextBytes","RSAKey","dmp1","dmq1","coeff","RSASetPublic","N","E","parseInt","RSADoPublic","RSAEncrypt","text","doPublic","setPublic","encrypt","Arcfour","S","ARC4init","key","ARC4next","prng_newstate","init","next","rng_psize","rng_state","rng_pool","rng_pptr","rng_seed_int","rng_seed_time","Date","getTime","rng_get_byte","rng_get_bytes","appVersion","window","crypto","random","IG$","__microloader","modules","callback","bc","ig$","bootconfig","boot","all_modules","shift","sc","push","substr","getScriptCache","callBackObj","apply","_source","$s","ready","viewer_inst","amplix_instance","target","$","onLoad","create","scripts","nocache","sclength","nocache_key","loaded","head","document","firstScript","__tscripts","smap","___loaded_scr","each","afterloaded","execute","dt","getFullYear","getMonth","getDate","getHours","loadScript","scs","scobj","script","is_css","ctag","cache","src","indexOf","createElement","rel","type","media","async","defer","onload","onerror","href","appendChild","readyState","onreadystatechange","parentNode","insertBefore","write","callerptr","callexec","callparam","me","p1","p2","p3","arg","arguments","marg","_ready$","opt","config","$a_id","id","_insts$","createInstance","$load_init","tmpl","fm","f","open_url","menu","objid","uid","mainPanel","req","_rpc$","ack","payload","mbody","option","jdoc","citem","navigateApp","call","nodepath","writable","send","jobid","sid","jid","action","rpt","request","data","no_history","job_report_meta","content","job_result","__jid","__sid","getComponent","cmp","requestRoboAction","robo_inst","IRm$","r1","requestRoboFormat","navigateCompleted","obj","target_html","trigger","factory","require","jQuery","pluses","encode","raw","encodeURIComponent","stringifyCookieValue","value","json","JSON","stringify","String","read","converter","slice","decodeURIComponent","parse","parseCookieValue","isFunction","cookie","options","extend","defaults","expires","days","setMilliseconds","getMilliseconds","toUTCString","path","domain","secure","join","undefined","cookies","parts","removeCookie","fn","dselect","attr","css","onselectstart","selText","browser","range","offsetParent","createTextRange","moveToElementText","select","selection","ownerDocument","defaultView","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","setBaseAndExtent","gsequence","__chartoption","chartext","_canvasSupported","elem","getContext","UNDEFINED","L_SPPL","msgint","_markInvalid","level","clipboard","_separator","i$0","msvg","SVGAngle","implementation","hasFeature","mcanvas","hEEq","map","fasl","metakey","getMetaKey","hEE","hEE2","hEE3","dbp","ps","loadExtend","rcsloaded","items","checkTimeout","instance","session_timeout","timeout","clearTimeout","Dtimer","Wtimer","setTimeout","alertmsg","appname","showLogin","objname","base","_rrcsv","_rrcs","dobj","span","istext","_rcs","$lbg","msg","___mtimer","override","overrides","$isClass","owner","self","hasOwnProperty","$className","displayName","$name","$owner","$previous","callOverrideParent","objectConstructor","Object","constructor","inlineOverrides","o","subclass","superclass","isObject","subclassProto","F","superclassProto","proto","microChartType","chartdata","mctype","lineColor","linecolor","fillColor","fillcolor","lineWidth","barColor","negBarColor","posBarColor","boxFillColor","medianColor","object","overwrite","copyObject","notdeep","val","isString","getMetaItemCache","itemicon","foldertype","getLicenseTag","dlgLogin","logininfo","l3","formatUID","uid1","uid2","checkUID","formatName","tname","trim12","ws","drawLicenseTag","unode","watermark","mvar","ltag","position","bottom","left","backgroundImage","backgroundRepeat","padding","appendTo","append","tooltip","ui","_tooltipInstance","zIndex","hide","body","show","typeOfValue","findSubDivClass","cname","cdiv","childNodes","classname","className","cid","nodename","nodeName","localName","isFolder","typename","_sortTypeOrder","parent","folder","cube","cubemodel","javapackage","mcube","mdbcube","_nsort","sortMeta","sortMeta_old","torder","ltype","lfd","sort","sa","sb","L","a1","b1","al","bl","at","bt","an","bn","at1","bt1","locale_name","isNaN","lname","get_datatype","get_metatype_icon","tobj","rawtype","attributes","attrb2","memo","datatype","findSubNode","nodevalue","cvalue","getAttribute","loadXML","doc","xdoc","Base64","decode","DOMParser","parseFromString","ActiveXObject","loadMapData","ajax","url","mapurl","getUniqueKey","dataType","success","mLU","error","status","thrown","lDF","fname","getKeyName","interpolateColor","minColor","maxColor","maxDepth","depth","h2d","minVal","nVal","color","Number","_pcolor","_interpolate_color","ratio","placeHolder","ctrl","placeholder","bind","focus","input","removeClass","blur","addClass","keyup","CopyObject","tgt","CloneObject","XGetInfo","node","vtype","ismixed","aname","attrs","prop","XGetAttrProp","XGetSubNodeText","XUpdateInfo","escapeXMLString","XSetAttr","setAttribute","XGetTextVal","cnodes","cdata","hasChildNodes","nodeType","nodeValue","textContent","toXMLString","XMLSerializer","serializeToString","documentElement","xml","XGetChildNodes","nodes","XGetNodeName","getErrorCode","errorcode","getTabTitle","ntitle","nlength","getFirstChild","children","getChildNodes","XGetNode","plist","getElementsByTagName","getSubNode","pname","nd","snode","getSubNodeText","getTextContent","parseValueList","hnodes","dnode","mval","results","headers","inline_data","delimiter","codefield","sortfield","cols","code","disp","sdisp","getFstChld","getFieldValue","ctype","down","getValue","setFieldValue","setValue","store","loadData","applyOptions","panel","names","isupdate","nm","xtype","_I30","item","XHasElement","element","havone","chartTypeMenu","label","lcs","charttype","subtype","img","getPrintXML","outerHTML","isNumericType","FormatNumber","x1","x2","rgx","NumberFormat","format","np","pc","fval","b_decimal","b_format","e_format","b_else","sbase","lbase","grouping","last_decimal","integer_part","decimal_part","postfix","prefix","sformat","dformat","baseunit","dv","vf","vformats","s1","s2","parseFloat","round","toFixed","dvalue","getSeriesType","stype","isNumber","isFinite","stripNonNumeric","out","rsa_kinfo","encryptKey","rsaPublicKeyModules","rsa","rsaPublicKeyExpoenent","stoploading","params","caller","rsSuccess","rsFail","rsParams","showerror","sccall","scfail","_sproc","response","xhr","Pace","stop","errcode","errormsg","stopprog","use_session_key","_session_key","session_key","psst_set","setLoading","entryLogin","rerr","ShowErrorMessage","cancel","_abrt","_ldr","abort","skey","gparams","_mts_","_g$a","mts","_share_uid_","uniquekey","start","_ld","get_params","_rmethod","servlet$","servlet","sreq","_rparam","contentType","beforeSend","settings","crossDomain","processData","err","responseJSON","ShowWarning","ShowConnectionError","download","datas","method","inputs","submit","remove","_load_html","measureText","fs","sensor","sensorDiv","fontSize","width","j$ext","_w","height","_h","getDateParse","M","formatDate","dateFormat","token","timezone","timezoneClip","pad","len","date","mask","utc","dF","SyntaxError","masks","_","D","H","getTimezoneOffset","flags","dd","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","hh","HH","MM","ss","tt","T","TT","Z","pop","$0","default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","getString","end","getFormattedDate","isdetail","lineInterpolate","steps","xabs","yabs","xdiff","ydiff","xstep","sqrt","ystep","newx","newy","generateUniqueTest","rnum","chars","clib","replaceAll","selectAll","el","findReplace","escaped","clipboardCopy","clipboardData","setData","_cboard","execCommand","getMinutes","getSeconds","validateEmail","email","majorDateformat","rname","sqlDateFormat","quarter","wm","week","ampm","custom","returnStr","replaceChars","curChar","shortMonths","longMonths","shortDays","longDays","getDay","ceil","W","year","valueOf","setDate","Y","A","B","getUTCHours","getUTCMinutes","getUTCSeconds","G","u","I","O","P","setMonth","toTimeString","U","showScheduler","runner","itemtype","rop","dlg","dlgScheduleList","reportoption","showDlg","applyFormOptions","setval","ot","readSystemConf","tnodes","_sysconfig","checkValues","form","fieldnames","clearInvalid","markInvalid","fillFormValues","fitem","jdom","dom","offsetWidth","clientWidth","innerWidth","offsetHeight","innerHeight","clientHeight","checkFields","itemnames","dateUtil","datePartsRe","monthCodes","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","JANUARY","FEBRUARY","MARCH","APRIL","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER","getMonthCode","toUpperCase","guessDate","day","month","sep","exec","createDatePicker","onselect","mdobj","yearRange","updateDatePicker","startYear","finalYear","datepicker","_defaults","monthNamesShort","showButtonPanel","closeText","buttonImageOnly","constrainInput","changeMonth","changeYear","calendar_locale","c1format","defaultDate","onSelect","dateText","inst","beforeShow","clearButton","find","unbind","stopPropagation","preventDefault","_clearDate","dpicker","tinput","on","tdate","tvalue","keyCode","stopImmediatePropagation","_getInst","guid","lut","_guid_lut","d0","d3","_inpEdt$","txtarea","rvalue","getRawValue","sm","_inpEd$pos","sm_start","_inpEd$sep","activeElement","selectionStart","selectionEnd","sel","parentElement","moveToBookmark","getBookmark","compareEndPoints","moveEnd","setEndPoint","pos","setSelectionRange","collapse","moveStart","_ws","_init","protocol","ws_url","_userdetail","userdetail","__ws","WebSocket","onopen","onmessage","onclosed","onclosing","application","username","parent_header","csession","ipt","_ipt_location","applyPython","gid","_menu_button","btn","menus","_menus","_menu_btns","btn_styles","_b_html","_g_unbind","menu_position","toggle","_menu_btn","_gitemname","itemname","empty","menu_btn","style","sname","handler","setMenus","$export_echart","svgnode","svg","chart","customchart","pobj","getDom","image_type","image_data","getConnectedDataURL","pixelRatio","backgroundColor","$export_html","container","logging","useCORS","imageTimeout","load_html","html2canvas","then","canvas","toDataURL","_decodeVal","_encodeVal","setScrRect","div","axis","theme","mouseWheel","deltaFactor","normalizeDelta","scrollInertia","autoHideScrollbar","autoExpandScrollbar","scrollbarPosition","autoDraggerLength","advanced","updateOnContentResize","autoUpdateTimeout","IGmCustomScrollbar","showIntro","splice","introJs","setOptions","dontShowAgain","nextLabel","prevLabel","skipLabel","doneLabel","exitOnEsc","exitOnOverlayClick","showStepNumbers","showBullets","showProgress","testVal","instr","ival","setScrRectM","ace_edit","view","mode","editor","ace","edit","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","snippets","$snippet","pmenu","mitems","snippet","session","insert","getCursorPosition","margin","floating","oe","originalEvent","showAt","pageX","pageY","showBy","jsonPath","expr","resultType","normalize","subx","$1","$2","asPath","trace","loc","walk","eval","lastIndexOf","step","$3","_v","_vname","message","dateFmt","prd","isdate","dtime","impCSS","cssText","styleEl","styleSheet","createTextNode","sheet","cdsgn_tmpl","cscript","baselib","code_draw_chart","code_update_disp","code_dispose_disp","code_export","code_text","_berr","errdesc","errmsg","detail","errstack","stacktrace","merror","em","emm","st","_dofilter","gridname","dindex","fcomp","_filter","grd","addFilter","dataIndex","operator","removeFilter","msgtype","ShowError","stack","_popupDlgs","checkLogin","func","checklogin","title","ismodal","mtype","messagecontent","is_error","bbox","bclose","bdetail","bk","msgbox","pd","binfo","ErrorDialog","dw","dh","mw","mh","msgpop","renderTo","setPosition","$width","$height","fadeOut","dbtn","dbtnsul","btns","bseq","dp","confirmMessages","checkLock","frun","creq","LockWindow","lparam","cmd","lreq","v$pnl","frameHeader","initComponent","eopts","__dx","destroy","load","targetEl","bcustom","__etimer","rendered","customLoad","loadMask","rendermask","_mask","modal","region","layout","closable","resizable","_closedlg","close","html","buttons","scope","listeners","afterrender","txtlock","fdt","userid","_cerr","showError","param","m_msg","cboard","border","_desc","tmessage","hidden","errs","_scrshot","enable","immediate","toff","tx","ty","bd","bw","bh","report_screenshot","__scrs","_close_timer","__curuid","offset","_curuid","top","m2ER","make_dom","_el","lbody","sql","java","javascript","_ctxtmn","menu_items","_apndT","textarea","cp","tb","ta","_moveG","grid","direction","records","getSelectionModel","record","index","getStore","getCount","_keyStr","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","fromCharCode","_utf8_decode","string","utftext","c1","c2","c3","chkSess","fail","nmts","_parse_url","do_session","lang","useLocale","app","loadingApp","redirect","$sso_try_count","location","burl","amap","curl","param_map","param_tag","doctype","params_tag","_unstrip_url","doStartSession","passwd","bg","errcallback","il_err","pLoginRSA","cls","encpwd","keyvar","sso_module","theme_id","session_expire","twoway_auth","val2FA","vkey","chkSvrInfo","res","appInfo","appversion","appversion$","apprelease","apprelease$","release","licensed","createLoginPanel","addevent","lf","loginWindow","logincnt","lng","themes","appbg","l1","l2","l5","l6","l7","loginForm","copy","build","progress","right","cLogin","twoway_key","twoway_key_holder","nval","urlinfo","b_loc","selvalue","source","reload","b_theme","getKeyPair","m$mts","rs","tl","showLoginProc","hist","addHistory","lform","showLogout","clearInterval","rcsid","currentLocale","locale","vmode","bproc","b_sysconf","lc","r3","tloc","custom_css","istest","channel","robo_wrap","draggable","containment","tw","th","robo_main","handle","helper","maxHeight","maxWidth","minHeight","minWidth","querySelector","AjaxMonitor","Bar","DocumentMonitor","ElementMonitor","ElementTracker","EventLagMonitor","Evented","Events","NoTargetError","RequestIntercept","SOURCE_KEYS","Scaler","SocketRequestTracker","XHRRequestTracker","animation","avgAmplitude","bar","cancelAnimation","cancelAnimationFrame","defaultOptions","extendNative","getFromDOM","getIntercept","handlePushState","ignoreStack","now","requestAnimationFrame","runAnimation","scalers","shouldIgnoreURL","shouldTrack","sources","uniScaler","_WebSocket","_XDomainRequest","_XMLHttpRequest","_i","_intercept","_len","_pushState","_ref","_replaceState","__slice","__hasProp","__extends","child","ctor","__super__","__indexOf","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","elements","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","trackMethods","trackWebSockets","ignoreURLs","performance","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","last","tick","diff","args","arr","count","sum","_error","console","event","ctx","once","_base","bindings","off","_results","_ref1","paceOptions","_super","Error","getElement","targetElement","innerHTML","firstChild","finish","update","prog","render","removeChild","progressStr","transform","_j","_len1","_ref2","lastRenderedProgress","done","binding","XMLHttpRequest","XDomainRequest","to","from","defineProperty","get","configurable","enumerable","ignore","unshift","track","monitorXHR","_this","_open","open","protocols","pattern","_arg","after","running","_ref3","restart","watch","tracker","_onreadystatechange","ProgressEvent","addEventListener","evt","lengthComputable","total","selector","check","states","loading","interactive","complete","avg","interval","points","samples","setInterval","sinceLastUpdate","rate","catchup","lastProgress","frameTime","scaling","history","pushState","replaceState","_k","_len2","_ref4","extraSources","go","enqueueNextFrame","scaler","scalerList","_options","FastClick","layer","oldOnClick","trackingClick","trackingClickStart","touchStartX","touchStartY","lastTouchIdentifier","touchBoundary","tapDelay","tapTimeout","notNeeded","methods","context","deviceIsAndroid","onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","Event","removeEventListener","capture","rmv","Node","hijacked","adv","propagationStopped","onclick","deviceIsWindowsPhone","deviceIsIOS","deviceIsIOS4","deviceIsIOSWithBadTarget","deviceIsBlackBerry10","needsClick","disabled","needsFocus","readOnly","sendClick","clickEvent","touch","changedTouches","createEvent","initMouseEvent","determineEventType","screenX","screenY","clientX","clientY","forwardedTouchEvent","dispatchEvent","tagName","updateScrollParent","scrollParent","fastClickScrollParent","contains","scrollHeight","fastClickLastScrollTop","scrollTop","getTargetElementFromEventTarget","eventTarget","TEXT_NODE","targetTouches","rangeCount","isCollapsed","identifier","timeStamp","lastClickTime","touchHasMoved","boundary","findControl","labelElement","control","htmlFor","getElementById","forElement","targetTagName","cancelNextClick","elementFromPoint","pageXOffset","pageYOffset","cancelable","permitted","metaViewport","chromeVersion","blackberryVersion","ontouchstart","scrollWidth","outerWidth","msTouchAction","touchAction","attach"],"mappings":"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","file":"../../../../../../igc8.min.js","sourcesContent":["/*!\r\n  * Bowser - a browser detector\r\n  * https://github.com/ded/bowser\r\n  * MIT License | (c) Dustin Diaz 2015\r\n  */\r\n\r\n!function (name, definition) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\r\n  else if (typeof define == 'function' && define.amd) define(definition)\r\n  else this[name] = definition()\r\n}('bowser', function () {\r\n  /**\r\n    * See useragents.js for examples of navigator.userAgent\r\n    */\r\n\r\n  var t = true\r\n\r\n  function detect(ua) {\r\n\r\n    function getFirstMatch(regex) {\r\n      var match = ua.match(regex);\r\n      return (match && match.length > 1 && match[1]) || '';\r\n    }\r\n\r\n    function getSecondMatch(regex) {\r\n      var match = ua.match(regex);\r\n      return (match && match.length > 1 && match[2]) || '';\r\n    }\r\n\r\n    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\r\n      , likeAndroid = /like android/i.test(ua)\r\n      , android = !likeAndroid && /android/i.test(ua)\r\n      , chromeBook = /CrOS/.test(ua)\r\n      , edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i)\r\n      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\r\n      , tablet = /tablet/i.test(ua)\r\n      , mobile = !tablet && /[^-]mobi/i.test(ua)\r\n      , result\r\n\r\n    if (/opera|opr/i.test(ua)) {\r\n      result = {\r\n        name: 'Opera'\r\n      , opera: t\r\n      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/yabrowser/i.test(ua)) {\r\n      result = {\r\n        name: 'Yandex Browser'\r\n      , yandexbrowser: t\r\n      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/windows phone/i.test(ua)) {\r\n      result = {\r\n        name: 'Windows Phone'\r\n      , windowsphone: t\r\n      }\r\n      if (edgeVersion) {\r\n        result.msedge = t\r\n        result.version = edgeVersion\r\n      }\r\n      else {\r\n        result.msie = t\r\n        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/msie|trident/i.test(ua)) {\r\n      result = {\r\n        name: 'Internet Explorer'\r\n      , msie: t\r\n      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    } else if (chromeBook) {\r\n      result = {\r\n        name: 'Chrome'\r\n      , chromeBook: t\r\n      , chrome: t\r\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    } else if (/chrome.+? edge/i.test(ua)) {\r\n      result = {\r\n        name: 'Microsoft Edge'\r\n      , msedge: t\r\n      , version: edgeVersion\r\n      }\r\n    }\r\n    else if (/chrome|crios|crmo/i.test(ua)) {\r\n      result = {\r\n        name: 'Chrome'\r\n      , chrome: t\r\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (iosdevice) {\r\n      result = {\r\n        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\r\n      }\r\n      // WTF: version is not part of user agent in web apps\r\n      if (versionIdentifier) {\r\n        result.version = versionIdentifier\r\n      }\r\n    }\r\n    else if (/sailfish/i.test(ua)) {\r\n      result = {\r\n        name: 'Sailfish'\r\n      , sailfish: t\r\n      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/seamonkey\\//i.test(ua)) {\r\n      result = {\r\n        name: 'SeaMonkey'\r\n      , seamonkey: t\r\n      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/firefox|iceweasel/i.test(ua)) {\r\n      result = {\r\n        name: 'Firefox'\r\n      , firefox: t\r\n      , mozilla: t\r\n      , version: getFirstMatch(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)\r\n      }\r\n      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\r\n        result.firefoxos = t\r\n      }\r\n    }\r\n    else if (/silk/i.test(ua)) {\r\n      result =  {\r\n        name: 'Amazon Silk'\r\n      , silk: t\r\n      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (android) {\r\n      result = {\r\n        name: 'Android'\r\n      , version: versionIdentifier\r\n      }\r\n    }\r\n    else if (/phantom/i.test(ua)) {\r\n      result = {\r\n        name: 'PhantomJS'\r\n      , phantom: t\r\n      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\r\n      result = {\r\n        name: 'BlackBerry'\r\n      , blackberry: t\r\n      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\r\n      }\r\n    }\r\n    else if (/(web|hpw)os/i.test(ua)) {\r\n      result = {\r\n        name: 'WebOS'\r\n      , webos: t\r\n      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\r\n      };\r\n      /touchpad\\//i.test(ua) && (result.touchpad = t)\r\n    }\r\n    else if (/bada/i.test(ua)) {\r\n      result = {\r\n        name: 'Bada'\r\n      , bada: t\r\n      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\r\n      };\r\n    }\r\n    else if (/tizen/i.test(ua)) {\r\n      result = {\r\n        name: 'Tizen'\r\n      , tizen: t\r\n      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\r\n      };\r\n    }\r\n    else if (/safari/i.test(ua)) {\r\n      result = {\r\n        name: 'Safari'\r\n      , safari: t\r\n      , version: versionIdentifier\r\n      }\r\n    }\r\n    else {\r\n      result = {\r\n        name: getFirstMatch(/^(.*)\\/(.*) /),\r\n        version: getSecondMatch(/^(.*)\\/(.*) /)\r\n     };\r\n   }\r\n\r\n    // set webkit or gecko flag for browsers based on these engines\r\n    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\r\n      result.name = result.name || \"Webkit\"\r\n      result.webkit = t\r\n      if (!result.version && versionIdentifier) {\r\n        result.version = versionIdentifier\r\n      }\r\n    } else if (!result.opera && /gecko\\//i.test(ua)) {\r\n      result.name = result.name || \"Gecko\"\r\n      result.gecko = t\r\n      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\r\n    }\r\n\r\n    // set OS flags for platforms that have multiple browsers\r\n    if (!result.msedge && (android || result.silk)) {\r\n      result.android = t\r\n    } else if (iosdevice) {\r\n      result[iosdevice] = t\r\n      result.ios = t\r\n    }\r\n\r\n    // OS version extraction\r\n    var osVersion = '';\r\n    if (result.windowsphone) {\r\n      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\r\n    } else if (iosdevice) {\r\n      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\r\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\r\n    } else if (android) {\r\n      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\r\n    } else if (result.webos) {\r\n      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\r\n    } else if (result.blackberry) {\r\n      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\r\n    } else if (result.bada) {\r\n      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\r\n    } else if (result.tizen) {\r\n      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\r\n    }\r\n    if (osVersion) {\r\n      result.osversion = osVersion;\r\n    }\r\n\r\n    // device type extraction\r\n    var osMajorVersion = osVersion.split('.')[0];\r\n    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {\r\n      result.tablet = t\r\n    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {\r\n      result.mobile = t\r\n    }\r\n\r\n    // Graded Browser Support\r\n    // http://developer.yahoo.com/yui/articles/gbs\r\n    if (result.msedge ||\r\n        (result.msie && result.version >= 10) ||\r\n        (result.yandexbrowser && result.version >= 15) ||\r\n        (result.chrome && result.version >= 20) ||\r\n        (result.firefox && result.version >= 20.0) ||\r\n        (result.safari && result.version >= 6) ||\r\n        (result.opera && result.version >= 10.0) ||\r\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\r\n        (result.blackberry && result.version >= 10.1)\r\n        ) {\r\n      result.a = t;\r\n    }\r\n    else if ((result.msie && result.version < 10) ||\r\n        (result.chrome && result.version < 20) ||\r\n        (result.firefox && result.version < 20.0) ||\r\n        (result.safari && result.version < 6) ||\r\n        (result.opera && result.version < 10.0) ||\r\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\r\n        ) {\r\n      result.c = t\r\n    } else result.x = t\r\n\r\n    return result\r\n  }\r\n\r\n  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')\r\n\r\n  bowser.test = function (browserList) {\r\n    for (var i = 0; i < browserList.length; ++i) {\r\n      var browserItem = browserList[i];\r\n      if (typeof browserItem=== 'string') {\r\n        if (browserItem in bowser) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /*\r\n   * Set our detect method to the main bowser object so we can\r\n   * reuse it to test other user agents.\r\n   * This is needed to implement future tests.\r\n   */\r\n  bowser._detect = detect;\r\n  \r\n  return bowser\r\n});","// Copyright (c) 2005  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Basic JavaScript BN library - subset useful for RSA encryption.\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary&0xffffff)==0xefcafe);\n\n// (public) Constructor\nfunction BigInteger(a,b,c) {\n  if(a != null)\n    if(\"number\" == typeof a) this.fromNumber(a,b,c);\n    else if(b == null && \"string\" != typeof a) this.fromString(a,256);\n    else this.fromString(a,b);\n}\n\n// return new, unset BigInteger\nfunction nbi() { return new BigInteger(null); }\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i,x,w,j,c,n) {\n  while(--n >= 0) {\n    var v = x*this[i++]+w[j]+c;\n    c = Math.floor(v/0x4000000);\n    w[j++] = v&0x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i,x,w,j,c,n) {\n  var xl = x&0x7fff, xh = x>>15;\n  while(--n >= 0) {\n    var l = this[i]&0x7fff;\n    var h = this[i++]>>15;\n    var m = xh*l+h*xl;\n    l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\n    c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\n    w[j++] = l&0x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i,x,w,j,c,n) {\n  var xl = x&0x3fff, xh = x>>14;\n  while(--n >= 0) {\n    var l = this[i]&0x3fff;\n    var h = this[i++]>>14;\n    var m = xh*l+h*xl;\n    l = xl*l+((m&0x3fff)<<14)+w[j]+c;\n    c = (l>>28)+(m>>14)+xh*h;\n    w[j++] = l&0xfffffff;\n  }\n  return c;\n}\nif(j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n}\nelse if(j_lm && (navigator.appName != \"Netscape\")) {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1<<dbits)-1);\nBigInteger.prototype.DV = (1<<dbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2,BI_FP);\nBigInteger.prototype.F1 = BI_FP-dbits;\nBigInteger.prototype.F2 = 2*dbits-BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\n\n(function() {\n  var rr,vv;\n  rr = \"0\".charCodeAt(0);\n  for(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\n  rr = \"a\".charCodeAt(0);\n  for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n  rr = \"A\".charCodeAt(0);\n  for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n})();\n\nfunction int2char(n) { return BI_RM.charAt(n); }\nfunction intAt(s,i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return (c==null)?-1:c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\n  r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = (x<0)?-1:0;\n  if(x > 0) this[0] = x;\n  else if(x < -1) this[0] = x+DV;\n  else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n// (protected) set from string and radix\nfunction bnpFromString(s,b) {\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 256) k = 8; // byte array\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else { this.fromRadix(s,b); return; }\n  this.t = 0;\n  this.s = 0;\n  var i = s.length, mi = false, sh = 0;\n  while(--i >= 0) {\n    var x = (k==8)?s[i]&0xff:intAt(s,i);\n    if(x < 0) {\n      if(s.charAt(i) == \"-\") mi = true;\n      continue;\n    }\n    mi = false;\n    if(sh == 0)\n      this[this.t++] = x;\n    else if(sh+k > this.DB) {\n      this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\n      this[this.t++] = (x>>(this.DB-sh));\n    }\n    else\n      this[this.t-1] |= x<<sh;\n    sh += k;\n    if(sh >= this.DB) sh -= this.DB;\n  }\n  if(k == 8 && (s[0]&0x80) != 0) {\n    this.s = -1;\n    if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\n  }\n  this.clamp();\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s&this.DM;\n  while(this.t > 0 && this[this.t-1] == c) --this.t;\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if(this.s < 0) return \"-\"+this.negate().toString(b);\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else return this.toRadix(b);\n  var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\n  var p = this.DB-(i*this.DB)%k;\n  if(i-- > 0) {\n    if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\n    while(i >= 0) {\n      if(p < k) {\n        d = (this[i]&((1<<p)-1))<<(k-p);\n        d |= this[--i]>>(p+=this.DB-k);\n      }\n      else {\n        d = (this[i]>>(p-=k))&km;\n        if(p <= 0) { p += this.DB; --i; }\n      }\n      if(d > 0) m = true;\n      if(m) r += int2char(d);\n    }\n  }\n  return m?r:\"0\";\n}\n\n// (public) -this\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n\n// (public) |this|\nfunction bnAbs() { return (this.s<0)?this.negate():this; }\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s-a.s;\n  if(r != 0) return r;\n  var i = this.t;\n  r = i-a.t;\n  if(r != 0) return r;\n  while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\n  return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1, t;\n  if((t=x>>>16) != 0) { x = t; r += 16; }\n  if((t=x>>8) != 0) { x = t; r += 8; }\n  if((t=x>>4) != 0) { x = t; r += 4; }\n  if((t=x>>2) != 0) { x = t; r += 2; }\n  if((t=x>>1) != 0) { x = t; r += 1; }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if(this.t <= 0) return 0;\n  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n,r) {\n  var i;\n  for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\n  for(i = n-1; i >= 0; --i) r[i] = 0;\n  r.t = this.t+n;\n  r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n,r) {\n  for(var i = n; i < this.t; ++i) r[i-n] = this[i];\n  r.t = Math.max(this.t-n,0);\n  r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n,r) {\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1<<cbs)-1;\n  var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\n  for(i = this.t-1; i >= 0; --i) {\n    r[i+ds+1] = (this[i]>>cbs)|c;\n    c = (this[i]&bm)<<bs;\n  }\n  for(i = ds-1; i >= 0; --i) r[i] = 0;\n  r[ds] = c;\n  r.t = this.t+ds+1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n,r) {\n  r.s = this.s;\n  var ds = Math.floor(n/this.DB);\n  if(ds >= this.t) { r.t = 0; return; }\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1<<bs)-1;\n  r[0] = this[ds]>>bs;\n  for(var i = ds+1; i < this.t; ++i) {\n    r[i-ds-1] |= (this[i]&bm)<<cbs;\n    r[i-ds] = this[i]>>bs;\n  }\n  if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\n  r.t = this.t-ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i < m) {\n    c += this[i]-a[i];\n    r[i++] = c&this.DM;\n    c >>= this.DB;\n  }\n  if(a.t < this.t) {\n    c -= a.s;\n    while(i < this.t) {\n      c += this[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i < a.t) {\n      c -= a[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = (c<0)?-1:0;\n  if(c < -1) r[i++] = this.DV+c;\n  else if(c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a,r) {\n  var x = this.abs(), y = a.abs();\n  var i = x.t;\n  r.t = i+y.t;\n  while(--i >= 0) r[i] = 0;\n  for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n  r.s = 0;\n  r.clamp();\n  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2*x.t;\n  while(--i >= 0) r[i] = 0;\n  for(i = 0; i < x.t-1; ++i) {\n    var c = x.am(i,x[i],r,2*i,0,1);\n    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\n      r[i+x.t] -= x.DV;\n      r[i+x.t+1] = 1;\n    }\n  }\n  if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m,q,r) {\n  var pm = m.abs();\n  if(pm.t <= 0) return;\n  var pt = this.abs();\n  if(pt.t < pm.t) {\n    if(q != null) q.fromInt(0);\n    if(r != null) this.copyTo(r);\n    return;\n  }\n  if(r == null) r = nbi();\n  var y = nbi(), ts = this.s, ms = m.s;\n  var nsh = this.DB-nbits(pm[pm.t-1]);    // normalize modulus\n  if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n  else { pm.copyTo(y); pt.copyTo(r); }\n  var ys = y.t;\n  var y0 = y[ys-1];\n  if(y0 == 0) return;\n  var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\n  var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\n  var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n  y.dlShiftTo(j,t);\n  if(r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t,r);\n  }\n  BigInteger.ONE.dlShiftTo(ys,t);\n  t.subTo(y,y);    // \"negative\" y so we can replace sub with am later\n  while(y.t < ys) y[y.t++] = 0;\n  while(--j >= 0) {\n    // Estimate quotient digit\n    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n    if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {    // Try it out\n      y.dlShiftTo(j,t);\n      r.subTo(t,r);\n      while(r[i] < --qd) r.subTo(t,r);\n    }\n  }\n  if(q != null) {\n    r.drShiftTo(ys,q);\n    if(ts != ms) BigInteger.ZERO.subTo(q,q);\n  }\n  r.t = ys;\n  r.clamp();\n  if(nsh > 0) r.rShiftTo(nsh,r);    // Denormalize remainder\n  if(ts < 0) BigInteger.ZERO.subTo(r,r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a,null,r);\n  if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\n  return r;\n}\n\n// Modular reduction using \"classic\" algorithm\nfunction Classic(m) { this.m = m; }\nfunction cConvert(x) {\n  if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n  else return x;\n}\nfunction cRevert(x) { return x; }\nfunction cReduce(x) { x.divRemTo(this.m,null,x); }\nfunction cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\nfunction cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if(this.t < 1) return 0;\n  var x = this[0];\n  if((x&1) == 0) return 0;\n  var y = x&3;        // y == 1/x mod 2^2\n  y = (y*(2-(x&0xf)*y))&0xf;    // y == 1/x mod 2^4\n  y = (y*(2-(x&0xff)*y))&0xff;    // y == 1/x mod 2^8\n  y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;    // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = (y*(2-x*y%this.DV))%this.DV;        // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return (y>0)?this.DV-y:-y;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp&0x7fff;\n  this.mph = this.mp>>15;\n  this.um = (1<<(m.DB-15))-1;\n  this.mt2 = 2*m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t,r);\n  r.divRemTo(this.m,null,r);\n  if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while(x.t <= this.mt2)    // pad x so am has enough room later\n    x[x.t++] = 0;\n  for(var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i]&0x7fff;\n    var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i+this.m.t;\n    x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n    // propagate carry\n    while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t,x);\n  if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\nfunction bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e,z) {\n  if(e > 0xffffffff || e < 1) return BigInteger.ONE;\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n  g.copyTo(r);\n  while(--i >= 0) {\n    z.sqrTo(r,r2);\n    if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\n    else { var t = r; r = r2; r2 = t; }\n  }\n  return z.revert(r);\n}\n\n// (public) this^e % m, 0 <= e < 2^32\nfunction bnModPowInt(e,m) {\n  var z;\n  if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n  return this.exp(e,z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","// Depends on jsbn.js and rng.js\n\n// Version 1.1: support utf-8 encoding in pkcs1pad2\n\n// convert a (hex) string to a bignum object\nfunction parseBigInt(str,r) {\n  return new BigInteger(str,r);\n}\n\nfunction linebrk(s,n) {\n  var ret = \"\";\n  var i = 0;\n  while(i + n < s.length) {\n    ret += s.substring(i,i+n) + \"\\n\";\n    i += n;\n  }\n  return ret + s.substring(i,s.length);\n}\n\nfunction byte2Hex(b) {\n  if(b < 0x10)\n    return \"0\" + b.toString(16);\n  else\n    return b.toString(16);\n}\n\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\nfunction pkcs1pad2(s,n) {\n  if(n < s.length + 11) { // TODO: fix for utf-8\n    void 0;\n    return null;\n  }\n  var ba = new Array();\n  var i = s.length - 1;\n  while(i >= 0 && n > 0) {\n    var c = s.charCodeAt(i--);\n    \n    if(c < 128) { // encode using utf-8\n      ba[--n] = c;\n    }\n    else if((c > 127) && (c < 2048)) {\n      ba[--n] = (c & 63) | 128;\n      ba[--n] = (c >> 6) | 192;\n    }\n    else {\n      ba[--n] = (c & 63) | 128;\n      ba[--n] = ((c >> 6) & 63) | 128;\n      ba[--n] = (c >> 12) | 224;\n    }\n  }\n  ba[--n] = 0;\n  var rng = new SecureRandom();\n  var x = new Array();\n  while(n > 2) { // random non-zero pad\n    x[0] = 0;\n    while(x[0] == 0) rng.nextBytes(x);\n    ba[--n] = x[0];\n  }\n  ba[--n] = 2;\n  ba[--n] = 0;\n  return new BigInteger(ba);\n}\n\n// \"empty\" RSA key constructor\nfunction RSAKey() {\n  this.n = null;\n  this.e = 0;\n  this.d = null;\n  this.p = null;\n  this.q = null;\n  this.dmp1 = null;\n  this.dmq1 = null;\n  this.coeff = null;\n}\n\n// Set the public key fields N and e from hex strings\nfunction RSASetPublic(N,E) {\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\n    this.n = parseBigInt(N,16);\n    this.e = parseInt(E,16);\n  }\n  else\n    void 0;\n}\n\n// Perform raw public operation on \"x\": return x^e (mod n)\nfunction RSADoPublic(x) {\n  return x.modPowInt(this.e, this.n);\n}\n\n// Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\nfunction RSAEncrypt(text) {\n  var m = pkcs1pad2(text,(this.n.bitLength()+7)>>3);\n  if(m == null) return null;\n  var c = this.doPublic(m);\n  if(c == null) return null;\n  var h = c.toString(16);\n  if((h.length & 1) == 0) return h; else return \"0\" + h;\n}\n\n// Return the PKCS#1 RSA encryption of \"text\" as a Base64-encoded string\n//function RSAEncryptB64(text) {\n//  var h = this.encrypt(text);\n//  if(h) return hex2b64(h); else return null;\n//}\n\n// protected\nRSAKey.prototype.doPublic = RSADoPublic;\n\n// public\nRSAKey.prototype.setPublic = RSASetPublic;\nRSAKey.prototype.encrypt = RSAEncrypt;\n//RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\n","// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n  this.i = 0;\n  this.j = 0;\n  this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n  var i, j, t;\n  for(i = 0; i < 256; ++i)\n    this.S[i] = i;\n  j = 0;\n  for(i = 0; i < 256; ++i) {\n    j = (j + this.S[i] + key[i % key.length]) & 255;\n    t = this.S[i];\n    this.S[i] = this.S[j];\n    this.S[j] = t;\n  }\n  this.i = 0;\n  this.j = 0;\n}\n\nfunction ARC4next() {\n  var t;\n  this.i = (this.i + 1) & 255;\n  this.j = (this.j + this.S[this.i]) & 255;\n  t = this.S[this.i];\n  this.S[this.i] = this.S[this.j];\n  this.S[this.j] = t;\n  return this.S[(t + this.S[this.i]) & 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n  return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n","// Random number generator - requires a PRNG backend, e.g. prng4.js\n\n// For best results, put code like\n// <body onClick='rng_seed_time();' onKeyPress='rng_seed_time();'>\n// in your main HTML document.\n\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Mix in a 32-bit integer into the pool\nfunction rng_seed_int(x) {\n  rng_pool[rng_pptr++] ^= x & 255;\n  rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n  rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n  rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n  if(rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n}\n\n// Mix in the current time (w/milliseconds) into the pool\nfunction rng_seed_time() {\n  rng_seed_int(new Date().getTime());\n}\n\n(function() {\n  // Initialize the pool with junk if needed.\n  if(rng_pool == null) {\n    rng_pool = new Array();\n    rng_pptr = 0;\n    var t;\n    if(navigator.appName == \"Netscape\" && navigator.appVersion < \"5\" && window.crypto) {\n      // Extract entropy (256 bits) from NS4 RNG if available\n      var z = window.crypto.random(32);\n      for(t = 0; t < z.length; ++t)\n        rng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n    }  \n    while(rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n      t = Math.floor(65536 * Math.random());\n      rng_pool[rng_pptr++] = t >>> 8;\n      rng_pool[rng_pptr++] = t & 255;\n    }\n    rng_pptr = 0;\n    rng_seed_time();\n    //rng_seed_int(window.screenX);\n    //rng_seed_int(window.screenY);\n  }\n})();\n\n\nfunction rng_get_byte() {\n  if(rng_state == null) {\n    rng_seed_time();\n    rng_state = prng_newstate();\n    rng_state.init(rng_pool);\n    for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n      rng_pool[rng_pptr] = 0;\n    rng_pptr = 0;\n    //rng_pool = null;\n  }\n  // TODO: allow reseeding after first request\n  return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n  var i;\n  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nfunction SecureRandom() {}\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n","if (!window.IG$)\r\n{\r\n\twindow.IG$ = {};\r\n}\r\n\r\nIG$.__microloader = function(modules, callback) {\r\n\tvar bc = ig$.bootconfig.boot,\r\n\t\tall_modules = [],\r\n\t\ti;\r\n\t\r\n\twhile (mod = modules.shift())\r\n\t{\r\n\t\tvar sc = bc[mod];\r\n\t\t\r\n\t\tif (sc && sc.length)\r\n\t\t{\r\n\t\t\tfor (i=0; i < sc.length; i++)\r\n\t\t\t{\r\n\t\t\t\tall_modules.push(sc[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (mod.substr && mod.substr(mod.length - \".js\".length) == \".js\")\r\n\t\t{\r\n\t\t\tall_modules.push(mod);\r\n\t\t}\r\n\t}\r\n\t\r\n\tIG$.getScriptCache(\r\n\t\tall_modules, \r\n\t\tnew IG$.callBackObj(this, function() {\r\n\t\t\tcallback && callback.apply(null);\r\n\t\t\t\r\n\t\t\t// fix support for existing customer with viewer.jsp\r\n\t\t\tif (!callback && IG$._source == \"viewer\")\r\n\t\t\t{\r\n\t\t\t\t$s.ready(function() {\r\n\t\t\t\t\tvar viewer_inst = new IG$.amplix_instance({\r\n\t\t\t\t\t\ttarget: $(\"body\")\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tviewer_inst.onLoad(function() {\r\n\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tviewer_inst.create();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}),\r\n\t\tmod == \"appnc\"\r\n\t);\r\n};\r\n\r\nIG$.getScriptCache = function(scripts, callback, nocache) {\r\n\tvar loaded = [],\r\n\t\thead= document.head, // getElementsByTagName(\"head\")[0],\r\n\t\tfirstScript = document.scripts[0],\r\n\t\t__tscripts = [],\r\n\t\tsclength,\r\n\t\tnocache_key,\r\n\t\tsmap = {};\r\n\t\r\n\tIG$.___loaded_scr = IG$.___loaded_scr || {}; \r\n\t\r\n\t$.each(scripts, function(i, sc) {\r\n\t\tif (sc && !IG$.___loaded_scr[sc] && !smap[sc])\r\n\t\t{\r\n\t\t\t__tscripts.push(sc);\r\n\t\t\tsmap[sc] = 1;\r\n\t\t}\r\n\t});\r\n\t\r\n\tsclength = __tscripts.length;\r\n\t\r\n\tvar afterloaded = function() {\r\n\t\tif (loaded.length == sclength)\r\n\t\t{\r\n\t\t\tcallback && callback.execute();\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (nocache)\r\n\t{\r\n\t\tvar dt = new Date();\r\n\t\t\r\n\t\tnocache_key = \r\n\t\t\t\"\" + dt.getFullYear() + \r\n\t\t\t(1+dt.getMonth()) +\r\n\t\t\tdt.getDate() +\r\n\t\t\tdt.getHours() + \r\n\t\t\t\"00\" + // dt.getMinutes() +\r\n\t\t\t\"00\" // dt.getSeconds();\r\n\t}\r\n\t\t\r\n\t// watch scripts load in IE\r\n\tvar loadScript = function(scs) {\r\n\t\t\tvar sc = scs.shift(),\r\n\t\t\t\tscobj,\r\n\t\t\t\tscript,\r\n\t\t\t\tis_css,\r\n\t\t\t\tctag = \"script\",\r\n\t\t\t\tcache = nocache_key || ig$.bootconfig.cache;\r\n\t\t\t\r\n\t\t\tif (!sc)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (typeof(sc) == 'object' && sc.src)\r\n\t\t\t{\r\n\t\t\t\tscobj = sc;\r\n\t\t\t\tsc = sc.src;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tis_css = sc.indexOf(\".css\") == sc.length - 4;\r\n\t\t\tctag = is_css ? \"link\" : ctag;\r\n\t\t\t\r\n\t\t\tif (IG$.___loaded_scr[sc])\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tIG$.___loaded_scr[sc] = 1;\r\n\t\t\t\r\n\t\t\tif ('async' in firstScript) // modern browsers\r\n\t\t\t{\r\n\t\t\t\tscript= document.createElement(ctag);\r\n\t\t\t\t\r\n\t\t\t\tif (is_css)\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.rel = \"stylesheet\";\r\n\t\t\t\t\tscript.type = \"text/css\";\r\n\t\t\t\t\tscript.media = \"all\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.type= \"text/javascript\";\r\n\t\t\t\t\tscript.async = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (scobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (scobj.defer)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tscript.defer = scobj.defer;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (scobj.async)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tscript.async = scobj.async;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tscript.onload = function() {\r\n\t\t\t\t\tloaded.push(sc);\r\n\t\t\t\t\tafterloaded();\r\n\t\t\t\t};\r\n\r\n\t\t\t\tscript.onerror = function() {\r\n\t\t\t\t\tthrow \"dynamic loader : \" + this.src;\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (is_css)\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.href = sc + \"?sc=\" + cache;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif (sc.indexOf(\"?\") > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.src = sc;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscript.src = sc + \"?sc=\" + cache;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\thead.appendChild(script);\r\n\t\t\t\t\r\n\t\t\t\t// keep loading scripts\r\n\t\t\t\tloadScript(scs);\r\n\t\t\t}\r\n\t\t\telse if (firstScript.readyState) // IE < 10\r\n\t\t\t{\r\n\t\t\t\t// create a script and add it to our toto pile\r\n\t\t\t\tscript = document.createElement(ctag);\r\n\t\t\t\tif (is_css)\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.rel = \"stylesheet\";\r\n\t\t\t\t\tscript.type = \"text/css\";\r\n\t\t\t\t\tscript.media = \"all\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.type= \"text/javascript\";\r\n\t\t\t\t}\r\n\t\t\t\tscript.onreadystatechange = function() {\r\n\t\t\t\t\t// execute as many scripts in order as we can\r\n\t\t\t\t\tif (this.readyState == \"loaded\" || this.readyState == \"complete\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// avoid future loading events from this script (ie if src changes)\r\n\t\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfirstScript.parentNode.insertBefore(script);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tloaded.push(sc);\r\n\t\t\t\t\t\t// async loading\r\n\t\t\t\t\t\t// loadScript(scs);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tafterloaded();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (is_css)\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.href = sc + \"?sc=\" + cache;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tscript.src = sc + \"?sc=\" + cache;\r\n\t\t\t\t}\r\n\t\t\t\tloadScript(scs);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tdocument.write(\"<script src='\" + sc + \"' type='text/javascript'></script>\");\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\tif (!sclength)\r\n\t{\r\n\t\tsclength = 0;\r\n\t\tafterloaded();\r\n\t}\r\n\telse\r\n\t{\r\n\t\tloadScript(__tscripts);\r\n\t}\r\n};\r\n\r\nIG$.callBackObj = function(callerptr, callexec, callparam) {\r\n\tvar me = this;\r\n\tme.p1 = callerptr;\r\n\tme.p2 = callexec;\r\n\tme.p3 = callparam;\r\n}\r\n\r\nIG$.callBackObj.prototype = {\r\n\texecute: function() {\r\n\t\tvar me = this,\r\n\t\t\targ = arguments,\r\n\t\t\tmarg = [],\r\n\t\t\ti,\r\n\t\t\tret;\r\n\t\t\r\n\t\tif (me.p2)\r\n\t\t{\r\n\t\t\tfor (i=0; i < arg.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmarg.push(arg[i]);\r\n\t\t\t}\r\n\t\t\tif (me.p3 != null && typeof me.p3 != 'undefined')\r\n\t\t\t{\r\n\t\t\t\tmarg.push(me.p3);\r\n\t\t\t}\r\n\t\t\tret = me.p2.apply(me.p1 || null, marg);\r\n\t\t}\r\n\t\t\r\n\t\treturn ret;\r\n\t}\r\n};\r\n\r\nIG$.ready = function(callback) {\r\n\tIG$._ready$ = IG$._ready$ || [];\r\n\tIG$._ready$.push(callback);\r\n}\r\n\r\nIG$.amplix_instance = function(opt) {\r\n\tvar me = this;\r\n\t\r\n\tme.config = opt;\r\n\t\r\n\tme.target = opt.target;\r\n\t\r\n\tIG$.$a_id = IG$.$a_id || 0;\r\n\t\r\n\tme.id = \"\" + (IG$.$a_id++);\r\n\t\r\n\tIG$._insts$ = IG$._insts$ || {};\r\n\t\r\n\tIG$._insts$[me.id] = me;\r\n\t\r\n\tme.onLoad = function(callback) {\r\n\t\tme._ready$ = me._ready$ || [];\r\n\t\tme._ready$.push(callback);\r\n\t};\r\n}\r\n\r\nIG$.amplix_instance.prototype = {\r\n\tcreate: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.createInstance(me);\r\n\t},\r\n\t$load_init: function(tmpl, fm) {\r\n\t\tvar me = this;\r\n\t\tif (me._ready$ && me._ready$.length)\r\n\t\t{\r\n\t\t\t$.each(me._ready$, function(i, f) {\r\n\t\t\t\tf.apply(me, tmpl, fm);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tme._ready$ = null;\r\n\t\t} \r\n\t},\r\n\topen_url: function(menu, callback) {\r\n\t\tif (menu.objid || menu.uid)\r\n\t\t{\r\n\t\t\tvar me = this,\r\n\t\t\t\tmp = me.mainPanel,\r\n\t\t\t\treq = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tuid: menu.objid || menu.uid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmbody: {\r\n\t\t\t\t\t\toption: \"translate\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tvar citem = jdoc && jdoc.length ? jdoc[0] : null,\r\n\t\t\t\t\t\tmp = me.mainPanel;\r\n\t\t\t\t\tif (citem)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmp.navigateApp.call(mp, citem.uid, citem.type.toLowerCase(), citem.name, citem.nodepath, true, citem.writable);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcallback && callback.execute();\r\n\t\t\t\t});\r\n\t\t\treq.send(this);\r\n\t\t}\r\n\t\telse if (menu.jobid)\r\n\t\t{\r\n\t\t\tvar me = this,\r\n\t\t\t\tmp = me.mainPanel,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\tjobid = menu.jobid,\r\n\t\t\t\tsid;\r\n\r\n\t\t\tif (jobid.indexOf(\":\") > 0)\r\n\t\t\t{\r\n\t\t\t\tsid = jobid.substring(jobid.indexOf(\":\") + 1);\r\n\t\t\t\tjobid = jobid.substring(0, jobid.indexOf(\":\"));\r\n\t\t\t}\r\n\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"schedule\",\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tjid: jobid,\r\n\t\t\t\t\t\taction: \"jobresult\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmbody: {}\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tvar citem = jdoc && jdoc.length ? jdoc[0] : null,\r\n\t\t\t\t\t\tmp = me.mainPanel,\r\n\t\t\t\t\t\trpt;\r\n\t\t\t\t\tif (citem && citem.request && citem.request.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trpt = citem.request.data; \r\n\t\t\t\t\t\tmp.navigateApp.call(mp, rpt.uid, rpt.type.toLowerCase(), rpt.name, rpt.nodepath, true, rpt.writable, {\r\n\t\t\t\t\t\t\tno_history: true,\r\n\t\t\t\t\t\t\tjob_report_meta: {content: rpt},\r\n\t\t\t\t\t\t\tjob_result: jdoc,\r\n\t\t\t\t\t\t\t__jid: jobid,\r\n\t\t\t\t\t\t\t__sid: sid || jobid\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcallback && callback.execute();\r\n\t\t\t\t});\r\n\t\t\treq.send(this);\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetComponent: function(key) {\r\n\t\tvar me = this,\r\n\t\t\tmp = me.mainPanel,\r\n\t\t\tcmp;\r\n\t\t\t\r\n\t\tif (mp)\r\n\t\t{\r\n\t\t\tcmp = mp.getComponent(key);\r\n\t\t}\r\n\t\treturn cmp;\r\n\t},\r\n\r\n\trequestRoboAction: function(robo_inst, mbody, callback) {\r\n\t\tvar me = this;\r\n\t\tif (me.mainPanel)\r\n\t\t{\r\n\t\t\tvar r = me.mainPanel.requestRoboAction(robo_inst, mbody, callback);\r\n\r\n\t\t\tif (r == false)\r\n\t\t\t{\r\n\t\t\t\tcallback.apply(robo_inst, [IRm$.r1(\"ROBO_ERR_TAB\")]);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback.apply(robo_inst, [IRm$.r1(\"ROBO_ERR_NO_MAINPANEL\")]);\r\n\t\t}\r\n\t},\r\n\r\n\trequestRoboFormat: function(robo_inst, mbody, callback) {\r\n\t\tvar me = this;\r\n\t\tif (me.mainPanel)\r\n\t\t{\r\n\t\t\tvar r = me.mainPanel.requestRoboFormat(robo_inst, mbody, callback);\r\n\r\n\t\t\tif (r == false)\r\n\t\t\t{\r\n\t\t\t\tcallback.apply(robo_inst, [IRm$.r1(\"ROBO_ERR_TAB\")]);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcallback.apply(robo_inst, [IRm$.r1(\"ROBO_ERR_NO_MAINPANEL\")]);\r\n\t\t}\r\n\t},\r\n\r\n\tnavigateCompleted: function(obj, type, opt) {\r\n\t\tvar me = this,\r\n\t\t\ttarget = me.target,\r\n\t\t\ttarget_html = me.target_html,\r\n\t\t\targs = arguments;\r\n\r\n\t\tif (!target_html && target)\r\n\t\t{\r\n\t\t\tif(target && typeof(target) == \"string\")\r\n\t\t\t{\r\n\t\t\t\tme.target_html = target_html = $(target);\r\n\t\t\t}\r\n\t\t\telse if (target && typeof(target) == \"object\")\r\n\t\t\t{\r\n\t\t\t\tme.target_html = target_html = $(target);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (target_html)\r\n\t\t{\r\n\t\t\tvoid 0;\r\n\t\t\ttarget_html.trigger(\"instance_event\", arguments);\r\n\t\t}\r\n\t}\r\n}","if (!window.IG$)\n{\n\twindow.IG$ = {};\n}\n\n/*!\n * jQuery Cookie Plugin v1.4.1\n * https://github.com/carhartl/jquery-cookie\n *\n * Copyright 2006, 2014 Klaus Hartl\n * Released under the MIT license\n */\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD (Register as an anonymous module)\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory(require('jquery'));\n\t} else {\n\t\t// Browser globals\n\t\tfactory(jQuery);\n\t}\n}(function ($) {\n\n\tvar pluses = /\\+/g;\n\n\tfunction encode(s) {\n\t\treturn config.raw ? s : encodeURIComponent(s);\n\t}\n\n\tfunction decode(s) {\n\t\treturn config.raw ? s : decodeURIComponent(s);\n\t}\n\n\tfunction stringifyCookieValue(value) {\n\t\treturn encode(config.json ? JSON.stringify(value) : String(value));\n\t}\n\n\tfunction parseCookieValue(s) {\n\t\tif (s.indexOf('\"') === 0) {\n\t\t\t// This is a quoted cookie as according to RFC2068, unescape...\n\t\t\ts = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\n\t\t}\n\n\t\ttry {\n\t\t\t// Replace server-side written pluses with spaces.\n\t\t\t// If we can't decode the cookie, ignore it, it's unusable.\n\t\t\t// If we can't parse the cookie, ignore it, it's unusable.\n\t\t\ts = decodeURIComponent(s.replace(pluses, ' '));\n\t\t\treturn config.json ? JSON.parse(s) : s;\n\t\t} catch(e) {}\n\t}\n\n\tfunction read(s, converter) {\n\t\tvar value = config.raw ? s : parseCookieValue(s);\n\t\treturn $.isFunction(converter) ? converter(value) : value;\n\t}\n\n\tvar config = $.cookie = function (key, value, options) {\n\n\t\t// Write\n\n\t\tif (arguments.length > 1 && !$.isFunction(value)) {\n\t\t\toptions = $.extend({}, config.defaults, options);\n\n\t\t\tif (typeof options.expires === 'number') {\n\t\t\t\tvar days = options.expires, t = options.expires = new Date();\n\t\t\t\tt.setMilliseconds(t.getMilliseconds() + days * 864e+5);\n\t\t\t}\n\n\t\t\treturn (document.cookie = [\n\t\t\t\tencode(key), '=', stringifyCookieValue(value),\n\t\t\t\toptions.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n\t\t\t\toptions.path\t? '; path=' + options.path : '',\n\t\t\t\toptions.domain  ? '; domain=' + options.domain : '',\n\t\t\t\toptions.secure  ? '; secure' : ''\n\t\t\t].join(''));\n\t\t}\n\n\t\t// Read\n\n\t\tvar result = key ? undefined : {},\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling $.cookie().\n\t\t\tcookies = document.cookie ? document.cookie.split('; ') : [],\n\t\t\ti = 0,\n\t\t\tl = cookies.length;\n\n\t\tfor (; i < l; i++) {\n\t\t\tvar parts = cookies[i].split('='),\n\t\t\t\tname = decode(parts.shift()),\n\t\t\t\tcookie = parts.join('=');\n\n\t\t\tif (key === name) {\n\t\t\t\t// If second argument (value) is a function it's a converter...\n\t\t\t\tresult = read(cookie, value);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Prevent storing a cookie that we couldn't decode.\n\t\t\tif (!key && (cookie = read(cookie)) !== undefined) {\n\t\t\t\tresult[name] = cookie;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconfig.defaults = {};\n\n\t$.removeCookie = function (key, options) {\n\t\t// Must not alter options, thus extending a fresh object...\n\t\t$.cookie(key, '', $.extend({}, options, { expires: -1 }));\n\t\treturn !$.cookie(key);\n\t};\n\n}));\n\n(function($){\n$.fn = $[\"fn\"];\n\n$.fn.dselect = function() {\n\treturn this.each(function() {\t\t   \n\t\t$(this).attr('unselectable', 'on')\n\t\t\t   .css({\n\t\t\t\t   '-moz-user-select':'none',\n\t\t\t\t   '-webkit-user-select':'none',\n\t\t\t\t   'user-select':'none'\n\t\t\t   })\n\t\t\t   .each(function() {\n\t\t\t\t   this.onselectstart = function() { return false; };\n\t\t\t   });\n\t});\n};\n})(jQuery);\n\njQuery.fn.selText = function() {\n\tvar obj = this[0],\n\t\tbrowser = window.bowser;\n\t\t\n\tif (browser.msie) {\n\t\tvar range = obj.offsetParent.createTextRange();\n\t\trange.moveToElementText(obj);\n\t\trange.select();\n\t} else if (browser.mozilla || browser.opera) {\n\t\tvar selection = obj.ownerDocument.defaultView.getSelection();\n\t\tvar range = obj.ownerDocument.createRange();\n\t\trange.selectNodeContents(obj);\n\t\tselection.removeAllRanges();\n\t\tselection.addRange(range);\n\t} else if (browser.safari) {\n\t\tvar selection = obj.ownerDocument.defaultView.getSelection();\n\t\tselection.setBaseAndExtent(obj, 0, obj, 1);\n\t}\n\treturn this;\n}","/**\n * @module common/mainapp\n * @desc common module for utility functions\n */\nvar gsequence = 0;\n\nif (!window.IG$)\n{\n\twindow.IG$ = {};\n}\n\nIG$.__chartoption = IG$.__chartoption || {};\nIG$.__chartoption.chartext = IG$.__chartoption.chartext || {};\n\nIG$._canvasSupported = function() {\n\tvar elem = document.createElement(\"canvas\");\n\treturn !!(elem.getContext && elem.getContext(\"2d\"));\t\n}\n\n\nIG$.UNDEFINED;\nIG$.L_SPPL = null;\nIG$.msgint = -1;\nIG$._markInvalid = \"Field necessary\";\nIG$.level = 0;\nIG$.clipboard = null;\nIG$._separator = \"|\";\nIG$.i$0 = \"initComponent\";\nIG$.msvg = window.SVGAngle || document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\");\nIG$.mcanvas = !IG$.msvg;\n\nIG$.hEEq = {\n\tregex: /[<'\"]/gim,   //\t/[\\u00A0-\\u9999<>\\&]|['\"]|[\\r\\n]/gim;\n\tmap: {\n\t\t'<': '&lt;',\n\t\t'&': '&amp;',\n\t\t'\\'': '&apos;',\n\t\t'\\\"': '&quot;',\n\t\t'&#x': '&#x'\n\t},\n\tfasl: /(&#x2f;)/g,\n\tmetakey: /[- &#'\"]/gim\n};\n\nIG$.getMetaKey = function(value) {\n\tvalue = value.replace(IG$.hEEq.metakey, function(i) {\n\t\treturn '_';\n\t});\n\t\n\treturn value;\n}\n\nIG$.hEE = function(value) {\n\tif (value)\n\t{\n\t\t// /[\\u00A0-\\u9999<>\\&]|['\"]/gim\n\t\tvalue = (\"\" + value).replace(IG$.hEEq.regex, function(i) {\n\t\t   return IG$.hEEq.map[i];\n\t\t});\n\t}\n\t\n\treturn value;\n}\n\nIG$.hEE2 = function(value) {\n\tif (value)\n\t{\n\t\tvalue = value.replace(IG$.hEEq.fasl, function(i) {\n\t\t   return '/';\n\t\t});\n\t}\n\t\n\treturn value;\n}\n\nIG$.hEE3 = function(value) {\n\tif (value.indexOf(\"/\") > -1)\n\t{\n\t\tvalue = value.split(\"/\");\n\t\tvalue = value.join(\"&#x2f;\");\n\t}\n\t\n\treturn value;\n}\n\nif (IG$.mcanvas && !IG$._canvasSupported())\n{\n\tIG$.mcanvas = false;\n}\nIG$.dbp = {};\nIG$.ps = {};\nIG$.loadExtend = {\n\trcsloaded: false,\n\titems: []\n};\n\nIG$.checkTimeout = function(instance, session_timeout) {\n\tvar timeout;\n\t\n\tif (session_timeout && instance && instance !== 1)\n\t{\n\t\ttimeout = session_timeout + new Date().getTime();\n\t\t\n\t\tclearTimeout(IG$.Dtimer);\n\t\tclearTimeout(IG$.Wtimer);\n\t\t\n\t\tIG$.Wtimer = setTimeout(function() {\n\t\t\tvar ctime = new Date().getTime() - 60 * 5;\n\t\t\tif (ctime >= timeout - 10) \n\t\t\t{\n\t\t\t\tIG$.alertmsg(ig$.appname, \"Your session is going to be end by 5 min, Please click OK to continue.\", null, null, 0, \"\");\n\t\t\t}\n\t\t}, (session_timeout - 60*5) * 1000);\n\t\t\n\t\tIG$.Dtimer = setTimeout(function() {\n\t\t\tvar ctime = new Date().getTime();\n\t\t\tif (ctime >= timeout - 10) \n\t\t\t{\n\t\t\t\tIG$.showLogin(instance, null, 2);\n\t\t\t}\n\t\t}, session_timeout * 1000);\n\t}\n}\n\nIG$.extend = function(objname, base, option) {\n\tif (IG$.loadExtend.rcsloaded)\n\t{\n\t\tobjname = IG$.extend(base, option);\n\t}\n\telse\n\t{\n\t\tIG$.loadExtend.items.push({\n\t\t\tname: objname,\n\t\t\tbase: base,\n\t\t\toption: option\n\t\t});\n\t}\n};\n\nif (!IG$.callBackObj)\n{\n\t/**\n\t * callback object definition\n     * @memberof module:common/mainapp\n     * @param callerptr {object} caller object with scope\n     * @param callexec {function} callback function\n     * @param callparam {object} parameter to callback function\n\t */\n\tIG$.callBackObj = function(callerptr, callexec, callparam) {\n\t\tvar me = this;\n\t\tme.p1 = callerptr;\n\t\tme.p2 = callexec;\n\t\tme.p3 = callparam;\n\t}\n\t\n\tIG$.callBackObj.prototype = {\n\t\t/**\n\t\t * callback execution\n\t     * @memberof module:common/mainapp\n\t\t */\n\t\texecute: function() {\n\t\t\tvar me = this,\n\t\t\t\targ = arguments,\n\t\t\t\tmarg = [],\n\t\t\t\ti,\n\t\t\t\tret;\n\t\t\t\n\t\t\tif (me.p2)\n\t\t\t{\n\t\t\t\tfor (i=0; i < arg.length; i++)\n\t\t\t\t{\n\t\t\t\t\tmarg.push(arg[i]);\n\t\t\t\t}\n\t\t\t\tif (me.p3)\n\t\t\t\t{\n\t\t\t\t\tmarg.push(me.p3);\n\t\t\t\t}\n\t\t\t\tret = me.p2.apply(me.p1 || null, marg);\n\t\t\t}\n\t\t\t\n\t\t\treturn ret;\n\t\t}\n\t};\n}\n\nIG$._rrcsv = function(t) {\n\tif (t && t.length > 1 && t.charAt(0) == \"@\")\n\t{\n\t\tt = IRm$.r1(t);\n\t}\n\treturn t;\n}\n\nIG$._rrcs = function(dobj, t, span, istext) {\n\tif (t && t.length > 1 && t.charAt(0) == \"@\")\n\t{\n\t\tdobj._rcs = dobj._rcs || [];\n\t\t\n\t\tdobj._rcs.push({\n\t\t\tt: t,\n\t\t\th: span,\n\t\t\tdobj: dobj,\n\t\t\tt: istext\n\t\t});\n\t\t\n\t\tt = IRm$.r1(t);\n\t}\n\t\n\treturn t;\n};\n\nIG$.$lbg = function(msg, init) {\n\tif (init || !IG$.___mtimer)\n\t{\n\t\tIG$.___mtimer = new Date().getTime();\n\t}\n\t\n\tvar ctime = new Date().getTime();\n\t\n\tvoid 0;\n}\n\nIG$.override = function (target, overrides) {\n\tif (target.$isClass) {\n\t\ttarget.override(overrides);\n\t} else if (typeof target == \"function\") {\n\t\tIG$.apply(target.prototype, overrides);\n\t} else {\n\t\tvar owner = target.self,\n\t\t\tname, value;\n\n\t\tif (owner && owner.$isClass) { // if (instance of Ext.defined class)\n\t\t\tfor (name in overrides) {\n\t\t\t\tif (overrides.hasOwnProperty(name)) {\n\t\t\t\t\tvalue = overrides[name];\n\n\t\t\t\t\tif (typeof value == \"function\") {\n\t\t\t\t\t\t//<debug>\n\t\t\t\t\t\tif (owner.$className) {\n\t\t\t\t\t\t\tvalue.displayName = owner.$className + \"#\" + name;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//</debug>\n\n\t\t\t\t\t\tvalue.$name = name;\n\t\t\t\t\t\tvalue.$owner = owner;\n\t\t\t\t\t\tvalue.$previous = target.hasOwnProperty(name)\n\t\t\t\t\t\t\t? target[name] // already hooked, so call previous hook\n\t\t\t\t\t\t\t: callOverrideParent; // calls by name on prototype\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[name] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tIG$.apply(target, overrides);\n\t\t}\n\t}\n\n\treturn target;\n}\n\nIG$.extend = (function() {\n\t// inline overrides\n\tvar objectConstructor = Object.prototype.constructor,\n\t\tinlineOverrides = function(o) {\n\t\tfor (var m in o) {\n\t\t\tif (!o.hasOwnProperty(m)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis[m] = o[m];\n\t\t}\n\t};\n\n\treturn function(subclass, superclass, overrides) {\n\t\t// First we check if the user passed in just the superClass with overrides\n\t\tif (IG$.isObject(superclass)) {\n\t\t\toverrides = superclass;\n\t\t\tsuperclass = subclass;\n\t\t\tsubclass = overrides.constructor !== objectConstructor ? overrides.constructor : function() {\n\t\t\t\treturn superclass.apply(this, arguments);\n\t\t\t};\n\t\t}\n\n\t\t// We create a new temporary class\n\t\tvar F = function() {},\n\t\t\tsubclassProto, superclassProto = superclass.prototype;\n\t\tF.prototype = superclassProto;\n\t\tsubclassProto = subclass.prototype = new F();\n\t\tsubclassProto.constructor = subclass;\n\t\tsubclass.superclass = superclassProto;\n\n\t\tif (superclassProto.constructor === objectConstructor) {\n\t\t\tsuperclassProto.constructor = superclass;\n\t\t}\n\n\t\tsubclass.override = function(overrides) {\n\t\t\tIG$.override(subclass, overrides);\n\t\t};\n\n\t\tsubclassProto.override = inlineOverrides;\n\t\tsubclassProto.proto = subclassProto;\n\n\t\tsubclass.override(overrides);\n\t\tsubclass.extend = function(o) {\n\t\t\treturn IG$.extend(subclass, o);\n\t\t};\n\n\t\treturn subclass;\n\t};\n}());\n\nIG$.microChartType = function(chartdata, opt) {\n\tvar mctype = chartdata.mctype;\n\t\n\tswitch(mctype)\n\t{\n\tcase 0:\n\t\topt.type = \"bullet\";\n\t\tbreak;\n\tcase 2:  // area\n\t\topt.type = \"line\";\n\t\topt.lineColor = chartdata.linecolor || \"#5151FF\";\n\t\topt.fillColor = chartdata.fillcolor || \"#c0d0f0\";\n\t\topt.lineWidth = 1;\n\t\tbreak;\n\tcase 3:\n\t\topt.type = \"line\";\n\t\topt.lineColor = chartdata.linecolor || \"#5151FF\";\n\t\topt.fillColor = null;\n\t\topt.lineWidth = 1;\n\t\tbreak;\n\tcase 4:\n\t\topt.type = \"bar\";\n\t\topt.barColor = chartdata.linecolor || \"#5151FF\";\n\t\topt.negBarColor = chartdata.linecolor || \"#FF5151\";\n\t\tbreak;\n\tcase 6:\n\t\topt.type = \"box\";\n\t\tbreak;\n\tcase 7:\n\t\topt.type = \"tristate\";\n\t\topt.posBarColor = chartdata.linecolor || \"#5151FF\";\n\t\topt.negBarColor = chartdata.linecolor || \"#FF5151\";\n\t\tbreak;\n\tcase 8:\n\t\topt.type = \"pie\";\n\t\tbreak;\n\tcase 9:\n\t\topt.type = \"box\";\n\t\topt.boxFillColor = chartdata.linecolor || \"#5151FF\";\n\t\topt.medianColor = chartdata.linecolor || \"#FF5151\";\n\t\tbreak;\n\tdefault: \n\t\topt.type = \"line\";\n\t\topt.lineColor = chartdata.linecolor || \"#5151FF\";\n\t\topt.fillColor = chartdata.fillcolor || \"#fff\";\n\t\tbreak;\n\t}\n}\n\nIG$.apply = function(object, config, callback, overwrite) {\n\tif (object && config && typeof config === \"object\") {\n\t\t$.each(config, function(k, v) {\n\t\t\tvar j;\n\t\t\tj = callback && callback.apply(null, [k]);\n\t\t\t// if (j !== false && (object.hasOwnProperty(i) == false || overwrite !== false))\n\t\t\tif (j !== false && (typeof object[k] == \"undefined\" || overwrite !== false))\n\t\t\t{\n\t\t\t\tobject[j && typeof(j) == \"string\" ? j : k] = v;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn object;\n};\n\nIG$.defaults = function(object, defaults) {\n\tif (object && defaults && typeof defaults === \"object\") {\n\t\tvar i, j, k;\n\n\t\tfor (i in defaults) {\n\t\t\tif (typeof (object[i]) == 'undefined')\n\t\t\t\tobject[i] = defaults[i];\n\t\t}\n\t}\n\n\treturn object;\n};\n\nIG$.copyObject = function(src, notdeep) {\n\tvar r = {}, k;\n\t\n\tfor (k in src)\n\t{\n\t\tif (notdeep && IG$.isObject(src[k]))\n\t\t\tcontinue;\n\t\t\n\t\tr[k] = src[k];\n\t}\n\t\n\treturn r;\n}\n\nIG$.isObject = function(val) {\n\tif (val === null) { return false;}\n\treturn typeof val === \"object\";\n}\n\nIG$.isString = function(val) {\n\treturn typeof val === \"string\";\n}\n\nIG$.getMetaItemCache = {\n\titemicon: {},\n\tfoldertype: {}\n};\n\nIG$.getLicenseTag = function(instance) {\n\tvar r,\n\t\tm;\n\t\n\tif (instance.dlgLogin && instance.dlgLogin.logininfo)\n\t{\n\t\tm = instance.dlgLogin.logininfo.l3.substring(1);\n\t}\n\t\n\tif (m == \"1\")\n\t{\n\t\tr = [\"COMMUNITY EDITION\", \"http://www.amplixbi.com\"];\n\t}\n\t\n\treturn r;\n}\n\nIG$.formatUID = function(uid) {\n\tif (uid && uid.indexOf(\"-\") > -1)\n\t{\n\t\tvar uid1 = uid.substring(0, uid.indexOf(\"-\")),\n\t\t\tuid2 = uid.substring(uid.indexOf(\"-\") + 1),\n\t\t\ti;\n\t\t\n\t\tif (uid1.length < 8)\n\t\t{\n\t\t\tfor (i=uid1.length; i<8; i++)\n\t\t\t{\n\t\t\t\tuid1 = \"0\" + uid1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (uid2.length < 8)\n\t\t{\n\t\t\tfor (i=uid2.length; i<8; i++)\n\t\t\t{\n\t\t\t\tuid2 = \"0\" + uid2;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn uid1 + \"-\" + uid2;\n\t}\n\t\n\treturn uid;\n}\n\nIG$.checkUID = function(uid) {\n\tvar r = false;\n\t\n\tif (uid && uid.length == 17 && uid.charAt(8) == \"-\")\n\t{\n\t\tr = true;\n\t}\n\t\n\treturn r;\n}\n\nIG$.formatName = function(tname) {\n\tif (tname.length > 17 && tname.charAt(17) == \"_\")\n\t{\n\t\ttname = tname.substring(18);\n\t}\n\telse if (tname.length > 15 && tname.charAt(15) == \"_\")\n\t{\n\t\ttname = tname.substring(16);\n\t}\n\t\n\treturn tname;\n}\n\nIG$.trim12 = function(str) {\n\tif (!str)\n\t\treturn str;\n\t\n\tvar\tstr = str.replace(/^\\s\\s*/, \"\"),\n\t\tws = /\\s/,\n\t\ti = str.length;\n\twhile (ws.test(str.charAt(--i)));\n\treturn str.slice(0, i + 1);\n}\n\nIG$.drawLicenseTag = function(instance, unode) {\n\tvar i,\n\t\tltag = IG$.getLicenseTag(instance),\n\t\twatermark,\n\t\tmvar;\n\t\n\tif (ltag)\n\t{\n\t\twatermark = $(\"<div></div>\")\n\t\t\t.css({\n\t\t\t\tposition: \"absolute\", \n\t\t\t\tbottom: 10, left: 10, \n\t\t\t\tbackgroundImage: \"url(./images/75p_white.png)\",\n\t\t\t\tbackgroundRepeat: \"repeat\",\n\t\t\t\tpadding: ig$.padding\n\t\t\t})\n\t\t\t.appendTo(unode);\n\t\tfor (i=0; i < ltag.length; i++)\n\t\t{\n\t\t\tmvar = (i>0 ? \"<br>\" : \"\");\n\t\t\tif (ltag[i].substring(0, 4) == \"http\")\n\t\t\t{\n\t\t\t\tmvar += \"<a href='\" + ltag[i] + \"' target='_new'>\" + ltag[i] + \"</a>\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmvar += \"<span>\" + ltag[i] + \"</span>\";\n\t\t\t}\n\t\t\twatermark.append(mvar);\n\t\t}\n\t}\n}\n\nIG$.tooltip = function(ui, content) {\n\tvar t = IG$._tooltipInstance;\n\tif (!t)\n\t{\n\t\tt = IG$._tooltipInstance = $(\"<div class='mto'></div>\").css({position: \"absolute\", zIndex: 999}).hide();\n\t\tt.appendTo($(body));\n\t}\n\t\n\tt.text(text);\n\tt.show();\n}\n\nIG$.typeOfValue = function(value) {\n\tvar s = typeof value;\n\tif (s === \"object\") {\n\t\tif (value) {\n\t\t\tif (value instanceof Array) {\n\t\t\t\ts = \"array\";\n\t\t\t}\n\t\t} else {\n\t\t\ts = \"null\";\n\t\t}\n\t}\n\treturn s;\n}\n\nIG$.findSubDivClass = function(unode, cname) {\n\tvar cdiv = null;\n\tif (unode.childNodes != null && unode.childNodes.length > 0)\n\t{\n\t\tvar i;\n\t\tfor (i=0; i < unode.childNodes.length; i++)\n\t\t{\n\t\t\tvar classname = unode.childNodes[i].className;\n\t\t\tvar cid = unode.childNodes[i].id;\n\t\t\t\n\t\t\tif ((classname && typeof(classname) == \"string\" && classname.indexOf(cname) > -1) || cid == cname)\n\t\t\t{\n\t\t\t\treturn unode.childNodes[i];\n\t\t\t}\n\t\t\t\n\t\t\tvar nodename = (unode.childNodes[i].nodeName) ? unode.childNodes[i].nodeName : unode.childNodes[i].localName;\n\t\t\t\n\t\t\tif (nodename.toLowerCase() == \"div\" || nodename.toLowerCase() == \"span\")\n\t\t\t{\n\t\t\t\tcdiv = IG$.findSubDivClass(unode.childNodes[i], cname);\n\t\t\t\t\n\t\t\t\tif (cdiv != null)\n\t\t\t\t\treturn cdiv;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn cdiv;\n}\n\nIG$.isFolder = function(typename) {\n\tvar r = 5,\n\t\tcache = IG$.getMetaItemCache.foldertype;\n\t\t\n\tif (cache[typename])\n\t{\n\t\tr = cache[typename];\n\t}\n\telse\n\t{\n\t\tif (/(parent|folder|rfolder|javapackage)/.test(typename) == true)\n\t\t{\n\t\t\tr = 1;\n\t\t}\n\t\telse if (/(cube|mcube|metrics|dataset)/.test(typename) == true && typename != \"cubemodel\")\n\t\t{\n\t\t\tr = 2;\n\t\t}\n\t\telse if (typename == \"datemetric\")\n\t\t{\n\t\t\tr = 3;\n\t\t}\n\t\t\n\t\tcache[typename] = r;\n\t}\n\treturn r;\n}\n\n/**\n * meta data sort orders\n * @memberof module:common/mainapp\n */\nIG$._sortTypeOrder = {\"parent\": 1, \"folder\": 2, \"cube\": 3, \"cubemodel\": 4, \"javapackage\": 5, \"mcube\": 6, \"mdbcube\": 7};\n\nIG$._nsort = /(\\.\\d+)|(\\d+(\\.\\d+)?)|([^\\d.]+)|(\\.\\D+)|(\\.$)/g;\n\nIG$.sortMeta = function(items) {\n\t// do nothing and feature move to server\n};\n\n/**\n * static function to sort meta items\n * @memberof module:common/mainapp\n */\nIG$.sortMeta_old = function(items) {\n\tvar torder = IG$._sortTypeOrder,\n\t\ti;\n\t\n\tfor (i=0; i < items.length; i++)\n\t{\n\t\titems[i].ltype = items[i].type.toLowerCase();\n\t\titems[i].lfd = IG$.isFolder(items[i].ltype);\n\t}\n\t\n\titems.sort(function(a, b) {\n\t\tvar c = 0,\n\t\t\tsa, sb,\n\t\t\tna = -1, nb = -1,\n\t\t\tal = a.lfd,\n\t\t\tbl = b.lfd,\n\t\t\tat = a.ltype,\n\t\t\tbt = b.ltype,\n\t\t\tan = a.nodepath || \"\",\n\t\t\tbn = b.nodepath || \"\",\n\t\t\tat1 = torder[at] || 99,\n\t\t\tbt1 = torder[bt] || 99,\n\t\t\tL, i, n, a1, b1;\n\t\t\t\n\t\tan = a.locale_name || a.name; // an.substring(0, an.lastIndexOf(\"/\"));\n\t\tbn = b.locale_name || b.name; // bn.substring(0, bn.lastIndexOf(\"/\"));\n\t\t\n\t\tif (at1 != bt1)\n\t\t{\n\t\t\tc = at1 - bt1;\n\t\t}\n\t\telse if (an != bn)\n\t\t{\n\t\t\tsa = an.toLowerCase().match(IG$._nsort);\n\t\t\tsb = bn.toLowerCase().match(IG$._nsort);\n\t\t\t\n\t\t\tL = sa.length;\n\t\t\ti = 0;\n\t\t\t\n\t\t\twhile(i<L)\n\t\t\t{\n\t\t\t\tif(!sb[i])\n\t\t\t\t{\n\t\t\t\t\tc = 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ta1= sa[i],\n\t\t\t\tb1= sb[i++];\n\t\t\t\tif(a1!== b1)\n\t\t\t\t{\n\t\t\t\t\tn= a1-b1;\n\t\t\t\t\tif(!isNaN(n))\n\t\t\t\t\t{\n\t\t\t\t\t\tc = n;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tc = a1>b1? 1:-1;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (al == bl && at1 == bt1)\n\t\t{\n\t\t\tan = a.lname || a.name;\n\t\t\tbn = b.lname || b.name;\n\t\t\t\n\t\t\tsa = an.toLowerCase().match(IG$._nsort);\n\t\t\tsb = bn.toLowerCase().match(IG$._nsort);\n\t\t\t\n\t\t\tL = sa.length;\n\t\t\ti = 0;\n\t\t\t\n\t\t\twhile(i<L)\n\t\t\t{\n\t\t\t\tif(!sb[i])\n\t\t\t\t{\n\t\t\t\t\tc = 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ta1= sa[i],\n\t\t\t\tb1= sb[i++];\n\t\t\t\tif(a1!== b1)\n\t\t\t\t{\n\t\t\t\t\tn= a1-b1;\n\t\t\t\t\tif(!isNaN(n))\n\t\t\t\t\t{\n\t\t\t\t\t\tc = n;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tc = a1>b1? 1:-1;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (al == bl)\n\t\t{\n\t\t\tc = at1 > bt1 ? -1 : 1;\n\t\t}\n\t\telse \n\t\t{\n\t\t\tc = (al > bl) ? -1 : 1;\n\t\t}\n\t\t\n\t\treturn c;\n\t});\n}\n\nIG$.get_datatype = function(typename) {\n\tvar r = null;\n\t\n\tswitch (typename)\n\t{\n\tcase \"12\":\n\tcase \"1\":\n\tcase \"-1\":\n\tcase \"-15\":\n\t\tr = \"VARCHAR\";\n\t\tbreak;\n\tcase \"5\":\n\tcase \"4\":\n\tcase \"-5\":\n\tcase \"-6\":\n\tcase \"-7\":\n\tcase \"7\":\n\tcase \"8\":\n\tcase \"3\":\n\tcase \"-2\":\n\tcase \"-3\":\n\tcase \"-4\":\n\tcase \"2\":\n\t\tr = \"NUMERIC\";\n\t\tbreak;\n\tcase \"91\":\n\tcase \"92\":\n\tcase \"93\":\n\t\tr = \"DATE\";\n\t\tbreak;\n\tcase \"2004\":\n\tcase \"2005\":\n\t\tr = \"LOB\";\n\t\tbreak;\n\tdefault:\n\t\tr = \"OTHER\";\n\t\tbreak;\n\t}\n\t\n\treturn r;\n}\n\n/**\n * meta type to icon\n * @memberof module:common/mainapp\n */\nIG$.get_metatype_icon = function(typename, tobj) {\n\tvar r = \"\",\n\t\tcache = IG$.getMetaItemCache.itemicon,\n\t\ttname = typename;\n\t\n\tif (typename == \"link\" && tobj && !tobj.rawtype && tobj.attributes && tobj.attributes.attrb2)\n\t{\n\t\ttobj.rawtype = tobj.attributes.attrb2;\n\t}\n\t\n\tvar memo = tobj ? (tobj.datatype || \"\") + \"_\" + (tobj.rawtype || \"\") : \"\"; \n\t\t\n\tif (cache[typename + \"_\" + memo])\n\t{\n\t\tr = cache[typename + \"_\" + memo];\n\t}\n\telse\n\t{\n\t\tif (typename == \"link\" && tobj && tobj.rawtype)\n\t\t{\n\t\t\ttname = tobj.rawtype.toLowerCase();\n\t\t}\n\t\t\n\t\tswitch (tname)\n\t\t{\n\t\tcase \"metrics\":\n\t\t\tr = \"icon-folder\";\n\t\t\tbreak;\n\t\tcase \"datacube\":\n\t\t\tr = \"icon-excel\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tr = \"icon-\" + tname;\n\t\t\n\t\t\tif (tname == \"metric\" && tobj && tobj.datatype)\n\t\t\t{\n\t\t\t\tr += \"_\" + tobj.datatype;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif (typename == \"link\")\n\t\t{\n\t\t\tr = \"icon-link-disp \" + r;\n\t\t}\n\t\t\n\t\tcache[typename + \"_\" + memo] = r;\n\t}\n\t\n\treturn r;\n}\n\nIG$.findSubNode = function(unode, nodename, nodevalue) {\n\tvar cdiv = null;\n\tif (unode.childNodes != null && unode.childNodes.length > 0)\n\t{\n\t\tvar i;\n\t\tfor (i=0; i < unode.childNodes.length; i++)\n\t\t{\n\t\t\tvar cvalue = (unode.childNodes[i].getAttribute) ? unode.childNodes[i].getAttribute(nodename) : null;\n\t\t\t\n\t\t\tif (cvalue && cvalue == nodevalue)\n\t\t\t{\n\t\t\t\treturn unode.childNodes[i];\n\t\t\t}\n\t\t\t\n\t\t\tif (unode.childNodes[i].childNodes && unode.childNodes[i].childNodes.length > 0)\n\t\t\t{\n\t\t\t\tcdiv = IG$.findSubNode(unode.childNodes[i], nodename, nodevalue);\n\t\t\t\t\n\t\t\t\tif (cdiv != null)\n\t\t\t\t\treturn cdiv;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn cdiv;\n}\n\n/**\n * xml related\n */\nIG$.loadXML = function(doc) {\n\tvar xdoc,\n\t\tparser;\n\t\n\tif (doc.charAt(0).charCodeAt(0) == 10)\n\t{\n\t\tdoc = doc.substring(1);\n\t}\n   \n\tif (doc.charAt(0) != \"<\")\n\t{\n\t\tdoc = Base64.decode(doc);\n\t}\n\t\t\n\tif (window.DOMParser)\n\t{\n\t\tparser = new DOMParser();\n\t\txdoc = parser.parseFromString(doc, \"application/xml\");\n\t}\n\telse\n\t{\n\t\txdoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\txdoc.async = false;\n\t\txdoc.loadXML(doc);\n\t}\n\t\n\treturn xdoc;\n}\n\nIG$.loadMapData = function(callback) {\n\t$.ajax({\n\t\ttype: \"GET\",\n\t\turl: (window.mapurl || \"./data/map.json\") + \"?uniquekey=\" + IG$.getUniqueKey(), \n\t\tdataType: \"json\",\n\t\ttimeout: 10000,\n\t\tsuccess: function(data) {\n\t\t\tIG$/*mainapp*/.mLU = data;\n\t\t},\n\t\terror: function(e, status, thrown) {\n\t\t}\n\t});\n}\n\nIG$.lDF = function(fname, callback) {\n\t$.ajax({\n\t\ttype: \"GET\",\n\t\turl: fname + \"?uniquekey=\" + IG$.getUniqueKey(), \n\t\tdataType: \"json\",\n\t\ttimeout: 10000,\n\t\tsuccess: function(data) {\n\t\t\tcallback && callback.execute(data);\n\t\t},\n\t\terror: function(e, status, thrown) {\n\t\t}\n\t});\n}\n\nIG$.getKeyName = function(value) {\n\tvar r = value.toLowerCase();\n\treturn r;\n}\n\n/**\n * color interpolation\n * @memberof module:common/mainapp\n * @param minColor {string} minimum value color\n * @param maxColor {string} maximum value color\n * @param maxDepth {integer} maximum depth of colors\n * @param depth {integer} depth of colors\n */\nIG$.interpolateColor = function(minColor,maxColor,maxDepth,depth){\n\t\n\tfunction d2h(d) {return d.toString(16);}\n\tfunction h2d(h) {return parseInt(h,16);}\n   \n\tif(depth == 0){\n\t\treturn minColor;\n\t}\n\tif(depth == maxDepth){\n\t\treturn maxColor;\n\t}\n   \n\tvar color = \"#\",\n\t\tminVal,\n\t\tmaxVal,\n\t\tnVal,\n\t\tval,\n\t\ti;\n\tfor(i=1; i <= 6; i+=2){\n\t\tminVal = Number(h2d(minColor.substr(i,2)));\n\t\tmaxVal = Number(h2d(maxColor.substr(i,2)));\n\t\tnVal = minVal + (maxVal-minVal) * (depth/maxDepth);\n\t\tval = d2h(Math.floor(nVal));\n\t\twhile(val.length < 2){\n\t\t\tval = \"0\"+val;\n\t\t}\n\t\tcolor += val;\n\t}\n\treturn color;\n};\n\nIG$._pcolor = function(c) {\n\tfunction h2d(h) {return parseInt(h,16);}\n\t\n\tvar i, r = [];\n\t\n\tfor (i=1; i<=6; i+=2) {\n\t\tr.push(Number(h2d(c.substr(i,2))));\n\t}\n\t\n\treturn r;\n}\n\nIG$._interpolate_color = function(minColor,maxColor,ratio){\n\tvar color = [],\n\t\tminVal,\n\t\tmaxVal,\n\t\tnVal,\n\t\tval,\n\t\ti;\n\tfor(i=0; i < 3; i++)\n\t{\n\t\tminVal = minColor[i];\n\t\tmaxVal = maxColor[i];\n\t\tnVal = minVal + (maxVal-minVal) * ratio;\n\t\tval = Math.floor(nVal);\n\t\tcolor.push(val);\n\t}\n\treturn color;\n};\n\nIG$.placeHolder = function(ctrl) {\n\tvar browser = window.bowser,\n\t\tplaceholder = ctrl.attr(\"placeholder\");\n\t\n\tif (browser.msie && placeholder)\n\t{\n\t\tctrl.bind({\n\t\t\t\"focus\": function(e) {\n\t\t\t\tvar input = $(this);\n\t\t\t\tif (input.val() == input.attr(\"placeholder\")) {\n\t\t\t\t\tinput.val(\"\");\n\t\t\t\t\tinput.removeClass(\"placeholder\");\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"blur\": function(e) {\n\t\t\t\tvar input = $(this);\n\t\t\t\tif (input.val() == \"\" || input.val() == input.attr(\"placeholder\")) {\n\t\t\t\t\tinput.addClass(\"placeholder\");\n\t\t\t\t\tinput.val(input.attr(\"placeholder\"));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tinput.removeClass(\"placeholder\");\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"keyup\": function(e) {\n\t\t\t\tvar input = $(this);\n\t\t\t\tif (input.val() == \"\") {\n\t\t\t\t\tinput.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t}).blur();\n\t}\n}\n\nIG$.CopyObject = function(src, tgt, attr) {\n\tvar i,key;\n\t\n\tattr = (attr) ? \";\" + attr + \";\" : attr;\n\t\n\ttgt = (!tgt) ? {} : tgt;\n\t\n\tfor (key in src)\n\t{\n\t\tif (attr && attr.indexOf(\";\" + key+\";\") > -1)\n\t\t{\n\t\t\ttgt[key] = src[key];\n\t\t}\n\t\telse if (!attr)\n\t\t{\n\t\t\ttgt[key] = src[key];\n\t\t}\n\t}\n\treturn tgt;\n}\n\nIG$.CloneObject = function(src) {\n\tvar i,key;\n\tvar tgt = {};\n\tfor (key in src)\n\t{\n\t\ttgt[key] = src[key];\n\t}\n\treturn tgt;\n}\n\nIG$.XGetInfo = function(obj, node, attr, vtype, ismixed) {\n\tvar i,\n\t\tr,\n\t\tv,\n\t\tattrs = attr.split(\";\"),\n\t\tprop = IG$.XGetAttrProp(node),\n\t\taname;\n\t\t\n\tfor (i=0; i < attrs.length; i++)\n\t{\n\t\taname = attrs[i];\n\t\tif (aname)\n\t\t{\n\t\t\tswitch (vtype)\n\t\t\t{\n\t\t\tcase \"i\":\n\t\t\t\tv = (prop[aname] != null && typeof prop[aname] != \"undefined\") ? Number(prop[aname]) : null;\n\t\t\t\tbreak;\n\t\t\tcase \"b\":\n\t\t\t\tif (prop[aname] == \"T\")\n\t\t\t\t\tv = true;\n\t\t\t\telse if (prop[aname] == \"F\")\n\t\t\t\t\tv = false;\n\t\t\t\telse\n\t\t\t\t\tv = null;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tv = (prop[aname] != null && typeof prop[aname] != \"undefined\") ? prop[aname] : null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tif (ismixed && aname.substring(0, \"cdata_\".length) == \"cdata_\")\n\t\t\t{\n\t\t\t\tv = IG$.XGetSubNodeText(node, aname);\n\t\t\t}\n\t\t\t\n\t\t\tif (v != null)\n\t\t\t{\n\t\t\t\tobj[aname] = v;\n\t\t\t}\n\t\t}\n\t}\n}\n\nIG$.XUpdateInfo = function(obj) {\n\tvar i,\n\t\tr = \"\",\n\t\tk;\n\t\n\tfor (k in obj)\n\t{\n\t\tv = obj[k];\n\t\tif (v != null && typeof(v) == \"string\")\n\t\t{\n\t\t\tr += \" \" + k + \"='\";\n\t\t\tr += IG$.escapeXMLString(v);\n\t\t\tr += \"'\";\n\t\t}\n\t}\n\t\n\treturn r;\n}\n\nIG$.XSetAttr = function(node, name, value) {\n\tnode.setAttribute(name, value);\n}\n\nIG$.XGetTextVal = function(node) {\n\tvar r = \"\",\n\t\tcnodes,\n\t\tcdata,\n\t\ti,\n\t\tbrowser = window.bowser;\n\t\t\n\tif (node)\n\t{\n\t\tif (node.hasChildNodes())\n\t\t{\n\t\t\tcnodes = node.childNodes;\n\t\t\tfor (i=0; i < cnodes.length; i++)\n\t\t\t{\n\t\t\t\tif (cnodes[i].nodeType == \"4\")\n\t\t\t\t{\n\t\t\t\t\tcdata = cnodes[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (cdata)\n\t\t\t{\n\t\t\t\tr = cdata.nodeValue || cdata.textContent;\n\t\t\t\treturn r;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (browser.msie)\n\t\t{\n\t\t\tr = node.text || node.textContent || \"\";\n\t\t}\n\t\telse if (node != null && typeof node.textContent != \"undefined\")\n\t\t{\n\t\t\treturn node.textContent;\n\t\t}\n\t}\n\t\n\treturn r;\n}\n\nIG$.toXMLString = function(xdoc) {\n\tvar value = \"\";\n\t\n\t// if ($.browser.msie == true)\n\tif (!window.XMLSerializer)\n\t{\n\t\tvalue = xdoc.documentElement ? xdoc.documentElement.xml : xdoc.xml;\n\t}\n\telse\n\t{\n\t\tvalue = (new XMLSerializer()).serializeToString(xdoc);\n\t}\n\treturn value;\n}\n\nIG$.XGetChildNodes = function(node, nodename) {\n\tvar nodes = [];\n\t\n\tif (node != null && node.hasChildNodes() == true)\n\t{\n\t\tfor (var i=0; i < node.childNodes.length; i++)\n\t\t{\n\t\t\tif (node.childNodes[i].nodeType == \"1\" && node.childNodes[i].nodeName != \"parseerror\") {\n\t\t\t\tif (!(nodename && nodename != IG$.XGetNodeName(node.childNodes[i])))\n\t\t\t\t{\n\t\t\t\t\tnodes.push(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn nodes;\n}\n\nIG$.getErrorCode = function(jdoc) {\n\tvar errcode = jdoc.errorcode;\n\t\n\treturn errcode;\n}\n\nIG$.getTabTitle = function(text) {\n\tvar ntitle = text,\n\t\tnlength = 16;\n\t\n\tif (ntitle.length > nlength)\n\t{\n\t\tntitle = ntitle.substring(0, nlength - 2) + \"..\";\n\t}\n\t\n\treturn ntitle;\n}\n\nIG$.XGetNodeName = function(node) {\n\treturn node.nodeName;\n}\n\nIG$.getFirstChild = function(node) {\n\tvar children = IG$.getChildNodes(node);\n\t\n\tif (children != null && children.length > 0)\n\t{\n\t\treturn children[0];\n\t}\n\t\n\treturn null;\n}\n\nIG$.XGetNode = function(doc, path) {\n\tvar root = null;\n\t\n\tvar plist = path.split(\"/\");\n\tvar n = 0;\n\t\n\tvar unode = doc;\n\t\n\tif (plist[0] == \"\")\n\t{\n\t\tunode = doc.getElementsByTagName(plist[1])[0];\n\t\tn = 2;\n\t}\n\t\n\tvar nd = null;\n\t\n\tfor (let i=n; i < plist.length; i++)\n\t{\n\t\tunode = IG$.getSubNode(unode, plist[i]);\n\t\tif (unode == null || unode == undefined)\n\t\t\tbreak;\n\t}\n\t\n\tnd = unode;\n\t\n\treturn nd;\n}\n\nIG$.getSubNode = function(unode, pname) {\n\tvar nd = null,\n\t\tsnode = null,\n\t\ti;\n\t\n\tif (unode != null && unode.hasChildNodes() == true)\n\t{\n\t\tsnode = IG$.getChildNodes(unode);\n\t\t\n\t\tfor (i=0; i < snode.length; i++)\n\t\t{\n\t\t\tif (snode[i].nodeName == pname)\n\t\t\t{\n\t\t\t\tnd = snode[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn nd;\n}\n\nIG$.getSubNodeText = function(unode, pname) {\n\tvar m = IG$.getSubNode(unode, pname);\n\t\n\tif (m)\n\t{\n\t\treturn IG$.getTextContent(m);\n\t}\n\t\n\treturn null;\n}\n\nIG$.XGetAttrProp = function(node) {\n\tvar obj = {},\n\t\tbrowser = window.bowser;\n\t\t\n\tfor (var i=0; i < node.attributes.length; i++)\n\t{\n\t\tobj[(browser.msie ? node.attributes[i].nodeName : node.attributes[i].localName)] = node.attributes[i].value;\n\t}\n\t\n\treturn obj;\n}\n\nIG$.parseValueList = function(jdoc) {\n\tvar i, j, clen, cfield, m, sfield,\n\t\titem,\n\t\tobj, dnode, dnodes, uid, vnode, delimiter, d,\n\t\tsnode,\n\t\thnode,\n\t\thnodes,\n\t\tdnode,\n\t\ttpnode, tpnodes,\n\t\tvnode,\n\t\tcols, cols_m1,\n\t\tmval, dt, vt,\n\t\tresults = [];\n\t\n\tif (jdoc)\n\t{\n\t\tfor (m=0; m < jdoc.length; m++)\n\t\t{\n\t\t\tsnode = jdoc[m];\n\t\t\thnodes = snode.headers;\n\t\t\tdnode = snode.inline_data;\n\t\t\t\n\t\t\tobj = snode;\n\t\t\tobj.data = [];\n\t\t\t\n\t\t\tif (snode && hnodes && dnode)\n\t\t\t{\n\t\t\t\tdelimiter = snode.delimiter;\n\t\t\t\tcfield = snode.codefield;\n\t\t\t\tsfield = snode.sortfield;\n\t\t\t\tcols = snode.cols;\n\t\t\t\tcols_m1 = cols-1;\n\t\t\t\t\n\t\t\t\tclen = hnodes.length;\n\t\t\t\t\n\t\t\t\tfor (i=0; i < dnode.length; i++)\n\t\t\t\t{\n\t\t\t\t\tmval = dnode[i]; // .split(delimiter);\n\t\t\t\t\tobj.data.push({\n\t\t\t\t\t\tcode: mval[0],\n\t\t\t\t\t\tdisp: mval[1],\n\t\t\t\t\t\tsdisp: mval[2]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (obj)\n\t\t\t{\n\t\t\t\tresults.push(obj);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn results;\n}\n\n\nIG$.getFstChld = function(node) {\n\tvar children = IG$.XGetChildNodes(node);\n\t\n\tif (children != null && children.length > 0)\n\t{\n\t\treturn children[0];\n\t}\n\t\n\treturn null;\n}\n\n\n\nIG$.getFieldValue = function(owner, cname, ctype) {\n\tvar ctrl = owner.down.call(owner, \"[name=\" + cname + \"]\"),\n\t\tr = null;\n\t\n\tif (ctrl)\n\t{\n\t\tswitch (ctype)\n\t\t{\n\t\tcase \"s\":\n\t\t\tr = ctrl.getValue();\n\t\t\tbreak;\n\t\tcase \"dg\":\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\treturn r;\n}\n\nIG$.setFieldValue = function(owner, cname, ctype, value) {\n\tvar ctrl = owner.down.call(owner, \"[name=\" + cname + \"]\");\n\n\tif (ctrl)\n\t{\n\t\tswitch (ctype)\n\t\t{\n\t\tcase \"s\":\n\t\t\tctrl.setValue(value);\n\t\t\tbreak;\n\t\tcase \"dg\":\n\t\t\tctrl.store.loadData(value);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nIG$.applyOptions = function(panel, opt, names, isupdate) {\n\t$.each(names, function(k, nm) {\n\t\tvar p = panel.down(\"[name=\" + nm + \"]\");\n\t\t\n\t\tif (p)\n\t\t{\n\t\t\tif (isupdate)\n\t\t\t{\n\t\t\t\tif (p.xtype == \"checkbox\")\n\t\t\t\t{\n\t\t\t\t\topt[nm] = p.getValue() ? \"T\" : \"F\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\topt[nm] = p.getValue();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (p.xtype == \"checkbox\")\n\t\t\t\t{\n\t\t\t\t\tp.setValue(opt[nm] == \"T\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tp.setValue(opt[nm]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nIG$._I30/*getXMLAttr*/ = function(item) {\n\tvar k, r = \"\";\n\tfor (k in item)\n\t{\n\t\tif (typeof(item[k]) == \"string\" || typeof(item[k]) == \"number\")\n\t\t{\n\t\t\tr += \" \" + k + \"='\" + IG$.escapeXMLString(item[k]) + \"'\";\n\t\t}\n\t}\n\t\n\treturn r;\n}\n\nIG$.XHasElement = function(node, element) {\n\tvar i, havone = false;\n\tif (node && node.children)\n\t{\n\t\tfor (i=0; i < node.children.length; i++)\n\t\t{\n\t\t\tif (node.children[i] == element)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (node.children[i].children && node.children[i].children.length > 0)\n\t\t\t{\n\t\t\t\thavone = IG$.XHasElement(node.children[i], element);\n\t\t\t\tif (havone == true)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn havone;\n}\n\n/**\n * static variable with chart type on report - use this on report toolbar\n * @memberof module:common/mainapp\n */\nIG$.chartTypeMenu = [\n\t{label:\"Column\", lcs: \"L_CH_COLUMN\", charttype:\"cartesian\", subtype:\"column\", img: \"column\"},\n\t{label:\"Line\", lcs: \"L_CH_LINE\", charttype:\"cartesian\", subtype:\"line\", img: \"line\"},\n\t{label:\"Area\", lcs: \"L_CH_AREA\", charttype:\"cartesian\", subtype:\"area\", img: \"area\"},\n\t{label:\"Bar\", lcs: \"L_CH_BAR\", charttype:\"cartesian\", subtype:\"bar\", img: \"bar\"},\n\t{label:\"Pie\", lcs: \"L_CH_PIE\", charttype:\"pie\", subtype:\"pie\", img: \"pie\"},\n\t{label:\"Doughnut\", lcs: \"L_CH_DOUGHNUT\", charttype:\"pie\", subtype:\"doughnut\", img: \"pie\"},\n\t{label:\"Bubble\", lcs: \"L_CH_BUBBLE\", charttype:\"bubble\", subtype:\"bubble\", img: \"bubble\"},\n\t{label:\"Scatter\", lcs: \"L_CH_SCATTER\", charttype:\"scatter\", subtype:\"scatter\", img: \"bubble\"} //,\n\t//{label:\"Radar\", charttype:\"radar\", subtype:\"radar\", img: \"radar\"},\n\t//{label:\"Candlestick\", charttype:\"candlestick\", subtype:\"candlestick\", img: \"candlestick\"},\n\t//{label:\"OHLC\", charttype:\"candlestick\", subtype:\"ohlc\", img: \"hloc\"},\n\t//{label:\"World Map\", charttype:\"map\", subtype:\"worldmap\"},\n\t//{label:\"US Map\", charttype:\"map\", subtype:\"usmap\"},\n\t//{label:\"Seoul Map\", charttype:\"map\", subtype:\"seoulmap\"},\n\t// {label:\"DataGrid\", charttype:\"datagrid\", subtype:\"datagrid\"}\n];\n\nIG$.getPrintXML = function(node) {\n\tvar doc,\n\t\tbrowser = window.bowser;\n\t\t\n\tif (browser.msie)\n\t{\n\t\tdoc = node.outerHTML;\n\t}\n\telse\n\t{\n\t\tdoc = (new XMLSerializer()).serializeToString(node);\n\t}\n\t\n\treturn doc;\n}\n\n/**\n * static helper to check numeric data type\n * @memberof module:common/mainapp\n */\nIG$.isNumericType = function(type) {\n\tvar r = false;\n\ttype = (type) ? type.toLowerCase() : \"\";\n\tswitch (type)\n\t{\n\tcase \"numeric\":\n\tcase \"number\":\n\tcase \"int\":\n\tcase \"bigint\":\n\tcase \"decimal\":\n\t\tr = true;\n\t\tbreak;\n\t}\n\t\n\treturn r;\n}\n\n/**\n * javascript utility to format number value with comma separator\n * @memberof module:common/mainapp\n */\nIG$.FormatNumber = function(value)\n{\n\tvalue += \"\";\n\tx = value.split(\".\");\n\tx1 = x[0];\n\tx2 = x.length > 1 ? \".\" + x[1] : \"\";\n\tvar rgx = /(\\d+)(\\d{3})/;\n\twhile (rgx.test(x1)) {\n\t\tx1 = x1.replace(rgx, \"$1\" + \",\" + \"$2\");\n\t}\n\treturn x1 + x2;\n}\n\n/**\n * javascript utility fucntion to number format\n * @memberof module:common/mainapp\n * @param format {string} formatstring\n * @param value {number} number value\n */\nIG$.NumberFormat = function(format, value) {\n\t// ###.####\n\tvar p = 0,\n\t\tpostfix = \"\",\n\t\tpostfix_trim = \"\",\n\t\tprefix = \"\",\n\t\tsformat = \"\",\n\t\tdformat = \"\",\n\t\tbaseunit = 0, bunitformat,\n\t\tpval, n, np, i,\n\t\tc, pc, fval, b_decimal, b_format, e_format, b_else, sbase, lbase, grouping, last_decimal, integer_part, decimal_part;\n\t\n\tif (format)\n\t{\n\t\tvar dv = 0,\n\t\t\tsformat;\n\t\t\n\t\tif (format.indexOf(\";\") > -1)\n\t\t{\n\t\t\tsformat = format.substring(format.indexOf(\";\") + 1);\n\t\t\tformat = format.substring(0, format.indexOf(\";\"));\n\t\t}\n\t\t\n\t\tfor (i=format.length-1; i>=0; i--)\n\t\t{\n\t\t\tc = format.charAt(i);\n\t\t\tif (c == '#' || c == '0')\n\t\t\t\tbreak;\n\t\t\tif (c == ',')\n\t\t\t\tdv++;\n\t\t}\n\t\t\n\t\tif (dv > 0)\n\t\t{\n\t\t\tvalue = value / (Math.pow(1000, dv));\n\t\t}\n\t\telse if (sformat)\n\t\t{\n\t\t\tif (sformat.substring(0, 5) == \"UNIT,\")\n\t\t\t{\n\t\t\t\tsformat = sformat.substring(\"UNIT,\".length);\n\t\t\t\tsformat = sformat.split(\",\");\n\t\t\t\t\n\t\t\t\tvar vformats = [],\n\t\t\t\t\tvf;\n\t\t\t\t\n\t\t\t\tfor (i=0; i < sformat.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar s = sformat[i],\n\t\t\t\t\t\ts1, s2;\n\t\t\t\t\t\t\n\t\t\t\t\tif (s.indexOf(\"=\") > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\ts1 = s.substring(0, s.indexOf(\"=\"));\n\t\t\t\t\t\ts2 = s.substring(s.indexOf(\"=\") + 1);\n\t\t\t\t\t\t\n\t\t\t\t\t\ts2 = Number(s2);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (s1 && !isNaN(s2))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvformats.push({s1: s1, s2: s2});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (vformats.length)\n\t\t\t\t{\n\t\t\t\t\tfor (i=vformats.length-1; i>=0; i--)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (value >= vformats[i].s2)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvf = vformats[i];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (vf)\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue = value / vf.s2;\n\t\t\t\t\t\tformat += vf.s1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (i=0; i < format.length; i++)\n\t\t{\n\t\t\tc = format.charAt(i);\n\t\t\tb_else = 0;\n\t\t\tif (b_format && c == \".\")\n\t\t\t{\n\t\t\t\tb_decimal = 1;\n\t\t\t\tlast_decimal = pc;\n\t\t\t}\n\t\t\telse if (c == \"#\" || c == \"0\" || c == \"-\")\n\t\t\t{\n\t\t\t\tif (b_format && b_decimal && c != \"-\")\n\t\t\t\t{\n\t\t\t\t\tp++;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tb_format = 1;\n\t\t\t}\n\t\t\telse if (c == \",\")\n\t\t\t{\n\t\t\t\tif (b_format)\n\t\t\t\t{\n\t\t\t\t\tif (pc == c)\n\t\t\t\t\t{\n\t\t\t\t\t\tbaseunit++;\n\t\t\t\t\t\tlbase = i;\n\t\t\t\t\t\tif (!sbase)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsbase = i - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tgrouping = c;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tb_else = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (b_format && !b_decimal && i > 0 && i+1 < format.length && (format.charAt(i+1) == \"#\" || format.charAt(i+1) == \"0\"))\n\t\t\t\t{\n\t\t\t\t\tgrouping = c;\n\t\t\t\t}\n\t\t\t\telse if (grouping && c == grouping && b_format)\n\t\t\t\t{\n\t\t\t\t\t// do nothing\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tb_else = 1;\n\t\t\t\t\t\n\t\t\t\t\tif (b_format && !e_format)\n\t\t\t\t\t\te_format = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (b_else)\n\t\t\t{\n\t\t\t\tif (!b_format && !e_format)\n\t\t\t\t{\n\t\t\t\t\tprefix += c;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (c == \"%\")\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pc == \"'\" && postfix.length && postfix.charAt(postfix.length - 1) == \"'\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpostfix = postfix.substring(0, postfix.length - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue = value * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tpostfix += c;\n\t\t\t\t\t\n\t\t\t\t\tif (c != \" \")\n\t\t\t\t\t{\n\t\t\t\t\t\tpostfix_trim += c;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tpc = c;\n\t\t}\n\t\t\n\t\tn = postfix.indexOf(\"&permil;\");\n\t\tif (n > -1)\n\t\t{\n\t\t\tif (n > 0 && postfix.charAt(n-1) == \"'\")\n\t\t\t{\n\t\t\t\tpostfix = postfix.substring(0, n-1) + postfix.substring(n);\n\t\t\t\tn--;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvalue = value * 1000;\n\t\t\t}\n\t\t\t\n\t\t\tpostfix = postfix.substring(0, n) + \"\" + postfix.substring(n + \"&permil;\".length);\n\t\t}\n\t\t\n\t\tif (baseunit > 0)\n\t\t{\n\t\t\tformat = format.substring(0, sbase) + format.substring(lbase + 1);\n\t\t\tvalue = value / Math.pow(1000, baseunit);\n\t\t}\n\t\t\n\t\tsformat = format.substring(prefix.length, format.length - prefix.length - postfix.length);\n\t}\n\t\n\tfval = parseFloat(Math.round(value + \"e\" + p) + \"e-\" + p).toFixed(p);\n\t\n\tif (sformat)\n\t{\n\t\tn = fval.indexOf(\".\");\n\t\t\n\t\tinteger_part = fval;\n\t\t\n\t\tif (n > -1)\n\t\t{\n\t\t\tinteger_part = fval.substring(0, n);\n\t\t\tdecimal_part = fval.substring(n+1);\n\t\t}\n\t\t\n\t\tif (grouping)\n\t\t{\n\t\t\tn = integer_part.length - 3;\n\t\t\t\n\t\t\tfor (i=n; i>=0; i-=3)\n\t\t\t{\n\t\t\t\tif (i > 0)\n\t\t\t\t{\n\t\t\t\t\tinteger_part = integer_part.substring(0, i) + grouping + integer_part.substring(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (last_decimal == \"0\" && n == 0)\n\t\t\t{\n\t\t\t\tinteger_part = \"0\";\n\t\t\t}\n\t\t}\n\t\t\n\t\tnp = sformat.indexOf(\".\");\n\t\t\n\t\tif (np > 0)\n\t\t{\n\t\t\tdformat = sformat.substring(np+1);\n\t\t}\n\t\t\n\t\tif (dformat)\n\t\t{\n\t\t\tvar dvalue = [];\n\t\t\t\n\t\t\tfor (i=0; i < dformat.length ;i++)\n\t\t\t{\n\t\t\t\tif (dformat.charAt(i) == \"0\")\n\t\t\t\t{\n\t\t\t\t\tdvalue.push(decimal_part.length > i ? decimal_part.charAt(i) : \"0\");\n\t\t\t\t}\n\t\t\t\telse if (dformat.charAt(i) == \"#\")\n\t\t\t\t{\n\t\t\t\t\tdvalue.push(decimal_part.length > i && decimal_part.charAt(i) != \"0\" ? decimal_part.charAt(i) : \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tdecimal_part = dvalue.join(\"\");\n\t\t}\n\t\t\n\t\tfval = integer_part + (decimal_part ? \".\" + decimal_part : \"\");\n\t}\n\t\n\treturn prefix + fval + postfix;\n}\n\n/**\n * static function to get series type from subtype\n * @memberof module:common/mainapp\n * @param subtype {string} chart wizard chart subtype value\n * @returns {string} chart series type\n */\nIG$.getSeriesType = function(subtype) {\n\tvar stype = \"column\";\n\t\n\tswitch (subtype)\n\t{\n\tcase \"column\":\n\t\tstype = \"column\";\n\t\tbreak;\n\tcase \"line\":\n\t\tstype = \"line\";\n\t\tbreak;\n\tcase \"spline\":\n\t\tstype = \"spline\";\n\t\tbreak;\n\tcase \"area\":\n\t\tstype = \"area\";\n\t\tbreak;\n\tcase \"bar\":\n\t\tstype = \"bar\";\n\t\tbreak;\n\tcase \"pie\":\n\t\tstype = \"pie\";\n\t\tbreak;\n\tcase \"doughnut\":\n\t\tstype = \"pie\";\n\t\tbreak;\n\tcase \"bubble\":\n\t\tstype = \"bubble\";\n\t\tbreak;\n\tcase \"scatter\":\n\t\tstype = \"scatter\";\n\t\tbreak;\n\tcase \"parallel\":\n\t\tstype = \"parallel\";\n\t\tbreak;\n\tcase \"waterfall\":\n\t\tstype = \"waterfall\";\n\t\tbreak;\n\tcase \"areaspline\":\n\t\tstype = \"areaspline\";\n\t\tbreak;\n\t}\n\t\n\treturn stype;\n};\n\nIG$.isNumber = function(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n};\n\n\n/**\n * This function removes non-numeric characters\n * @memberof module:common/mainapp\n */\nIG$.stripNonNumeric = function(str) {\n  str += \"\";\n  var rgx = /^\\d|\\.|-$/;\n  var out = \"\";\n  for( var i = 0; i < str.length; i++ )\n  {\n\tif( rgx.test( str.charAt(i) ) ){\n\t  if( !( ( str.charAt(i) == \".\" && out.indexOf( \".\" ) != -1 ) ||\n\t\t\t ( str.charAt(i) == \"-\" && out.length != 0 ) ) ){\n\t\tout += str.charAt(i);\n\t  }\n\t}\n  }\n  return out;\n};\n\nIG$.rsa_kinfo = null;\n\n// IG$.encryptUtil = {\n// \tbase64ToArrayBuffer: function (base64) {\n// \t\tvar binary_string = window.atob(base64);\n// \t\tvar len = binary_string.length;\n// \t\tvar bytes = new Uint8Array(len);\n// \t\tfor (var i = 0; i < len; i++) {\n// \t\t\tbytes[i] = binary_string.charCodeAt(i);\n// \t\t}\n// \t\treturn bytes.buffer;\n// \t},\n\t\n// \tarrayBufferToBase64: function ( buffer ) {\n// \t\tvar binary = '';\n// \t\tvar bytes = new Uint8Array( buffer );\n// \t\tvar len = bytes.byteLength;\n// \t\tfor (var i = 0; i < len; i++) {\n// \t\t\tbinary += String.fromCharCode( bytes[ i ] );\n// \t\t}\n// \t\treturn window.btoa( binary );\n// \t},\n\n// \timportPublicKey: async function (e, n){\n// \t\tfunction b64tob64u(a){\n// \t\t\ta=a.replace(/\\=/g,\"\");\n// \t\t\ta=a.replace(/\\+/g,\"-\");\n// \t\t\ta=a.replace(/\\//g,\"_\");\n// \t\t\treturn a;\n// \t\t};\n\n// \t\tfunction hexToBase64(hexstring) {\n// \t\t\treturn btoa(hexstring.match(/\\w{2}/g).map(function(a) {\n// \t\t\t\treturn String.fromCharCode(parseInt(a, 16));\n// \t\t\t}).join(\"\"));\n// \t\t}\n\t\t\n// \t\tconst binaryDer = {\n// \t\t\tkty: \"RSA\",\n// \t\t\te: b64tob64u(hexToBase64(e)),\n// \t\t\tn: b64tob64u(hexToBase64(n)),\n// \t\t\talg: \"RSA-OAEP-256\",\n// \t\t\text: true\n// \t\t};\n// \t\tvar cryptoKey = await window.crypto.subtle\n// \t\t\t.importKey(\n// \t\t\t\t\"jwk\",\n// \t\t\t\tbinaryDer,\n// \t\t\t\t{\n// \t\t\t\t\tname: 'RSA-OAEP',\n// \t\t\t\t\thash:  { name: 'sha-256' }\n// \t\t\t\t},\n// \t\t\t\ttrue,\n// \t\t\t\t[\"encrypt\"]\n// \t\t);\n\n// \t\tcryptoKey = await window.crypto.subtle.generateKey(\n// \t\t\t{\n// \t\t\t  name: 'RSA-OAEP',\n// \t\t\t  modulusLength: 512,\n// \t\t\t  publicExponent: new Uint8Array([1, 0, 1]),\n// \t\t\t  hash: 'SHA-256'\n// \t\t\t},\n// \t\t\ttrue,\n// \t\t\t['encrypt', 'decrypt']\n// \t\t);\n\n// \t\treturn cryptoKey;\n// \t},\n\n// \tencryptData: async function (message, cryptoKey){\n// \t\tlet enc = new TextEncoder();\n// \t\tlet encodedMessage = enc.encode(message);\n// \t\tvar encryptedData = await window.crypto.subtle.encrypt(\n// \t\t   {\n// \t\t\t name: \"RSA-OAEP\"\n// \t\t   },\n// \t\t   cryptoKey.publicKey,\n// \t\t   encodedMessage\n// \t\t );\n// \t\t var encodedData = IG$.encryptUtil.arrayBufferToBase64(encryptedData);\n// \t\t return encodedData;\n// \t}\n// }\n\n\nIG$.encryptKey = function(instance, str) {\n\tif (instance.rsaPublicKeyModules) \n\t{\n\t\tvar rsa = new RSAKey(),\n\t\t\ti;\n\t\trsa.setPublic(instance.rsaPublicKeyModules, instance.rsaPublicKeyExpoenent);\n\n\t\tfor (i=0; i < str.length; i++)\n\t\t{\n\t\t\tstr[i] = rsa.encrypt(str[i]);\n\t\t}\n\t\t\n/*\n\t\tvar rsa = IG$.encryptUtil.importPublicKey(instance.rsaPublicKeyModules, instance.rsaPublicKeyExpoenent)\n\t\t\t.then((key) => {\n\t\t\t\tfor (i=0; i < str.length; i++)\n\t\t\t\t{\n\t\t\t\t\tIG$.encryptUtil.encryptData(str[i], key)\n\t\t\t\t\t\t.then((val) => {\n\t\t\t\t\t\t\tstr[i] = val;\n\t\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t});\n\t\t\t\t\t// str[i] = rsa.encrypt(str[i]);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t});\n*/\n\n\t}\n\t\n\treturn str;\n}\n\n/**\n * remote procedure call common utility\n * @memberof module:common/mainapp\n */\nIG$._rpc$ = function() {\n\tthis.stoploading = true;\n}\n\nIG$._rpc$.prototype = {\n\t/**\n\t * initialize rpc call\n     * @memberof module:common/mainapp\n     * @param panel {object} showing progress on panel\n     * @param params {object} parameter to post request\n     * @param caller {object} scope of rpc\n     * @param rsSuccess {callback} callback object to success call\n     * @param rsFaile {callback} callback object to failed call\n     * @param rsParams {object} parameter for additional setup\n\t */\n\tinit: function(panel, params, caller, rsSuccess, rsFail, rsParams) {\n\t\tvar me = this;\n\t\tme.panel = panel;\n\t\tme.params = params;\n\t\n\t\tme.caller = caller;\n\t\tme.rsSuccess = rsSuccess;\n\t\tme.rsFail = rsFail;\n\t\tme.rsParams = rsParams;\n\n\t\tme.showerror = true;\n\t\tme.stoploading = true;\n\t\t\n\t\tme.sccall = new IG$.callBackObj(me.caller, me.rsSuccess, me.rsParams);\n\t\tme.scfail = new IG$.callBackObj(me.caller, me.rsFail, me.rsParams);\n\t},\n\t\n\t_sproc: function(instance, response, status, xhr) {\n\t\tvar req = this,\n\t\t\tret,\n\t\t\tp, k, pnames;\n\t\t\n\t\twindow.Pace && window.Pace.stop();\n\t\t\t\t\n\t\tresponse = response || {\n\t\t\terrorcode: \"0xffff\",\n\t\t\terrormsg: 'Server incorrect responding'\n\t\t};\n\t\t\n\t\tvar errcode = response.errorcode,\n\t\t\tstopprog = false;\n\t\t\n\t\tIG$.checkTimeout(instance, response.session_timeout);\n\t\t\n\t\tif (errcode != \"0x1300\" && window.use_session_key && !ig$._session_key && response.session_key)\n\t\t{\n\t\t\tig$._session_key = response.session_key;\n\t\t\tIG$.psst_set(1, response.session_key);\n\t\t}\n\t\t\n\t\tif (req.panel && req.panel.setLoading)\n\t\t{\n\t\t\tif (req.stoploading != false)\n\t\t\t{\n\t\t\t\treq.panel.setLoading(false);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tstopprog = true;\n\t\t\t}\n\t\t}\n\t\tif (errcode == \"0x1300\")\n\t\t{\n\t\t\tIG$.psst_set(0);\n\t\t\tif (stopprog == true)\n\t\t\t{\n\t\t\t\treq.panel.setLoading(false);\n\t\t\t}\n\t\t\tret = req.scfail.execute(errcode);\n\t\t\t\t\n\t\t\tif (ret == true || req.showerror == false)\n\t\t\t\treturn;\n\n\t\t\tIG$.showLogin(instance, (req.panel ? new IG$.callBackObj(req.panel, req.panel.entryLogin) : null), req.params.ack == \"loginstatus\" ? 5 : 2);\n\t\t}\n\t\telse if (errcode != null && errcode.length > 0)\n\t\t{\n\t\t\tif (stopprog == true)\n\t\t\t{\n\t\t\t\treq.panel.setLoading(false);\n\t\t\t}\n\t\t\t\n\t\t\tvar rerr = req.scfail.execute(response);\n\t\t\t\n\t\t\tif (req.showerror !== false && rerr != false)\n\t\t\t{\n\t\t\t\tIG$.ShowErrorMessage(response, req.panel, req.params);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// IG$.ShowErrorMessage(jdoc, req.panel, req.params);\n\t\t\treq.sccall.execute(response.result);\n\t\t}\t\n\t},\n\t\n\t/**\n\t * cancel server request\n     * @memberof module:common/mainapp\n\t */\n\tcancel: function() {\n\t\tvar me = this;\n\t\tme._abrt = 1;\n\t\tme._ldr && me._ldr.abort();\n\t},\n\t\n\t/**\n\t * sending request to server\n     * @memberof module:common/mainapp\n\t */\n\tsend: function(instance) {\n\t\tvar req = this,\n\t\t\tskey,\n\t\t\tgparams;\n\t\t\n\t\treq.params._mts_ = IG$._g$a || req.params.mts || \"\";\n\t\treq.params._share_uid_ = IG$._share_uid_;\n\t\tif (window.use_session_key)\n\t\t{\n\t\t\tskey = $.cookie(\"amp_auth\");\n\t\t\treq.params.session_key = ig$._session_key || skey || \"empty\";\n\t\t}\n\t\treq.params.uniquekey = IG$.getUniqueKey();\n\t\t\n\t\twindow.Pace && window.Pace.start();\n\t\t\n\t\tif (req.panel && req.panel.setLoading && req._ld !== 1)\n\t\t{\n\t\t\treq.panel.setLoading(true);\n\t\t}\n\t\t\n\t\tif (!instance && req.panel)\n\t\t{\n\t\t\tinstance = req.panel.instance;\n\t\t}\n\t\t\n\t\t// !instance && console.log(\"no instance\");\n\t\t\n\t\tif (req.params.get_params && req._rmethod == \"GET\")\n\t\t{\n\t\t\tgparams = req.params.get_params;\n\t\t}\n\t\t\n\t\treq._ldr = $.ajax({\n\t\t\turl: req.servlet$ || (ig$.servlet + \"/\" + (gparams && gparams.sreq ? gparams.sreq : req.params.ack)),\n\t\t\tdata: req._rmethod && req._rparam !== true ? (gparams || \"\") : JSON.stringify(req.params),\n\t\t\tdataType: \"json\", // \"text\",\n\t\t\ttype: req._rmethod || \"POST\",\n\t\t\tasync: true,\n\t\t\tcontentType: \"application/json; charset=UTF-8\", // \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t\ttimeout: 0, // 600000,\n\t\t\tbeforeSend: function(xhr, settings) {\n\t\t\t},\n\t\t\tcache: false,\n\t\t\tcrossDomain: false,\n\t\t\tprocessData: true,\n\t\t\tsuccess: function(response, status, xhr) {\n\t\t\t\treq._ldr = null;\n\t\t\t\treq._abrt = null;\n\t\t\t\treq._sproc(instance, response, status, xhr);\n\t\t\t},\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tvar response = xhr.responseJSON;\n\t\t\t\t\n\t\t\t\tif (!response)\n\t\t\t\t{\n\t\t\t\t\tif (xhr.status == 401)\n\t\t\t\t\t{\n\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\terrorcode: '0x1300',\n\t\t\t\t\t\t\terrormsg: 'UnAuthorized Access'\n\t\t\t\t\t\t};\t\n\t\t\t\t\t}\n\t\t\t\t\telse if (xhr.status == 400)\n\t\t\t\t\t{\n\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\terrorcode: '0x3840',\n\t\t\t\t\t\t\terrormsg: '400 Invalid Request'\n\t\t\t\t\t\t};\t\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\terrorcode: '0x9999',\n\t\t\t\t\t\t\terrormsg: 'Server URL Connection Failed'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (response.errorcode != \"0x9999\")\n\t\t\t\t{\n\t\t\t\t\treq._sproc(instance, response, status, xhr);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\twindow.Pace && window.Pace.stop();\n\t\t\t\t\t\n\t\t\t\t\tif (req.panel && req.panel.setLoading)\n\t\t\t\t\t{\n\t\t\t\t\t\treq.panel.setLoading(false);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (req._abrt)\n\t\t\t\t\t{\n\t\t\t\t\t\treq._abrt = null;\n\t\t\t\t\t\tIG$.ShowWarning(IRm$.r1(\"E_CANCEL\"), req);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treq._ldr = null;\n\t\t\t\t\treq._abrt = null;\n\t\t\t\t\t\n\t\t\t\t\tif (req.showerror !== false)\n\t\t\t\t\t{\n\t\t\t\t\t\tIG$.ShowConnectionError(req.panel);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treq.scfail.execute(response);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * download file from server\n * @memberof module:common/mainapp\n * @param url {string} url to download\n * @param datas {object} request parameter\n * @param method {string} http request method\n */\n$.download = function(url, datas, method){\n\t//url and data options required\n\tif( url && datas ){ \n\t\t//data can be string of parameters or array/object\n\t\t//datas = typeof datas == \"string\" ? datas : jQuery.param(datas);\n\t\t//split params into form inputs\n\t\tvar inputs = [],\n\t\t\ti;\n\t\tfor (i=0; i < datas.length; i++)\n\t\t{\n\t\t\tinputs.push(\"<input type='hidden' name='\"+ datas[i].name +\"' value='\"+ datas[i].value +\"' />\"); \n\t\t}\n\t\tif (window.use_session_key)\n\t\t{\n\t\t\tinputs.push(\"<input type='hidden' name='session_key' value='\"+ ig$._session_key +\"' />\");\n\t\t}\n\t\t//send request\n\t\t$(\"<form action='\"+ url + \"' method='\"+ (method||\"post\") + \"'>\" + inputs.join(\"\") + \"</form>\")\n\t\t.appendTo(\"body\").submit().remove();\n\t};\n};\n\nIG$._load_html = function(url, callback) {\n\twindow.Pace && window.Pace.start();\n\t\n\t$.ajax({\n\t\ttype: \"GET\",\n\t\turl: url + \"&uniquekey=\" + IG$.getUniqueKey(), \n\t\tdataType: \"text\",\n\t\ttimeout: 10000,\n\t\tsuccess: function(data) {\n\t\t\twindow.Pace && window.Pace.stop();\n\t\t\tcallback && callback.execute(data);\n\t\t},\n\t\terror: function(e, status, thrown) {\n\t\t\twindow.Pace && window.Pace.stop();\n\t\t}\n\t});\n}\n\nIG$.measureText = function(fs, text) {\n\tvar sensor = this.sensorDiv;\n\t\n\tif (!sensor)\n\t{\n\t\tsensor = $(\"<div style='margin:0px;padding:0px;display:inline-block;top:-100px'></div>\");\n\t\t$(\"body\").append(sensor);\n\t\tthis.sensorDiv = sensor;\n\t}\n\t\n\tsensor.css({fontSize: fs});\n\tsensor.text(text);\n\t\n\tvar width = IG$.j$ext._w(sensor),\n\t\theight = IG$.j$ext._h(sensor);\n\t\n\t// sensor.remove();\n\treturn {width: width || 0, height: height || 0};\n};\n\nIG$.getDateParse = function(value) {\n\tvar yyyy = value.substr(0, 4),\n\tMM = value.substr(4, 2),\n\tdd = value.substr(6, 2),\n\thh = value.substr(8, 2),\n\tmm = value.substr(10, 2);\n\n\tvar ret = {\n\t\ty: yyyy,\n\t\tM: MM,\n\t\td: dd,\n\t\th: hh,\n\t\tm: mm\n\t};\n\treturn ret;\n}\n\nIG$.formatDate = function(value) {\n\tif (!value)\n\t\treturn value;\n\tvar yyyy = value.substr(0, 4),\n\t\tMM = value.substr(4, 2),\n\t\tdd = value.substr(6, 2),\n\t\thh = value.substr(8, 2),\n\t\tmm = value.substr(10, 2);\n\t\n\tvar ret = yyyy + \"-\" + MM + \"-\" + dd + \" \" + hh + \":\" + mm;\n\treturn ret;\n}\n\nIG$.dateFormat = function () {\n\tvar\ttoken = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\n\t\ttimezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\n\t\ttimezoneClip = /[^-+\\dA-Z]/g,\n\t\tpad = function (val, len) {\n\t\t\tval = String(val);\n\t\t\tlen = len || 2;\n\t\t\twhile (val.length < len) val = \"0\" + val;\n\t\t\treturn val;\n\t\t};\n\n\t// Regexes and supporting functions are cached through closure\n\treturn function (date, mask, utc) {\n\t\tvar dF = IG$.dateFormat;\n\n\t\t// You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n\t\tif (arguments.length == 1 && Object.prototype.toString.call(date) == \"[object String]\" && !/\\d/.test(date)) {\n\t\t\tmask = date;\n\t\t\tdate = undefined;\n\t\t}\n\n\t\t// Passing date through Date applies Date.parse, if necessary\n\t\tdate = date ? new Date(date) : new Date;\n\t\tif (isNaN(date)) throw SyntaxError(\"invalid date\");\n\n\t\tmask = String(dF.masks[mask] || mask || dF.masks[\"default\"]);\n\n\t\t// Allow setting the utc argument via the mask\n\t\tif (mask.slice(0, 4) == \"UTC:\") {\n\t\t\tmask = mask.slice(4);\n\t\t\tutc = true;\n\t\t}\n\n\t\tvar\t_ = utc ? \"getUTC\" : \"get\",\n\t\t\td = date[_ + \"Date\"](),\n\t\t\tD = date[_ + \"Day\"](),\n\t\t\tm = date[_ + \"Month\"](),\n\t\t\ty = date[_ + \"FullYear\"](),\n\t\t\tH = date[_ + \"Hours\"](),\n\t\t\tM = date[_ + \"Minutes\"](),\n\t\t\ts = date[_ + \"Seconds\"](),\n\t\t\tL = date[_ + \"Milliseconds\"](),\n\t\t\to = utc ? 0 : date.getTimezoneOffset(),\n\t\t\tflags = {\n\t\t\t\td:\td,\n\t\t\t\tdd:   pad(d),\n\t\t\t\tddd:  dF.i18n.dayNames[D],\n\t\t\t\tdddd: dF.i18n.dayNames[D + 7],\n\t\t\t\tm:\tm + 1,\n\t\t\t\tmm:   pad(m + 1),\n\t\t\t\tmmm:  dF.i18n.monthNames[m],\n\t\t\t\tmmmm: dF.i18n.monthNames[m + 12],\n\t\t\t\tyy:   String(y).slice(2),\n\t\t\t\tyyyy: y,\n\t\t\t\th:\tH % 12 || 12,\n\t\t\t\thh:   pad(H % 12 || 12),\n\t\t\t\tH:\tH,\n\t\t\t\tHH:   pad(H),\n\t\t\t\tM:\tM,\n\t\t\t\tMM:   pad(M),\n\t\t\t\ts:\ts,\n\t\t\t\tss:   pad(s),\n\t\t\t\tl:\tpad(L, 3),\n\t\t\t\tL:\tpad(L > 99 ? Math.round(L / 10) : L),\n\t\t\t\tt:\tH < 12 ? \"a\"  : \"p\",\n\t\t\t\ttt:   H < 12 ? \"am\" : \"pm\",\n\t\t\t\tT:\tH < 12 ? \"A\"  : \"P\",\n\t\t\t\tTT:   H < 12 ? \"AM\" : \"PM\",\n\t\t\t\tZ:\tutc ? \"UTC\" : (String(date).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"),\n\t\t\t\to:\t(o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n\t\t\t\tS:\t[\"th\", \"st\", \"nd\", \"rd\"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]\n\t\t\t};\n\n\t\treturn mask.replace(token, function ($0) {\n\t\t\treturn $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\n\t\t});\n\t};\n}();\n\n// Some common format strings\nIG$.dateFormat.masks = {\n\t\"default\":\t  \"ddd mmm dd yyyy HH:MM:ss\",\n\tshortDate:\t  \"m/d/yy\",\n\tmediumDate:\t \"mmm d, yyyy\",\n\tlongDate:\t   \"mmmm d, yyyy\",\n\tfullDate:\t   \"dddd, mmmm d, yyyy\",\n\tshortTime:\t  \"h:MM TT\",\n\tmediumTime:\t \"h:MM:ss TT\",\n\tlongTime:\t   \"h:MM:ss TT Z\",\n\tisoDate:\t\t\"yyyy-mm-dd\",\n\tisoTime:\t\t\"HH:MM:ss\",\n\tisoDateTime:\t\"yyyy-mm-dd'T'HH:MM:ss\",\n\tisoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\n};\n\n// Internationalization strings\nIG$.dateFormat.i18n = {\n\tdayNames: [\n\t\t\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\",\n\t\t\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\n\t],\n\tmonthNames: [\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\n\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t]\n};\n\nIG$.getString = function(fs, start, end) {\n\tvar r = fs.substr(start, end);\n\t\n\tif (r.charAt(0) == \"0\")\n\t{\n\t\tr = r.substr(1);\n\t}\n\t\n\treturn parseInt(r);\n}\n\nIG$.getFormattedDate = function(fs, isdetail) {\n\tvar r = fs;\n\t\n\tif (fs && fs.length > 8)\n\t{\n\t\tvar yyyy = IG$.getString(fs, 0, 4),\n\t\t\tMM = IG$.getString(fs, 4, 2),\n\t\t\tdd = IG$.getString(fs, 6, 2),\n\t\t\thh = 0,\n\t\t\tmm = 0,\n\t\t\tss = 0,\n\t\t\td;\n\t\t\n\t\tif (fs.length > 13)\n\t\t{\n\t\t\thh = IG$.getString(fs, 8, 2);\n\t\t\tmm = IG$.getString(fs, 10, 2);\n\t\t\tss = IG$.getString(fs, 12, 2);\n\t\t}\n\t\t\n\t\td = new Date(yyyy, MM, dd, hh, mm, ss);\n\t\tr = IG$.dateFormat(d, (isdetail == true ? \"mmm d yyyy, TThh:MM\" : \"mmm d yyyy\"));\n\t}\n\t\n\treturn r;\n};\n\n\nIG$.lineInterpolate = function(p1, p2, steps) {\n\tvar xabs = Math.abs( p1.x - p2.x ),\n\t\tyabs = Math.abs( p1.y - p2.y ),\n\t\txdiff = p2.x - p1.x,\n\t\tydiff = p2.y - p1.y,\n\t \n\t\tlength = Math.sqrt((Math.pow(xabs, 2) + Math.pow(yabs, 2))),\n\t\txstep = xdiff / steps,\n\t\tystep = ydiff / steps,\n\t \n\t\tnewx = 0,\n\t\tnewy = 0,\n\t\tresult = new Array(),\n\t\ts;\n\t \n\tfor(s = 0; s < steps; s++)\n\t{\n\t\tnewx = p1.x + ( xstep * s );\n\t\tnewy = p1.y + ( ystep * s );\n\t \n\t\tresult.push( {\n\t\t\tx: newx,\n\t\t\ty: newy\n\t\t} );\n\t}\n\t \n\treturn result;\n}\n\nIG$.generateUniqueTest = function(len) {\n\tvar r = \"\",\n\t\ti, rnum,\n\t\tchars = [\n\t\t\t\"ABCDEFGHIJKLMNOPQRSTUVWXTZ\",\n\t\t\t\"abcdefghiklmnopqrstuvwxyz\",\n\t\t\t\"0123456789\",\n\t\t\t\"@#$%^&+=\"\n\t\t];\n\n\tfor (i=0; i<len; i++) \n\t{\n\t\tvar clib;\n\t\tif (i == 0)\n\t\t{\n\t\t\tclib = chars[0];\n\t\t}\n\t\telse if (i == 3)\n\t\t{\n\t\t\tclib = chars[3];\n\t\t}\n\t\telse if (i == 5)\n\t\t{\n\t\t\tclib = chars[1];\n\t\t}\n\t\telse if (i == 7)\n\t\t{\n\t\t\tclib = chars[2];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tclib = chars[Math.floor(Math.random() * chars.length)];\n\t\t}\n\t\t\n\t\trnum = Math.floor(Math.random() * clib.length);\n\t\tr += clib.substring(rnum,rnum+1);\n\t}\n\t\n\treturn r;\n}\n\nIG$.replaceAll = function(str, s, r) {\n\tvar ret = str;\n\t\n\twhile (ret.indexOf(s) != -1) {\n\t\tret = ret.replace(s, r);\n\t}\n\t\n\treturn ret;\n}\n\nIG$.selectAll = function(el) {\n\tvar text = el[0],\n\t\tbrowser = window.bowser;\n\t\t\n\tif (browser.msie) \n\t{\n\t\tvar range = document.body.createTextRange();\n\t\trange.moveToElementText(text);\n\t\trange.select();\n\t} \n\telse if (browser.mozilla || browser.opera) \n\t{\n\t\tvar selection = window.getSelection();\n\t\tvar range = document.createRange();\n\t\trange.selectNodeContents(text);\n\t\tselection.removeAllRanges();\n\t\tselection.addRange(range);\n\t} \n\telse if (browser.safari) \n\t{\n\t\tvar selection = window.getSelection();\n\t\tselection.setBaseAndExtent(text, 0, text, 1);\n\t}\n};\n\nIG$.escapeXMLString = function(value) {\n\tvar escaped = value,\n\t\tfindReplace,\n\t\titem, i;\n\t\n\tif (escaped && typeof(escaped) == \"string\")\n\t{\n\t\tfindReplace = [[/&/g, \"&amp;\"], [/</g, \"&lt;\"], [/>/g, \"&gt;\"], [/\"/g, \"&quot;\"]]\n\t\t\n\t\tfor(i=0; i < findReplace.length; i++) \n\t\t{\n\t\t\titem = findReplace[i];\n\t\t\tescaped = escaped.replace(item[0], item[1]);\n\t\t}\n\t}\n\treturn escaped;\n};\n\nIG$.clipboardCopy = function(value) {\n\tif(window.clipboardData)\n\t{\n\t\twindow.clipboardData.setData(\"Text\", value);\n\t}\n\telse\n\t{\n\t\tif (!IG$._cboard)\n\t\t{\n\t\t\tIG$._cboard = $(\"<textarea style='position:absolute;top:-400px;left:-400px;width:100px;height:100px'></textarea>\").appendTo($(\"body\"));\n\t\t}\n\t\t\n\t\tIG$._cboard.val(value);\n\t\tIG$._cboard.focus();\n\t\tIG$._cboard.select();\n\t\t\n\t\tdocument.execCommand(\"copy\");\n\t}\n};\n\nIG$.getUniqueKey = function() {\n\tvar dt = new Date();\n\tvar dateStr = \"\" + dt.getFullYear() + \n\t\t\t\t  (1+dt.getMonth()) +\n\t\t\t\t  dt.getDate() +\n\t\t\t\t  dt.getHours() + \n\t\t\t\t  dt.getMinutes() +\n\t\t\t\t  dt.getSeconds();\n\t\n\treturn dateStr;\n};\n\n/**\n * email validation regex\n * @memberof module:common/mainapp\n */\nIG$.validateEmail = function(email) { \n\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\treturn re.test(email);\n};\n\nIG$.majorDateformat = \n\t[{name: \"YYYY\", rname: \"YEAR\"}, {name: \"QUARTER\"}, {name: \"MM\"}, {name: \"DD\", rname: \"DAY\"}, {name: \"WM\", rname: \"WEEKMONTH\"}, {name: \"WEEK\"}, {name: \"AMPM\"}, {name: \"HH\", rname: \"HOUR\"}, {name: \"MI\", rname: \"MINUTE\"}, {name: \"CUSTOM\"}];\n\nIG$.sqlDateFormat = {\n\t\"yyyy\": \"$DATE(_date_, 'YYYY')\",\n\t\"quarter\": \"$DATE(_date_, 'QUARTER')\",\n\t\"mm\": \"$DATE(_date_, 'MM')\",\n\t\"dd\": \"$DATE(_date_, 'DD')\",\n\t\"wm\": \"$DATE(_date_, 'WM')\",\n\t\"week\": \"$DATE(_date_, 'WEEK')\",\n\t\"ampm\": \"$DATE(_date_, 'AMPM')\",\n\t\"hh\": \"$DATE(_date_, 'HH')\",\n\t\"mi\": \"$DATE(_date_, 'MINUTE')\",\n\t\"custom\": \"$DATE(_date_, _format)\"\n};\n\nDate.prototype.format = function(format) {\n\tvar returnStr = \"\";\n\tvar replace = Date.replaceChars;\n\tfor (var i = 0; i < format.length; i++) {\t   \n\t\tvar curChar = format.charAt(i);\t\t \n\t\tif (i - 1 >= 0 && format.charAt(i - 1) == \"\\\\\") \n\t\t{\n\t\t\treturnStr += curChar;\n\t\t}\n\t\telse if (replace[curChar]) \n\t\t{\n\t\t\treturnStr += replace[curChar].call(this);\n\t\t} \n\t\telse if (curChar != \"\\\\\")\n\t\t{\n\t\t\treturnStr += curChar;\n\t\t}\n\t}\n\treturn returnStr;\n};\n\nDate.replaceChars = {\n\tshortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\tlongMonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\tshortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\tlongDays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\n\t// Day\n\td: function() { return (this.getDate() < 10 ? \"0\" : \"\") + this.getDate(); },\n\tD: function() { return Date.replaceChars.shortDays[this.getDay()]; },\n\tj: function() { return this.getDate(); },\n\tl: function() { return Date.replaceChars.longDays[this.getDay()]; },\n\tN: function() { return this.getDay() + 1; },\n\tS: function() { return (this.getDate() % 10 == 1 && this.getDate() != 11 ? \"st\" : (this.getDate() % 10 == 2 && this.getDate() != 12 ? \"nd\" : (this.getDate() % 10 == 3 && this.getDate() != 13 ? \"rd\" : \"th\"))); },\n\tw: function() { return this.getDay(); },\n\tz: function() { var d = new Date(this.getFullYear(),0,1); return Math.ceil((this - d) / 86400000); }, // Fixed now\n\t// Week\n\tW: function() { var d = new Date(this.getFullYear(), 0, 1); return Math.ceil((((this - d) / 86400000) + d.getDay() + 1) / 7); }, // Fixed now\n\t// Month\n\tF: function() { return Date.replaceChars.longMonths[this.getMonth()]; },\n\tm: function() { return (this.getMonth() < 9 ? \"0\" : \"\") + (this.getMonth() + 1); },\n\tM: function() { return Date.replaceChars.shortMonths[this.getMonth()]; },\n\tn: function() { return this.getMonth() + 1; },\n\tt: function() { var d = new Date(); return new Date(d.getFullYear(), d.getMonth(), 0).getDate() }, // Fixed now, gets #days of date\n\t// Year\n\tL: function() { var year = this.getFullYear(); return (year % 400 == 0 || (year % 100 != 0 && year % 4 == 0)); },   // Fixed now\n\to: function() { var d  = new Date(this.valueOf());  d.setDate(d.getDate() - ((this.getDay() + 6) % 7) + 3); return d.getFullYear();}, //Fixed now\n\tY: function() { return this.getFullYear(); },\n\ty: function() { return (\"\" + this.getFullYear()).substr(2); },\n\t// Time\n\ta: function() { return this.getHours() < 12 ? \"am\" : \"pm\"; },\n\tA: function() { return this.getHours() < 12 ? \"AM\" : \"PM\"; },\n\tB: function() { return Math.floor((((this.getUTCHours() + 1) % 24) + this.getUTCMinutes() / 60 + this.getUTCSeconds() / 3600) * 1000 / 24); }, // Fixed now\n\tg: function() { return this.getHours() % 12 || 12; },\n\tG: function() { return this.getHours(); },\n\th: function() { return ((this.getHours() % 12 || 12) < 10 ? \"0\" : \"\") + (this.getHours() % 12 || 12); },\n\tH: function() { return (this.getHours() < 10 ? \"0\" : \"\") + this.getHours(); },\n\ti: function() { return (this.getMinutes() < 10 ? \"0\" : \"\") + this.getMinutes(); },\n\ts: function() { return (this.getSeconds() < 10 ? \"0\" : \"\") + this.getSeconds(); },\n\tu: function() { var m = this.getMilliseconds(); return (m < 10 ? \"00\" : (m < 100 ?\n\"0\" : \"\")) + m; },\n\t// Timezone\n\te: function() { return \"Not Yet Supported\"; },\n\tI: function() { return \"Not Yet Supported\"; },\n\tO: function() { return (-this.getTimezoneOffset() < 0 ? \"-\" : \"+\") + (Math.abs(this.getTimezoneOffset() / 60) < 10 ? \"0\" : \"\") + (Math.abs(this.getTimezoneOffset() / 60)) + \"00\"; },\n\tP: function() { return (-this.getTimezoneOffset() < 0 ? \"-\" : \"+\") + (Math.abs(this.getTimezoneOffset() / 60) < 10 ? \"0\" : \"\") + (Math.abs(this.getTimezoneOffset() / 60)) + \":00\"; }, // Fixed now\n\tT: function() { var m = this.getMonth(); this.setMonth(0); var result = this.toTimeString().replace(/^.+ \\(?([^\\)]+)\\)?$/, \"$1\"); this.setMonth(m); return result;},\n\tZ: function() { return -this.getTimezoneOffset() * 60; },\n\t// Full Date/Time\n\tc: function() { return this.format(\"Y-m-d\\\\TH:i:sP\"); }, // Fixed now\n\tr: function() { return this.toString(); },\n\tU: function() { return this.getTime() / 1000; }\n};\n\nIG$.showScheduler = function(runner, uid, itemtype, req, rop, opt) {\n\tvar dlg = new IG$.dlgScheduleList({\n\t\t\tinstance: runner.instance,\n\t\t\trunner: runner,\n\t\t\tuid: uid,\n\t\t\titemtype: itemtype,\n\t\t\treq: req,\n\t\t\treportoption: rop,\n\t\t\topt: opt\n\t\t});\n\tIG$.showDlg(runner, dlg);\n}\n\nIG$.applyFormOptions = function(opt, map, setval) {\n\tvar me = this,\n\t\ti,\n\t\tc,\n\t\tot;\n\t\t\n\tfor (i=0; i < map.length; i++)\n\t{\n\t\tc = me.down(\"[name=\" + (map[i].c || map[i].n) + \"]\");\n\t\t\n\t\tif (setval)\n\t\t{\n\t\t\tif (map[i].m)\n\t\t\t{\n\t\t\t\tot = opt.settings[map[i].n];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tot = opt[map[i].n];\n\t\t\t}\n\t\t\tot = (ot == IG$.UNDEFINED || ot == null) ? ot || map[i].s : ot;\n\t\t\tc.setValue(ot);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (map[i].d)\n\t\t\t{\n\t\t\t\tot = c.getValue() || map[i].d;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tot = c.getValue();\n\t\t\t}\n\t\t\t\n\t\t\tif (map[i].m)\n\t\t\t{\n\t\t\t\topt.settings[map[i].n] = ot;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\topt[map[i].n] = ot;\n\t\t\t}\n\t\t}\n\t}\n}\n\nIG$.readSystemConf = function(callback) {\n\tvar req,\n\t\tuid = \"/SYS_Config/systemconfig\";\n\t\n\treq = new IG$._rpc$();\n\treq.showerror = false;\n\treq.init(null, \n\t\t{\n\t\t\tack: \"content\",\n\t\t\tpayload: {uid: uid},\n\t\t\tmbody: {}\n\t\t}, null, function(jdoc) {\n\t\t\tvar tnodes = jdoc ? jdoc.items : null,\n\t\t\t\ti, p;\n\t\t\t\t\n\t\t\tif (tnodes)\n\t\t\t{\n\t\t\t\tIG$._sysconfig = {};\n\t\t\t\t\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\n\t\t\t\t{\n\t\t\t\t\tp = tnodes[i];\n\t\t\t\t\tIG$._sysconfig[p.name] = p;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcallback && callback.execute();\n\t\t}, function() {\n\t\t\tcallback && callback.execute();\n\t\t\treturn false;\n\t\t});\n\treq.send();\n}\n\nIG$.checkValues = function(form, fieldnames) {\n\tvar r = {\n\t\t\tb: true,\n\t\t\tv: {}\n\t\t},\n\t\ti,\n\t\tctrl,\n\t\tval;\n\t\t\n\tfor (i=0; i < fieldnames.length; i++)\n\t{\n\t\tctrl = form.down(\"[name=\" + fieldnames[i] + \"]\");\n\t\tif (ctrl)\n\t\t{\n\t\t\tctrl.clearInvalid();\n\t\t\tval = ctrl.getValue();\n\t\t\t\n\t\t\tif (!val)\n\t\t\t{\n\t\t\t\tctrl.markInvalid(IRm$.r1(\"B_REQ\"));\n\t\t\t\tr.b = false;\n\t\t\t}\n\t\t\telse \n\t\t\t{\n\t\t\t\tr.v[fieldnames[i]] = val;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn r;\n};\n\nIG$.fillFormValues = function(form, fitem, fieldnames) {\n\tvar i,\n\t\tctrl,\n\t\tval;\n\t\t\n\tfor (i=0; i < fieldnames.length; i++)\n\t{\n\t\tctrl = form.down(\"[name=\" + fieldnames[i] + \"]\");\n\t\tif (ctrl)\n\t\t{\n\t\t\tval = fitem[fieldnames[i]];\n\t\t\tctrl.setValue(val);\n\t\t}\n\t}\n}\n\n\n\nIG$.j$ext = {\n\t_w: function(jdom, value) {\n\t\tvar dom = jdom && jdom.length ? jdom[0] : null,\n\t\t\tr = 0;\n\t\t\n\t\tif (dom)\n\t\t{\n\t\t\tif (typeof(value) == \"undefined\")\n\t\t\t{\n\t\t\t\tr = dom.offsetWidth || dom.clientWidth || dom.innerWidth; // || dom.clientWidth;\n\t\t\t\tr = isNaN(r) ? 0 : r;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tjdom.width(value);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn r;\n\t},\n\t_h: function(jdom, value) {\n\t\tvar dom = jdom && jdom.length ? jdom[0] : null,\n\t\t\tr = 0;\n\t\t\n\t\tif (dom)\n\t\t{\n\t\t\tif (typeof(value) == \"undefined\")\n\t\t\t{\n\t\t\t\tr = dom.offsetHeight || dom.innerHeight || dom.clientHeight;\n\t\t\t\tr = isNaN(r) ? 0 : r;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tjdom.height(value);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn r;\n\t}\n}\n\nIG$.checkFields = function(panel, itemnames) {\n\tvar r = 1;\n\t\n\t$.each(itemnames, function(t, n) {\n\t\tvar ctrl = panel.down(\"[name=\" + n + \"]\");\n\t\tctrl.clearInvalid();\n\t\t\n\t\tif (!ctrl.getValue())\n\t\t{\n\t\t\tctrl.markInvalid(\"Required field\");\n\t\t\tr = 0;\n\t\t}\n\t});\n\t\n\tif (!r)\n\t{\n\t\tIG$.alertmsg(ig$.appname, \"Select data connector!\", null, null, 0, \"\");\n\t}\n\t\n\treturn r;\n}\n\n// date related functions\n\nIG$.dateUtil = {\n\tdatePartsRe: /^(?:(\\d{1,4})|(\\w{3,}))[/\\-.\\\\\\s](?:(\\d{1,2})|(\\w{3,}))[/\\-.\\\\\\s](\\d{1,4})$/,\n\t// datePartsRe: /^(?:(\\d{1,4})|(\\w{3,}))[/\\-.\\\\\\s](?:(\\d{1,2})|(\\w{3,}))[/\\-.\\\\\\s](?:(\\d{1,4})|(\\w{3,}))$/,\n\tmonthCodes: [\n\t  \t{\n\t  \t\tJAN: 0,\n\t  \t\tFEB: 1,\n\t  \t\tMAR: 2,\n\t  \t\tAPR: 3,\n\t  \t\tMAY: 4,\n\t  \t\tJUN: 5,\n\t  \t\tJUL: 6,\n\t  \t\tAUG: 7,\n\t  \t\tSEP: 8,\n\t  \t\tOCT: 9,\n\t  \t\tNOV: 10,\n\t  \t\tDEC: 11\n\t  \t},\n\t  \t{\n\t  \t\tJANUARY: 0,\n\t  \t\tFEBRUARY: 1,\n\t  \t\tMARCH: 2,\n\t  \t\tAPRIL: 3,\n\t  \t\tMAY: 4,\n\t  \t\tJUNE: 5,\n\t  \t\tJULY: 6,\n\t  \t\tAUGUST: 7,\n\t  \t\tSEPTEMBER: 8,\n\t  \t\tOCTOBER: 9,\n\t  \t\tNOVEMBER: 10,\n\t  \t\tDECEMBER: 11,\n\t\t}\n\t],\n\tgetMonthCode: function(value) {\n\t\tvar i,\n\t\t\tmm = value.toUpperCase(),\n\t\t\tmonthCodes = IG$.dateUtil.monthCodes;\n\t\tfor (i=0; i < monthCodes.length; i++)\n\t\t{\n\t\t\tif (typeof monthCodes[i][mm] != \"undefined\")\n\t\t\t{\n\t\t\t\treturn monthCodes[i][mm];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn -1;\n\t},\n\t\n\tguessDate: function(value) {\n\t\tvar format = [],\n\t\t\tplaceholder = [],\n\t\t\tparts = IG$.dateUtil.datePartsRe.exec(value),\n\t\t\tday, month, year, dt, sep;\n\n\t\t// Regex couldn't parse; invalid date.\n\t\tif (!parts) \n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tsep = parts[0].indexOf(\"-\") > 0 ? \"-\" : \"/\";\n\n\t\t// Now the parts array will be:\n\t\t// [0] - the full string\n\t\t// [1] - The first token if numeric\n\t\t// [2] - The first token if alphabetic\n\t\t// [3] - The second token if numeric\n\t\t// [4] - The second token if alphabetic\n\t\t// [5] - The third token.\n\t\t// If they've used all numeric parts, we have to use locale order\n\t\t// to decide what the parts are. We have three valid choices:\n\t\t// d/m/y\n\t\t// m/d/y\n\t\t// y/m/d\n\t\tif (!parts[2] && !parts[4]) \n\t\t{\n\t\t\t// Not in a y/m/d locale and (first character is a day token, or first\n\t\t\t// token is definitely a day) - it's d/m/y\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tif (parts[1] > 12 && parts[1] < 32 && parts[3] < 13)\n\t\t\t{\n\t\t\t\tday = parseInt(parts[1]);\n\t\t\t\tmonth = parseInt(parts[3]) - 1;\n\t\t\t\tyear = parseInt(parts[5]);\n\t\t\t\t\n\t\t\t\tformat = [\"dd\", \"mm\", \"yy\"];\n\t\t\t\tplaceholder = [\"dd\", \"mm\", \"yyyy\"];\n\t\t\t}\n\t\t\telse if (parts[3] > 12 && parts[3] < 32 && parts[1] < 13) \n\t\t\t{\n\t\t\t\t// Not in a y/m/d locale and (first charecter is a month token, or\n\t\t\t\t// first token is definitely a month) - it's m/d/y\n\t\t\t\tmonth = parseInt(parts[1]) - 1;\n\t\t\t\tday = parseInt(parts[3]);\n\t\t\t\tyear = parseInt(parts[5]);\n\t\t\t\t\n\t\t\t\tformat = [\"mm\", \"dd\", \"yy\"];\n\t\t\t\tplaceholder = [\"mm\", \"dd\", \"yyyy\"];\n\t\t\t}\n\t\t\telse \n\t\t\t{\n\t\t\t\t// y/m/d is the only other valid format\n\t\t\t\tyear = parseInt(parts[1]);\n\t\t\t\tmonth = parseInt(parts[3]) - 1;\n\t\t\t\tday = parseInt(parts[5]);\n\t\t\t\t\n\t\t\t\tformat = [\"yy\", \"mm\", \"dd\"];\n\t\t\t\tplaceholder = [\"yyyy\", \"mm\", \"dd\"];\n\t\t\t}\n\t\t}\n\t\telse \n\t\t{\n\t\t\tif (parts[2] && parts[4]) \n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// m/d/y\n\t\t\tif (parts[2]) \n\t\t\t{\n\t\t\t\tif (parts[5].length < 4)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\tmonth = IG$.dateUtil.getMonthCode(parts[2]);\n\t\t\t\tday = parseInt(parts[3]);\n\t\t\t\tyear = parseInt(parts[5]);\n\t\t\t\t\n\t\t\t\tformat = [\"M\", \"dd\"];\n\t\t\t\tplaceholder = [\"mon\", \"dd\"];\n\t\t\t}\n\t\t\telse \n\t\t\t{ // d/m/y\n\t\t\t\tif (parts[5].length < 4)\n\t\t\t\t\treturn;\n\t\t\t\tday = parseInt(parts[1]);\n\t\t\t\tmonth = IG$.dateUtil.getMonthCode(parts[4]);\n\t\t\t\tyear = parseInt(parts[5]);\n\t\t\t\t\n\t\t\t\tformat = [\"dd\", \"M\"];\n\t\t\t\tplaceholder = [\"dd\", \"mon\"];\n\t\t\t}\n\t\t\t\n\t\t\tif (parts[5].length == 2)\n\t\t\t{\n\t\t\t\t// Short years must be upgraded according to the y2kYear setting\n\t\t\t\tif (year < 50)\n\t\t\t\t{\n\t\t\t\t\tyear += 2000;\n\t\t\t\t}\n\t\t\t\telse if (year < 100) \n\t\t\t\t{\n\t\t\t\t\tyear += 1900;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tformat.push(\"y\");\n\t\t\t\tplaceholder.push(\"yy\");\n\t\t\t}\n\t\t\telse if (parts[5].length == 4)\n\t\t\t{\n\t\t\t\tformat.push(\"yy\");\n\t\t\t\tplaceholder.push(\"yyyy\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (isNaN(year) || isNaN(month) || isNaN(day))\n\t\t\treturn;\n\t\t\n\t\t// Alphabetic month couldn't be found, or numeric one out of range.\n\t\tif (month < 0 || month > 11 || day < 1 || day > 31)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\t// Create the first of the month so that we can check the validity of the day\n\t\tdt = new Date(year, month, day, 0, 0, 0);\n\t\t\n\t\treturn {\n\t\t\tformat: format.join(sep),\n\t\t\tplaceholder: placeholder.join(sep),\n\t\t\tdate: dt\n\t\t};\n\t},\n\t\n\tcreateDatePicker: function(me, d, onselect, mdobj) {\n\t\tIG$.dateUtil.updateDatePicker(d, mdobj);\n\t\t\n\t\tvar yearRange;\n\t\t\n\t\tif (d.startYear || d.finalYear)\n\t\t{\n\t\t\tyearRange = (d.startYear) ? \"\" + d.startYear : \"-10\";\n\t\t\tyearRange += \":\" + (d.finalYear ? d.finalYear : \"+10\");\n\t\t}\n\t\t\n\t\td.datepicker({\n\t\t\tmonthNames: $.datepicker._defaults.monthNamesShort,\n\t\t\tshowButtonPanel: true,\n\t\t\tcloseText: \"Clear\",\n\t\t\tbuttonImageOnly: true,\n\t\t\tconstrainInput: false,\n\t\t\tchangeMonth: true,\n\t\t\tchangeYear: true,\n\t\t\tdateFormat: IG$.calendar_locale.c1format,\n\t\t\tdefaultDate: 0,\n\t\t\tyearRange: yearRange,\n\t\t\tonSelect: function(dateText, inst) {\n\t\t\t\tif (onselect)\n\t\t\t\t{\n\t\t\t\t\tonselect.apply(me, [dateText, inst]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tbeforeShow: function(input) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar clearButton = $(input).datepicker(\"widget\").find(\".ui-datepicker-close\");\n\n\t\t\t\t\tclearButton.unbind(\"click\");\n\t\t\t\t\tclearButton.bind(\"click\", function(e) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t$.datepicker._clearDate( input );\n\t\t\t\t\t});\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn d;\n\t},\n\t\n\tupdateDatePicker: function(dpicker, mdobj) {\n\t\tvar tinput = dpicker;\n\t\t\n\t\t// tinput.on(\"keyup blur change\", function(e) {\n\t\ttinput.on(\"keydown keyup\", function(e) {\n\t\t\tvar me = $(this),\n\t\t\t\ttvalue = mdobj ? mdobj.value : me.val(),\n\t\t\t\ttdate,\n\t\t\t\tkcode;\n\t\t\t\n\t\t\tkcode = e.keyCode;\n\t\t\t\n\t\t\t// if (kcode == 8 || kcode == 16 || kcode == 36 || kcode == 37 || kcode == 39)\n\t\t\tif (kcode != 13)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\t\n\t\t\tif (e.type == \"keyup\")\n\t\t\t{\n\t\t\t\ttdate = IG$.dateUtil.guessDate(tvalue);\n\t\t\t\t\n\t\t\t\tif (tdate)\n\t\t\t\t{\n\t\t\t\t\tif (mdobj)\n\t\t\t\t\t{\t\n\t\t\t\t\t\tmdobj.placeholder = tdate.placeholder;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tme.attr(\"placeholder\", tdate.placeholder);\n\t\t\t\t\t}\n\t\t\t\t\tme.datepicker(\"option\", \"dateFormat\", tdate.format);\n\t\t\t\t\tme.datepicker(\"setDate\", tdate.date);\n\t\t\t\t\tvar dpicker = $.datepicker._getInst(me[0]);\n\t\t\t\t\tdpicker.settings.onSelect.apply(me, [tvalue, dpicker]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t});\n\t\t\n\t\ttinput.on(\"click\", function(e) {\n\t\t\tvar me = $(this);\n\t\t\tme.datepicker(\"show\");\n\t\t})\n\t}\n};\n\nIG$.guid = function() {\n\tvar lut,\n\t\ti;\n\t\n\tif (!IG$._guid_lut)\n\t{\n\t\tlut = IG$._guid_lut = [];\n\n\t\tfor (i=0; i<256; i++) { \n\t\t\tlut[i] = (i<16?'0':'')+(i).toString(16); \n\t\t}\n\t}\n\telse\n\t{\n\t\tlut = IG$._guid_lut;\n\t}\n\t\n\tvar d0 = Math.random()*0xffffffff|0,\n\t\td1 = Math.random()*0xffffffff|0,\n\t\td2 = Math.random()*0xffffffff|0,\n\t\td3 = Math.random()*0xffffffff|0,\n\t\tguid;\n\t\n\tguid = lut[d0&0xff]+lut[d0>>8&0xff]+lut[d0>>16&0xff]+lut[d0>>24&0xff]+'-'+\n\tlut[d1&0xff]+lut[d1>>8&0xff]+'-'+lut[d1>>16&0x0f|0x40]+lut[d1>>24&0xff]+'-'+\n\tlut[d2&0x3f|0x80]+lut[d2>>8&0xff]+'-'+lut[d2>>16&0xff]+lut[d2>>24&0xff]+\n\tlut[d3&0xff]+lut[d3>>8&0xff]+lut[d3>>16&0xff]+lut[d3>>24&0xff];\n\t\n\treturn guid;\n}\n\nIG$._inpEdt$ = function(txtarea, value) {\n\tvar el = $(\"textarea\", txtarea.body.dom),\n\t\tv = txtarea.getRawValue(),\n\t\ts2 = -1,\n\t\trvalue;\n\t\n\trvalue = \"[\" + value + \"]\";\n\t\n\tel.focus();\n\t\t\n\tif (v.length > 0)\n\t{\n\t\tvar sm = IG$._inpEd$pos(el[0]),\n\t\t\tsm_start = sm != -1 && sm ? sm.start : -1;\n\t\t// replace selection\n\t\t\n\t\tif (sm_start < 0)\n\t\t{\n\t\t\tsm_start = v.length;\n\t\t}\n\t\tv = v.substring(0, sm_start) + rvalue + v.substring(sm_start);\n\t\ts2 = sm_start + rvalue.length;\n\t}\n\telse\n\t{\n\t\tv = rvalue;\n\t\ts2 = v.length;\n\t}\n\t\n\ttxtarea.setValue(v);\n\t\n\tif (s2)\n\t{\n\t\tel.prop(\"selectionEnd\", s2);\n\t\t\n\t\tsetTimeout(function() {\n\t\t\ttxtarea.focus();\n\t\t\tIG$._inpEd$sep(el[0], s2, s2);\n\t\t}, 100);\n\t}\n}\n\nIG$._inpEd$pos = function getCursorPos(input) {\n\tif (\"selectionStart\" in input && document.activeElement == input) \n\t{\n\t\treturn {\n\t\t\tstart: input.selectionStart,\n\t\t\tend: input.selectionEnd\n\t\t};\n\t}\n\telse if (input.createTextRange) \n\t{\n\t\tvar sel = document.selection.createRange();\n\t\tif (sel.parentElement() === input) \n\t\t{\n\t\t\tvar rng = input.createTextRange();\n\t\t\trng.moveToBookmark(sel.getBookmark());\n\t\t\tfor (var len = 0; rng.compareEndPoints(\"EndToStart\", rng) > 0; rng.moveEnd(\"character\", -1)) \n\t\t\t{\n\t\t\t\tlen++;\n\t\t\t}\n\t\t\trng.setEndPoint(\"StartToStart\", input.createTextRange());\n\t\t\tfor (var pos = { start: 0, end: len }; rng.compareEndPoints(\"EndToStart\", rng) > 0; rng.moveEnd(\"character\", -1)) \n\t\t\t{\n\t\t\t\tpos.start++;\n\t\t\t\tpos.end++;\n\t\t\t}\n\t\t\treturn pos;\n\t\t}\n\t}\n\treturn -1;\n};\n\nIG$._inpEd$sep = function(input, selectionStart, selectionEnd) {\n\tif (input.setSelectionRange) \n\t{\n\t\tinput.focus();\n\t\tinput.setSelectionRange(selectionStart, selectionEnd);\n\t}\n\telse if (input.createTextRange) \n\t{\n\t\tvar range = input.createTextRange();\n\t\trange.collapse(true);\n\t\trange.moveEnd('character', selectionEnd);\n\t\trange.moveStart('character', selectionStart);\n\t\trange.select();\n\t}\n}\n\n\nIG$._ws = function(opt) {\n\tthis._init(opt);\n};\n\nIG$._ws.prototype = {\n\t_init: function(opt) {\n\t\topt.protocol = opt.protocol || \"ws\";\n\t\tvar me = this,\n\t\t\turl = opt.url,\n\t\t\tws_url = opt.protocol + \"://\" + url + \"/websocket/endpoint\",\n\t\t\tws;\n\t\t\n\t\tme._userdetail = opt.userdetail;\n\t\t\n\t\ttry\n\t\t{\n\t\t\tws = me.__ws = new WebSocket(ws_url);\n\t\t\tws.onopen = function (e) {\n\t\t\t\tme.onopen(e);\n\t\t\t};\n\t\t\t\n\t\t\tws.onmessage = function (e) {\n\t\t\t\tme.onmessage(e);\n\t\t\t};\n\t\t\t\n\t\t\tws.onclosed = function(e) {\n\t\t\t\tme.onclosed(e);\n\t\t\t};\n\t\t\t\n\t\t\tws.onclosing = function(e) {\n\t\t\t\tme.onclosing(e);\n\t\t\t}\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t}\n\t},\n\tonopen: function(e) {\n\t\tvar me = this,\n\t\t\tuserdetail = me._userdetail;\n\t\tme.send(\"_main_\", \"login\", {email: userdetail.email, name: userdetail.name, id: userdetail.id});\n\t},\n\tonmessage: function(e) {\n\t\tvar m = JSON.parse(e.data),\n\t\t\tmsg;\n\t\t\n\t\tif (m.application == \"_main_\")\n\t\t{\n\t\t\tswitch (m.action)\n\t\t\t{\n\t\t\tcase \"login\":\n\t\t\t\tmsg = \"Logged in user <ul><li>\" + m.content.name + \" (\" + m.content.id + \")</li><li>\" + m.content.email + \"</li></ul>\";\n\t\t\t\tbreak;\n\t\t\tcase \"writecontent\":\n\t\t\t\tmsg = \"Content updated on server! <ul><li>\" + m.content.nodepath + \"</li></li>By: \" + m.content.username + \"</li></ul>\";\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (m.parent_header && m.parent_header.csession)\n\t\t{\n\t\t\t// python results\n\t\t\tvar vsession,\n\t\t\t\t_ipt_location = IG$._ipt_location,\n\t\t\t\tipt;\n\t\t\t\n\t\t\tif (_ipt_location && _ipt_location[m.parent_header.csession])\n\t\t\t{\n\t\t\t\tipt = _ipt_location[m.parent_header.csession];\n\t\t\t\tipt.applyPython.call(ipt, m);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (msg)\n\t\t{\n\t\t\tIG$.alertmsg(ig$.appname, msg, null, null, 0, \"info\");\n\t\t}\n\t},\n\tsend: function(application, action, data) {\n\t\tvar me = this,\n\t\t\tws = me.__ws,\n\t\t\tuserdetail = me._userdetail,\n\t\t\tt = {\n\t\t\t\tapplication: application,\n\t\t\t\taction: action,\n\t\t\t\tsid: userdetail.sid,\n\t\t\t\tgid: userdetail.gid,\n\t\t\t\tmts: userdetail.mts,\n\t\t\t\ttoken: userdetail.token,\n\t\t\t\tid: IG$.guid(),\n\t\t\t\tcontent: data\n\t\t\t};\n\t\t\n\t\tws.send(JSON.stringify(t));\n\t}\n}\n\nIG$._menu_button = function(btn, menus, options) {\n\tvar me = this,\n\t\tdoc = $(document),\n\t\tt, i;\n\t\n\tme._menus = menus;\n\t\n\tIG$._menu_btns = IG$._menu_btns || [];\n\t\n\tIG$._menu_btns.push(me);\n\t\n\tt = \"<ul class='dropdown-menu animated\";\n\t\n\tif (options.btn_styles)\n\t{\n\t\tfor (i=0; i < options.btn_styles.length; i++)\n\t\t{\n\t\t\tt += \" \" + options.btn_styles[i];\n\t\t}\n\t}\n\t\n\tt += \" m-t-xs'></ul>\";\n\t\n\tme._b_html = $(t).appendTo(\"body\");\n\t\n\tbtn.bind(\"click\", function(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\t\n\t\t$.each(IG$._menu_btns, function(i, m) {\n\t\t\tif (m != me)\n\t\t\t{\n\t\t\t\tm._g_unbind();\n\t\t\t}\n\t\t});\n\t\t\n\t\tme._b_html.css(options.menu_position);\n\t\tme._b_html.toggle();\n\t\tIG$._menu_btn = me;\n\t\tdoc.bind(\"click\", me._g_unbind);\n\t});\n}\n\nIG$._gitemname = function(itemname) {\n\tvar r = \"\";\n\tif (itemname)\n\t{\n\t\tr = \"<span class='igc-itemname' title='\" + itemname + \"'> (\" + itemname + \")</span>\";\n\t}\n\treturn r;\n}\n\nIG$._menu_button.prototype = {\n\t_g_unbind: function(e) {\n\t\tvar doc = $(document),\n\t\t\t_menu_btns = IG$._menu_btns,\n\t\t\tme = IG$._menu_btn;\n\t\t\n\t\tif (me)\n\t\t{\n\t\t\tme._b_html.hide();\n\t\t\tdoc.unbind(\"click\", me._g_unbind);\n\t\t}\n\t\tIG$._menu_btn = null;\n\t},\n\t\n\tcreate: function() {\n\t\tvar me = this;\n\t\t\n\t\tme._b_html.empty();\n\t\t\n\t\t$.each(me._menus, function(i, menu) {\n\t\t\tvar t = \"<li><a class='btn_button'>\" + menu.text + \"</a></li>\",\n\t\t\t\tmenu_btn = $(t).appendTo(me._b_html);\n\t\t\t\n\t\t\tif (menu.style)\n\t\t\t{\n\t\t\t\t$.each(menu.style, function(j, sname) {\n\t\t\t\t\tmenu_btn.addClass(sname);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tmenu_btn.bind(\"click\", function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\t\n\t\t\t\tif (menu.handler)\n\t\t\t\t{\n\t\t\t\t\tmenu.handler.apply(null);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tme._b_html.hide();\n\t\t\t\tme._g_unbind();\n\t\t\t});\n\t\t});\n\t},\n\t\n\tsetMenus: function(menus) {\n\t\tvar me = this;\n\t\tme._menus = menus;\n\t\t\n\t\tme.create();\n\t}\n}\n\nIG$.__chartoption.chartext.$export_echart = function() {\n\tvar svgnode,\n\t\tnodename,\n\t\tsvg,\n\t\tchart = this.customchart,\n\t\tpobj = {};\n\t\t\n\tif (!chart)\n\t\treturn;\n\t\n\tsvgnode = IG$.getFstChld(chart.getDom());\n\tif (IG$.XGetNodeName(svgnode).toUpperCase() == \"DIV\")\n\t{\n\t\tsvgnode = IG$.getFstChld(svgnode);\n\t\tnodename = IG$.XGetNodeName(svgnode).toUpperCase();\n\t\t\n\t\tif (nodename == \"SVG\")\n\t\t{\n\t\t\tIG$.XSetAttr(svgnode, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n\t\t\tIG$.XSetAttr(svgnode, \"xmlns\", \"http://www.w3.org/2000/svg\");\n\t\t\tIG$.XSetAttr(svgnode, \"version\", \"1.1\");\n\n\t\t\tsvg = IG$.toXMLString(svgnode);\n\t\t\tpobj.image_type = \"svg\";\n\t\t\tpobj.image_data = Base64.encode(svg); \n\t\t}\n\t\telse\n\t\t{\n\t\t\tsvg = chart.getConnectedDataURL({\n\t\t\t\ttype: \"png\",\n\t\t\t\tpixelRatio: 2,\n\t\t\t\tbackgroundColor: '#fff'\n\t\t\t});\n\t\t\tpobj.image_type = \"png\";\n\t\t\tpobj.image_data = svg;\n\t\t}\n\t}\n\t\n\treturn pobj;\n}\n\nIG$.__chartoption.chartext.$export_html = function(pobj, callback) {\n\tvar me = this,\n\t\tcontainer = me.owner.container,\n\t\topt = {logging:false, useCORS:true, imageTimeout:0};\n\t\n\tvar load_html = function() {\n\t\thtml2canvas(container, opt).then(function(canvas) {\n\t\t\tdocument.body.appendChild(canvas);\n\t\t\tvar canvasData = canvas.toDataURL(\"image/png\"),\n\t\t\t\tr = {image_type: \"png\", image_data: canvasData};\n\t\t\tcallback.execute(r);\n\t\t});\n\t}\t\n\t\n\tif (!window.html2canvas)\n\t{\n\t\tIG$.getScriptCache(\n\t\t\t[\"./js/html2canvas.min.js\"], \n\t\t\tnew IG$.callBackObj(me, function() {\n\t\t\t\tload_html();\n\t\t\t})\n\t\t);\n\t}\n\telse\n\t{\n\t\tload_html();\n\t}\n\treturn false;\n}\n\nIG$._decodeVal = function(v) {\n\tif (v && v.substring(0, 5) == \"{enc}\")\n\t{\n\t\tv = Base64.decode(v.substring(5));\n\t}\n\t\n\treturn v;\n}\n\nIG$._encodeVal = function(v) {\n\tif (v && v.substring(0,5) != \"{enc}\")\n\t{\n\t\tv = \"{enc}\" + Base64.encode(v);\n\t}\n\treturn v;\n}\n\nIG$.setScrRect = function(div, opt) {\n\tvar config = {\n\t\taxis: \"y\",\n\t\ttheme: \"minimal-dark\",\n\t\tmouseWheel: {\n\t\t\taxis: \"y\",\n\t\t\tdeltaFactor: \"auto\",\n\t\t\tnormalizeDelta: false\n\t\t},\n\t\tscrollInertia: 1000,\n\t\tautoHideScrollbar: true,\n\t\tautoExpandScrollbar: true,\n\t\tscrollbarPosition: \"outside\",\n\t\tautoDraggerLength: true,\n\t\tadvanced: {\n\t\t\tupdateOnContentResize: true,\n\t\t\tautoUpdateTimeout: 500\n\t\t}\n\t};\n\t\n\topt && IG$.apply(config, opt);\n\treturn div.IGmCustomScrollbar(config);\n}\n\nIG$.showIntro = function(steps) {\n\tvar i;\n\tfor (i=steps.length-1; i>=0; i--)\n\t{\n\t\tif (!steps[i].element)\n\t\t{\n\t\t\tsteps.splice(i, 1);\n\t\t}\n\t}\n\tintroJs().setOptions({\n\t\tdontShowAgain: false,\n\t\tnextLabel: IRm$.r1(\"B_NEXT\"),\n\t\tprevLabel: IRm$.r1(\"B_PREV\"),\n\t\tskipLabel: \"x\",\n\t\tdoneLabel: IRm$.r1(\"B_CLOSE\"),\n\t\texitOnEsc: true,\n\t\texitOnOverlayClick: true,\n\t\tshowStepNumbers: false,\n\t\tshowBullets: true,\n\t\tshowProgress: false,\n\t\tsteps: steps\n\t}).start();\n}\n\nIG$.testVal = function(instr, val) {\n\tvar ival = instr.split(\"|\"),\n\t\ti;\n\n\tfor (i=0; i < ival.length; i++)\n\t{\n\t\tif (ival[i] == val)\n\t\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nIG$.setScrRectM = function(div, method, opt, config) {\n\tdiv.IGmCustomScrollbar(method, opt, config);\n}\n\nIG$.ace_edit = function(view, mode) {\n\tvar editor = ace.edit(view, {\n\t\tmode: \"ace/mode/\" + (mode || \"java\"),\n\t\t// theme: \"ace/theme/monokai\",\n\t\tenableBasicAutocompletion: true,\n\t\tenableLiveAutocompletion: true,\n\t\tenableSnippets: true\n\t});\n\n\tvar snippets = IG$.$snippet[mode];\n\n\tif (snippets && snippets.length)\n\t{\n\t\tvar mitems = [],\n\t\t\tpmenu;\n\n\t\t$.each(snippets, function(i, m) {\n\t\t\tvar menu = {};\n\t\t\tif (m.snippet)\n\t\t\t{\n\t\t\t\t// apply snippet\n\t\t\t\tmenu.text = m.text;\n\t\t\t\tmenu.handler = function() {\n\t\t\t\t\teditor.session.insert(editor.getCursorPosition(), m.snippet.join(\"\\n\"));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmenu = m;\n\t\t\t}\n\t\t\tmitems.push(menu);\n\t\t});\n\n\t\tpmenu = new $s.menu({\n\t\t\tmargin: \"0 0 10 0\",\n\t\t\tfloating: true,\n\t\t\titems: mitems\n\t\t});\n\n\t\t$(editor.container).on(\"contextmenu\", function(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopImmediatePropagation();\n\t\t\tvar oe = e.originalEvent;\n\t\t\tif (oe)\n\t\t\t{\n\t\t\t\tpmenu.showAt(oe.pageX, oe.pageY);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpmenu.showBy(target);\n\t\t\t}\n\t\t});\n\t}\n\n\t// editor.setTheme(\"ace/theme/monokai\");\n\t// editor.getSession().setMode(\"ace/mode/\" + (mode || \"java\"));\n/*\n\tset_bbs_id: function(action) {\n\t\tvar me = this,\n\t\t\tparameters = me.parameters,\n\t\t\tctrl = action ? action.ctrl : null;\n\t\t\t\n\t\tif (ctrl && ctrl.ctrlname == \"grid_0\")\n\t\t{\n\t\t\tvar c = ctrl.control.selColInfo(\"bbs_id\");\n\t\t\tparameters.bbs_id.set(c);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tparameters.bbs_id.set(\"\");\n\t\t}\n\t}\n*/\n\treturn editor;\n}\n\n/* JSONPath 0.8.5 - XPath for JSON\n *\n * Copyright (c) 2007 Stefan Goessner (goessner.net)\n * Licensed under the MIT (MIT-LICENSE.txt) licence.\n *\n * Proposal of Chris Zyp goes into version 0.9.x\n * Issue 7 resolved\n */\n // additional documentation\n // https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html\nIG$.jsonPath = function(obj, expr, arg) {\n   var P = {\n      resultType: arg && arg.resultType || \"VALUE\",\n      result: [],\n      normalize: function(expr) {\n         var subx = [];\n         return expr.replace(/[\\['](\\??\\(.*?\\))[\\]']|\\['(.*?)'\\]/g, function($0,$1,$2){return \"[#\"+(subx.push($1||$2)-1)+\"]\";})  /* http://code.google.com/p/jsonpath/issues/detail?id=4 */\n                    .replace(/'?\\.'?|\\['?/g, \";\")\n                    .replace(/;;;|;;/g, \";..;\")\n                    .replace(/;$|'?\\]|'$/g, \"\")\n                    .replace(/#([0-9]+)/g, function($0,$1){return subx[$1];});\n      },\n      asPath: function(path) {\n         var x = path.split(\";\"), p = \"$\";\n         for (var i=1,n=x.length; i<n; i++)\n            p += /^[0-9*]+$/.test(x[i]) ? (\"[\"+x[i]+\"]\") : (\"['\"+x[i]+\"']\");\n         return p;\n      },\n      store: function(p, v) {\n         if (p) P.result[P.result.length] = P.resultType == \"PATH\" ? P.asPath(p) : v;\n         return !!p;\n      },\n      trace: function(expr, val, path) {\n         if (expr !== \"\") {\n            var x = expr.split(\";\"), loc = x.shift();\n            x = x.join(\";\");\n            if (val && val.hasOwnProperty(loc))\n               P.trace(x, val[loc], path + \";\" + loc);\n            else if (loc === \"*\")\n               P.walk(loc, x, val, path, function(m,l,x,v,p) { P.trace(m+\";\"+x,v,p); });\n            else if (loc === \"..\") {\n               P.trace(x, val, path);\n               P.walk(loc, x, val, path, function(m,l,x,v,p) { typeof v[m] === \"object\" && P.trace(\"..;\"+x,v[m],p+\";\"+m); });\n            }\n            else if (/^\\(.*?\\)$/.test(loc)) // [(expr)]\n               P.trace(P.eval(loc, val, path.substr(path.lastIndexOf(\";\")+1))+\";\"+x, val, path);\n            else if (/^\\?\\(.*?\\)$/.test(loc)) // [?(expr)]\n               P.walk(loc, x, val, path, function(m,l,x,v,p) { if (P.eval(l.replace(/^\\?\\((.*?)\\)$/,\"$1\"), v instanceof Array ? v[m] : v, m)) P.trace(m+\";\"+x,v,p); }); // issue 5 resolved\n            else if (/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(loc)) // [start:end:step]  phyton slice syntax\n               P.slice(loc, x, val, path);\n            else if (/,/.test(loc)) { // [name1,name2,...]\n               for (var s=loc.split(/'?,'?/),i=0,n=s.length; i<n; i++)\n                  P.trace(s[i]+\";\"+x, val, path);\n            }\n         }\n         else\n            P.store(path, val);\n      },\n      walk: function(loc, expr, val, path, f) {\n         if (val instanceof Array) {\n            for (var i=0,n=val.length; i<n; i++)\n               if (i in val)\n                  f(i,loc,expr,val,path);\n         }\n         else if (typeof val === \"object\") {\n            for (var m in val)\n               if (val.hasOwnProperty(m))\n                  f(m,loc,expr,val,path);\n         }\n      },\n      slice: function(loc, expr, val, path) {\n         if (val instanceof Array) {\n            var len=val.length, start=0, end=len, step=1;\n            loc.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g, function($0,$1,$2,$3){start=parseInt($1||start);end=parseInt($2||end);step=parseInt($3||step);});\n            start = (start < 0) ? Math.max(0,start+len) : Math.min(len,start);\n            end   = (end < 0)   ? Math.max(0,end+len)   : Math.min(len,end);\n            for (var i=start; i<end; i+=step)\n               P.trace(i+\";\"+expr, val, path);\n         }\n      },\n      eval: function(x, _v, _vname) {\n         try { return $ && _v && eval(x.replace(/(^|[^\\\\])@/g, \"$1_v\").replace(/\\\\@/g, \"@\")); }  // issue 7 : resolved ..\n         catch(e) { throw new SyntaxError(\"jsonPath: \" + e.message + \": \" + x.replace(/(^|[^\\\\])@/g, \"$1_v\").replace(/\\\\@/g, \"@\")); }  // issue 7 : resolved ..\n      }\n   };\n\n   var $ = obj;\n   if (expr && obj && (P.resultType == \"VALUE\" || P.resultType == \"PATH\")) {\n      P.trace(P.normalize(expr).replace(/^\\$;?/,\"\"), obj, \"$\");  // issue 6 resolved\n      return P.result.length ? P.result : false;\n   }\n}\n\nIG$.dateFmt = function(prd, isdate) {\n\tvar dtime;\n\n\tif (isdate)\n\t{\n\t\tvar now = Math.floor(new Date().getTime());\n\t\tprd = (now - prd) / 1000;\n\t}\n\n\tif (prd < 60)\n\t{\n\t\tdtime = \"\" + prd + \" sec\";\n\t}\n\telse if (prd < 60 * 60)\n\t{\n\t\tdtime = \"\" + Math.floor(prd / (60)) + \" min\";\n\t}\n\telse if (prd < 60 * 60 * 24)\n\t{\n\t\tdtime = \"\" + Math.floor(prd / (60 * 60)) + \" hour\";\n\t}\n\telse if (prd < 60 * 60 * 24 * 10)\n\t{\n\t\tdtime = \"\" + Math.floor(prd / (60 * 60 * 24)) + \" days\";\n\t}\n\t\n\treturn dtime;\n}\n\nIG$.impCSS = function(cssText, id) {\n\tvar ss,\n\t\tdoc = document,\n\t\thead = doc.getElementsByTagName(\"head\")[0],\n\t\tstyleEl = doc.createElement(\"style\");\n\n\tstyleEl.setAttribute(\"type\", \"text/css\");\n\n\tif (id) {\n\t\tstyleEl.setAttribute('id', id);\n\t}\n\n\t// Feature detect old IE\n\tss = styleEl.styleSheet;\n\n\tif (ss) {\n\t\thead.appendChild(styleEl);\n\t\tss.cssText = cssText;\n\t}\n\telse {\n\t\tstyleEl.appendChild(doc.createTextNode(cssText));\n\t\thead.appendChild(styleEl);\n\t\tss = styleEl.sheet;\n\t}\n}\n\nIG$.cdsgn_tmpl = function(chart) {\n\tvar cscript = [];\n\n\tchart.scripts = chart.scripts || {};\n\n\tcscript.push(\"IG$.cVis.\" + chart.subtype + \" = $s.extend(\" + (chart.baselib || \"IG$.cVis.base\") + \", {\");\n\tcscript.push(\"draw: function(results) {\");\n\tcscript.push(IG$._decodeVal(chart.scripts.code_draw_chart) || \"\");\n\tcscript.push()\n\tcscript.push(\"},\");\n\tcscript.push(\"updatedisplay: function(w, h) {\");\n\tcscript.push(IG$._decodeVal(chart.scripts.code_update_disp) || \"\");\n\tcscript.push(\"},\");\n\n\tcscript.push(\"dispose: function() {\");\n\tcscript.push(IG$._decodeVal(chart.scripts.code_dispose_disp) || \"\");\n\tcscript.push(\"}\");\n\n\tif (chart.scripts.code_export)\n\t{\n\t\tcscript.push(\",\");\n\t\tcscript.push(\"getExportData: function() {\");\n\t\tcscript.push(IG$._decodeVal(chart.scripts.code_export) || \"\");\n\t\tcscript.push(\"}\");\n\t}\n\n\tif (chart.scripts.code_text)\n\t{\n\t\tcscript.push(\",\");\n\t\tcscript.push(IG$._decodeVal(chart.scripts.code_text) || \"\");\n\t}\n\n\tcscript.push(\"});\");\n\n\treturn cscript.join(\"\\n\");\n}","/**\r\n * @module common/mainapp_webix\r\n * @desc common module for main application with webix framework \r\n */\r\nIG$._berr = 0;\r\n\r\n/**\r\n * show error message\r\n * @memberof module:common/mainapp_webix\r\n * @param jdoc {object} error messages from server\r\n * @param parent {object} framework element for modal\r\n * @param params {object} options\r\n */\r\nIG$.ShowErrorMessage = function(jdoc, parent, params) {\r\n\tvar errcode = jdoc.errorcode,\r\n\t\terrdesc = jdoc.errormsg,\r\n\t\terrmsg = jdoc.detail || null,\r\n\t\terrstack = jdoc.stacktrace || null,\r\n\t\tpop,\r\n\t\tmerror = false;\r\n\t\t\r\n\tswitch (errcode)\r\n\t{\r\n\tcase \"0x7500\":\r\n\tcase \"0x6d00\":\r\n\t\tmerror = true;\r\n\t\tbreak;\r\n\tcase \"0x8f00\":\r\n\t\t// password error\r\n\t\tif (errmsg)\r\n\t\t{\r\n\t\t\tvar em = errmsg.split(\"|\"),\r\n\t\t\t\temm = [\"<br/><p>\"];\r\n\t\t\t\r\n\t\t\t$.each(em, function(i, t) {\r\n\t\t\t\tvar st;\r\n\t\t\t\t\r\n\t\t\t\tif (!t)\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\tif (t.indexOf(\"L_PWD_F_SPEC_CHAR_\") > -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tst = t.substring(\"L_PWD_F_SPEC_CHAR_\".length);\r\n\t\t\t\t\tt = \"L_PWD_F_SPEC_CHAR\";\r\n\t\t\t\t}\r\n\t\t\t\telse if (t.indexOf(\"L_PWD_F_LEN_\") > -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tst = t.substring(\"L_PWD_F_LEN_\".length);\r\n\t\t\t\t\tt = \"L_PWD_F_LEN\";\r\n\t\t\t\t}\r\n\t\t\t\temm.push(IRm$.r1(t, st) + \"<br/>\");\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\temm.push(\"</p>\");\r\n\t\t\terrmsg = emm.join(\"\");\r\n\t\t}\r\n\t\tbreak;\r\n\tcase \"0x8d00\":\r\n\t\t// too many password error\r\n\t\tbreak;\r\n\t}\r\n\t\r\n\tif (merror == false && (errmsg || errstack || params))\r\n\t{\r\n//\t\tpop = new IG$.ErrorDialog({\r\n//\t\t\tmessagecontent: {\r\n//\t\t\t\terrdesc: errdesc,\r\n//\t\t\t\terrmsg: errmsg,\r\n//\t\t\t\terrstack: errstack,\r\n//\t\t\t\tparams: params\r\n//\t\t\t}\r\n//\t\t});\r\n//\t\tpop.show();\r\n\r\n\t\tIG$.alertmsg(ig$.appname, errdesc + \"<br/>\\n\\n\" + (errmsg || \"\"), null, parent, 1, \"error\", null, {\r\n\t\t\terrdesc: errdesc,\r\n\t\t\terrmsg: errmsg,\r\n\t\t\terrstack: errstack,\r\n\t\t\tparams: params\r\n\t\t}, null, 1);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tIG$.alertmsg(ig$.appname, errdesc + \"\\n\\n\" + (errmsg || \"\"), null, parent, 1, \"error\", null, null, null, 1);\r\n\t}\r\n}\r\n\r\n/**\r\n * internal grid filtering\r\n * @memberof module:common/mainapp_webix\r\n * @param panel {object} parent panel object\r\n * @param gridname {string} grid name to filter\r\n * @param dindex {integer} integer value for filter column\r\n * @param fcomp {object} filtering textfield element\r\n */\r\nIG$._dofilter = function(panel, gridname, dindex, fcomp) {\r\n\tvar grd = panel.down(\"[name=\" + gridname + \"]\") || panel,\r\n\t\t_filter,\r\n\t\ti;\r\n\t\r\n\tif (!fcomp)\r\n\t{\r\n\t\tfcomp = grd.down(\"[name=_filter]\"); \r\n\t}\r\n\t_filter = fcomp ? fcomp.getValue() : null;\r\n\t\r\n\tif (!_filter)\r\n\t{\r\n\t\tif (fcomp)\r\n\t\t{\r\n\t\t\tfcomp.markInvalid(\"Required!\");\r\n\t\t}\r\n\t\t// for (i=0; i < dindex.length; i++)\r\n\t\t// {\r\n\t\t\tgrd.store.removeFilter({\r\n\t\t\t\tdataIndex: dindex, // [i],\r\n\t\t\t\toperator: \"like\"\r\n\t\t\t});\r\n\t\t// }\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif (fcomp)\r\n\t\t{\r\n\t\t\tfcomp.clearInvalid();\r\n\t\t}\r\n\t\t// for (i=0; i < dindex.length; i++)\r\n\t\t// {\r\n\t\t\tgrd.store.addFilter({\r\n\t\t\t\tdataIndex: dindex,\r\n\t\t\t\toperator: \"like\",\r\n\t\t\t\tvalue: _filter\r\n\t\t\t});\r\n\t\t// }\r\n\t}\r\n}\r\n\r\n/**\r\n * show warning message - shortcut function with alertmsg\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.ShowWarning = function(errdesc, parent, msgtype) {\r\n\tIG$.alertmsg(ig$.appname, errdesc, null, parent, msgtype == \"info\" ? 0 : 1, msgtype || \"warning\", null, null, null, 1);\r\n}\r\n\r\n/**\r\n * show error message - shortcut function with alertmsg\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.ShowError = function(errdesc, parent, stack, message) {\r\n\tIG$.alertmsg(ig$.appname, errdesc, null, parent, 1, \"error\", stack, message, null, 1);\r\n}\r\n\r\n/**\r\n * show connection error - shortcut function with alertmsg\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.ShowConnectionError = function(panel) {\r\n\tIG$.alertmsg(ig$.appname, IRm$.r1('M_ERR_CONNECT'), null, panel, 1, \"error\", null, null, null, 1);\r\n\t//history.back(-1);\r\n}\r\n\r\n/**\r\n * show dialog main function : master management for popup dialogs\r\n * popup dialog are maintained in instance._popupDlgs\r\n * @memberof module:common/mainapp_webix\r\n * @param panel {object} parent panel object\r\n * @param dlg {object} webix dialog object\r\n */\r\nIG$.showDlg = function(panel, dlg) {\r\n\tvar instance = panel ? panel.instance : (dlg.instance || null);\r\n\t\r\n\tif (instance)\r\n\t{\r\n\t\tinstance._popupDlgs = instance._popupDlgs || [];\r\n\t\tinstance._popupDlgs.push(dlg);\r\n\t}\r\n\t\r\n\tdlg.instance = instance;\t\r\n\tdlg.show();\r\n}\r\n\r\n/**\r\n * popup dialog with login check\r\n * @memberof module:common/mainapp_webix\r\n * @param panel {object} parent panel object\r\n * @param dlg {object} webix dialog object\r\n * @param func {function} callback function\r\n * @param option {object} options\r\n */\r\nIG$.checkLogin = function(panel, dlg, func, option, instance) {\r\n\tvar req = new IG$._rpc$();\r\n\t\r\n\treq.checklogin = true;\r\n\tpanel && panel.setLoading && panel.setLoading(true);\r\n\tinstance = instance || (panel ? panel.instance : null) || (dlg ? dlg.instance : null);\r\n\t\r\n\tif (instance)\r\n\t{\r\n\t\tinstance._popupDlgs = instance._popupDlgs || [];\r\n\t}\r\n\t\r\n\treq.init(panel, \r\n\t\t{\r\n\t\t\tack: \"ping\",\r\n\t\t\tpayload: {},\r\n\t\t\tmbody: {}\r\n\t\t}, panel, function(jdoc) {\r\n\t\t\tif (panel && panel.setLoading)\r\n\t\t\t{\r\n\t\t\t\tpanel.setLoading(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (dlg)\r\n\t\t\t{\r\n\t\t\t\tinstance && instance._popupDlgs.push(dlg);\r\n\t\t\t\tdlg.show(null, option);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (func)\r\n\t\t\t{\r\n\t\t\t\tfunc.call(panel);\r\n\t\t\t}\r\n\t\t});\r\n\treq.send(instance);\r\n};\r\n\r\n/**\r\n * main popup alert message handler\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.alertmsg = function(title, msg, fn, parent, ismodal, mtype, stack, messagecontent, btn, is_error) {\r\n\tif (ismodal == 2)\r\n\t{\r\n\t\tbtn = 1;\r\n\t}\r\n\t\r\n\tif (is_error && IG$._berr)\r\n\t{\r\n\t\t// append errors\r\n\t\tIG$._berr.err.push({\r\n\t\t\tmtype: mtype,\r\n\t\t\tstack: stack,\r\n\t\t\tparent: parent,\r\n\t\t\tmessagecontent: messagecontent\r\n\t\t});\r\n\t\t\r\n\t\t$(\".cnt\", IG$._berr.h).text(IG$._berr.err.length).show();\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tvar body = $(\"body\"),\r\n\t\tmsgbox = $(\"<div class='igc-alert-cnt'>\" + (ismodal ? \"<div class='igc-alert-bg'></div>\" : \"\") + \"<div class='igc-alert-body'></div></div>\").appendTo(body),\r\n\t\tmbody = $(\".igc-alert-body\", msgbox),\r\n\t\tbbox,\r\n\t\tbclose, bdetail,\r\n\t\th = IRm$.r1(\"M_UNKNOWN\"),\r\n\t\tpd = \"\", k,\r\n\t\tmsgpop,\r\n\t\tbinfo = \"\", bk,\r\n\t\tbrowser = window.bowser;\r\n\t\t\r\n\tif (is_error)\r\n\t\tIG$._berr = {\r\n\t\t\th: msgbox,\r\n\t\t\terr: [\r\n\t\t\t\t{\r\n\t\t\t\t\tmtype: mtype,\r\n\t\t\t\t\tstack: stack,\r\n\t\t\t\t\tparent: parent,\r\n\t\t\t\t\tmessagecontent: messagecontent\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\tmtype = mtype || \"warning\";\r\n\t\r\n\tswitch (mtype)\r\n\t{\r\n\tcase \"error\":\r\n\t\th = IRm$.r1(\"M_ERROR\");\r\n\t\tbreak;\r\n\tcase \"warning\":\r\n\t\th = IRm$.r1(\"M_WARNING\");\r\n\t\tbreak;\r\n\tcase \"info\":\r\n\t\th = IRm$.r1(\"M_INFO\");\r\n\t\tbreak;\r\n\tcase \"success\":\r\n\t\th = IRm$.r1(\"M_SUCCESS\");\r\n\t\tbreak;\r\n\t}\r\n\t\r\n\tif (messagecontent)\r\n\t{\r\n\t\tif (messagecontent.params)\r\n\t\t{\r\n\t\t\tfor (k in messagecontent.params)\r\n\t\t\t{\r\n\t\t\t\tif (pd)\r\n\t\t\t\t{\r\n\t\t\t\t\tpd += \"\\n\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tpd += k + \": \" + messagecontent.params[k];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpd += \"\\n\\n\";\r\n\t\t\t\r\n\t\t\tif (messagecontent.errstack)\r\n\t\t\t{\r\n\t\t\t\tpd += \"stacktrace :\" + messagecontent.errstack + \"\\n\";\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpd = \"stacktrace : \" + messagecontent.errstack + \"\\n\";\r\n\t\t}\r\n\t\t\r\n\t\tif (browser)\r\n\t\t{\r\n\t\t\tfor (bk in browser)\r\n\t\t\t{\r\n\t\t\t\tif (typeof(browser[bk]) == \"function\")\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\r\n\t\t\t\tbinfo += bk + \": \" + browser[bk] + \"\\n\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpd = binfo + \"\\n\\n\" + pd;\r\n\t\t\tmessagecontent.binfo = binfo;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tbbox = $(\"<div class='igc-alert'><a class='close'>&#215;</a><div class='detail' style='display: none'>\" + IRm$.r1(\"M_DETAIL\") + \"</div><div class='cnt' style='display:none'></div><h4 class='alert-heading'>\" + h + \"</h4><span>\" + msg + \"</span></div>\").appendTo(mbody);\r\n\tbclose = $(\".close\", bbox)[btn ? \"hide\" : \"show\"]();\r\n\tbdetail = $(\".detail\", bbox);\r\n\t\r\n\tpd && bdetail.show();\r\n\t\r\n\tif (!IG$.ErrorDialog)\r\n\t{\r\n\t\tbdetail.hide();\r\n\t}\r\n\t\r\n\tbbox.addClass(\"igc-alert-\" + mtype);\r\n\t\r\n\tbdetail.bind(\"click\", function(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopImmediatePropagation();\r\n\t\t\r\n\t\tvar doc = $(document),\r\n\t\t\tdw = doc.width(),\r\n\t\t\tdh = doc.height(),\r\n\t\t\tmw = Math.min(dw - 20, 600),\r\n\t\t\tmh = Math.min(dh - 20, 520);\r\n\t\t\t\r\n\t\tvar msgpop = new IG$.ErrorDialog({\r\n\t\t\tmessagecontent: messagecontent,\r\n\t\t\twidth: mw,\r\n\t\t\theight: mh,\r\n\t\t\trenderTo: msgbox[0]\r\n\t\t});\r\n\t\t\r\n\t\tmsgpop.setPosition((msgbox.width() - (msgpop.width || msgpop.$width)) / 2, (msgbox.height() - (msgpop.height || msgpop.$height)) / 2);\r\n\t\t// msgpop.setSize(msgpop.width, msgpop.height);\r\n\t\tmsgpop.show();\r\n\t});\r\n\t\r\n\tbclose.bind(\"click\", function(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopImmediatePropagation();\r\n\t\tmsgpop && msgpop.close();\r\n\t\tmsgbox.fadeOut(function() {\r\n\t\t\tif (fn)\r\n\t\t\t{\r\n\t\t\t\tfn.call(parent);\r\n\t\t\t}\r\n\t\t\tmsgbox.remove();\r\n\t\t\t\r\n\t\t\tif (is_error)\r\n\t\t\t\tIG$._berr = 0;\r\n\t\t});\r\n\t});\r\n\t\r\n\tif (!btn)\r\n\t{\r\n\t\tbbox.bind(\"click\", function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopImmediatePropagation();\r\n\t\t\tmsgpop && msgpop.close();\r\n\t\t\tmsgbox.fadeOut(function() {\r\n\t\t\t\tif (fn)\r\n\t\t\t\t{\r\n\t\t\t\t\tfn.call(parent);\r\n\t\t\t\t}\r\n\t\t\t\tmsgbox.remove();\r\n\t\t\t\t\r\n\t\t\t\tif (is_error)\r\n\t\t\t\t\tIG$._berr = 0;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar dbtn,\r\n\t\t\tdbtnsul,\r\n\t\t\tbtns = [];\r\n\t\t\r\n\t\tif (btn == 6 || btn == 14)\r\n\t\t{\r\n\t\t\tbtns.push({\r\n\t\t\t\ttext: IRm$.r1(\"B_YES\"),\r\n\t\t\t\tbseq: 2,\r\n\t\t\t\tdlg: \"yes\"\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tbtns.push({\r\n\t\t\t\ttext: IRm$.r1(\"B_NO\"),\r\n\t\t\t\tbseq: 4,\r\n\t\t\t\tdlg: \"no\"\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (btn == 14)\r\n\t\t\t{\r\n\t\t\t\tbtns.push({\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\tbseq: 8,\r\n\t\t\t\t\tdlg: \"cancel\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (btn == 1 || btn == 9)\r\n\t\t{\r\n\t\t\tbtns.push({\r\n\t\t\t\ttext: IRm$.r1(\"B_OK\"),\r\n\t\t\t\tbseq: 1,\r\n\t\t\t\tdlg: \"ok\"\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (btn == 9)\r\n\t\t\t{\r\n\t\t\t\tbtns.push({\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\tbseq: 8,\r\n\t\t\t\t\tdlg: \"cancel\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tdbtn = $(\"<div class='igc-alert-buttons'><ul></ul></div>\").appendTo(bbox);\r\n\t\tdbtnsul = $(\"ul\", dbtn);\r\n\t\t\r\n\t\t$.each(btns, function(i, m) {\r\n\t\t\tvar dp = $(\"<li></li>\").appendTo(dbtnsul),\r\n\t\t\t\td = $(\"<div class='igc-button'>\" + m.text + \"</div>\").appendTo(dp);\r\n\t\t\t\t\r\n\t\t\td.bind(\"click\", function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\tmsgpop && msgpop.close();\r\n\t\t\t\tmsgbox.fadeOut(function() {\r\n\t\t\t\t\tif (fn)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfn.call(parent, m.dlg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmsgbox.remove();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (is_error)\r\n\t\t\t\t\t\tIG$._berr = 0;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\n\tif (!ismodal)\r\n\t{\r\n\t\tmsgbox.addClass(\"igc-no-modal\");\r\n\t\t\r\n\t\tsetTimeout(function() {\r\n\t\t\tmsgpop && msgpop.close();\r\n\t\t\t\r\n\t\t\tmsgbox.fadeOut(function() {\r\n\t\t\t\tif (fn)\r\n\t\t\t\t{\r\n\t\t\t\t\tfn.call(parent);\r\n\t\t\t\t}\r\n\t\t\t\tmsgbox.remove();\r\n\t\t\t\t\r\n\t\t\t\tif (is_error)\r\n\t\t\t\t\tIG$._berr = 0;\r\n\t\t\t});\r\n\t\t}, 1500);\r\n\t}\r\n}\r\n\r\n/**\r\n * shows confirm message to get user interaction\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.confirmMessages = function(title, msg, fn, parent, owner, btn) {\r\n\t// title, msg, fn, parent, ismodal, mtype, stack, messagecontent\r\n\tIG$.alertmsg(\r\n\t\ttitle || IRm$.r1(\"L_SAVE_CHANGES\"),\r\n\t\tmsg || IRm$.r1(\"L_SAVE_C_MSG\"),\r\n\t\tfn,\r\n\t\towner,\r\n\t\t1,\r\n\t\t\"info\",\r\n\t\tnull, null, btn || 6);\r\n\t\t\r\n//\tvar msgbox = new Ext.window.MessageBox();\r\n//\tvar config = {\r\n//\t\ttitle : title || IRm$.r1(\"L_SAVE_CHANGES\"), // \"Save Changes?\",\r\n//\t\tmsg : msg || IRm$.r1(\"L_SAVE_C_MSG\"),\r\n//\t\tbuttons: btn || Ext.Msg.YESNO,\r\n//\t\ticon: Ext.Msg.QUESTION,\r\n//\t\tfn: fn || null,\r\n//\t\tscope : owner || null,\r\n//\t\tminWidth: msgbox.minWidth,\r\n//\t\tmodal: true,\r\n//\t\tanimateTarget: (parent && parent.el) ? parent.el.dom : (parent && parent.body) ? parent.body.dom : null\r\n//\t};\r\n//\t\r\n//\tmsgbox.show(config);\r\n}\r\n\r\n/**\r\n * common function to check object is locked from server\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.checkLock = function(panel, frun) {\r\n\tvar creq = new IG$._rpc$();\r\n\tcreq.init(panel, \r\n\t\t{\r\n\t\t\tack: \"helpcontent\",\r\n\t\t\tpayload: {uid: panel.uid},\r\n\t\t\tmbody: {option: 'lock', detail: \"check\"}\r\n\t\t}, panel, function(jdoc) {\r\n\t\t\tif (jdoc)\r\n\t\t\t{\r\n\t\t\t\tvar lwin = new IG$.LockWindow({\r\n\t\t\t\t\tlparam: jdoc,\r\n\t\t\t\t\tcallback: new IG$.callBackObj(panel, function(cmd) {\r\n\t\t\t\t\t\tif (cmd == \"unlock\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfrun.call(panel, cmd);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfrun.call(panel, cmd);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tlwin.show(panel);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar lreq = new IG$._rpc$();\r\n\t\t\t\tlreq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: {option: 'lock', detail: \"set\"}\r\n\t\t\t\t\t}, panel, function(jdoc) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}, false);\r\n\t\t\t\t\t\r\n\t\t\t\tlreq.send();\r\n\t\t\t}\r\n\t\t}, false);\r\n\t\t\r\n\tcreq.send();\r\n}\r\n\r\nif (window.$s)\r\n{\r\n\tIG$.v$pnl = $s.extend($s.panel, {\r\n\t\tframeHeader: false,\r\n\t\t\r\n\t\tinitComponent: function() {\r\n\t\t\tthis.on(\"destroy\", function(tobj, eopts) {\r\n\t\t\t\ttobj.__dx = true;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tIG$.v$pnl.superclass.initComponent.call(this);\r\n\t\t},\r\n\t\t\r\n\t\tdestroy: function() {\r\n\t\t\tvar me = this;\r\n\t\t\tme.__dx = true;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tIG$.v$pnl.superclass.destroy.call(me);\r\n\t\t\t}, 10);\r\n\t\t},\r\n\t\t\r\n\t\tsetLoading: function(load, targetEl, bcustom) {\r\n\t\t\tvar me = this,\r\n\t\t\t\tconfig = {};\r\n\t\t\t\r\n\t\t\tclearTimeout(me.__etimer);\r\n\t\t\t\r\n\t\t\tif (me.rendered && load == false)\r\n\t\t\t{\r\n\t\t\t\tme.__etimer = setTimeout(function() {\r\n\t\t\t\t\tif (me.customLoad && bcustom !== true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.customLoad(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tme.loadMask && me.loadMask.destroy();\r\n\t\t\t\t\tme.rendermask = null;\r\n\t\t\t\t\tme.loadMask = null;\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (me.rendered) \r\n\t\t\t{\r\n\t\t\t\tif (load !== false) \r\n\t\t\t\t{\r\n\t\t\t\t\tif (IG$.isObject(load)) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tIG$.apply(config, load);\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse if (IG$.isString(load)) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfig.msg = load;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconfig.dom = $(me.el.dom);\r\n\t\t\t\t\tconfig.target = me;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!me.loadMask)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.loadMask = new IG$._mask(config);\r\n\t\t\t\t\t\tme.loadMask.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn me.loadMask;\r\n\t\t}\r\n\t});\r\n\t\r\n\tIG$.LockWindow = $s.extend($s.window, {\r\n\t\tmodal: true,\r\n\t\tregion:'center',\r\n\t\t\r\n\t\tlayout: 'fit',\r\n\t\t\r\n\t\tclosable: false,\r\n\t\tresizable:false,\r\n\t\t\r\n\t\twidth: 300,\r\n\t\theight: 180,\r\n\t\t\r\n\t\tcallback: null,\r\n\t\t\r\n\t\t_closedlg: function(cmd) {\r\n\t\t\tthis.callback && this.callback.execute(cmd);\r\n\t\t\tthis.close();\r\n\t\t},\r\n\t\t\r\n\t\tinitComponent : function() {\r\n\t\t\tvar panel = this;\r\n\t\t\t\r\n\t\t\tpanel.title = IRm$.r1('M_LOCK_TITLE');\r\n\t\t\t\r\n\t\t\t$s.apply(this, {\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"html\",\r\n\t\t\t\t\t\tname: \"txtlock\",\r\n\t\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\t\thtml: \"<div class='igc-lockinfo'></div>\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\tbuttons:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: IRm$.r1('B_UNLOCK'),\r\n\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\tvar lreq = new IG$._rpc$();\r\n\t\t\t\t\t\t\tlreq.init(panel, \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\t\t\t\tmbody: {option: 'lock', detail: \"unlock\"}\r\n\t\t\t\t\t\t\t\t}, panel, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\tpanel._closedlg(\"unlock\");\r\n\t\t\t\t\t\t\t\t}, false);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlreq.send();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\tthis._closedlg(\"close\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\t\tvar txtlock = this.down(\"[name=txtlock]\"),\r\n\t\t\t\t\t\t\tlparam = this.lparam || {},\r\n\t\t\t\t\t\t\tmsg,\r\n\t\t\t\t\t\t\tdt = Number(lparam.date),\r\n\t\t\t\t\t\t\tddt = new Date(dt),\r\n\t\t\t\t\t\t\tfdt = \"<br/><span class='igc-lock-date'>\" + ddt.format(\"Y-m-d H:i;s\") + \"</span>\";\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.uid = lparam.uid;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmsg = IRm$.r1(\"M_LOCK_MSG\", [\"<span class='igc-lock-user'>\" + lparam.username + \"(\" + lparam.userid + \")</span>\", fdt]);\r\n\t\t\t\t\t\t$(\".igc-lockinfo\", $(txtlock.body.dom)).html(msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tIG$.LockWindow.superclass.initComponent.apply(this, arguments);\r\n\t\t}\r\n\t});\r\n\t\r\n\t\r\n\tIG$.ErrorDialog = $s.extend($s.panel, {\r\n\t\tmodal: true,\r\n\t\t\r\n\t\tlayout: 'fit',\r\n\t\t\r\n\t\tclosable: false,\r\n\t\tresizable:false,\r\n\t\tcallback: null,\r\n\t\r\n\t\t_cerr: 0,\r\n\t\t\r\n\t\tshowError: function(msg) {\r\n\t\t\tvar me = this,\r\n\t\t\t\tparam = [],\r\n\t\t\t\tk;\r\n\t\t\t\r\n\t\t\tif (msg.params)\r\n\t\t\t{\r\n\t\t\t\tfor (k in msg.params)\r\n\t\t\t\t{\r\n\t\t\t\t\tparam.push(k + \": \" + msg.params[k]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tparam.push(\"\", \"\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar m_msg = me.down(\"[name=m_msg]\"),\r\n\t\t\t\tmbody = $(\".ing-error-dlg\", $(m_msg.body.dom));\r\n\t\t\t\t\r\n\t\t\tmbody.empty();\r\n\t\t\t\r\n\t\t\tif (IG$._berr && IG$._berr.err.length > 1)\r\n\t\t\t{\r\n\t\t\t\t$(\"<div class='ing-error-cnt'>(\" + (me._cerr + 1) + \"/\" + IG$._berr.err.length + \" messages)</div>\").appendTo(mbody);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmbody.append(\"<div class='ing-error-desc'>\" + (msg.errcode || \"\") + \":\" + msg.errdesc + \"</div>\");\r\n\t\t\tmbody.append(\"<div class='ing-error-msg'>\" + (msg.errmsg || \"\") + \"</div>\");\r\n\t\t\t\r\n\t\t\t$(\"<div class='ing-error-stack'></div>\").appendTo(mbody).text(msg.errstack || \"\");\r\n\t\t\t$(\"<div class='ing-error-stack'></div>\").appendTo(mbody).text(param.join(\"\\n\") || \"\");\r\n\t\t\t$(\"<div class='ing-error-stack'></div>\").appendTo(mbody).text(msg.binfo || \"\");\r\n\t\t\t\r\n\t\t\tme.cboard = $(\"<textarea class='ing-error-cboard'></textarea>\").appendTo(mbody).hide();\r\n\t\t},\r\n\t\t\r\n\t\tinitComponent : function() {\r\n\t\t\tvar me = this;\r\n\t\t\t\r\n\t\t\t$s.apply(this, {\r\n\t\t\t\ttitle: IRm$.r1(\"L_SERVER_MESSAGE\"), // \"Server Message\",\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"html\",\r\n\t\t\t\t\t\tname: \"m_msg\",\r\n\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\thtml: \"<div class='ing-error-dlg'></div>\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: IRm$.r1(\"B_CLIPBOARD\"),\r\n\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\tme.cboard.show();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar _desc = function(msg) {\r\n\t\t\t\t\t\t\t\tvar k, param = [];\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tparam.push(msg.errdesc || \"no description\");\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (msg.params)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfor (k in msg.params)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tparam.push(k + \": \" + msg.params[k]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tparam.push(\"\", \"\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tparam.push(\"stacktrace : \" + (msg.errstack || \"\"));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn param.join(\"\\n\");\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar tmessage = [];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (IG$._berr && IG$._berr.err.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$.each(IG$._berr.err, function(i, err) {\r\n\t\t\t\t\t\t\t\t\ttmessage.push(_desc(err.messagecontent));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttmessage.push(_desc(me.messagecontent));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar binfo = \"\", browser = window.bowser;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (browser)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfor (bk in browser)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (typeof(browser[bk]) == \"function\")\r\n\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tbinfo += bk + \": \" + browser[bk] + \"\\n\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\ttmessage.push(binfo);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tme.cboard.text(tmessage.join(\"\\n\\n\"));\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tme.cboard.select();\r\n\t\r\n\t\t\t\t\t\t\ttry \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar successful = document.execCommand('copy');\r\n\t\t\t\t\t\t\t\tvar msg = successful ? 'successful' : 'unsuccessful';\r\n\t\t\t\t\t\t\t\tvoid 0;\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\tcatch (err) \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvoid 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"-\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: IRm$.r1(\"B_PREVIOUS\"),\r\n\t\t\t\t\t\thidden: IG$._berr && IG$._berr.err.length > 1 ? false : true,\r\n\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\terrs = IG$._berr.err,\r\n\t\t\t\t\t\t\t\t// l = errs.length,\r\n\t\t\t\t\t\t\t\tmsg = me._cerr - 1 > -1 ? errs[me._cerr--] : null;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (msg)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tme.showError(msg.messagecontent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: IRm$.r1(\"B_NEXT\"),\r\n\t\t\t\t\t\thidden: IG$._berr && IG$._berr.err.length > 1 ? false : true,\r\n\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\terrs = IG$._berr.err,\r\n\t\t\t\t\t\t\t\tl = errs.length,\r\n\t\t\t\t\t\t\t\tmsg = me._cerr + 1 < l ? errs[me._cerr++] : null;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (msg)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tme.showError(msg.messagecontent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"-\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\t\tvar msg = me.messagecontent;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.showError(msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tIG$.ErrorDialog.superclass.initComponent.apply(this, arguments);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nIG$._scrshot = function(d, bind, enable, immediate) {\r\n\tvar scobj,\r\n\t\t// t, \r\n\t\tm, n,\r\n\t\ttoff,\r\n\t\ttx, ty,\r\n\t\tbd = $(\"body\"),\r\n\t\tbw = bd.width(),\r\n\t\tbh = bd.height();\r\n\t\t\r\n\tif (ig$.report_screenshot === false)\r\n\t\treturn;\r\n\t\r\n\tscobj = IG$.__scrs = IG$.__scrs || {};\r\n\t\r\n\tif (scobj._close_timer)\r\n\t\tclearTimeout(scobj._close_timer);\r\n\t\r\n\tscobj._close_timer = -1;\r\n\t\r\n\tif (!enable)\r\n\t{\r\n\t\tif (immediate)\r\n\t\t{\r\n\t\t\tif (scobj.container)\r\n\t\t\t{\r\n\t\t\t\tscobj.container.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tscobj._close_timer = setTimeout(function() {\r\n\t\t\t\tif (scobj.container)\r\n\t\t\t\t{\r\n\t\t\t\t\tscobj.container.hide();\r\n\t\t\t\t}\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif (!scobj.container)\r\n\t{\r\n\t\tscobj.container = $(\"<div class='igc-screenshot-cont'><div class='igc-screenshot-img'></div></div>\").appendTo($(\"body\"));\r\n\t\tscobj.img = $(\".igc-screenshot-img\", scobj.container);\r\n\t\t\r\n\t\tscobj.container.bind(\"click\", function() {\r\n\t\t\tclearTimeout(scobj._close_timer);\r\n\t\t\tscobj._close_timer = -1;\r\n\t\t\t\r\n\t\t\tscobj.container.hide();\r\n\t\t});\r\n\t\t\r\n\t\tscobj._w = scobj.container.width();\r\n\t\tscobj._h = scobj.container.height();\r\n\t\t\r\n\t\t$(\"body\").bind(\"click\", function() {\r\n\t\t\tscobj.container.hide();\r\n\t\t});\r\n\t}\r\n\t\r\n\tscobj.container.show();\r\n\t\r\n\tn = bind.indexOf(\":\");\r\n\tt = bind.substring(0, n);\r\n\tm = bind.substring(n+1);\r\n\t\r\n\tif (scobj.__curuid != m)\r\n\t{\r\n\t\ttoff = $(d).offset();\r\n\t\t\r\n\t\tscobj._curuid = m;\r\n\t\t\r\n\t\tscobj.img.css({\r\n\t\t\tbackgroundImage: \"url('\" + ig$.servlet + \"/screenshot?sreq=screenshot&uid=\" + m + \"&uniquekey=\" + IG$.getUniqueKey() + \"')\",\r\n\t\t});\r\n\t\t\r\n\t\tty = toff.top;\r\n\t\t\r\n\t\tif (ty + scobj._h > bh)\r\n\t\t{\r\n\t\t\tty = toff.top - scobj._h;\r\n\t\t}\r\n\t\t\r\n\t\ttx = toff.left + $(d).width();\r\n\t\t\r\n\t\tif (tx + scobj._w > bw)\r\n\t\t{\r\n\t\t\ttx = toff.left - scobj._w;\r\n\t\t}\r\n\t\t\r\n\t\tscobj.container[0].style.top = \"\" + ty + \"px\";\r\n\t\tscobj.container[0].style.left = \"\" + tx + \"px\";\r\n\t}\r\n\t\r\n\tscobj._close_timer = setTimeout(function() {\r\n\t\tif (scobj.container)\r\n\t\t{\r\n\t\t\tscobj.container.hide();\r\n\t\t}\r\n\t}, 2000);\r\n}\r\n\r\n/**\r\n * error reader class\r\n * @memberof module:common/mainapp_webix\r\n */\r\nIG$.m2ER = function() {\r\n\t/*\r\n\tvar fields = [];\r\n\tvar config = {\r\n\t\ttype: 'xml',\r\n\t\troot: 'smsg',\r\n\t\trecord: 'item',\r\n\t\tsuccess: '@success'\r\n\t}\r\n\t*/\r\n};\r\n\r\nIG$._mask = function(opt) {\r\n\tvar me = this,\r\n\t\tbbox,\r\n\t\tmbox;\r\n\t\r\n\tme.owner = opt.target;\r\n\t\r\n\tme.mask = $(\"<div class='igc-loading'></div>\");\r\n\t\r\n\tbbox = me.make_dom(me.mask);\r\n\t\r\n\tmbox = $(\".igc-loading-msg\", bbox);\r\n\t\r\n\tmbox.append(opt.msg || IRm$.r1(\"L_LOADING\"));\r\n\t\r\n\tme.owner.rendermask = me.mask;\r\n\tif (opt.dom)\r\n\t{\r\n\t\topt.dom.append(me.mask);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tme.owner._el.dom.append(me.mask);\r\n\t}\r\n}\r\n\r\nIG$._mask.prototype = {\r\n\tmake_dom: function(mask) {\r\n\t\tvar me = this,\r\n\t\t\tlmask, lbody, bbox;\r\n\t\t\t\r\n\t\tlmask = $(\"<div class='igc-loading-mask'></div>\").appendTo(mask);\r\n\t\tlbody = $(\"<table class='igc-loading-body'><tr><td></td></tr></table>\").appendTo(mask);\r\n\t\tbbox = $(\"<div class='igc-loading-box'><table><tr><td><div class='igc-loading-proc'><div class='spinner'><div class='rect1'></div><div class='rect2'></div><div class='rect3'></div><div class='rect4'></div><div class='rect5'></div></div></div></td><td><span class='igc-loading-msg'></span></td></tr></table></div>\")\r\n\t\t\t.appendTo($(\"td\", lbody));\r\n\t\t\t\r\n\t\treturn bbox;\r\n\t},\r\n\tshow: function() {\r\n\t\tvar me = this;\r\n\t\tme.mask.show();\r\n\t},\r\n\tdestroy: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.mask)\r\n\t\t{\r\n\t\t\tme.mask.remove();\r\n\t\t\tme.mask = null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nIG$.$snippet = {\r\n\tsql: [\r\n\t\t{\r\n\t\t\ttext: \"IF Condition\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"\\n@IF ${param}=\\\"value\\\"\",\r\n\t\t\t\t\"@ELSEIF ${param}=\\\"value\\\"\",\r\n\t\t\t\t\"@ELSE\",\r\n\t\t\t\t\"@END IF\\n\"\r\n\t\t\t]\r\n\t\t}\r\n\t],\r\n\tjava: [\r\n\t\t{\r\n\t\t\ttext: \"Query - SELECT\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"\\n@SQL_START=arrayoutputname\",\r\n\t\t\t\t\"SELECT\",\r\n\t\t\t\t\"\tcolumns\",\r\n\t\t\t\t\"FROM\",\r\n\t\t\t\t\"\ttablename\",\r\n\t\t\t\t\"WHERE\",\r\n\t\t\t\t\"\tcolumn=:param\",\r\n\t\t\t\t\"@SQL_END\\n\"\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttext: \"Query - INSERT\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"\\n@SQL_START\",\r\n\t\t\t\t\"INSERT INTO tablename (\",\r\n\t\t\t\t\"\\tcolumn1\",,\r\n\t\t\t\t\") VALUES (\",\r\n\t\t\t\t\"\t:param\",\r\n\t\t\t\t\")\",\r\n\t\t\t\t\"@SQL_END\\n\"\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttext: \"Query - UPDATE\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"\\n@SQL_START\",\r\n\t\t\t\t\"UPDATE tablename \",\r\n\t\t\t\t\"SET\",\r\n\t\t\t\t\"\tcolumn=:param\",\r\n\t\t\t\t\"WHERE\",\r\n\t\t\t\t\"\tcolumn=:param\",\r\n\t\t\t\t\"@SQL_END\\n\"\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttext: \"Input parameter\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"params.get(\\\"paramname\\\");\\n\"\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttext: \"Output parameter\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"this.set(\\\"paramname\\\", value);\\n\"\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttext: \"Output Tabulardata\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"\\nList<String> header = new ArrayList<String>();\",\r\n\t\t\t\t\"List<List<Object>> data = new ArrayList<List<Object>>();\",\r\n\t\t\t\t\"//set header and data\",\r\n\t\t\t\t\"GridOutputModel gparam = new GridOutputModel();\",\r\n\t\t\t\t\"gparam.setHeaders(header);\",\r\n\t\t\t\t\"gparam.setData(data);\",\r\n\t\t\t\t\"this.oparam.put(\\\"outputparam\\\", gparam);\\n\"\r\n\t\t\t]\r\n\t\t}\r\n\t],\r\n\tjavascript: [\r\n\t\t{\r\n\t\t\ttext: \"Method\",\r\n\t\t\tsnippet: [\r\n\t\t\t\t\"\\nmethod_name: function(action) {\",\r\n\t\t\t\t\"\tvar me = this,\",\r\n\t\t\t\t\"\t\tparameters = me.parameters,\",\r\n\t\t\t\t\"\t\tctrl = action ? action.ctrl : null;\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"}\\n\\n\"\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nIG$._ctxtmn = function(instance, target, menu_items, callback) {\r\n\tvar mitems = [],\r\n\t\tpmenu;\r\n\r\n\tif (!menu_items || (menu_items && !menu_items.length))\r\n\t\treturn;\r\n\t\r\n\t$.each(menu_items, function(i, m) {\r\n\t\tvar menu = {};\r\n\t\tif (m.snippet)\r\n\t\t{\r\n\t\t\t// apply snippet\r\n\t\t\tmenu.text = m.text;\r\n\t\t\tmenu.handler = function() {\r\n\t\t\t\tcallback.execute(m);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmenu = m;\r\n\t\t}\r\n\t\tmitems.push(menu);\r\n\t});\r\n\r\n\tpmenu = new $s.menu({\r\n\t\tinstance: instance,\r\n\t\tmargin: \"0 0 10 0\",\r\n\t\tfloating: true,\r\n\t\titems: mitems\r\n\t});\r\n\r\n\ttarget.on(\"contextmenu\", function(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopImmediatePropagation();\r\n\t\tvar oe = e.originalEvent;\r\n\t\tif (oe)\r\n\t\t{\r\n\t\t\tpmenu.showAt(oe.pageX, oe.pageY);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpmenu.showBy(target);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nIG$._apndT = function(textarea, val) {\r\n\ttextarea.focus();\r\n\tvar cp = textarea.prop(\"selectionStart\"),\r\n\t\tv = textarea.val(),\r\n\t\ttb = v.substring(0, cp),\r\n\t\tta = v.substring(cp, v.length);\r\n\r\n\ttextarea.val(tb + val + ta);\r\n};\r\n\r\nIG$._moveG = function(grid, direction) {\r\n\tvar records = grid.getSelectionModel().getSelection(),\r\n\t\trecord = records && records.length ? records[0] : null;\r\n\t\t\r\n\tif (!record) \r\n\t{\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tvar index = grid.getStore().indexOf(record);\r\n\t\r\n\tif (direction < 0) \r\n\t{\r\n\t\tindex--;\r\n\t\tif (index < 0) \r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t} \r\n\telse \r\n\t{\r\n\t\tindex++;\r\n\t\tif (index >= grid.getStore().getCount()) \r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tgrid.getStore().remove(record);\r\n\trecord = grid.getStore().insert(index, record);\r\n\tgrid.getSelectionModel().select(record, true);\r\n}","var Base64 = {\r\n \r\n    // private property\r\n    _keyStr : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\r\n    \r\n    // public method for encoding\r\n    encode : function (input) {\r\n        var output = \"\";\r\n        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n \r\n        input = Base64._utf8_encode(input);\r\n \r\n        while (i < input.length) {\r\n \r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n \r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n \r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            } else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n \r\n            output = output +\r\n            this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\r\n            this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\r\n \r\n        }\r\n \r\n        return output;\r\n    },\r\n \r\n    // public method for decoding\r\n    decode : function (input) {\r\n        if (!input)\r\n            return \"\";\r\n            \r\n        var output = \"\";\r\n        var chr1, chr2, chr3;\r\n        var enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n \r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n        \r\n        while (i < input.length) {\r\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\r\n \r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n \r\n            output = output + String.fromCharCode(chr1);\r\n \r\n            if (enc3 != 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 != 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n \r\n        }\r\n \r\n        output = Base64._utf8_decode(output);\r\n \r\n        return output;\r\n     },\r\n     \r\n    // private method for UTF-8 encoding\r\n    _utf8_encode : function (string) {\r\n        string = string.replace(/\\r\\n/g,\"\\n\");\r\n        var utftext = \"\";\r\n \r\n        for (var n = 0; n < string.length; n++) {\r\n \r\n            var c = string.charCodeAt(n);\r\n \r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }\r\n            else if((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n            else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n \r\n        }\r\n \r\n        return utftext;\r\n    },\r\n \r\n    // private method for UTF-8 decoding\r\n    _utf8_decode : function (utftext) {\r\n        var string = \"\";\r\n        var i = 0;\r\n        var c = c1 = c2 = 0;\r\n \r\n        while ( i < utftext.length ) {\r\n \r\n            c = utftext.charCodeAt(i);\r\n \r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            }\r\n            else if((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i+1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            }\r\n            else {\r\n                c2 = utftext.charCodeAt(i+1);\r\n                c3 = utftext.charCodeAt(i+2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n \r\n        }\r\n \r\n        return string;\r\n    }\r\n \r\n}","/**\r\n * @module framework/login\r\n * @desc login utility\r\n */\r\n\r\n/**\r\n * check session validity\r\n * @memberof module:framework/login\r\n * @param sccall {object} callback on success\r\n * @param scfaile {object} callback on fail\r\n */\r\nIG$.chkSess = function(instance, sccall, fail) {\r\n\tvar panel = this,\r\n\t\tnmts,\r\n\t\turl_params;\r\n\t\r\n\tpanel.instance = instance;\r\n\t\r\n\tif (!IG$._g$a)\r\n\t{\r\n\t\turl_params = IG$._parse_url().params;\r\n\t\tnmts = url_params[\"mts\"];\r\n\t}\r\n\t\r\n\tvar do_session = function() {\r\n\t\tvar lreq = new IG$._rpc$();\r\n\t\t\r\n\t\tlreq.init(panel,\r\n\t\t\t{\r\n\t\t\t\tack: \"loginstatus\",\r\n\t\t\t\tpayload: {},\r\n\t\t\t\tmbody: {lang: useLocale, app: loadingApp}\r\n\t\t\t}, panel, function(jdoc) {\r\n\t\t\t\tvar ltoken = jdoc.token,\r\n\t\t\t\t\tnuid = jdoc.uid,\r\n\t\t\t\t\tredirect = jdoc.redirect;\r\n\t\t\t\t\r\n\t\t\t\tif (sccall)\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.$sso_try_count = 0;\r\n\t\t\t\t\tsccall.call();\r\n\t\t\t\t}\r\n\t\t\t\telse if (redirect)\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.$sso_try_count = 0;\r\n\t\t\t\t\twindow.location.replace(redirect);\r\n\t\t\t\t}\r\n\t\t\t}, function(jdoc) {\r\n\t\t\t\tfail && fail.call();\r\n\t\t\t\t\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\r\n\t\tlreq.send();\r\n\t}\r\n\t\r\n\tif (nmts && nmts.length)\r\n\t{\r\n\t\tvar lreq = new IG$._rpc$();\r\n\t\t\r\n\t\tlreq.init(panel,\r\n\t\t\t{\r\n\t\t\t\tack: \"security\",\r\n\t\t\t\tpayload: {mts: nmts || \"\"},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, panel, function(item) {\r\n\t\t\t\tvar p1 = item.p1,\r\n\t\t\t\t\tp2 = item.p2;\r\n\t\t\t\t\r\n\t\t\t\tif (p1 && p2)\r\n\t\t\t\t{\r\n\t\t\t\t\tinstance.rsaPublicKeyModules = p1;\r\n\t\t\t\t\tinstance.rsaPublicKeyExpoenent = p2;\r\n\t\t\t\t\tinstance.rsa_kinfo = item.p3;\r\n\t\t\t\t\tIG$._g$a = item.mts;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdo_session();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tdo_session();\r\n\t\t\t\t}\r\n\t\t\t}, function() {\r\n\t\t\t\tdo_session();\r\n\t\t\t});\r\n\t\r\n\t\tlreq.send();\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdo_session();\r\n\t}\r\n}\r\n\r\n/**\r\n * parse url for parameter\r\n * @memberof module:framework/login\r\n */\r\nIG$._parse_url = function(url) {\r\n\tvar curl = url || $(location).attr('href'),\r\n\t\tparams = [],\r\n\t\tparam_map = {},\r\n\t\tparam_tag = {},\r\n\t\tburl,\r\n\t\tamap,\r\n\t\tmtype;\r\n\t\r\n\tburl = curl;\r\n\t\r\n\tif (curl.indexOf(\"#\") > -1)\r\n\t{\r\n\t\tamap = curl.substring(curl.lastIndexOf(\"#\") + 1);\r\n\t\tcurl = curl.substring(0, curl.lastIndexOf(\"#\"));\r\n\t\tburl = curl;\r\n\t\t\r\n\t\tparams = amap.split(\"&\");\r\n\t\t\r\n\t\t$.each(params, function(i, p) {\r\n\t\t\tvar k, v;\r\n\t\t\tif (p && p.indexOf(\"=\") > 0)\r\n\t\t\t{\r\n\t\t\t\tk = p.substring(0, p.indexOf(\"=\"));\r\n\t\t\t\tv = p.substring(p.indexOf(\"=\") + 1);\r\n\t\t\t\t\r\n\t\t\t\tv = decodeURIComponent(v);\r\n\t\t\t\t\r\n\t\t\t\tparam_tag[k] = v;\t\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tif (curl && curl.indexOf(\"?\") > 0)\r\n\t{\r\n\t\tburl = curl.substring(0, curl.indexOf(\"?\"));\r\n\t\tcurl = curl.substring(curl.indexOf(\"?\") + 1);\r\n\t\t\r\n\t\tparams = curl.split(\"&\");\r\n\t\t\r\n\t\t$.each(params, function(i, p) {\r\n\t\t\tvar k, v;\r\n\t\t\tif (p.indexOf(\"=\") > 0)\r\n\t\t\t{\r\n\t\t\t\tk = p.substring(0, p.indexOf(\"=\"));\r\n\t\t\t\tv = p.substring(p.indexOf(\"=\") + 1);\r\n\t\t\t\t\r\n\t\t\t\tv = decodeURIComponent(v);\r\n\t\t\t\t\r\n\t\t\t\tparam_map[k] = v;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tif (burl && burl.indexOf(\".\") > -1)\r\n\t{\r\n\t\tmtype = burl.substring(burl.lastIndexOf(\".\") + 1);\r\n\t}\r\n\t\r\n\treturn {\r\n\t\tdoctype: mtype,\r\n\t\turl: burl,\r\n\t\tparams: param_map,\r\n\t\tparams_tag: param_tag\r\n\t};\r\n}\r\n\r\nIG$._unstrip_url = function(url) {\r\n\tvar r = url.url,\r\n\t\tn = 0;\r\n\t\r\n\tif (url.params)\r\n\t{\r\n\t\t$.each(url.params, function(i, param) {\r\n\t\t\tif (n == 0)\r\n\t\t\t{\r\n\t\t\t\tr += \"?\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tr += \"&\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tr += i + \"=\" + (param || \"\");\r\n\t\t\tn++;\r\n\t\t});\r\n\t}\r\n\t\r\n\tif (url.params_tag)\r\n\t{\r\n\t\tn = 0;\r\n\t\t$.each(url.params_tag, function(i, param) {\r\n\t\t\tif (n == 0)\r\n\t\t\t{\r\n\t\t\t\tr += \"#\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tr += \"&\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tr += i + \"=\" + (param || \"\");\r\n\t\t\tn++;\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn r;\r\n}\r\n\r\n/**\r\n * start session process with userid password\r\n * @memberof module:framework/login\r\n * @param userid {string} userid\r\n * @param passwd {string} password\r\n * @param bg {dom} background overflow\r\n * @param mts {string} multi tenant id\r\n * @param callback {object} error callback\r\n */\r\nIG$.doStartSession = function(instance, userid, passwd, bg, mts, errcallback, opt) {\r\n\tif (bg)\r\n\t{\r\n\t\tbg.show();\r\n\t}\r\n\t\r\n\tvar panel = this,\r\n\t\til_err = $(\"#il_err\");\r\n\t\t\r\n\til_err.hide();\r\n\r\n\tvar lreq = new IG$._rpc$();\r\n\tlreq.init(panel,\r\n\t\t{\r\n\t\t\tack: \"security\",\r\n\t\t\tpayload: {mts: mts},\r\n\t\t\tmbody: {}\r\n\t\t}, panel, function(item) {\r\n\t\t\tvar p1, p2;\r\n\t\t\t\r\n\t\t\tp1 = item.p1;\r\n\t\t\tp2 = item.p2;\r\n\t\t\t\r\n\t\t\tif (p1 && p2)\r\n\t\t\t{\r\n\t\t\t\tinstance.rsaPublicKeyModules = p1;\r\n\t\t\t\tinstance.rsaPublicKeyExpoenent = p2;\r\n\t\t\t\tinstance.rsa_kinfo = item.p3;\r\n\t\t\t\t\r\n\t\t\t\tIG$._g$a = item.mts;\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tIG$.pLoginRSA(instance, userid, passwd, bg, mts, errcallback, opt);\r\n\t\t\t\t}, 10);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvoid 0;\r\n\t\t\t\tif (bg)\r\n\t\t\t\t{\r\n\t\t\t\t\tbg.hide();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, function(jdoc) {\r\n\t\t\tvar errorcode = jdoc.errorcode,\r\n\t\t\t\tmsg = jdoc.errormsg;\r\n\t\t\t\r\n\t\t\tif (bg)\r\n\t\t\t{\r\n\t\t\t\tbg.hide();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (errorcode == \"0x6d00\")\r\n\t\t\t{\r\n\t\t\t\til_err.unbind(\"click\");\r\n\t\t\t\til_err.bind(\"click\", function() {\r\n\t\t\t\t\til_err.hide();\r\n\t\t\t\t});\r\n\t\t\t\til_err.show();\r\n\t\t\t\t$(\".igc-errorinfo-msg\", il_err).html(msg);\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tlreq.send();\r\n}\r\n\r\nIG$.psst_set = function(cls, skey) {\r\n\tif (cls && window.use_session_key && skey)\r\n\t{\r\n\t\t$.cookie(\"amp_auth\", skey);\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$.removeCookie(\"amp_auth\");\r\n\t\tig$._session_key = null;\r\n\t}\r\n};\r\n\r\n/**\r\n * RSA login session with encryption\r\n * @memberof module:framework/login\r\n * @param userid {string} userid\r\n * @param passwd {string} password\r\n * @param bg {dom} background overflow\r\n * @param mts {string} multi tenant id\r\n * @param callback {object} error callback\r\n */\r\nIG$.pLoginRSA = function(instance, userid, passwd, bg, mts, errcallback, opt)\r\n{\r\n\tvar encpwd = IG$.encryptKey(instance, [userid, passwd]); // CryptoJS.SHA1(passwd);\r\n\t// passwd = encpwd.toString(); //(CryptoJS.enc.Hex);\r\n\t\r\n\tvar il_err = $(\"#il_err\"),\r\n\t\tpanel = this;\r\n\t\t\r\n\til_err.hide();\r\n\t\r\n\tIG$.psst_set(0);\r\n\t\r\n\tvar lreq = new IG$._rpc$(),\r\n\t\tpayload = {userid: encpwd[0], passwd: encpwd[1], keyvar: instance.rsa_kinfo};\r\n\t\r\n\tif (opt && opt.sso_module)\r\n\t{\r\n\t\tpayload.sso_module = opt.sso_module;\r\n\t}\r\n\r\n\tlreq.init(panel,\r\n\t\t{\r\n\t\t\tack: \"login\",\r\n\t\t\tpayload: payload,\r\n\t\t\tmbody: {lang: useLocale, app: loadingApp, theme: ig$.theme_id, session_expire: \"\" + (ig$.session_expire || 0), mts: (mts || \"\")}\r\n\t\t}, panel, function(item) {\r\n\t\t\tvar ltoken,\r\n\t\t\t\tnuid,\r\n\t\t\t\tredirect;\r\n\t\t\t\r\n\t\t\tif (bg)\r\n\t\t\t{\r\n\t\t\t\tbg.hide();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tltoken = item.token;\r\n\t\t\tnuid = item.uid;\r\n\t\t\t\r\n\t\t\tredirect = item.redirect;\r\n\r\n\t\t\tif (item.twoway_auth == \"T\")\r\n\t\t\t{\r\n\t\t\t\t$(\"#login_path\").hide();\r\n\t\t\t\t$(\"#twoway_form\").show();\r\n\r\n\t\t\t\t// $(\"#twoway_key\" + instance.id, \"#twoway_form\").focus();\r\n\t\t\t\tvar inputs = $(\"input\", \".twoway_key_holder\", \"#twoway_form\");\r\n\t\t\t\t\r\n\t\t\t\tinputs && inputs.length && $(inputs[0]).focus();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (redirect && redirect.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.location.replace(redirect);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvoid 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, function(jdoc) {\r\n\t\t\tvar msg = jdoc.errormsg,\r\n\t\t\t\terrorcode = jdoc.errorcode;\r\n\t\t\t\t\r\n\t\t\tif (bg)\r\n\t\t\t{\r\n\t\t\t\tbg.hide();\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tif (errorcode == \"0x6d00\")\r\n\t\t\t{\r\n\t\t\t\til_err.unbind(\"click\");\r\n\t\t\t\til_err.bind(\"click\", function() {\r\n\t\t\t\t\til_err.hide();\r\n\t\t\t\t});\r\n\t\t\t\til_err.show();\r\n\t\t\t\t$(\".igc-errorinfo-msg\", il_err).html(msg);\r\n\t\t\t\t\r\n\t\t\t\terrcallback && errcallback.execute();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if (errcallback)\r\n\t\t\t{\r\n\t\t\t\terrcallback.execute();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tlreq.send();\r\n}\r\n\r\nIG$.val2FA = function(key, bg, mts, callback, sso_module) {\r\n\tvar me = this,\r\n\t\tinstance = me.instance,\r\n\t\treq = new IG$._rpc$();\r\n\t\r\n\treq.init(me, \r\n\t\t{\r\n\t\t\tack: \"twoway_auth\",\r\n\t\t\tpayload: {vkey: key, sso_module: sso_module, keyvar: instance.rsa_kinfo},\r\n\t\t\tmbody: {}\r\n\t\t}, me, function(xdoc) {\r\n\t\t\tvar redirect = xdoc.redirect;\r\n\r\n\t\t\tbg && bg.hide();\r\n\r\n\t\t\tif (redirect)\r\n\t\t\t{\r\n\t\t\t\twindow.location.replace(redirect);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvoid 0;\r\n\t\t\t}\r\n\t\t}, function(xdoc) {\r\n\t\t\tvar r;\r\n\t\t\t\r\n\t\t\tif (callback)\r\n\t\t\t\tr = callback.execute(xdoc);\r\n\t\t\t\r\n\t\t\tif (bg)\r\n\t\t\t{\r\n\t\t\t\tbg.hide();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn r;\r\n\t\t}, bg);\r\n\treq.send();\r\n};\r\n\r\n/**\r\n * set server information text\r\n * @memberof module:framework/login\r\n */\r\nIG$.chkSvrInfo = function(instance, callback) {\r\n\tvar panel = this,\r\n\t\tlreq = new IG$._rpc$();\r\n\t\t\r\n\tlreq._rmethod = \"GET\";\r\n\tlreq.init(panel,\r\n\t\t{\r\n\t\t\tget_params: {sreq: \"version\"}\r\n\t\t}, panel, function(res, jdoc) {\r\n\t\t\tig$.appInfo = ig$.appInfo || {};\r\n\t\t\tig$.appInfo.appversion = ig$.appInfo.appversion$ || res.version || \"0.0\";\r\n\t\t\tig$.appInfo.apprelease = ig$.appInfo.apprelease$ || res.release || \"0.00\";\r\n\t\t\tig$.appInfo.licensed = res.licensed || \"xxx\";\r\n\t\t\tcallback && callback.call();\r\n\t\t}, function(jdoc) {\r\n\t\t\tig$.appInfo = ig$.appInfo || {};\r\n\t\t\tig$.appInfo.appversion = \"_._\";\r\n\t\t\tig$.appInfo.apprelease = \"_._.___\";\r\n\t\t\tig$.appInfo.licensed = \"\";\r\n\t\t\tcallback && callback.call();\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\tlreq.send(instance);\r\n}\r\n\r\n/**\r\n * create login div for session timeout\r\n * @memberof module:framework/login\r\n */\r\nIG$.createLoginPanel = function(instance, d1, d2, addevent){\r\n\tvar loginWindow = $(\"<div id='loginWindow' class='loginWindow'></div>\"),\r\n\t\tlogincnt = $(\"<div class='login-container'></div>\").appendTo(loginWindow),\r\n\t\ti,\r\n\t\tlng = ig$.lang, l,\r\n\t\tthemes = ig$.themes,\r\n\t\tbrowser = window.bowser;\r\n\t\t\r\n\tif (browser.msie)\r\n\t{\r\n\t\tloginWindow.css({width: \"100%\", height: \"100%\"});\r\n\t\tif (ig$.appbg)\r\n\t\t{\r\n\t\t\tvar bg = $(\"<img src='./images/\" + (ig$.appbg) + \"' class='background'/>\");\r\n\t\t\t\r\n\t\t\tbg.css({\r\n\t\t\t\twidth: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0\r\n\t\t\t});\r\n\t\t\tlogincnt.append(bg);\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (lng)\r\n\t{\r\n\t\tfor (i=0; i < lng.length; i++)\r\n\t\t{\r\n\t\t\tif (lng[i].code == useLocale)\r\n\t\t\t{\r\n\t\t\t\tl = lng[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// var loginBox = $(\"<div class='loginBox'></div>\").appendTo(logincnt);\r\n\tvar lf;\r\n\t\r\n\tlf = [\r\n\t\t\"<div class='login-mc bounceInDown animated'>\",\r\n\t\t\"<div class='login-ic'>\",\r\n\t\t\"<img class='login-logo' src='./images/logo_7186.png'>\",\r\n\t\r\n\t\t\"<div id='login_locale'><div class='locale_button'><span>Language</span>\", // <div class='selbutton'></div>\"\r\n\t\t\"<select id='b_loc\" + (instance.id) + \"'>\"\r\n\t];\r\n\t\r\n\tif (lng)\r\n\t{\r\n\t\tfor (i=0; i < lng.length; i++)\r\n\t\t{\r\n\t\t\tlf.push(\"<option value='\" + lng[i].code + \"'\" + (useLocale == lng[i].code ? \" selected\" : \"\") + \">\" + lng[i].disp + \"</option>\");\r\n\t\t}\r\n\t}\r\n\t\t\t\r\n\tlf.push(\"</select></div></div>\");\r\n\t\r\n\tif (themes)\r\n\t{\r\n\t\tlf.push(\"<div id='login_theme'><div class='locale_button'><span>Theme</span>\"); // <div class='selbutton'></div>\"\r\n\t\tlf.push(\"<select id='b_theme\" + (instance.id) + \"'>\");\r\n\t\t\r\n\t\tfor (i=0; i < themes.length; i++)\r\n\t\t{\r\n\t\t\tlf.push(\"<option value='\" + themes[i].code + \"'\" + (ig$.theme_id == themes[i].code ? \" selected\" : \"\") + \">\" + themes[i].disp + \"</option>\");\r\n\t\t}\r\n\t\t\r\n\t\tlf.push(\"</select></div></div>\");\r\n\t}\r\n\t\t\t\r\n\tlf.push(\"<form name='login_form' class='login_form' id='login_form\" + (instance.id) + \"' rel='nofollow' target='temp' action=''>\");\r\n\tlf.push(\" <ul id='login_path'>\");\r\n\tlf.push(\"   <li>\");\r\n\tlf.push(\"\t<div id='user_lbl' class='login-lbl user_lbl'>\" + ((l && l.l1) ? l.l1 : \"User ID\") + \"</div>\");\r\n\tlf.push(\"\t<input id='userid\" + (instance.id) + \"' class='userid' type='text' name='userid' value='\" + (d1 || \"\") + \"'>\");\r\n\tlf.push(\"   </li>\");\r\n\tlf.push(\"   <li>\");\r\n\tlf.push(\"\t<div id='pass_lbl' class='login-lbl pass_lbl'>\" + ((l && l.l2) ? l.l2 : \"Password\") + \"</div>\");\r\n\tlf.push(\"\t<input id='userpassword\" + (instance.id) + \"' class='userpassword' type='password' name='userpassword' value='\" + (d2 || \"\") + \"'>\");\r\n\tlf.push(\"   </li>\");\r\n\tlf.push(\"   <li>\");\r\n\tlf.push(\"\t<div class='login-lbl'>&nbsp;</div>\");\r\n\tlf.push(\"\t<input id='login_btn\" + (instance.id) + \"' class='login_btn' type='button' value='\" + ((l && l.l3) ? l.l3 : \"Login\") + \"'>\");\r\n\tlf.push(\"   </li>\");\r\n\tlf.push(\" </ul>\");\r\n\tlf.push(\" <ul id='twoway_form' style='display:none;'>\");\r\n\tlf.push(\"   <li>\");\r\n\tlf.push(\"\t<div id='user_lbl' class='login-lbl twoway-lbl'>\" + ((l && l.l5) ? l.l5 : \"2 way key\") + \"</div>\");\r\n\tlf.push(\"\t<input id='twoway_key\" + (instance.id) + \"' type='text' name='twoway_key' class='twoway_key' value='' maxlength='6' placeholder='000000'>\");\r\n\tlf.push(\"\t<div class='twoway_key_holder'></div>\");\r\n\tlf.push(\"   </li>\");\r\n\tlf.push(\"   <li>\");\r\n\tlf.push(\"\t<div class='login-lbl'>&nbsp;</div>\");\r\n\tlf.push(\"\t<input id='twoway_validate\" + (instance.id) + \"' type='button' class='twoway_validate' value='\" + ((l && l.l6) ? l.l6 : \"Validate\") + \"'>\");\r\n\tlf.push(\"   </li>\");\r\n\tlf.push(\"   <li>\");\r\n\tlf.push(\"\t<div class='login-lbl'>&nbsp;</div>\");\r\n\tlf.push(\"\t<input id='twoway_retry\" + (instance.id) + \"' type='button' class='twoway_retry' value='\" + ((l && l.l7) ? l.l7 : \"Retry\") + \"'>\");\r\n\tlf.push(\"   </li>\");\r\n\tlf.push(\" </ul>\");\r\n\tlf.push(\"</form>\");\r\n\t\r\n\tlf.push(\"<div id='license'>Licensed to: \" + (ig$.appInfo ? ig$.appInfo.licensed || \"xxx\" : \"...\") + \"</div>\");\r\n\r\n\tlf.push(\"</div>\"); // login-ic\r\n\tlf.push(\"</div>\");\r\n\t  \r\n\tloginForm = $(lf.join(\"\")).appendTo(logincnt).addClass(\"loginForm\");\r\n\t  \r\n\tvar legal = $(\"<div class='legal'>\"\r\n\t\t+ \"<table border='0' cellpadding='0' cellspacing='0'>\"\r\n\t\t+ \"  <tr>\"\r\n\t\t+ \"\t<td width='78'>&nbsp;</td>\"\r\n\t\t+ \"\t<td width='*' valign='top'><div align='left'>\"\r\n\t\t+ \"\t  <p class='style2'>\" + ig$.copy + \"</p>\"\r\n\t\t+ \"\t  <p class='style1'><span class='style4'>For support please contact</span>\"\r\n\t\t+ \"\t  <a href='https://amplixbi.com' target='_new'>amplixbi.com</a></p>\"\r\n\t\t+ \"\t</div></td>\"\r\n\t\t+ \"  </tr>\"\r\n\t\t+ \"</table></div>\").appendTo(logincnt);\r\n\r\n\tvar build = $(\"<div class='build'>\"\r\n\t\t+ \"<div align='right'><span class='style6'>Build Id: <span id='app_release'\" + (ig$.appInfo && ig$.appInfo.apprelease) + \"</span></span></div>\"\r\n\t\t+ \"</div>\").appendTo(logincnt);\r\n\t\t\r\n\t$(\"<div id='il_err' class='igc-alert-cnt'><div class='igc-alert-bg'></div><div class='igc-alert-body'><div class='igc-alert igc-alert-error'><a class='close'>x</a><h4 class='alert-heading'></h4><span class='igc-errorinfo-msg'></span></div></div></div>\")\r\n\t\t.appendTo(logincnt)\r\n\t\t.hide();\r\n\t\r\n\tvar progress = $(\"<div id='login-progress' class='login-progress'></div>\")\r\n\t\t.css({position: \"absolute\", width:\"100%\", height: \"100%\", top: 0, left: 0, right: 0, bottom: 0})\r\n\t\t.hide().appendTo(logincnt);\r\n\t\r\n\tif (window.IG$.cLogin)\r\n\t{\r\n\t\twindow.IG$.cLogin(loginWindow);\r\n\t}\r\n\t\r\n\tif (instance.target)\r\n\t{\r\n\t\tinstance.target.append(loginWindow);\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$(document.body).append(loginWindow);\r\n\t}\r\n\r\n\tvar twoway_key = $(\"#twoway_key\" + instance.id, loginForm),\r\n\t\ttwoway_key_holder = $(\".twoway_key_holder\", loginForm),\r\n\t\tk = new Array(6);\r\n\r\n\ttwoway_key.hide();\r\n\ttwoway_key_holder.empty();\r\n\r\n\t$.each(k, function(i, v) {\r\n\t\tvar tinput = $(\"<input type='text' class='twoway_key twoway_key_item' value=''></input>\").appendTo(twoway_key_holder);\r\n\t\tk[i] = {\r\n\t\t\tdiv: tinput\r\n\t\t};\r\n\r\n\t\ttinput.bind(\"keyup\", function(e) {\r\n\t\t\tif (e.keyCode == 8 || e.keyCode == 37 || e.keyCode == 46)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar n,\r\n\t\t\t\tnval = [];\r\n\t\t\tfor (n=0; n < k.length; n++)\r\n\t\t\t{\r\n\t\t\t\tif (k[n].div.val() && k[n].div.val().length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tnval.push(k[n].div.val());\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tk[n].div.val(\"\");\r\n\t\t\t\t\tk[n].div.focus();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttwoway_key.val(nval.join(\"\"));\r\n\r\n\t\t\tif (twoway_key.val().length == k.length)\r\n\t\t\t{\r\n\t\t\t\ttwoway_key.trigger(\"done\");\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t\r\n\tIG$.chkSvrInfo(instance, function() {\r\n\t\t$(\"#app_release\", build).text(ig$.appInfo.apprelease);\r\n\t\t$(\"#license\", loginWindow).text(\"Licensed to: \" + (ig$.appInfo.licensed || \"xxx\"));\r\n\t});\r\n\t\r\n\tsetTimeout(function() {\r\n\t\tif (d1)\r\n\t\t{\r\n\t\t\t$(\"#userpassword\" + (instance.id), loginWindow).focus();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$(\"#userid\" + (instance.id), loginWindow).focus();\r\n\t\t}\r\n\t}, 200);\r\n\t\r\n\t$(\"#userpassword\" + (instance.id), loginWindow).bind(\"focus\", function() {\r\n\t\t$(\"#userpassword\" + (instance.id), loginWindow).select();\r\n\t});\r\n\t\r\n\t$(\"#userid\" + (instance.id), loginWindow).bind(\"focus\", function() {\r\n\t\t$(\"#userid\" + (instance.id), loginWindow).select();\r\n\t});\r\n\t\r\n\t$(\"#userpassword\" + (instance.id), loginWindow).bind(\"mouseup\", function() {\r\n\t\tsetTimeout(function() {\r\n\t\t\t$(\"#userpassword\" + (instance.id), loginWindow).select();\r\n\t\t}, 80);\r\n\t});\r\n\t\r\n\t$(\"#userid\" + (instance.id), loginWindow).bind(\"mouseup\", function() {\r\n\t\tsetTimeout(function() {\r\n\t\t\t$(\"#userid\" + (instance.id), loginWindow).select();\r\n\t\t}, 80);\r\n\t});\r\n\t\r\n\tif (addevent !== false)\r\n\t{\r\n\t\t$(\"#b_loc\" + (instance.id), loginWindow).bind(\"change\", function(e) {\r\n\t\t\tvar b_loc = $(\"#b_loc\" + (instance.id), loginWindow),\r\n\t\t\t\tselvalue = $(\"option:selected\", b_loc).val(),\r\n\t\t\t\tredirect = $(location).attr('href'),\r\n\t\t\t\turlinfo;\r\n\t\t\t\r\n\t\t\tif (selvalue && selvalue != window.useLocale)\r\n\t\t\t{\r\n\t\t\t\t$.removeCookie(\"lang\");\r\n\t\t\t\t$.cookie(\"lang\", selvalue, {\r\n\t\t\t\t\tpath: \"/\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\turlinfo = IG$._parse_url(redirect);\r\n\t\t\t\tif (urlinfo.doctype == \"html\")\r\n\t\t\t\t{\r\n\t\t\t\t\turlinfo.params_tag.lang = selvalue;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\turlinfo.params.lang = selvalue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\turlinfo.params_tag.source = \"app\";\r\n\t\t\t\tredirect = IG$._unstrip_url(urlinfo);\r\n\t\t\t\t\r\n\t\t\t\tprogress.show();\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\twindow.location.replace(redirect);\r\n\t\t\t\t\tif (urlinfo.doctype == \"html\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t$(\"#b_theme\" + (instance.id), loginWindow).bind(\"change\", function(e) {\r\n\t\t\tvar b_theme = $(\"#b_theme\" + (instance.id), loginWindow),\r\n\t\t\t\tselvalue = $(\"option:selected\", b_theme).val(),\r\n\t\t\t\tredirect = $(location).attr('href');\r\n\t\t\t\t\t\t\t\r\n\t\t\tif (selvalue != ig$.theme_id)\r\n\t\t\t{\r\n\t\t\t\t$.removeCookie(\"theme\");\r\n\t\t\t\t$.cookie(\"theme\", selvalue, {\r\n\t\t\t\t\tpath: \"/\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\turlinfo = IG$._parse_url(redirect);\r\n\t\t\t\t\r\n\t\t\t\tif (urlinfo.doctype == \"html\")\r\n\t\t\t\t{\r\n\t\t\t\t\turlinfo.params_tag.theme = selvalue;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\turlinfo.params.theme = selvalue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\turlinfo.params_tag.source = \"app\";\r\n\t\t\t\tredirect = IG$._unstrip_url(urlinfo);\r\n\t\t\t\t\r\n\t\t\t\tprogress.show();\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\twindow.location.replace(redirect);\r\n\t\t\t\t\tif (urlinfo.doctype == \"html\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t$(\"#login_btn\" + (instance.id), loginWindow).bind(\"click\", function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\t\r\n\t\t\tvar userid = $(\"#userid\" + (instance.id), loginWindow).val(),\r\n\t\t\t\tpasswd = $(\"#userpassword\" + (instance.id), loginWindow).val();\r\n\t\t\t\t\r\n\t\t\t$(\"#userpassword\" + (instance.id), loginWindow).val(\"\");\r\n\t\t\t$(this).blur();\r\n\t\t\t\r\n\t\t\tif (!userid)\r\n\t\t\t{\r\n\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_USERID\"));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!passwd)\r\n\t\t\t{\r\n\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_PASSWORD\"));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinstance.dlgLogin.getKeyPair(userid, passwd, progress, window.m$mts);\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t\r\n\t\t$(\"#userpassword\" + (instance.id), loginWindow).bind(\"keypress\", function(e) {\r\n\t\t\tif (e.keyCode == 13)\r\n\t\t\t{\r\n\t\t\t\tvar userid = $(\"#userid\" + (instance.id), loginWindow).val(),\r\n\t\t\t\t\tpasswd = $(\"#userpassword\" + (instance.id), loginWindow).val();\r\n\t\t\t\t\t\r\n\t\t\t\t$(\"#userpassword\" + (instance.id), loginWindow).val(\"\");\r\n\t\t\t\t$(this).blur();\r\n\t\t\t\t\r\n\t\t\t\tif (!userid)\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_USERID\"));\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!passwd)\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_PASSWORD\"));\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinstance.dlgLogin.getKeyPair(userid, passwd, progress, window.m$mts);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\t$(\"#twoway_validate\" + (instance.id), loginWindow).bind(\"click\", function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\t\r\n\t\t\tvar twoway_key = $(\"#twoway_key\" + (instance.id), loginWindow).val();\r\n\t\t\t$(\"#twoway_key\" + (instance.id), loginWindow).val(\"\");\r\n\t\t\t$(this).blur();\r\n\t\t\t\r\n\t\t\tif (!twoway_key)\r\n\t\t\t{\r\n\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_TWOWAY_KEY\"));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinstance.dlgLogin.val2FA(twoway_key, progress, window.m$mts);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#twoway_key\" + (instance.id), loginWindow).bind(\"keyup\", function(e) {\r\n\t\t\tif (e.keyCode == 13)\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tvar twoway_key = $(\"#twoway_key\" + (instance.id), loginWindow).val();\r\n\t\t\t\t$(\"#twoway_key\" + (instance.id), loginWindow).val(\"\");\r\n\t\t\t\t$(this).blur();\r\n\t\t\t\t\r\n\t\t\t\tif (!twoway_key)\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_TWOWAY_KEY\"));\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinstance.dlgLogin.val2FA(twoway_key, progress, window.m$mts);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(\"#twoway_key\" + (instance.id), loginWindow).bind(\"done\", function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tvar twoway_key = $(\"#twoway_key\" + (instance.id), loginWindow).val();\r\n\t\t\t$(\"#twoway_key\" + (instance.id), loginWindow).val(\"\");\r\n\t\t\t$(this).blur();\r\n\t\t\t\r\n\t\t\tif (!twoway_key)\r\n\t\t\t{\r\n\t\t\t\tIG$.ShowError(IRm$.r1(\"L_BLANK_TWOWAY_KEY\"));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinstance.dlgLogin.val2FA(twoway_key, progress, window.m$mts);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#twoway_retry\" + (instance.id), loginWindow).bind(\"click\", function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\t$(\"#login_path\").show();\r\n\t\t\t$(\"#twoway_form\").hide();\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn loginWindow;\r\n}\r\n\r\n/**\r\n * show login section for invalide session or timeout\r\n * @memberof module:framework/login\r\n */\r\nIG$.showLogin = function(instance, callback, rs)\r\n{\r\n\t$(\"#idv-mnu-pnl\", instance.target).hide();\r\n\t\r\n\tif (instance.dlgLogin)\r\n\t{\r\n\t\tinstance.dlgLogin.callback = new IG$.callBackObj(this, function() {\r\n\t\t\tinstance.dlgLogin.tl = -1;\r\n\t\t\tIG$.showLoginProc && IG$.showLoginProc(instance);\r\n\t\t});\r\n\t}\r\n\r\n\t$(\"#login_path\").show();\r\n\t$(\"#twoway_form\").hide();\r\n\t\r\n\tif (window.hist)\r\n\t{\r\n\t\twindow.hist.addHistory(\"\");\r\n\t}\r\n\r\n\t// close all windows\r\n\tif (instance._popupDlgs)\r\n\t{\r\n\t\t$.each(instance._popupDlgs, function(i, dlg) {\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tif (dlg && dlg.close)\r\n\t\t\t\t{\r\n\t\t\t\t\tdlg.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (e)\r\n\t\t\t{\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinstance._popupDlgs = [];\r\n\t}\r\n\r\n\t$(\"#robo_close\", \"#robo_main\").trigger(\"click\");\r\n\t\r\n\tvar lform = $(\"#loginWindow\", instance.target),\r\n\t\tbrowser = window.bowser;\r\n\r\n\t$(\"#license\", lform).html(\"Licensed to: \" + (ig$.appInfo ? ig$.appInfo.licensed || \"xxx\" : \"...\"));\r\n\t\t\r\n\tlform.css({zIndex: 99});\r\n\tif (browser.msie)\r\n\t{\r\n\t\tlform.css({position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0, width: \"100%\", height: \"100%\", margin: 0, padding: 0});\r\n\t}\r\n\tlform.show();\r\n}\r\n\r\n/**\r\n * logout action\r\n * @memberof module:framework/login\r\n */\r\nIG$.showLogout = function(callback)\r\n{\r\n\tif (IG$.msgint > -1)\r\n\t{\r\n\t\tclearInterval(IG$.msgint);\r\n\t\tIG$.msgint = -1;\r\n\t}\r\n\t\r\n\tIG$.confirmMessages(IRm$.r1(\"B_CONFIRM\"), IRm$.r1(\"L_T_LOUT\"), function(dlg) {\r\n\t\tif (dlg == \"yes\")\r\n\t\t{\r\n\t\t\tIG$.psst_set(0);\r\n\t\t\t\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\treq.init(null, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"logout\",\r\n\t\t\t\t\tpayload: {},\r\n\t\t\t\t\tmbody: {}\r\n\t\t\t\t}, null, \r\n\t\t\t\tfunction(xdoc){\r\n\t\t\t\t\tIG$.psst_set(0);\r\n\t\t\t\t},\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treq.send();\r\n\t\t\t\r\n\t\t\tIG$.showLogin(callback, 1);\r\n\t\t}\r\n\t});\r\n}\r\n","var IRm$ = {};\r\n\r\nIRm$.locale = [];\r\n\r\nIRm$.r1 = function(rcsid, rvalue, dvalue) {\r\n\tif (!IRm$.currentLocale)\r\n\t{\r\n\t\tvar i;\r\n\t\t\r\n\t\tIRm$.currentLocale = IRm$.locale[0];\r\n\t\t\r\n\t\tfor (i=0; i < IRm$.locale.length; i++)\r\n\t\t{\r\n\t\t\tif (IRm$.locale[i].name == window.useLocale)\r\n\t\t\t{\r\n\t\t\t\tIRm$.currentLocale = IRm$.locale[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar r = rcsid; // ? (IRm$.currentLocale.data[rcsid] || '!RESOURCE_EMPTY!') : null;\r\n\t\r\n\tif (IRm$.currentLocale && IRm$.currentLocale.data[rcsid])\r\n\t{\r\n\t\tr = ig$.vmode == 1 ? rcsid + \"*\" : IRm$.currentLocale.data[rcsid];\r\n\t}\r\n\telse\r\n\t{\r\n\t\tr = (ig$.vmode == 1 ? \"x \" : \"\") + (dvalue ? dvalue : rcsid);\r\n\t}\r\n\t\r\n\tif (r && rvalue)\r\n\t{\r\n\t\tif (typeof(rvalue) == \"string\")\r\n\t\t{\r\n\t\t\trvalue = [rvalue];\r\n\t\t}\r\n\t\t\r\n\t\tif (rvalue.length == 1)\r\n\t\t{\r\n\t\t\tr = r.replace('@', rvalue[0]);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (i=0; i < rvalue.length; i++)\r\n\t\t\t{\r\n\t\t\t\tr = r.replace(\"@\" + (i+1), rvalue[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn r;\r\n}\r\n\r\nIRm$.r2_d/*loadResources*/ = function(bproc) {\r\n\tif (bproc && bproc.func)\r\n\t{\r\n\t\tbproc.func.call(bproc.scope);\r\n\t}\r\n}\r\n\r\nIRm$.r2/*loadResources*/ = function(bproc, b_sysconf) {\r\n\tvar me = null,\r\n\t\treq = new IG$._rpc$(),\r\n\t\tlc = window.useLocale;\r\n\t\r\n\tIRm$.r3/*checkCuddler*/();\r\n\t\t\r\n\treq.init(me, \r\n\t\t{\r\n\t\t\tack: \"content\",\r\n\t\t\tpayload: {uid: \"/SYS_Config/locale/\" + lc},\r\n\t\t\tmbody: {},\r\n\t\t\tmts: \"ROOT\"\r\n\t\t}, me, function(jdoc) {\r\n\t\t\tvar t = jdoc,\r\n\t\t\t\t// tnodes,\r\n\t\t\t\ti, //j, snodes,\r\n\t\t\t\t// loc, sname, svalue,\r\n\t\t\t\t// sloc, \r\n\t\t\t\ttloc;\r\n\t\t\t\t\r\n\t\t\tif (t && t.data)\r\n\t\t\t{\r\n\t\t\t\ttloc = {\r\n\t\t\t\t\tname: t.name,\r\n\t\t\t\t\tdata: {}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < t.data.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\ttloc.data[t.data[i].name] = t.data[i].value;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tIRm$.locale.push(tloc);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (b_sysconf === false)\r\n\t\t\t{\r\n\t\t\t\tif (bproc && bproc.func)\r\n\t\t\t\t{\r\n\t\t\t\t\tbproc.func.call(bproc.scope);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// getting ui configuration from system\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: \"/SYS_Config/ui_config\"},\r\n\t\t\t\t\t\tmbody: {},\r\n\t\t\t\t\t\tmts: window.m$mts || \"ROOT\"\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tif (jdoc.config)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$.each(jdoc.config, function(k, v) {\r\n\t\t\t\t\t\t\t\tif (k == \"report_script\" || k == \"sheet_toolbar\" || k == \"application_title\" || k == \"application_title_html\" || k == \"custom_css\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tig$[k] = IG$._decodeVal(v);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (k == \"helper\")\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t$.each(v, function(l, h) {\r\n\t\t\t\t\t\t\t\t\t\t\th.value = IG$._decodeVal(h.value);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tig$[k] = v;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (ig$.custom_css)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tIG$.impCSS(ig$.custom_css);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (bproc && bproc.func)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbproc.func.call(bproc.scope);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, function() {\r\n\t\t\t\t\t\t// if failed load default values\r\n\t\t\t\t\t\tif (bproc && bproc.func)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbproc.func.call(bproc.scope);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\treq.send(1);\r\n\t\t\t}\r\n\t\t}, function() {\r\n\t\t\tif (bproc && bproc.func)\r\n\t\t\t{\r\n\t\t\t\tbproc.func.call(bproc.scope);\r\n\t\t\t}\r\n\t\t});\r\n\treq.send(1);\r\n}\r\n\r\nIRm$.r3/*checkCuddler*/ = function() {\r\n\tvar me = null,\r\n\t\treq = new IG$._rpc$();\r\n\treq.init(me, \r\n\t\t{\r\n\t\t\tack: \"collaborate\",\r\n\t\t\tpayload: {cmd: \"request_channel\", istest: \"T\"},\r\n\t\t\tmbody: {},\r\n\t\t\tmts: \"ROOT\"\r\n\t\t}, me, function(jdoc) {\r\n\t\t\tif (!jdoc || (jdoc && (!jdoc.channel || !jdoc.instance)))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tlet div_robo_wrap = $(\"#robo_wrap\");\r\n\r\n\t\t\tif (div_robo_wrap.length)\r\n\t\t\t{\r\n\t\t\t\tlet robo_wrap = $(\"#robo_wrap\").show().draggable({\r\n\t\t\t\t\tcontainment: \"parent\" \r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet tw = robo_wrap.parent().width(),\r\n\t\t\t\t\tth = robo_wrap.parent().height();\r\n\r\n\t\t\t\trobo_wrap.css({\r\n\t\t\t\t\ttop: th - robo_wrap.height() - 20,\r\n\t\t\t\t\tleft: tw - robo_wrap.width() - 20 - 170\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet robo_main = $(\"#robo_main\");\r\n\r\n\t\t\t\trobo_main\r\n\t\t\t\t\t.draggable({\r\n\t\t\t\t\t\tcontainment: \"parent\",\r\n\t\t\t\t\t\thandle: $(\".robo_area > .robo_title\", robo_main)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.resizable({\r\n\t\t\t\t\t\tcontainment: \"parent\",\r\n\t\t\t\t\t\thelper: \"ui-resizable-helper\",\r\n\t\t\t\t\t\tmaxHeight: 800,\r\n\t\t\t\t\t\tmaxWidth: 700,\r\n\t\t\t\t\t\tminHeight: 300,\r\n\t\t\t\t\t\tminWidth: 200\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\trobo_main.css({\r\n\t\t\t\t\ttop: th - robo_wrap.height() - 20 - robo_main.height() - 20,\r\n\t\t\t\t\tleft: tw - robo_main.width() - 20\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, function() {\r\n\t\t\t$(\"#robo_wrap\").hide();\r\n\t\t});\r\n\treq.showerror = false;\r\n\treq.send(1);\r\n}\r\n","if (document.querySelector)\n{\n    (function() {\n      var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,\n        __slice = [].slice,\n        __hasProp = {}.hasOwnProperty,\n        __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n        __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n    \n      defaultOptions = {\n        catchupTime: 100,\n        initialRate: .03,\n        minTime: 250,\n        ghostTime: 100,\n        maxProgressPerFrame: 20,\n        easeFactor: 1.25,\n        startOnPageLoad: true,\n        restartOnPushState: true,\n        restartOnRequestAfter: 500,\n        target: 'body',\n        elements: {\n          checkInterval: 100,\n          selectors: ['body']\n        },\n        eventLag: {\n          minSamples: 10,\n          sampleCount: 3,\n          lagThreshold: 3\n        },\n        ajax: {\n          trackMethods: ['GET', 'POST'],\n          trackWebSockets: true,\n          ignoreURLs: []\n        }\n      };\n    \n      now = function() {\n        var _ref;\n        return (_ref = typeof performance !== \"undefined\" && performance !== null ? typeof performance.now === \"function\" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);\n      };\n    \n      requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n    \n      cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n    \n      if (requestAnimationFrame == null) {\n        requestAnimationFrame = function(fn) {\n          return setTimeout(fn, 50);\n        };\n        cancelAnimationFrame = function(id) {\n          return clearTimeout(id);\n        };\n      }\n    \n      runAnimation = function(fn) {\n        var last, tick;\n        last = now();\n        tick = function() {\n          var diff;\n          diff = now() - last;\n          if (diff >= 33) {\n            last = now();\n            return fn(diff, function() {\n              return requestAnimationFrame(tick);\n            });\n          } else {\n            return setTimeout(tick, 33 - diff);\n          }\n        };\n        return tick();\n      };\n    \n      result = function() {\n        var args, key, obj;\n        obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n        if (typeof obj[key] === 'function') {\n          return obj[key].apply(obj, args);\n        } else {\n          return obj[key];\n        }\n      };\n    \n      extend = function() {\n        var key, out, source, sources, val, _i, _len;\n        out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n        for (_i = 0, _len = sources.length; _i < _len; _i++) {\n          source = sources[_i];\n          if (source) {\n            for (key in source) {\n              if (!__hasProp.call(source, key)) continue;\n              val = source[key];\n              if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {\n                extend(out[key], val);\n              } else {\n                out[key] = val;\n              }\n            }\n          }\n        }\n        return out;\n      };\n    \n      avgAmplitude = function(arr) {\n        var count, sum, v, _i, _len;\n        sum = count = 0;\n        for (_i = 0, _len = arr.length; _i < _len; _i++) {\n          v = arr[_i];\n          sum += Math.abs(v);\n          count++;\n        }\n        return sum / count;\n      };\n    \n      getFromDOM = function(key, json) {\n        var data, e, el;\n        if (key == null) {\n          key = 'options';\n        }\n        if (json == null) {\n          json = true;\n        }\n        el = document.querySelector(\"[data-pace-\" + key + \"]\");\n        if (!el) {\n          return;\n        }\n        data = el.getAttribute(\"data-pace-\" + key);\n        if (!json) {\n          return data;\n        }\n        try {\n          return JSON.parse(data);\n        } catch (_error) {\n          e = _error;\n          return typeof console !== \"undefined\" && console !== null ? void 0 : void 0;\n        }\n      };\n    \n      Evented = (function() {\n        function Evented() {}\n    \n        Evented.prototype.on = function(event, handler, ctx, once) {\n          var _base;\n          if (once == null) {\n            once = false;\n          }\n          if (this.bindings == null) {\n            this.bindings = {};\n          }\n          if ((_base = this.bindings)[event] == null) {\n            _base[event] = [];\n          }\n          return this.bindings[event].push({\n            handler: handler,\n            ctx: ctx,\n            once: once\n          });\n        };\n    \n        Evented.prototype.once = function(event, handler, ctx) {\n          return this.on(event, handler, ctx, true);\n        };\n    \n        Evented.prototype.off = function(event, handler) {\n          var i, _ref, _results;\n          if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {\n            return;\n          }\n          if (handler == null) {\n            return delete this.bindings[event];\n          } else {\n            i = 0;\n            _results = [];\n            while (i < this.bindings[event].length) {\n              if (this.bindings[event][i].handler === handler) {\n                _results.push(this.bindings[event].splice(i, 1));\n              } else {\n                _results.push(i++);\n              }\n            }\n            return _results;\n          }\n        };\n    \n        Evented.prototype.trigger = function() {\n          var args, ctx, event, handler, i, once, _ref, _ref1, _results;\n          event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n          if ((_ref = this.bindings) != null ? _ref[event] : void 0) {\n            i = 0;\n            _results = [];\n            while (i < this.bindings[event].length) {\n              _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;\n              handler.apply(ctx != null ? ctx : this, args);\n              if (once) {\n                _results.push(this.bindings[event].splice(i, 1));\n              } else {\n                _results.push(i++);\n              }\n            }\n            return _results;\n          }\n        };\n    \n        return Evented;\n    \n      })();\n    \n      Pace = window.Pace || {};\n    \n      window.Pace = Pace;\n    \n      extend(Pace, Evented.prototype);\n    \n      options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());\n    \n      _ref = ['ajax', 'document', 'eventLag', 'elements'];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        source = _ref[_i];\n        if (options[source] === true) {\n          options[source] = defaultOptions[source];\n        }\n      }\n    \n      NoTargetError = (function(_super) {\n        __extends(NoTargetError, _super);\n    \n        function NoTargetError() {\n          _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);\n          return _ref1;\n        }\n    \n        return NoTargetError;\n    \n      })(Error);\n    \n      Bar = (function() {\n        function Bar() {\n          this.progress = 0;\n        }\n    \n        Bar.prototype.getElement = function() {\n          var targetElement;\n          if (this.el == null) {\n            targetElement = document.querySelector(options.target);\n            if (!targetElement) {\n              throw new NoTargetError;\n            }\n            this.el = document.createElement('div');\n            this.el.className = \"pace pace-active\";\n            document.body.className = document.body.className.replace(/pace-done/g, '');\n            document.body.className += ' pace-running';\n            this.el.innerHTML = '<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>';\n            if (targetElement.firstChild != null) {\n              targetElement.insertBefore(this.el, targetElement.firstChild);\n            } else {\n              targetElement.appendChild(this.el);\n            }\n          }\n          return this.el;\n        };\n    \n        Bar.prototype.finish = function() {\n          var el;\n          el = this.getElement();\n          el.className = el.className.replace('pace-active', '');\n          el.className += ' pace-inactive';\n          document.body.className = document.body.className.replace('pace-running', '');\n          return document.body.className += ' pace-done';\n        };\n    \n        Bar.prototype.update = function(prog) {\n          this.progress = prog;\n          return this.render();\n        };\n    \n        Bar.prototype.destroy = function() {\n          try {\n            this.getElement().parentNode.removeChild(this.getElement());\n          } catch (_error) {\n            NoTargetError = _error;\n          }\n          return this.el = void 0;\n        };\n    \n        Bar.prototype.render = function() {\n          var el, key, progressStr, transform, _j, _len1, _ref2;\n          if (document.querySelector(options.target) == null) {\n            return false;\n          }\n          el = this.getElement();\n          transform = \"translate3d(\" + this.progress + \"%, 0, 0)\";\n          _ref2 = ['webkitTransform', 'msTransform', 'transform'];\n          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n            key = _ref2[_j];\n            el.children[0].style[key] = transform;\n          }\n          if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {\n            el.children[0].setAttribute('data-progress-text', \"\" + (this.progress | 0) + \"%\");\n            if (this.progress >= 100) {\n              progressStr = '99';\n            } else {\n              progressStr = this.progress < 10 ? \"0\" : \"\";\n              progressStr += this.progress | 0;\n            }\n            el.children[0].setAttribute('data-progress', \"\" + progressStr);\n          }\n          return this.lastRenderedProgress = this.progress;\n        };\n    \n        Bar.prototype.done = function() {\n          return this.progress >= 100;\n        };\n    \n        return Bar;\n    \n      })();\n    \n      Events = (function() {\n        function Events() {\n          this.bindings = {};\n        }\n    \n        Events.prototype.trigger = function(name, val) {\n          var binding, _j, _len1, _ref2, _results;\n          if (this.bindings[name] != null) {\n            _ref2 = this.bindings[name];\n            _results = [];\n            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n              binding = _ref2[_j];\n              _results.push(binding.call(this, val));\n            }\n            return _results;\n          }\n        };\n    \n        Events.prototype.on = function(name, fn) {\n          var _base;\n          if ((_base = this.bindings)[name] == null) {\n            _base[name] = [];\n          }\n          return this.bindings[name].push(fn);\n        };\n    \n        return Events;\n    \n      })();\n    \n      _XMLHttpRequest = window.XMLHttpRequest;\n    \n      _XDomainRequest = window.XDomainRequest;\n    \n      _WebSocket = window.WebSocket;\n    \n      extendNative = function(to, from) {\n        var e, key, _results;\n        _results = [];\n        for (key in from.prototype) {\n          try {\n            if ((to[key] == null) && typeof from[key] !== 'function') {\n              if (typeof Object.defineProperty === 'function') {\n                _results.push(Object.defineProperty(to, key, {\n                  get: function() {\n                    return from.prototype[key];\n                  },\n                  configurable: true,\n                  enumerable: true\n                }));\n              } else {\n                _results.push(to[key] = from.prototype[key]);\n              }\n            } else {\n              _results.push(void 0);\n            }\n          } catch (_error) {\n            e = _error;\n          }\n        }\n        return _results;\n      };\n    \n      ignoreStack = [];\n    \n      Pace.ignore = function() {\n        var args, fn, ret;\n        fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n        ignoreStack.unshift('ignore');\n        ret = fn.apply(null, args);\n        ignoreStack.shift();\n        return ret;\n      };\n    \n      Pace.track = function() {\n        var args, fn, ret;\n        fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n        ignoreStack.unshift('track');\n        ret = fn.apply(null, args);\n        ignoreStack.shift();\n        return ret;\n      };\n    \n      shouldTrack = function(method) {\n        var _ref2;\n        if (method == null) {\n          method = 'GET';\n        }\n        if (ignoreStack[0] === 'track') {\n          return 'force';\n        }\n        if (!ignoreStack.length && options.ajax) {\n          if (method === 'socket' && options.ajax.trackWebSockets) {\n            return true;\n          } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {\n            return true;\n          }\n        }\n        return false;\n      };\n    \n      RequestIntercept = (function(_super) {\n        __extends(RequestIntercept, _super);\n    \n        function RequestIntercept() {\n          var monitorXHR,\n            _this = this;\n          RequestIntercept.__super__.constructor.apply(this, arguments);\n          monitorXHR = function(req) {\n            var _open;\n            _open = req.open;\n            return req.open = function(type, url, async) {\n              if (shouldTrack(type)) {\n                _this.trigger('request', {\n                  type: type,\n                  url: url,\n                  request: req\n                });\n              }\n              return _open.apply(req, arguments);\n            };\n          };\n          window.XMLHttpRequest = function(flags) {\n            var req;\n            req = new _XMLHttpRequest(flags);\n            monitorXHR(req);\n            return req;\n          };\n          try {\n            extendNative(window.XMLHttpRequest, _XMLHttpRequest);\n          } catch (_error) {}\n          if (_XDomainRequest != null) {\n            window.XDomainRequest = function() {\n              var req;\n              req = new _XDomainRequest;\n              monitorXHR(req);\n              return req;\n            };\n            try {\n              extendNative(window.XDomainRequest, _XDomainRequest);\n            } catch (_error) {}\n          }\n          if ((_WebSocket != null) && options.ajax.trackWebSockets) {\n            window.WebSocket = function(url, protocols) {\n              var req;\n              if (protocols != null) {\n                req = new _WebSocket(url, protocols);\n              } else {\n                req = new _WebSocket(url);\n              }\n              if (shouldTrack('socket')) {\n                _this.trigger('request', {\n                  type: 'socket',\n                  url: url,\n                  protocols: protocols,\n                  request: req\n                });\n              }\n              return req;\n            };\n            try {\n              extendNative(window.WebSocket, _WebSocket);\n            } catch (_error) {}\n          }\n        }\n    \n        return RequestIntercept;\n    \n      })(Events);\n    \n      _intercept = null;\n    \n      getIntercept = function() {\n        if (_intercept == null) {\n          _intercept = new RequestIntercept;\n        }\n        return _intercept;\n      };\n    \n      shouldIgnoreURL = function(url) {\n        var pattern, _j, _len1, _ref2;\n        _ref2 = options.ajax.ignoreURLs;\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n          pattern = _ref2[_j];\n          if (typeof pattern === 'string') {\n            if (url.indexOf(pattern) !== -1) {\n              return true;\n            }\n          } else {\n            if (pattern.test(url)) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    \n      getIntercept().on('request', function(_arg) {\n        var after, args, request, type, url;\n        type = _arg.type, request = _arg.request, url = _arg.url;\n        if (shouldIgnoreURL(url)) {\n          return;\n        }\n        if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {\n          args = arguments;\n          after = options.restartOnRequestAfter || 0;\n          if (typeof after === 'boolean') {\n            after = 0;\n          }\n          return setTimeout(function() {\n            var stillActive, _j, _len1, _ref2, _ref3, _results;\n            if (type === 'socket') {\n              stillActive = request.readyState < 2;\n            } else {\n              stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);\n            }\n            if (stillActive) {\n              Pace.restart();\n              _ref3 = Pace.sources;\n              _results = [];\n              for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\n                source = _ref3[_j];\n                if (source instanceof AjaxMonitor) {\n                  source.watch.apply(source, args);\n                  break;\n                } else {\n                  _results.push(void 0);\n                }\n              }\n              return _results;\n            }\n          }, after);\n        }\n      });\n    \n      AjaxMonitor = (function() {\n        function AjaxMonitor() {\n          var _this = this;\n          this.elements = [];\n          getIntercept().on('request', function() {\n            return _this.watch.apply(_this, arguments);\n          });\n        }\n    \n        AjaxMonitor.prototype.watch = function(_arg) {\n          var request, tracker, type, url;\n          type = _arg.type, request = _arg.request, url = _arg.url;\n          if (shouldIgnoreURL(url)) {\n            return;\n          }\n          if (type === 'socket') {\n            tracker = new SocketRequestTracker(request);\n          } else {\n            tracker = new XHRRequestTracker(request);\n          }\n          return this.elements.push(tracker);\n        };\n    \n        return AjaxMonitor;\n    \n      })();\n    \n      XHRRequestTracker = (function() {\n        function XHRRequestTracker(request) {\n          var event, size, _j, _len1, _onreadystatechange, _ref2,\n            _this = this;\n          this.progress = 0;\n          if (window.ProgressEvent != null) {\n            size = null;\n            request.addEventListener('progress', function(evt) {\n              if (evt.lengthComputable) {\n                return _this.progress = 100 * evt.loaded / evt.total;\n              } else {\n                return _this.progress = _this.progress + (100 - _this.progress) / 2;\n              }\n            }, false);\n            _ref2 = ['load', 'abort', 'timeout', 'error'];\n            for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n              event = _ref2[_j];\n              request.addEventListener(event, function() {\n                return _this.progress = 100;\n              }, false);\n            }\n          } else {\n            _onreadystatechange = request.onreadystatechange;\n            request.onreadystatechange = function() {\n              var _ref3;\n              if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {\n                _this.progress = 100;\n              } else if (request.readyState === 3) {\n                _this.progress = 50;\n              }\n              return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\n            };\n          }\n        }\n    \n        return XHRRequestTracker;\n    \n      })();\n    \n      SocketRequestTracker = (function() {\n        function SocketRequestTracker(request) {\n          var event, _j, _len1, _ref2,\n            _this = this;\n          this.progress = 0;\n          _ref2 = ['error', 'open'];\n          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n            event = _ref2[_j];\n            request.addEventListener(event, function() {\n              return _this.progress = 100;\n            }, false);\n          }\n        }\n    \n        return SocketRequestTracker;\n    \n      })();\n    \n      ElementMonitor = (function() {\n        function ElementMonitor(options) {\n          var selector, _j, _len1, _ref2;\n          if (options == null) {\n            options = {};\n          }\n          this.elements = [];\n          if (options.selectors == null) {\n            options.selectors = [];\n          }\n          _ref2 = options.selectors;\n          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n            selector = _ref2[_j];\n            this.elements.push(new ElementTracker(selector));\n          }\n        }\n    \n        return ElementMonitor;\n    \n      })();\n    \n      ElementTracker = (function() {\n        function ElementTracker(selector) {\n          this.selector = selector;\n          this.progress = 0;\n          this.check();\n        }\n    \n        ElementTracker.prototype.check = function() {\n          var _this = this;\n          if (document.querySelector(this.selector)) {\n            return this.done();\n          } else {\n            return setTimeout((function() {\n              return _this.check();\n            }), options.elements.checkInterval);\n          }\n        };\n    \n        ElementTracker.prototype.done = function() {\n          return this.progress = 100;\n        };\n    \n        return ElementTracker;\n    \n      })();\n    \n      DocumentMonitor = (function() {\n        DocumentMonitor.prototype.states = {\n          loading: 0,\n          interactive: 50,\n          complete: 100\n        };\n    \n        function DocumentMonitor() {\n          var _onreadystatechange, _ref2,\n            _this = this;\n          this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;\n          _onreadystatechange = document.onreadystatechange;\n          document.onreadystatechange = function() {\n            if (_this.states[document.readyState] != null) {\n              _this.progress = _this.states[document.readyState];\n            }\n            return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\n          };\n        }\n    \n        return DocumentMonitor;\n    \n      })();\n    \n      EventLagMonitor = (function() {\n        function EventLagMonitor() {\n          var avg, interval, last, points, samples,\n            _this = this;\n          this.progress = 0;\n          avg = 0;\n          samples = [];\n          points = 0;\n          last = now();\n          interval = setInterval(function() {\n            var diff;\n            diff = now() - last - 50;\n            last = now();\n            samples.push(diff);\n            if (samples.length > options.eventLag.sampleCount) {\n              samples.shift();\n            }\n            avg = avgAmplitude(samples);\n            if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {\n              _this.progress = 100;\n              return clearInterval(interval);\n            } else {\n              return _this.progress = 100 * (3 / (avg + 3));\n            }\n          }, 50);\n        }\n    \n        return EventLagMonitor;\n    \n      })();\n    \n      Scaler = (function() {\n        function Scaler(source) {\n          this.source = source;\n          this.last = this.sinceLastUpdate = 0;\n          this.rate = options.initialRate;\n          this.catchup = 0;\n          this.progress = this.lastProgress = 0;\n          if (this.source != null) {\n            this.progress = result(this.source, 'progress');\n          }\n        }\n    \n        Scaler.prototype.tick = function(frameTime, val) {\n          var scaling;\n          if (val == null) {\n            val = result(this.source, 'progress');\n          }\n          if (val >= 100) {\n            this.done = true;\n          }\n          if (val === this.last) {\n            this.sinceLastUpdate += frameTime;\n          } else {\n            if (this.sinceLastUpdate) {\n              this.rate = (val - this.last) / this.sinceLastUpdate;\n            }\n            this.catchup = (val - this.progress) / options.catchupTime;\n            this.sinceLastUpdate = 0;\n            this.last = val;\n          }\n          if (val > this.progress) {\n            this.progress += this.catchup * frameTime;\n          }\n          scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);\n          this.progress += scaling * this.rate * frameTime;\n          this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);\n          this.progress = Math.max(0, this.progress);\n          this.progress = Math.min(100, this.progress);\n          this.lastProgress = this.progress;\n          return this.progress;\n        };\n    \n        return Scaler;\n    \n      })();\n    \n      sources = null;\n    \n      scalers = null;\n    \n      bar = null;\n    \n      uniScaler = null;\n    \n      animation = null;\n    \n      cancelAnimation = null;\n    \n      Pace.running = false;\n    \n      handlePushState = function() {\n        if (options.restartOnPushState) {\n          return Pace.restart();\n        }\n      };\n    \n      if (window.history.pushState != null) {\n        _pushState = window.history.pushState;\n        window.history.pushState = function() {\n          handlePushState();\n          return _pushState.apply(window.history, arguments);\n        };\n      }\n    \n      if (window.history.replaceState != null) {\n        _replaceState = window.history.replaceState;\n        window.history.replaceState = function() {\n          handlePushState();\n          return _replaceState.apply(window.history, arguments);\n        };\n      }\n    \n      SOURCE_KEYS = {\n        ajax: AjaxMonitor,\n        elements: ElementMonitor,\n        document: DocumentMonitor,\n        eventLag: EventLagMonitor\n      };\n    \n      (init = function() {\n        var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;\n        Pace.sources = sources = [];\n        _ref2 = ['ajax', 'elements', 'document', 'eventLag'];\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n          type = _ref2[_j];\n          if (options[type] !== false) {\n            sources.push(new SOURCE_KEYS[type](options[type]));\n          }\n        }\n        _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];\n        for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\n          source = _ref4[_k];\n          sources.push(new source(options));\n        }\n        Pace.bar = bar = new Bar;\n        scalers = [];\n        return uniScaler = new Scaler;\n      })();\n    \n      Pace.stop = function() {\n        Pace.trigger('stop');\n        Pace.running = false;\n        bar.destroy();\n        cancelAnimation = true;\n        if (animation != null) {\n          if (typeof cancelAnimationFrame === \"function\") {\n            cancelAnimationFrame(animation);\n          }\n          animation = null;\n        }\n        return init();\n      };\n    \n      Pace.restart = function() {\n        Pace.trigger('restart');\n        Pace.stop();\n        return Pace.start();\n      };\n    \n      Pace.go = function() {\n        var start;\n        Pace.running = true;\n        bar.render();\n        start = now();\n        cancelAnimation = false;\n        return animation = runAnimation(function(frameTime, enqueueNextFrame) {\n          var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;\n          remaining = 100 - bar.progress;\n          count = sum = 0;\n          done = true;\n          for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {\n            source = sources[i];\n            scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];\n            elements = (_ref2 = source.elements) != null ? _ref2 : [source];\n            for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {\n              element = elements[j];\n              scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);\n              done &= scaler.done;\n              if (scaler.done) {\n                continue;\n              }\n              count++;\n              sum += scaler.tick(frameTime);\n            }\n          }\n          avg = sum / count;\n          bar.update(uniScaler.tick(frameTime, avg));\n          if (bar.done() || done || cancelAnimation) {\n            bar.update(100);\n            Pace.trigger('done');\n            return setTimeout(function() {\n              bar.finish();\n              Pace.running = false;\n              return Pace.trigger('hide');\n            }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));\n          } else {\n            return enqueueNextFrame();\n          }\n        });\n      };\n    \n      Pace.start = function(_options) {\n        extend(options, _options);\n        Pace.running = true;\n        try {\n          bar.render();\n        } catch (_error) {\n          NoTargetError = _error;\n        }\n        if (!document.querySelector('.pace')) {\n          return setTimeout(Pace.start, 50);\n        } else {\n          Pace.trigger('start');\n          return Pace.go();\n        }\n      };\n    \n      if (typeof define === 'function' && define.amd) {\n        define(['pace'], function() {\n          return Pace;\n        });\n      } else if (typeof exports === 'object') {\n        module.exports = Pace;\n      } else {\n        if (options.startOnPageLoad) {\n          Pace.start();\n        }\n      }\n    \n    }).call(this);\n}",";(function () {\n\t'use strict';\n\n\t/**\n\t * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n\t *\n\t * @codingstandard ftlabs-jsv2\n\t * @copyright The Financial Times Limited [All Rights Reserved]\n\t * @license MIT License (see LICENSE.txt)\n\t */\n\n\t/*jslint browser:true, node:true*/\n\t/*global define, Event, Node*/\n\n\n\t/**\n\t * Instantiate fast-clicking listeners on the specified layer.\n\t *\n\t * @constructor\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tfunction FastClick(layer, options) {\n\t\tvar oldOnClick;\n\n\t\toptions = options || {};\n\n\t\t/**\n\t\t * Whether a click is currently being tracked.\n\t\t *\n\t\t * @type boolean\n\t\t */\n\t\tthis.trackingClick = false;\n\n\n\t\t/**\n\t\t * Timestamp for when click tracking started.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.trackingClickStart = 0;\n\n\n\t\t/**\n\t\t * The element being tracked for a click.\n\t\t *\n\t\t * @type EventTarget\n\t\t */\n\t\tthis.targetElement = null;\n\n\n\t\t/**\n\t\t * X-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartX = 0;\n\n\n\t\t/**\n\t\t * Y-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartY = 0;\n\n\n\t\t/**\n\t\t * ID of the last touch, retrieved from Touch.identifier.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.lastTouchIdentifier = 0;\n\n\n\t\t/**\n\t\t * Touchmove boundary, beyond which a click will be cancelled.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchBoundary = options.touchBoundary || 10;\n\n\n\t\t/**\n\t\t * The FastClick layer.\n\t\t *\n\t\t * @type Element\n\t\t */\n\t\tthis.layer = layer;\n\n\t\t/**\n\t\t * The minimum time between tap(touchstart and touchend) events\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapDelay = options.tapDelay || 200;\n\n\t\t/**\n\t\t * The maximum time for a tap\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapTimeout = options.tapTimeout || 700;\n\n\t\tif (FastClick.notNeeded(layer)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Some old versions of Android don't have Function.prototype.bind\n\t\tfunction bind(method, context) {\n\t\t\treturn function() { return method.apply(context, arguments); };\n\t\t}\n\n\n\t\tvar methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];\n\t\tvar context = this;\n\t\tfor (var i = 0, l = methods.length; i < l; i++) {\n\t\t\tcontext[methods[i]] = bind(context[methods[i]], context);\n\t\t}\n\n\t\t// Set up event handlers as required\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.addEventListener('click', this.onClick, true);\n\t\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t\t// layer when they are cancelled.\n\t\tif (!Event.prototype.stopImmediatePropagation) {\n\t\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t\t} else {\n\t\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}), capture);\n\t\t\t\t} else {\n\t\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t\t// adding it as listener.\n\t\tif (typeof layer.onclick === 'function') {\n\n\t\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t\t// - the old one won't work if passed to addEventListener directly.\n\t\t\toldOnClick = layer.onclick;\n\t\t\tlayer.addEventListener('click', function(event) {\n\t\t\t\toldOnClick(event);\n\t\t\t}, false);\n\t\t\tlayer.onclick = null;\n\t\t}\n\t}\n\n\t/**\n\t* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.\n\t*\n\t* @type boolean\n\t*/\n\tvar deviceIsWindowsPhone = navigator.userAgent.indexOf(\"Windows Phone\") >= 0;\n\n\t/**\n\t * Android requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS 4 requires an exception for select elements.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS4 = deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n\t/**\n\t * iOS 6.0-7.* requires the target element to be manually derived\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\\d/).test(navigator.userAgent);\n\n\t/**\n\t * BlackBerry requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;\n\n\t/**\n\t * Determine whether a given element requires a native click.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element needs a native click\n\t */\n\tFastClick.prototype.needsClick = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\n\t\t// Don't send a synthetic click to disabled inputs (issue #62)\n\t\tcase 'button':\n\t\tcase 'select':\n\t\tcase 'textarea':\n\t\t\tif (target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'input':\n\n\t\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\t\tif ((deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'label':\n\t\tcase 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames\n\t\tcase 'video':\n\t\t\treturn true;\n\t\t}\n\n\t\treturn (/\\bneedsclick\\b/).test(target.className);\n\t};\n\n\n\t/**\n\t * Determine whether a given element requires a call to focus to simulate click into element.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n\t */\n\tFastClick.prototype.needsFocus = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\t\tcase 'textarea':\n\t\t\treturn true;\n\t\tcase 'select':\n\t\t\treturn !deviceIsAndroid;\n\t\tcase 'input':\n\t\t\tswitch (target.type) {\n\t\t\tcase 'button':\n\t\t\tcase 'checkbox':\n\t\t\tcase 'file':\n\t\t\tcase 'image':\n\t\t\tcase 'radio':\n\t\t\tcase 'submit':\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// No point in attempting to focus disabled inputs\n\t\t\treturn !target.disabled && !target.readOnly;\n\t\tdefault:\n\t\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t\t}\n\t};\n\n\n\t/**\n\t * Send a click event to the specified element.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t * @param {Event} event\n\t */\n\tFastClick.prototype.sendClick = function(targetElement, event) {\n\t\tvar clickEvent, touch;\n\n\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\tdocument.activeElement.blur();\n\t\t}\n\n\t\ttouch = event.changedTouches[0];\n\n\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\tclickEvent = document.createEvent('MouseEvents');\n\t\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\tclickEvent.forwardedTouchEvent = true;\n\t\ttargetElement.dispatchEvent(clickEvent);\n\t};\n\n\tFastClick.prototype.determineEventType = function(targetElement) {\n\n\t\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\t\tif (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\t\treturn 'mousedown';\n\t\t}\n\n\t\treturn 'click';\n\t};\n\n\n\t/**\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.focus = function(targetElement) {\n\t\tvar length;\n\n\t\t// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\t\tif (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {\n\t\t\tlength = targetElement.value.length;\n\t\t\ttargetElement.setSelectionRange(length, length);\n\t\t} else {\n\t\t\ttargetElement.focus();\n\t\t}\n\t};\n\n\n\t/**\n\t * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.updateScrollParent = function(targetElement) {\n\t\tvar scrollParent, parentElement;\n\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\n\t\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t\t// target element was moved to another parent.\n\t\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\t\tparentElement = targetElement;\n\t\t\tdo {\n\t\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\t\tscrollParent = parentElement;\n\t\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tparentElement = parentElement.parentElement;\n\t\t\t} while (parentElement);\n\t\t}\n\n\t\t// Always update the scroll top tracker if possible.\n\t\tif (scrollParent) {\n\t\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t\t}\n\t};\n\n\n\t/**\n\t * @param {EventTarget} targetElement\n\t * @returns {Element|EventTarget}\n\t */\n\tFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\n\t\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\t\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\t\treturn eventTarget.parentNode;\n\t\t}\n\n\t\treturn eventTarget;\n\t};\n\n\n\t/**\n\t * On touch start, record the position and scroll offset.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchStart = function(event) {\n\t\tvar targetElement, touch, selection;\n\n\t\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\t\tif (event.targetTouches.length > 1) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\t\ttouch = event.targetTouches[0];\n\n\t\tif (deviceIsIOS) {\n\n\t\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\t\tselection = window.getSelection();\n\t\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!deviceIsIOS4) {\n\n\t\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\t\t// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,\n\t\t\t\t// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,\n\t\t\t\t// random integers, it's safe to to continue if the identifier is 0 here.\n\t\t\t\tif (touch.identifier && touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\t\tthis.updateScrollParent(targetElement);\n\t\t\t}\n\t\t}\n\n\t\tthis.trackingClick = true;\n\t\tthis.trackingClickStart = event.timeStamp;\n\t\tthis.targetElement = targetElement;\n\n\t\tthis.touchStartX = touch.pageX;\n\t\tthis.touchStartY = touch.pageY;\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.touchHasMoved = function(event) {\n\t\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\t\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Update the last position.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchMove = function(event) {\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If the touch has moved, cancel the click tracking\n\t\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\t\tthis.trackingClick = false;\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Attempt to find the labelled control for the given label element.\n\t *\n\t * @param {EventTarget|HTMLLabelElement} labelElement\n\t * @returns {Element|null}\n\t */\n\tFastClick.prototype.findControl = function(labelElement) {\n\n\t\t// Fast path for newer browsers supporting the HTML5 control attribute\n\t\tif (labelElement.control !== undefined) {\n\t\t\treturn labelElement.control;\n\t\t}\n\n\t\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\t\tif (labelElement.htmlFor) {\n\t\t\treturn document.getElementById(labelElement.htmlFor);\n\t\t}\n\n\t\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\t\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n\t};\n\n\n\t/**\n\t * On touch end, determine whether to send a click event at once.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchEnd = function(event) {\n\t\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tthis.cancelNextClick = true;\n\t\t\treturn true;\n\t\t}\n\n\t\tif ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Reset to prevent wrong click cancel on input (issue #156).\n\t\tthis.cancelNextClick = false;\n\n\t\tthis.lastClickTime = event.timeStamp;\n\n\t\ttrackingClickStart = this.trackingClickStart;\n\t\tthis.trackingClick = false;\n\t\tthis.trackingClickStart = 0;\n\n\t\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t\t// for this to function correctly, it must be called *after* the event target is checked!\n\t\t// See issue #57; also filed as rdar://13048589 .\n\t\tif (deviceIsIOSWithBadTarget) {\n\t\t\ttouch = event.changedTouches[0];\n\n\t\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t\t}\n\n\t\ttargetTagName = targetElement.tagName.toLowerCase();\n\t\tif (targetTagName === 'label') {\n\t\t\tforElement = this.findControl(targetElement);\n\t\t\tif (forElement) {\n\t\t\t\tthis.focus(targetElement);\n\t\t\t\tif (deviceIsAndroid) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ttargetElement = forElement;\n\t\t\t}\n\t\t} else if (this.needsFocus(targetElement)) {\n\n\t\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\t\tif ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focus(targetElement);\n\t\t\tthis.sendClick(targetElement, event);\n\n\t\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\t\t// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)\n\t\t\tif (!deviceIsIOS || targetTagName !== 'select') {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (deviceIsIOS && !deviceIsIOS4) {\n\n\t\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\t\tif (!this.needsClick(targetElement)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendClick(targetElement, event);\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * On touch cancel, stop tracking the click.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.onTouchCancel = function() {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t};\n\n\n\t/**\n\t * Determine mouse events which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onMouse = function(event) {\n\n\t\t// If a target element was never set (because a touch event was never fired) allow the event\n\t\tif (!this.targetElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (event.forwardedTouchEvent) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Programmatically generated events targeting a specific element should be permitted\n\t\tif (!event.cancelable) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t\t// to prevent ghost/doubleclicks.\n\t\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t} else {\n\n\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\t\tevent.propagationStopped = true;\n\t\t\t}\n\n\t\t\t// Cancel the event\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the mouse event is permitted, return true for the action to go through.\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n\t * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n\t * an actual click which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onClick = function(event) {\n\t\tvar permitted;\n\n\t\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\t\tif (this.trackingClick) {\n\t\t\tthis.targetElement = null;\n\t\t\tthis.trackingClick = false;\n\t\t\treturn true;\n\t\t}\n\n\t\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\t\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tpermitted = this.onMouse(event);\n\n\t\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\t\tif (!permitted) {\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\t// If clicks are permitted, return true for the action to go through.\n\t\treturn permitted;\n\t};\n\n\n\t/**\n\t * Remove all FastClick's event listeners.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.destroy = function() {\n\t\tvar layer = this.layer;\n\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.removeEventListener('click', this.onClick, true);\n\t\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n\t};\n\n\n\t/**\n\t * Check whether FastClick is needed.\n\t *\n\t * @param {Element} layer The layer to listen on\n\t */\n\tFastClick.notNeeded = function(layer) {\n\t\tvar metaViewport;\n\t\tvar chromeVersion;\n\t\tvar blackberryVersion;\n\t\tvar firefoxVersion;\n\n\t\t// Devices that don't support touch don't need FastClick\n\t\tif (typeof window.ontouchstart === 'undefined') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Chrome version - zero for other browsers\n\t\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (chromeVersion) {\n\n\t\t\tif (deviceIsAndroid) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\t\tif (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (deviceIsBlackBerry10) {\n\t\t\tblackberryVersion = navigator.userAgent.match(/Version\\/([0-9]*)\\.([0-9]*)/);\n\n\t\t\t// BlackBerry 10.3+ does not require Fastclick library.\n\t\t\t// https://github.com/ftlabs/fastclick/issues/251\n\t\t\tif (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// user-scalable=no eliminates click delay.\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// width=device-width (or less than device-width) eliminates click delay.\n\t\t\t\t\tif (document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)\n\t\tif (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Firefox version - zero for other browsers\n\t\tfirefoxVersion = +(/Firefox\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (firefoxVersion >= 27) {\n\t\t\t// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896\n\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\t\t\tif (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version\n\t\t// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx\n\t\tif (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Factory method for creating a FastClick object\n\t *\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tFastClick.attach = function(layer, options) {\n\t\treturn new FastClick(layer, options);\n\t};\n\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(function() {\n\t\t\treturn FastClick;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = FastClick.attach;\n\t\tmodule.exports.FastClick = FastClick;\n\t} else {\n\t\twindow.FastClick = FastClick;\n\t}\n}());\n\n\n$(function() {\n    FastClick.attach(document.body);\n});"]}