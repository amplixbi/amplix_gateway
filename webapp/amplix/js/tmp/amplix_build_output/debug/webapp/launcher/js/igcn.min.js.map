{"version":3,"sources":["c_expression.js","dlgdatemetric.js","dlgcustommetric.js","mgr_dbmeta.js","mgrtable_html.js","dlg_sel_db.js","mgrrelation.js","dlgmeasure.js","dlg_hierarchy.js","formula.js","codemapping.js","dlgmetric.js","geomapping.js","mgrstyle_cube.js","cube_object_select.js","filter_security.js","cubemodel_st.js","cubemodelview_n.js","cubemodel_linkeditor.js","cubemodel_html_n.js","mgruser_duty.js","dlgcodemap.js","multimeasure.js","querytool.js","sqlcube_sqlwizard.js","dlgmetriceditor.js","dlgmeasureditor.js","udg.js"],"names":["IG$","$expr","$s","extend","window","modal","layout","closable","resizable","width","autoHeight","init_view","i","ctrl","this","down","addEventListener","commit_f","me","validate_expression","callback","execute","close","initComponent","apply","items","xtype","type","align","flex","title","IRm$","r1","store","fields","hidezoom","name","tbar","text","buttons","handler","scope","bodyCls","listeners","afterrender","tobj","superclass","call","datemetric","region","height","init_f","datediv","setTitle","_datetypes","label","datetypes","length","push","loadData","uid","procLoadContent","rs_procLoadContent","content","meta_type","req","_rpc$","init","ack","payload","mbody","option","send","jdoc","mobj","rel_items","setValue","description","dateformatting","issql","dateformat","cubeuid","loadSubCnt","getCubeInfo","getParentCube","parentuid","callBackObj","rs_getCubeInfo","tnode","subfolder","itemtype","readcontent","rs_loadSubCnt","sitem","k","v","tnodes","children","selmodel","getSelectionModel","custominfo","clear","smeta","datedivision","customdatetype","data","get","select","set","expression","closedlg","_confirm","fieldname","clearInvalid","getValue","checkFields","getGroupValue","database_type","setLoading","pid","nodepath","parentnodepath","rs_writeCnt","markInvalid","dname","dispname","item","datenames","majorDateformat","daterecs","addr","cnt","n","rname","cdatetype","overwrite","defaults","toUpperCase","predefinetype","custom_type","sorttype","getCustExpr","rs_updateDateCnt","alertmsg","ig$","appname","div","r","toLowerCase","dbformat","sqlDateFormat","dfield","replace","selectField","dlgitemsel","metaSelectDlg","instance","visibleItems","tree_options","cubebrowse","rootuid","cubeSelectedHandler","checkLogin","border","padding","autoScroll","_fasl","fieldLabel","required","vertical","boxLabel","inputValue","emptyText","readOnly","iconCls","tooltip","show_tmpl_hlp","selType","selModel","mode","plugins","ptype","clicksToEdit","columns","dataIndex","tdCls","editor","allowBlank","cellclick","view","node","c","rec","rindex","e","mc","mainpanel","mainPanel","ctype","writable","navigateApp","ui","arguments","customMetricInner","formpanel","bodyBorder","loadedItem","changeDateFormat","optdateformat","dt","_upd_ui","sel","updateDateFormat","dmode","on","field","newvalue","oldvalue","opts","dmode_cnt","cubeinfo","styles","optsortdir","optsorttype","optstyle","app_style","default_styles","custom_styles","clItem","wd","setVisible","cb_sortdir","sortorder","cb_sorttype","removeblank","isdatetype","datecustom","grouping","link_option","groupmin","groupmax","stepinterval","groupminlabel","groupmaxlabel","grouplabel","groupformat","l_tp","l_nm","l_elnk","l_elnk_tgt","l_rpt_name","l_rpt_uid","l_rpt_tmpl","disp","$","each","arr","cube_style","obj","t","stylename","rs_getParentcube","loadTemplate","citem","p","enode","export_option","otmpl","dp","seq","export_type","applyDateFormat","rs_updateDateFormat","df","mdf","setFieldValue","g","othergroupvalue","groupdatagrid","gitems","groupfilter","values","operator","geolat","geolng","cmap_disp","dim_parent","dim_disp","f_","split","l_par_option","l_par_disp_option","storeitem","gfilter","d","datagrid","groupfilterstore","ftype","memo","saveContent","doc","rs_saveContent","selectItem","multiselect","selectReport","bexist","add","cmap_uid","addBlankCondition","editFilter","filter","record","valueSelectWindow","rs_editFilter","show","selvalues","param","value","code","editorItemName","itemname","_inpEdt$","queryMode","displayField","valueField","editable","autoSelect","change","l_tr","tval","bext","labelWidth","use_expr","setDisabled","hidden","anchor","fieldDefaults","autowidth","sortable","grid","rowIndex","colIndex","getAt","removeAt","viewConfig","stripeRows","ddGroup","beforedrop","dropRec","dropPosition","dropFunction","rc","records","typename","copy","panel","indexOf","drop","itemdblclick","index","event","Option","hideLabel","allowBlack","stateful","clickToEdit","labelField","isvalue","ev","op","edit","evalue","column","trim12","pack","ri","getSelection","remove","insert","defaultType","$h","plain","checked","nvalue","ovalue","eOpt","minValue","maxValue","allowDecimals","decimalPrecision","step","eOpts","t_format","d_format","menu","objectinfo","getMeasures","dlg","multiMeasure","mitem","vmode","reg_measures","cindex","edit_customfield","setTimeout","custommetric","isWindow","cubepath","p$DbMeta","bodyPadding","_init","_loadDbMeta","refresh","checkSelector","td","cellIndex","tbfield","ttbname","tb","mreq","selected","opt","target_folder","tables","jobkey","showScheduler","tableManager","v$pnl","mcnt","t_edit_sql","_ctxtmn","el","dom","$snippet","sql","_apndT","snippet","join","getLCnt","_ds","datasource","refLCnt","_mc","highlight","getCnt","sel_db","refRoot","rnode","cube_tree","leaf","__stagingdb","setRootNode","getRootNode","expand","refCnt","ds","dbo","setText","dbtype","targetdb","options","sf_targetdb","essbase_targetdb","sapbw_targetdb","ws_targetdb","excel_loader","custom_click_func","ltype","_s1","load_fields","_load_cubemodel","custom_expand_func","isRoot","childNodes","removeAll","_load_dataset","mpanel","obj_uid","cubemodel","m$CubeModel","load_fields_grid","uitem","t_recommend","utype","snodes","file_field","seq_field","allow_insert","grdfields","iconcls","get_metatype_icon","subitem","physical_name","attributes","attrb3","datatype","get_datatype","attrb4","sortMeta","appendChild","nodetype","tb_info","getLayout","setActiveItem","hide","_s1c","external_name","attrb2","_decodeVal","edit_dimension","mp","createItem","b_topfolder","snode","_createMetaObject","isexpand","tbarHndlr","cmd","sop","stype","saveCnt","extrDbMeta","checkTargetFolder","cube_object_select","registerSelectedTable","dbpool","sqlcube_wizard","wmode","sheetoption","rsInlineView","bobj_datasource","bobj_uid","metaExpDlg","meta","build_model","rename_tool","relationMgr","isdown","dlgLoadPreview","inlineview","table","reg_links","batchUpdateSchema","saveFields","dlg_compare_field","schema","dval","dmap","rmap","payloads","status","changedprop","deleteFields","showHighlightOptions","showSecurityFilter","targetobj","oname","address","rawuid","rawtype","dlg_boopt","securityfilter","pop","securityFilter","mgrUserDuty","_userAuth","x","sid","clFilterGroup","auth","active","showSecurityFilterEditor","isnewitem","filterEditorWindow","model","cube_object","reportoption","fitem","confirmMessages","dlg_schemaname","topt","pvalue","$d_hlconfig","_piobj","dlg_select_ds","sel_mode","bsave","attrb1","rdata","scontent","schemaname","dimension","tablename","db_datatype","_refresh_grid","refreshAll","_updIV","ShowError","s","st","CopyObject","pitem","formula","isNumericType","formula_desc","metaitems","mfolder","pcube","rs_reg_measures","multiRename","_recommend","pvRecom","rs_saveRegMeasures","cname","cdiv","ditems","cuid","XGetAttr","j","cloc","measurename","xdoc","rtype","pool","_c$","product_code","object_type","refreshTree","validateQuery","query","_encodeVal","jrs","m1fstore","naviTree","showtoolbar","enabledrag","_search","isdatasource","toolbar","html","labelAlign","disabled","bbar","iview","enableDrop","enableDrag","hideable","header","menuDisabled","renderer","deleteMetaObject","beforeedit","eopts","enabled","__dbtype","colIdx","dockedItems","dock","enableKeyEvents","keyup","keyCode","_dofilter","features","tooltipType","refreshFields","msg","propdesc","has_remove","dgrid","avalue","nlp_bo_suggest","dbs","dsource","_pull","id","cb_dbtype","dbtype_val","loadRelation","grd","lreq","detail","grd_rel","txtrel","minHeight","minWidth","metadata","png_rel_sub","measureEditor","expressionChange","cpath","mpath","splice","optdisplay","measure_filter","exptype","expressiontype","HierarchyEditor","display_type","moveGridSelection","direction","getStore","getCount","grd_data","formulaEditor","r_confirm","codeMappingPanel","rfilter1","rfilter2","rfilter3","_sel_table","cbfield","cbcodefield","cbsortfield","c_viewmode","rftb1","rftxt1","rftb2","rftxt2","rftb3","rftxt3","rftc1","rftc2","rftc3","fname","fcname","fsname","tname","edited","loadContent","codetableuid","loadField","rs_loadField","cf1","cv1","cs1","mcval","f","fval","fpath","fop","ival","iop","ctrlfield","ctrlcodefield","ctrlsortfield","cf","cv","cs","viewmode","substring","operatordp","filteropcodes","key","locale","checkboxToggle","d_m","collapsed","collapse","metricEditor","optremoveblank","usegeocode","metric","enable_geocode","mask","pattern","pattern_replace","aes_pp","lastIndexOf","dateitems","rpt_meta_type","rs_saveCnt","formulas","rs_loadItemContent","loadItemContent","applyItemInfo","optsortitemname","optdispitemname","optcommentitemname","masktype","opt_sort_item","opt_disp_item","opt_comment_item","grd_measures","folderItems","rs_cubeSelectedHandler","customstyles","pitmes","mpattern","mpattern_rep","patterns","pt","pitems","pb1","aes_passph","geoMapping","in$t","georeqtype","geo_encoding","getValueList","rs_getValueList","result","inline_data","geoEncode","row","action","rs_geoEncode","res","geo","XGetNode","XGetChildNodes","geocoder","_I19","XGetTextVal","Base64","decode","getGeoCode","lat","lng","updateGeoData","geosql","rs_updateGeoData","cubeStyle","globalstyle","globalstylemap","styleinfo","loadGlobalStyle","rs_loadGlobalStyle","mnode","themes","bsds","nodenames","theme_id","basestylename","loadLocalStyle","cstree","unode","stylelist","ltree","c_cset","custom","expanded","editStyleItem","form_header","form_data","commitStyleItem","_edtItem","_valForm","loadStyleData","nname","updateStyleData","toolbarHandler","makeStyle","rs__appendCustomStyle","srec","params","robj","urecord","rootnode","nodename","nrecord","_record","_appendNode","formHeader","styleEditor","htype","formData","copt","__chartoption","chartcolors","preventHeader","rootVisible","hideHeaders","root","folderSort","useArrows","getClass","isLeaf","itemclick","bs","alias_map","_aliasLoaded","curnode","cursop","_getDB","poolname","fschema","svalue","username","dvalue","schemas","_isValid","foolonly","_searchTb","src_keyword","sname","_getTable","keyword","db_uid","search","rs__getTable","b_content","allow_insert_desc","_regTables","reverse","lrec","grid_sc","grid_st","typeAhead","forceSelection","component","_key","_addFilter","authname","gridduty","authSet","seqids","loadSecurityFilter","mindex","multiSelect","fnodes","onode","zoom","groupview","relations","fixKeyMode","m$TblObj","joins","source","target","ranged","prototype","stageX","bbox","box","left","pobj","scrollPanel","offset","top","innerGrid","body","stageY","bdom","sobj","skey","m","getHeight","bodyWidth","getWidth","bodyHeight","getXML","cubeModelViewer","viewer","dialog","links","zoomRatio","lineMode","_mouseActionPoint","container","css","position","bottom","right","overflow","appendTo","paint","j$ext","_w","_h","backgroundColor","appendScrollBar","droppable","allowDrop","bind","validateSize","level","nzoom","transform","dropZone","create","dropzone","nodeouttimer","getTargetFromEvent","px","browserEvent","pageX","clientX","py","pageY","clientY","getRendererByPoint","notifyOut","dd","lastOverNode","onNodeOut","isDragging","hideDropFeedback","accept","pivotmove","sheetobj","clearTimeout","onNodeEnter","cellData","onNodeOver","ret","Ext","DropZone","dropAllowed","dropNotAllowed","onNodeDrop","onDropRecord","focusTable","boff","doff","$ex","_psel","$view","removeClass","addClass","animate","scrollTop","Math","max","scrollLeft","scrollbar","rcanvas","Raphael","_ca","scrollHandler","y","w_o6","w_o5","h_o6","h_o5","h_container","h_scrollPanel","a","scrollpanel","dx","dy","clearAll","empty","validateTimer","validateSizeProc","w","h","setViewBox","setSize","validateLinks","addBox","main","b","tableBox","collapsePanel","_mcfixKeyMode","addLink","fobj","link","l","fromobj","toobj","LinkField","removeTbl","c1","bl","updateUsedTable","validateTables","validateJoins","tbbox","owner","theight","renderTo","draggable","minimizable","alwaysFramed","move","cpa","fixKeyVal","g_key","headerButtons","toolel","pheader","doSearch","_loadModel","mtb","stables","_loadField","tbl","_tables","jnode","alias","iskey","allowDrag","tableuid","col","gfields","gkeys","hasjoin","g_fields","hnode","gh","bf","getView","getNode","min","adjHeight","mh","setHeight","searchField","__s","searchFlt","gs","clearFilter","filterBy","gname","ownerCt","scroll","enableDragDrop","enableDD","ffield","tfield","onDropField","afterScroll","enableColumnHide","checkedAll","cls","checkchange","headerclick","ct","scrollershow","scroller","orientation","grid1","loadTableContent","previewSQL","m_disp","tdiv","stopPropagation","preventDefault","start","stop","size","resize","owidth","oheight","startmove","config","setPosition","_fromDir","_toDir","validateDirection","z","fo","to","fow","tow","showLinkEditor","linkEditor","rs_showLinkEditor","showDlg","updateJoinFields","_i","p1","p2","p3","p4","_cp","nlinks","thickness","cgap","cdist","stroke","fill","opacity","btype","iz","fromdirection","todirection","p1dist","lineInterpolate","path","attr","gap","bobj","ldesc","cspan","linkFieldEditor","_target","joinobj","_curLink","selR","btn_upd","__i","sfield","oprel","getDispName","removeLink","mfound","bfound","curLink","plinks","confirmChanges","editField","issource","newValue","oldValue","$w","desc","cobj","cval","op_desc","CubeModel","collapseFirst","collapsible","animFloat","autoHide","useSplitTips","initialized","overflowX","overflowY","load_content","checkLock","rs_load_content","loadPool","tboname","boname","_$bo","setTooltip","updatePoolInfo","tarr","mnodes","db","charAt","tbnames","b_onload","b_last","o","tmc","nsname","ntname","nfield","mbox","pw","ph","tablemap","mRel","s0","t0","s1","t1","s2","t2","r0","sdesc","tdesc","et","getX","getY","updateModel","tboffset","_tmc","_smc","rel","mainoffset","joinkeys","source_field_formula","target_field_formula","copyObject","newitem","fireEvent","fnode","src","tgt","saveAsContent","auto_join","beutify_diagram","dlgTableOrder","loadDatabaseTable","key1","key2","njoins","_cnames","get_auto_join","JoinRec","k1","k2","sjoin","mjoin","clength","has_id_field","targetmc","tbmc","treeitem","relation","trees","isolated_tbs","tablesmap","parent","childnodes","jointable","fact_table","gather_join_tables","update_table_hierarchy","mpos","max_h","update_position","tree","pmap","sort","n1","update_linklist","jtable","pnode","mx","my","mtable","srelation","stable","rs_loadDatabaseTable","used","afterclose","saveNewContent","_r_join","cmodel","rels","searchRelationship","txt_rel","val","rs_custom_click_func","isclick","n$navTreeCom","showCustomMenu","customMenu","itemaddr","itemuid","manageable","_gitemname","_renameMetaObject","showcheckselect","tpl","tools","eopt","p_joins","isVisible","bo","api","m_explorer","changeApp","navigateTree","beforeclose","grd_tables","sortindex","changeOrder","mgrid","sm","dataset","passwd","tb_mc","err_load_content","dkey","headers","dnode","cols","dataview","umap","delimiter","mapping","$data","reconfigure","jsrc","jtgt","gmain","stableuid","ttableuid","ttable","gridduty_sel","loadDutyList","rs_loadDutyList","duty","duties","duties_sel","moveDuty","grd_source","grd_target","codemapping","i_cset_g","displabel_c","p_1a","p_1","dtype","sql_data","static_data","i_cdata","i_cset","checkboxCmp","color","displabel","_getDsource","cbdatasource","dlgLogin","jS2","_getMeta","revision","pname","_applyMeta","_applyVal","i_cset_m","_moveGrdSel","p_3_data","mdlgmode","dlgalias","getAllValues","_fdata","measureview","clocation","tmpl","m_f","_r","_c","mname","ritem","_parentpath","citems","createstructure","fieldid","expression_type","calcmode","_getfmtvalue","mf","test","cfunc","fvalue","mvalue","cvalue","_fmt_formu","COUNT","COUNT_DISTINCT","SUM","MIN","MAX","AVG","apply_template","measure_naming","columnLines","triggerAction","selectOnTab","lazyRender","listClass","fbar","customstyle","measures","formatvalue","nformat","rs_rename_tool","orig_filename","photo","mform","__cprog","getRawValue","getForm","document","charset","submit","url","servlet","waitMsg","success","fp","errorReader","jsonData","clearValue","processUploadedFile","apply_template_final","fileuid","__dict","sval","line","renamemask","remove_underline","pwords","pwordsmap","kmap","cc","_alias","aliasmap","_upd_alias","lt","aval","measureviewstore","lns","m1","m2","_g$a","msgTarget","buttonText","buttonConfig","margin","rowindex","colindex","m2ER","grdrecom","ai_pivot_msg","recommends","suggestions","messages","is_saved","_createRpt","colmap","mgroup","cube_objects","objinfo","rpt","clReports","sht","clReport","sheets","aggrfunc","rows","getCurrentPivot","reports","rowHeight","subtype","chart_option","popup_editor","d$QryTool","updateChanges","columngrid","sqloption","sqlquery","dataoption","datadelimiter","coldelimiter","valuetype","confirmDialig","rs_loadPool","ctrlpool","ctrlquerytype","XGetAttrProp","getMetaInfo","method","rs_getMetaInfo","results","delim","gcols","storecolumn","maxHeight","lpanel","setAllValues","multimetric","selection","CheckboxModel","storeContent","appendSelection","removeSelection","updateValues","bclose","mdata","getElementContent","XUpdateInfo","rs_storeContent","buildCube","rs_buildCube","ppnode","datanode","refreshContent","rs_refreshContent","sequence","updateTreeNode","appendElementTree","childs","nodeid","nodetext","mtree","appendNodeElement","subchilds","rs_updateTreeNode","elemtree","rebuildTree","ks","pvaluedesc","pvalues","ncell","nmax","Number","isNaN","valuedesc","removeSelectedRow","removeChild","multiMeasureEditor","edt","CMolapMeasure","measuretype","baseItem","parseMeasure","isDisinct","hasChildNodes","child","nodevalue","getMeasureXML","baseitem","multimeasure","constructor","layoutConfig","measureObj","selectCombo","pivotSelectionChangedHandler","selvalue","resetMeasureUI","metricSelectedHandler","baseItemField1","form","TextField","stabcontainer","Container","afterlayout","addPivotSelectHandler","selectBoxAdded","tindex","stab","_udgeditor","rs_loadCnt","groupdata","targetitem","usesum","expandall","othervalues","_updateTreeNode","_getBO","rs_getBO","udgtree","_updateStoreTree","_save","_appendSel","_removeSel","_removeSelRow","treedata","_buildNode","tarray","dfilter","udgtype","cell","parentNode","insertChild","_selItem","_updateValues","udgValSel","_loadExternal","selmode","syntax","singleExpand","celldblclick","tr","udgGroupName","seldatas","smode","_viewmode","_$valsel","d$ValSel","prompt"],"mappings":"AAAAA,IAAIC,MAAQC,GAAGC,OAAOD,GAAGE,OAAQ,CAEhCC,OAAO,EACPC,OAAQ,MACRC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPC,YAAY,EAEZC,UAAW,WACV,IACCC,EACAC,EAED,IAAKD,EAAE,EAAGA,EAAI,GAAIA,KAEjBC,EANQC,KAMEC,KAAK,YAAcH,EAAE,GAAK,OAInCC,EAAKG,iBAAiB,SAAS,WAC/B,GAGH,EAEAC,SAAU,WACT,IAAIC,EAAKJ,KAEJI,EAAGC,wBAKRD,EAAGE,UAAYF,EAAGE,SAASC,UAE3BH,EAAGI,QACJ,EAEAH,oBAAqB,WAGpB,OAFQ,CAGT,EAEAI,cAAe,WACdrB,GAAGsB,MAAMV,KAAM,CAEdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPG,KAAM,EACNJ,MAAO,CACN,CACCC,MAAO,YACPI,MAAOC,KAAKC,GAAG,YACfC,MAAO,CACNC,OAAQ,CAAC,OAAQ,WAGnB,CACCR,MAAO,YACPI,MAAOC,KAAKC,GAAG,eACfC,MAAO,CACNC,OAAQ,CAAC,OAAQ,aAKrB,CACCR,MAAO,WACPS,UAAU,EACVC,KAAM,aACNP,KAAM,EACNQ,KAAM,CACL,CACCC,KAAM,IACNF,KAAM,OAEP,CACCE,KAAM,IACNF,KAAM,OAEP,CACCE,KAAM,IACNF,KAAM,OAEP,CACCE,KAAM,IACNF,KAAM,OAEP,CACCE,KAAM,IACNF,KAAM,OAEP,CACCE,KAAM,KACNF,KAAM,OAEP,CACCE,KAAM,cACNF,KAAM,OAEP,CACCV,MAAO,WACPjB,MAAO,GACPwB,MAAO,CACNC,OAAQ,CAAC,OAAQ,gBAQxBK,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,cACdQ,QAAS,WACR1B,KAAKK,qBACN,EACAsB,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKG,UACN,EACAwB,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAASC,GACrB/B,KAAKH,WACN,EACA8B,MAAO3B,QAITd,IAAIC,MAAM6C,WAAWvB,cAAcwB,KAAKjC,KACzC;AC3JDd,IAAIgD,WAAa9C,GAAGC,OAAOD,GAAGE,OAAQ,CACrCC,OAAO,EACP4C,OAAO,SACP1C,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEV+B,OAAQ,WACP,IACCvC,EADGM,EAAKJ,KAERsC,EAAUlC,EAAGH,KAAK,kBAgDnB,IA9CAG,EAAGmC,SAAStB,KAAKC,GAAG,SAAWd,EAAGkB,KAAO,KAAOlB,EAAGkB,KAAO,IAAM,KAE3DpC,IAAIgD,WAAWM,aAEnBtD,IAAIgD,WAAWM,WAAa,CAC3B,CACCC,MAAOxB,KAAKC,GAAG,UACfI,KAAM,QAEP,CACCmB,MAAOxB,KAAKC,GAAG,aACfI,KAAM,WAEP,CACCmB,MAAOxB,KAAKC,GAAG,WACfI,KAAM,MAEP,CACCmB,MAAOxB,KAAKC,GAAG,SACfI,KAAM,MAEP,CACCmB,MAAOxB,KAAKC,GAAG,eACfI,KAAM,MAEP,CACCmB,MAAOxB,KAAKC,GAAG,UACfI,KAAM,QAEP,CACCmB,MAAOxB,KAAKC,GAAG,UACfI,KAAM,QAEP,CACCmB,MAAOxB,KAAKC,GAAG,UACfI,KAAM,MAEP,CACCmB,MAAOxB,KAAKC,GAAG,YACfI,KAAM,QAKTlB,EAAGsC,UAAY,GAEV5C,EAAE,EAAGA,EAAIZ,IAAIgD,WAAWM,WAAWG,OAAQ7C,IAE/CM,EAAGsC,UAAUE,KAAK,CACjBtB,KAAMpC,IAAIgD,WAAWM,WAAW1C,GAAGwB,KACnCmB,MAAOvD,IAAIgD,WAAWM,WAAW1C,GAAG2C,QAItCH,EAAQnB,MAAM0B,SAASzC,EAAGsC,WAEtBtC,EAAG0C,IAEN1C,EAAG2C,kBAIH3C,EAAG4C,mBAAmB,CACrBC,QAAS,CACRC,UAAW,mBAIf,EAEAH,gBAAiB,WAChB,IAAI3C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK9C,KAAK8C,KACpBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAG4C,mBAAoB,MAC/BG,EAAIO,MACL,EAEAV,mBAAoB,SAASW,GAC5B,IACCC,EAEAC,EAHGzD,EAAKJ,KAKTI,EAAGH,KAAK,mBAAmB6D,SAASH,EAAKrC,MACzClB,EAAGH,KAAK,sBAAsB6D,SAASH,EAAKI,aAI5CF,GAFAD,EAAOxD,EAAGwD,KAAOD,EAAKV,SAELY,UAEVzD,EAAGH,KAAK,4BACV6D,SAAS,CAACE,eAAiBJ,EAAKK,MAAQ,UAAY,eAEzD7D,EAAGH,KAAK,qBAAqB6D,SAASF,EAAKM,YAAc,IACzD9D,EAAGH,KAAK,oBAAoB6D,SAASD,GAAaA,EAAUlB,OAASkB,EAAU,GAAGvC,KAAO,IAEpFsC,EAAKO,QAID/D,EAAG0C,KAEX1C,EAAGgE,aAJHhE,EAAGiE,aAML,EAEAA,YAAa,WACZ,IAAIjE,EAAKJ,KAETd,IAAIoF,cAAcrC,KAAK7B,EAAIA,EAAG0C,IAAK1C,EAAGmE,UAAW,IAAIrF,IAAIsF,YAAYpE,GAAI,SAASuD,GACjFvD,EAAGqE,eAAed,EACnB,IACD,EAEAc,eAAgB,SAASd,GACxB,IAAIvD,EAAKJ,KACR0E,EAAQf,GAAQA,EAAKhB,OAASgB,EAAK,GAAK,KAEzCvD,EAAGwD,KAAKO,QAAUO,EAAM5B,IAEpB1C,EAAG0C,KAEN1C,EAAGgE,YAEL,EAEAA,WAAY,WACX,IAAIhE,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK9C,KAAK8C,KACpBU,MAAO,CAACmB,UAAW,IAAKC,SAAU,eAAgBC,YAAa,MAC7DzE,EAAIA,EAAG0E,cAAe,MAC1B3B,EAAIO,MACL,EAEAoB,cAAe,SAASnB,GACvB,IAEC7D,EACAiF,EAIAC,EAAGC,EAPA7E,EAAKJ,KACRkF,EAASvB,EAAKwB,UAAY,GAG1B7C,EAAUlC,EAAGH,KAAK,kBAClBmF,EAAW9C,EAAQ+C,oBACnBC,EAAa,CAAC,EAKf,IAFAF,EAASG,QAEJzF,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,IAE5B0F,MAAQN,EAAOpF,IACfiF,EAAQG,EAAOpF,GAAGmD,WAGjBqC,EAAWP,EAAMU,cAAgBV,EAEP,UAAtBA,EAAMU,cAETrF,EAAGH,KAAK,yBAAyB6D,SAASiB,EAAMW,iBAOnD,IAFAtF,EAAGkF,WAAaA,EAEXxF,EAAE,EAAGA,EAAIwC,EAAQnB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAG9CmF,EAAIK,GADJN,EAAI1C,EAAQnB,MAAMwE,KAAKhF,MAAMb,IACZ8F,IAAI,YAGpBR,EAASS,OAAOb,GAAG,GACnBA,EAAEc,IAAI,WAAYb,EAAE3D,MACpB0D,EAAEc,IAAI,SAAUb,EAAEc,YAGrB,EAyBAC,SAAU,WACThG,KAAKQ,QACLR,KAAKM,UAAYN,KAAKM,SAASC,SAChC,EAEA0F,SAAU,WACT,IAAI7F,EAAKJ,KACRkG,EAAY9F,EAAGH,KAAK,oBAIrB,GAFAiG,EAAUC,eAEL/F,EAAGwD,KAKR,GAAKsC,EAAUE,YAMf,GAAKlH,IAAImH,YAAYjG,EAAI,CAAC,aAA1B,CAGAA,EAAGwD,KAAKtC,KAAOlB,EAAGH,KAAK,mBAAmBmG,WAC1ChG,EAAGwD,KAAKG,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAEpD,IACClC,EAAa9D,EAAGH,KAAK,qBACrB+D,EAAiB5D,EAAGH,KAAK,yBAGzBgE,GAFAC,EAAa9D,EAAGH,KAAK,qBAEJ,WADV+D,EAAesC,iBAEtB1C,EAAOxD,EAAGwD,KAOX,GALAA,EAAKK,MAAQA,EACbL,EAAKM,WAAaA,EAAWkC,WAC7BxC,EAAK2C,cAAgB,OACrBrC,EAAWiC,eAENlC,GAAUL,EAAKM,WAApB,CAMA,IAAIf,EAAM,IAAIjE,IAAIkE,MAElBhD,EAAGoG,YAAW,GAEdrD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK2D,IAAKrG,EAAGmE,UAAWjD,KAAMsC,EAAKtC,KAAMyC,YAAaH,EAAKG,YAAalD,KAAMT,EAAGwE,UAAYhB,EAAK/C,KAAM6F,SAAWtG,EAAGuG,eAAiBvG,EAAGuG,eAAiB,IAAM/C,EAAKtC,KAAO,MAC/LkC,MAAOI,EACPV,UAAW,kBACT9C,EAAIA,EAAGwG,aACXzD,EAAIO,MAbJ,MAFCQ,EAAW2C,YAAY5F,KAAKC,GAAG,SApBzB,OALNgF,EAAUW,YAAY5F,KAAKC,GAAG,SAyChC,EAEA0F,YAAa,SAASjD,GACrB,IAICmD,EAAOC,EACPjH,EASAkH,EAdG5G,EAAKJ,KACRiH,EAAY/H,IAAIgI,gBAChB5E,EAAUlC,EAAGH,KAAK,kBAClBkH,EAAW,CAAC,EAGZC,EAAO,GACPC,EAAM,GACNC,EAAI,EAEJ1D,EAAOxD,EAAGwD,KACV0B,EAAalF,EAAGkF,WAEhBrB,EAAiB,WADV7D,EAAGH,KAAK,yBAAyBqG,gBAUzC,IANKlG,EAAG0C,MAEP1C,EAAG0C,IAAMa,EAAKb,KAEfwC,EAAalF,EAAGkF,WAAalF,EAAGkF,YAAc,CAAC,EAE1CxF,EAAE,EAAGA,EAAImH,EAAUtE,OAAQ7C,IAE/BmH,EAAUnH,GAAGyH,MAAQN,EAAUnH,GAAGyH,OAASN,EAAUnH,GAAGwB,KACxD2F,EAAUnH,GAAGgH,MAAQ7F,KAAKC,GAAG,KAAO+F,EAAUnH,GAAGyH,OAGlD,IAAKzH,EAAE,EAAGA,EAAIwC,EAAQnB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE9CqH,EAAS7E,EAAQnB,MAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,SAAWtD,EAAQnB,MAAMwE,KAAKhF,MAAMb,GAG9E,IAAKA,EAAE,EAAGA,EAAImH,EAAUtE,OAAQ7C,IAE/BgH,EAAQG,EAAUnH,GAAGwB,KACrByF,EAAWE,EAAUnH,GAAGgH,OAASA,EACjCU,UAAY,GACRL,EAASL,IAAUK,EAASL,GAAOlB,IAAI,YAE1CoB,EAAO1B,EAAWwB,GAClBC,EAAWI,EAASL,GAAOlB,IAAI,aAAgBoB,GAAOA,EAAK1F,MAAmByF,EAEjE,UAATD,IAEHU,UAAYpH,EAAGH,KAAK,yBAAyBmG,YAG9CgB,EAAKxE,KAAK,CACTE,IAAMkE,GAAQA,EAAKlE,IAAMkE,EAAKlE,IAAMc,EAAK8C,SAAW,IAAMK,EAC1DN,IAAKrG,EAAG0C,IACRxB,KAAMyF,EACNlG,KAAM,eACNqC,UAAW,mBACXuE,UAAW,MAGZT,EAAO,CACNlE,IAAMkE,GAAQA,EAAKlE,IAAMkE,EAAKlE,IAAMc,EAAK8C,SAAW,IAAMK,EAC1DN,IAAKrG,EAAG0C,IACRxB,KAAMyF,EACNlG,KAAM,eACNqC,UAAW,mBACXW,UAAW,IAGZwD,EAAIzE,KAAKoE,GAELpD,EAAKC,WAAaD,EAAKC,UAAUlB,OAEpCqE,EAAKnD,UAAUjB,KAAK,CACnBE,IAAKc,EAAKC,UAAU,GAAGf,IACvBxB,KAAMsC,EAAKC,UAAU,GAAGvC,KACxBoF,SAAU9C,EAAKC,UAAU,GAAG6C,UAAY,GACxC7F,KAAM,WAKPmG,EAAKnD,UAAUjB,KAAK,CACnBE,IAAKc,EAAKd,IACVxB,KAAMsC,EAAKtC,KACXoF,SAAU9C,EAAK8C,SACf7F,KAAM+C,EAAK/C,OAIbzB,GAAGsI,SAASV,EAAM,CACjBvB,aAAcqB,EAAMa,cACpBzD,WAAYN,EAAKM,WACjB0D,cAAyB,GAAT3D,EAAgB,OAAS,GACzC4D,YAAuB,GAAT5D,EAAgB,eAAiB,mBAC/CyB,eAAgB8B,UAChBM,SAAU,SACV5E,UAAW,qBAGZiE,EAASL,GAAOhB,IAAI,WAAYkB,EAAK1F,MAEjC2C,IAEH+C,EAAKjB,WAAa3F,EAAG2H,YAAYjB,GACjCK,EAASL,GAAOhB,IAAI,SAAUkB,EAAKjB,aAGpCuB,KAEQhC,EAAWwB,KAEnBE,EAAO1B,EAAWwB,GAClBM,EAAKxE,KAAK,CACTE,IAAKkE,EAAKlE,IACVxB,KAAM0F,EAAK1F,KACXoF,SAAUM,EAAKN,SACfjD,OAAQ,WAGT4D,EAAIzE,KAAK,CAET,GACA0E,KAIF,GAAIA,EAAI,EACR,CACC,IAAInE,EAAM,IAAIjE,IAAIkE,MAElBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS6D,EACT5D,MAAO,CACN7C,MAAO0G,IAENjH,EAAIA,EAAG4H,kBACX7E,EAAIO,MACL,MAGCtD,EAAGoG,YAAW,GACdpG,EAAGI,OAEL,EAEAwH,iBAAkB,SAASrE,GAC1B,IAAIvD,EAAKJ,KAETI,EAAGoG,YAAW,GACdtH,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAGwD,MACtCxD,EAAGI,OACJ,EAEAuH,YAAa,SAASK,GACrB,IACCC,EAAI,GACJvB,EAAQsB,EAAIE,cACZC,EAAWrJ,IAAIsJ,cACftE,EAAalE,KAAKC,KAAK,qBAAqBmG,WAC5CqC,EAAS,GAgBV,OAdIF,GAAYA,EAASzB,KAExBuB,EAAIE,EAASzB,GAEb2B,EAAS,IAXDzI,KAWU4D,KAAKC,UAAU,GAAGvC,KAAO,IAEzB,SAAd4C,IAEHuE,EAAS,iBAAmBA,EAAS,KAGtCJ,EAAIA,EAAEK,QAAQ,UAAWD,IAGnBJ,CACR,EAEAM,YAAa,WACZ,IAAIvI,EAAKJ,KACR4D,EAAOxD,EAAGwD,KAEPgF,EAAa,IAAI1J,IAAI2J,cAAc,CACtCC,SAAU1I,EAAG0I,SACbC,aAAc,yDACdC,aAAc,CACbC,YAAY,EACZC,QAAStF,EAAKO,SAEf7D,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+I,uBAEtCjK,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEAO,oBAAqB,SAASnC,GACpBhH,KACE4D,KAENC,UAAY,CAChB,CACCf,IAAKkE,EAAKlE,IACVxB,KAAM0F,EAAK1F,OANJtB,KAUNC,KAAK,oBAAoB6D,SAASkD,EAAK1F,KAC3C,EAEAb,cAAgB,WACNT,KAENgB,MAAQC,KAAKC,GAAG,QAEnB9B,GAAGsB,MAAMV,KAAM,CACdR,OAAQ,MACRmB,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,MACR6J,OAAQ,EACRC,QAASpB,IAAIoB,QACbC,YAAY,EACZ5I,MAAO,CACN,CACCC,MAAO,QACP0I,QAASpB,IAAIoB,QACbD,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,UACpBwI,UAAU,GAEX,CACC9I,MAAO,WACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,aAIvB,CACCN,MAAO,WACPI,MAAOC,KAAKC,GAAG,eACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,aACPU,KAAM,oBACNmI,WAAY,GACZE,UAAU,EACVhJ,MAAO,CACN,CACCiJ,SAAU3I,KAAKC,GAAG,qBAClBI,KAAM,iBACNuI,WAAY,cAEb,CACCD,SAAU3I,KAAKC,GAAG,cAClBI,KAAM,iBACNuI,WAAY,eAcjB,CACCjJ,MAAO,WACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERE,MAAOC,KAAKC,GAAG,kBACfP,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER2I,WAAYxI,KAAKC,GAAG,iBACpBP,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,YACNwI,UAAW7I,KAAKC,GAAG,cACnBH,KAAM,EACNgJ,UAAU,GAEX,CACCnJ,MAAO,SACPU,KAAM,aACN0I,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAK2I,aACN,EACAhH,MAAO3B,QAKV,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,iBACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,aACNP,KAAM,GAEP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACR,IACCuC,EAA4D,WADpDjE,KACGC,KAAK,yBAAyBqG,gBAC1CpH,IAAIgL,cAAclK,KAAM,aAAc,aAAciE,EACrD,EACAtC,MAAO3B,QAuFV,CACCY,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,iBACpBI,KAAM,eACN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER4G,SAAU,CACT2B,OAAQ,GAETA,OAAQ,EACR1I,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,UACNH,MAAO,CACNC,OAAQ,CAAC,OAAQ,UAElB+I,QAAS,gBACTC,SAAU,CACTC,KAAM,SAEPC,QAAS,CACR,CACCC,MAAO,cACPC,cAAc,IAGhBpI,OAAQ,IACRqI,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,QACXC,MAAO,cACP5J,KAAM,GAEP,CACCS,KAAMP,KAAKC,GAAG,cACdwJ,UAAW,WACXE,OAAQ,CACPC,YAAY,GAEb9J,KAAM,GAEP,CACCS,KAAMP,KAAKC,GAAG,YACdwJ,UAAW,SACXE,OAAQ,CACPC,YAAY,GAEb9J,KAAM,IAGRc,UAAW,CACViJ,UAAW,SAASC,EAAMC,EAAMC,EAAGC,EAAKC,EAAQC,GAC/C,GAAS,GAALH,EACJ,CACC,IAGCI,EAFAvC,EADQ9I,KACM8I,SACdxD,EAFQtF,KAEQsF,WAEjB,GAAIA,GAAcA,EAAW4F,EAAItF,IAAI,WAEpCyF,EAAK/F,EAAW4F,EAAItF,IAAI,UACjB9C,IACP,CACC,IAAIwI,EAAYxC,EAASyC,UACxBC,EAAQH,EAAGxK,KAAKyH,cAEbgD,GAAaD,EAAGI,UAEnBH,EAAUI,YAAYL,EAAGvI,IAAK0I,EAAOH,EAAG/J,KAAM+J,EAAG3E,UAAU,EAAM2E,EAAGI,SAEtE,CAEF,CACD,EACA9J,MAAO3B,SAKX,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,YACpBI,KAAM,0BACN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,kBAEP,CACCV,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACRxC,IAAIgL,cAAclK,KAAM,aAAc,cAAc,EACrD,EACA2B,MAAO3B,eAuDjByB,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,WACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAKqC,QACN,EACAV,MAAO3B,QAITd,IAAIgD,WAAWF,WAAWvB,cAAcC,MAAMV,KAAM4L,UACrD;ACz4BD1M,IAAI2M,kBAAoBzM,GAAGC,OAAOD,GAAG0M,UAAW,CAC/CC,YAAY,EAEZvM,OAAQ,MAERwM,WAAY,CAAC,EAEbC,iBAAkB,WACjB,IACCC,EADQlM,KACWC,KAAK,wBACxBiE,EAFQlE,KAEQC,KAAK,qBACrBkM,EAAKD,EAAc9F,WAEpBlC,EAAWJ,SAASqI,EACrB,EAEAC,QAAS,SAASC,GACjB,IAECvM,EADAwH,EAAI,EAGL,GAAI+E,EACJ,CACC,OAAQA,GAER,IAAK,eACJ/E,EAAI,EACJ,MACD,IAAK,cACJA,EAAI,EACJ,MACD,IAAK,mBACJA,EAAI,EAfGtH,KAgBJsM,mBACH,MACD,IAAK,YACJhF,EAAI,EACJ,MACD,IAAK,cACJA,EAAI,EACJ,MACD,IAAK,aACJA,EAAI,EACJ,MACD,IAAK,qBACJA,EAAI,EACJ,MACD,IAAK,YACJA,EAAI,EAIL,IAAKxH,EAAE,EAAGA,EAAI,EAAGA,IAnCTE,KAqCGC,KAAK,gBAAkB,EAAM,KACjCH,GAAKwH,GAAS,GAAHA,GAAW,GAAHxH,GAAa,GAAHwH,GAAW,GAAHxH,EAAS,OAAS,SAE/D,CACD,EAEAuC,OAAQ,WACP,IAAIjC,EAAKJ,KACRuM,EAAQnM,EAAGmM,MACXpJ,EAAM,IAAIjE,IAAIkE,MACd8I,EAAgB9L,EAAGH,KAAK,wBACxB4H,EAAczH,EAAGH,KAAK,sBAEvBiM,EAAcM,GAAG,UAChB,SAASC,EAAOC,EAAUC,EAAUC,GACnCxM,EAAG6L,kBACJ,IAGDpE,EAAY2E,GAAG,UAAU,SAASC,EAAOC,EAAUC,GAClD,IACCN,EADiBjM,EAAGH,KAAK,sBACPmG,WAEnBhG,EAAGgM,QAAQC,EACZ,IAEIE,GAEHnM,EAAGyM,UAAU3J,UAAY,mBACzB9C,EAAG4C,mBAAmB,CACrBC,QAAS7C,EAAGyM,aAKTzM,EAAG0C,KAENK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAG4C,mBAAoB,MAC/BG,EAAIO,QAEItD,EAAGmE,YAEXpB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAGmE,WAClBf,MAAO,CAACC,OAAQ,oBACdrD,GAAI,SAASuD,GACfvD,EAAG4C,mBAAmB,CACrByI,UAAU,EACVxI,QAAS,CACRwI,UAAU,EACVqB,SAAUnJ,EACVT,UAAW,qBAGd,GAAG,MACJC,EAAIO,OAGP,EAEAV,mBAAoB,SAASW,GAC5B,IAAIvD,EAAKJ,KACR+M,EAAS,GACN/F,EAAOrD,EAAKV,QACf6J,EAAW9F,EAAK8F,SAChBE,EAAa5M,EAAGH,KAAK,qBACrBgN,EAAc7M,EAAGH,KAAK,sBACtBiN,EAAW9M,EAAGH,KAAK,mBAEf6M,IAEJA,EAAW9F,EAAK8F,SAAW,CAC1BK,UAAW,CACVC,eAAgB,GAChBC,cAAe,MAKlBjN,EAAGkN,OAAStG,EAEZ5G,EAAGmN,IAAMnN,EAAGmN,GAAGtN,KAAK,qBAAuBG,EAAGmN,GAAGtN,KAAK,oBAAoBuN,WAAWxG,EAAKyE,UAAYrL,EAAGmM,OAEzGnM,EAAGH,KAAK,mBAAmB6D,SAASkD,EAAK1F,MACzClB,EAAGH,KAAK,sBAAsB6D,SAASkD,EAAKjD,aAE5CiJ,EAAWlJ,SAAS,CAAC2J,WAAY,CAAEzG,EAAK0G,WAAa,MACrDT,EAAYnJ,SAAS,CAAC6J,YAAa,CAAE3G,EAAKc,UAAY,MAEtD1H,EAAGH,KAAK,yBAAyB6D,SAASkD,EAAK4G,aAC/CxN,EAAGH,KAAK,qBAAqB6D,SAASkD,EAAK6G,YAC3CzN,EAAGH,KAAK,qBAAqB6D,SAASkD,EAAK9C,YAC3C9D,EAAGH,KAAK,yBAAyB6D,SAASkD,EAAK9C,YAC/C9D,EAAGH,KAAK,uBAAuB6D,SAASkD,EAAK8G,YAE7C9G,EAAKnD,UAAYmD,EAAKnD,WAAa,GAEnCmD,EAAK+G,SAAW/G,EAAK+G,UAAY,CAAC,EAElC/G,EAAKgH,YAAchH,EAAKgH,aAAe,CAAC,EAExC5O,GAAGsI,SAASV,EAAK+G,SAAU,CAC1BE,SAAU,EACVC,SAAU,EACVC,aAAc,GACdC,cAAe,aACfC,cAAe,YACfC,WAAY,cACZC,YAAa,UAGdnP,GAAGsI,SAASV,EAAKgH,YAAa,CAC7BQ,KAAM,QACNC,KAAM,KACNC,OAAQ,KACRC,WAAY,KACZC,WAAY,KACZC,UAAW,KACXC,WAAY,OAGb/B,EAAOnK,KAAK,CAACmM,KAAM,iBAAkBzN,KAAM,GAAIT,KAAM,KAErDT,EAAG2M,OAASA,EACZD,EAAW9F,EAAK8F,gBACT9F,EAAe,SAEtBgI,EAAEC,KAAK,CACN,CAACC,IAAKpC,EAASK,UAAUC,eAAgB9F,EAAG,WAC5C,CAAC4H,IAAKpC,EAASK,UAAUE,cAAe/F,EAAG,aAC3C,CAAC4H,IAAKpC,EAASqC,WAAarC,EAASqC,WAAW9B,cAAgB,KAAM/F,EAAG,gBACvE,SAASA,EAAG8H,GACd,IAAItP,EACHuP,EACAH,EAAME,EAAIF,IAEX,GAAIA,EAEH,IAAKpP,EAAE,EAAGA,EAAIoP,EAAIvM,OAAQ7C,IAEzBuP,EAAIH,EAAIpP,GACRiN,EAAOnK,KAAK,CACXmM,KAAMM,EAAE/N,KACRA,KAAM+N,EAAE/N,KACRT,KAAMuO,EAAI9H,GAId,IAEA4F,EAAS/L,MAAM0B,SAASkK,GACxBG,EAASpJ,SAASkD,EAAKsI,WAAa,IAE/BlP,EAAGmM,MAMPnM,EAAGmP,mBAJHnP,EAAGkE,gBAOA0C,EAAKgH,YAAYa,WAEpBzO,EAAGoP,aAAaxI,EAAKgH,YAAYa,UAEnC,EAEAW,aAAc,SAAS1M,GACtB,IAAI1C,EAAKJ,KACRyP,EAAQrP,EAAGkN,OACXnK,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAKA,GACfU,MAAO,CAACC,OAAQ,gBACdrD,GAAI,SAASuD,GACf,IAES7D,EAAG4P,EADXC,EAAQhM,EAAKV,SAAWU,EAAKV,QAAQ2M,cAAgBjM,EAAKV,QAAQ2M,cAAcC,MAAQ,KAExFf,EAHQ9O,KAGQC,KAAK,qBACrB6P,EAAK,CAAC,CAACf,KAAM,cAAegB,IAAK,KAElC,GAAIJ,EAEH,IAAK7P,EAAE,EAAGA,EAAI6P,EAAMhN,OAAQ7C,KAE3B4P,EAAIC,EAAM7P,IACRiP,KAAOW,EAAEpO,MAAQoO,EAAE3L,YAAc,IAAM2L,EAAE3L,YAAc,IAAM,MAAQ2L,EAAEM,YAAc,IAAMN,EAAEM,YAAc,IAAM,IACnHN,EAAEK,IAAM,GAAKjQ,EACbgQ,EAAGlN,KAAK8M,GAIVZ,EAAW3N,MAAM0B,SAASiN,GAC1BhB,EAAWhL,SAAS2L,GAASA,EAAMzB,aAAcyB,EAAMzB,YAAYc,YAAmB,GAEvF,GAAG,MACJ3L,EAAIO,MACL,EAEA4I,iBAAkB,WACjB,IAAIlM,EAAKJ,KACRoB,EAAUhB,EAAS,OAAIA,EAAGkN,OAAOlM,OAAS,KAE1CiL,EADcjM,EAAGH,KAAK,sBACJmG,WAClBjD,EAAM,IAAIjE,IAAIkE,MAEXhC,GAAUA,EAAOuB,OAAS,GAAK0J,GAAc,oBAAPA,IAErCjM,EAAG4L,YAAc5L,EAAG4L,WAAW5K,EAAO,GAAG0B,KAE5C1C,EAAG6P,gBAAgB7P,EAAG4L,WAAW5K,EAAO,GAAG0B,OAI3CK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1B,EAAO,GAAG0B,IAAKjC,KAAMO,EAAO,GAAGP,KAAM6F,SAAUtF,EAAO,GAAGsF,UACxElD,MAAO,CAAC,GACNpD,EAAIA,EAAG8P,oBAAqB,MAChC/M,EAAIO,QAGP,EAEAwM,oBAAqB,SAASvM,GAC7B,IACCO,EACApB,EAFG1C,EAAKJ,KAIL2D,IAEHb,EAAMa,EAAKb,IACXoB,EAAaP,EAAKV,QAAQiB,WAC1B9D,EAAG4L,WAAWlJ,GAAO,CAACA,IAAKA,EAAKoB,WAAYA,GAE5C9D,EAAG6P,gBAAgB7P,EAAG4L,WAAWlJ,IAEnC,EAEAmN,gBAAiB,SAASE,GACzB,IACCjM,EADQlE,KACQC,KAAK,qBACrBmQ,EAAMlM,EAAWkC,WAEG,IAAjB+J,EAAGjM,YAA4B,IAAPkM,GAAaA,GAAOD,EAAGjM,YAElDA,EAAWJ,SAASqM,EAAGjM,WAEzB,EAEAI,cAAe,WACd,IAAIlE,EAAKJ,KAETd,IAAIoF,cAAcrC,KAAK7B,EAAIA,EAAG0C,IAAK1C,EAAGmE,UAAW,IAAIrF,IAAIsF,YAAYpE,GAAI,SAASuD,GACjFvD,EAAGmP,iBAAiB5L,EACrB,IACD,EAEA4L,iBAAkB,SAAS5L,GAC1B,IAEoB7D,EAFhBM,EAAKJ,KACR0E,EAAQf,GAAQA,EAAKhB,OAASgB,EAAK,GAAK,KACxC8L,EAAQrP,EAAGkN,OAER5I,IAEHtE,EAAG+D,QAAUO,EAAM5B,KAGpB1C,EAAGH,KAAK,sBAAsB6D,SAAS2L,EAAM5H,aAAe,gBAC5D3I,IAAImR,cAAcjQ,EAAI,aAAc,IAAKqP,EAAM1J,YAAc,IAC7D7G,IAAImR,cAAcjQ,EAAI,WAAY,KAAMqP,EAAM5L,WAC9C3E,IAAImR,cAAcjQ,EAAI,iBAAkB,IAAMqP,EAAM5L,UAAUlB,OAAS,EAAK8M,EAAM5L,UAAU,GAAGvC,KAAO,IACtGpC,IAAImR,cAAcjQ,EAAI,iBAAkB,IAAMqP,EAAM5L,UAAUlB,OAAS,EAAK8M,EAAM5L,UAAU,GAAGvC,KAAO,IACtGpC,IAAImR,cAAcjQ,EAAI,aAAc,IAAMqP,EAAM5L,UAAUlB,OAAS,EAAK8M,EAAM5L,UAAU,GAAGvC,KAAO,IAClGpC,IAAImR,cAAcjQ,EAAI,YAAa,IAAMqP,EAAM5L,UAAUlB,OAAS,EAAK8M,EAAM5L,UAAU,GAAGvC,KAAO,IAEjG,IAMcgP,EANVpM,EAAa9D,EAAGH,KAAK,qBACxBiM,EAAgB9L,EAAGH,KAAK,wBACxBwF,EAAerF,EAAGH,KAAK,uBACvByF,EAAiBtF,EAAGH,KAAK,yBACzBsQ,EAAkBnQ,EAAGH,KAAK,0BAC1BuQ,EAAgBpQ,EAAGH,KAAK,wBACxBwQ,EAAS,GAEV,GAAIhB,EAAMiB,aAAejB,EAAMiB,YAAYvL,SAC3C,CACC,IAAKrF,EAAE,EAAGA,EAAI2P,EAAMiB,YAAYvL,SAASxC,OAAQ7C,IAEhDwQ,EAAIb,EAAMiB,YAAYvL,SAASrF,GAC/B2Q,EAAO7N,KAAK,CAACtB,KAAMgP,EAAEhP,KAAMqP,OAAQL,EAAEK,OAAQC,SAAUN,EAAEM,WAG1DJ,EAAcrP,MAAM0B,SAAS4N,EAC9B,CAEAvE,EAAcpI,SAAS2L,EAAMvL,YAAc,IAE3CA,EAAWJ,SAAS2L,EAAMvL,YAAc,IACxC9D,EAAGH,KAAK,yBAAyB6D,SAAS2L,EAAMvL,YAChDuB,EAAa3B,SAAS,CAACxB,QAASmN,EAAMhK,eACtCC,EAAe5B,SAAS2L,EAAM/J,gBAAkB,IAChD6K,EAAgBzM,SAAS2L,EAAMc,iBAC/BnQ,EAAGH,KAAK,iBAAiB6D,SAAS2L,EAAMoB,OAASpB,EAAMoB,OAAOvP,KAAO,IACrElB,EAAGH,KAAK,iBAAiB6D,SAAS2L,EAAMqB,OAASrB,EAAMqB,OAAOxP,KAAO,IACrElB,EAAGH,KAAK,oBAAoB6D,SAAS2L,EAAMsB,WAAa,IACxD3Q,EAAGH,KAAK,qBAAqB6D,SAAS2L,EAAMuB,WAAavB,EAAMuB,WAAW1P,KAAO,IACjFlB,EAAGH,KAAK,mBAAmB6D,SAAS2L,EAAMwB,SAAWxB,EAAMwB,SAAS3P,KAAO,IAC3ElB,EAAG8Q,GAAK,oFAAoFC,MAAM,KAElGnC,EAAEC,KAAK7O,EAAG8Q,IAAI,SAASpR,EAAGkF,GACd5E,EAAGH,KAAK,SAAW+E,EAAI,KAC7BlB,SAAS2L,EAAM1B,SAAS/I,GAC9B,IAEIyK,EAAMzB,aAETgB,EAAEC,KAAK,CAAC,OAAQ,OAAQ,WAAY,aAAc,SAAU,aAAc,aAAc,cAAc,SAASnP,EAAGkF,GACtG5E,EAAGH,KAAK,SAAW+E,EAAI,KAC7BlB,SAAS2L,EAAMzB,YAAYhJ,GACjC,IAGD5E,EAAGH,KAAK,uBAAuB6D,SAAS2L,EAAM2B,cAC9ChR,EAAGH,KAAK,4BAA4B6D,SAAS2L,EAAM4B,kBACpD,EAEApL,SAAU,WACT,IAECnG,EAGAwR,EAAWC,EACXC,EAAG/E,EANArM,EAAKJ,KACRsN,EAASlN,EAAGkN,OACTkD,EAAgBpQ,EAAGH,KAAK,wBAC3BwR,EAAWrR,EAAGH,KAAK,mBACnByR,EAAmBlB,EAAcrP,MAIlC,GAAKjC,IAAImH,YAAYjG,EAAI,CAAC,aAA1B,CAGA,IACCsN,EADgBtN,EAAGH,KAAK,qBACDqG,gBACvBwB,EAAW1H,EAAGH,KAAK,sBAAsBqG,gBA2B1C,IAzBAgH,EAAOhM,KAAOlB,EAAGH,KAAK,mBAAmBmG,WACzCkH,EAAOvJ,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAEnDkH,EAAOI,UAA0B,IAAbA,EAAmB,KAAOA,EAC9CJ,EAAOxF,SAAwB,IAAZA,EAAkB,KAAOA,EAE5CwF,EAAOvH,WAAa3F,EAAGH,KAAK,qBAAqBmG,WACjDkH,EAAOzF,YAAczH,EAAGH,KAAK,sBAAsBmG,WACnDkH,EAAOpJ,WAAa9D,EAAGH,KAAK,qBAAqBmG,WACjDkH,EAAO7H,aAAerF,EAAGH,KAAK,uBAAuBmG,WAAW9D,QAChEgL,EAAOiD,gBAAkBnQ,EAAGH,KAAK,0BAA0BmG,WAC3DkH,EAAO5H,eAAiBtF,EAAGH,KAAK,yBAAyBmG,WACzDkH,EAAOgC,UAAYlP,EAAGH,KAAK,mBAAmBmG,WAE9CkH,EAAOM,YAAcxN,EAAGH,KAAK,yBAAyBmG,WACtDkH,EAAOO,WAAazN,EAAGH,KAAK,qBAAqBmG,WAEvB,oBAAtBkH,EAAOzF,cAEVyF,EAAOQ,WAAa1N,EAAGH,KAAK,uBAAuBmG,WACnDkH,EAAOpJ,WAAa9D,EAAGH,KAAK,yBAAyBmG,YAGtDkH,EAAOoD,YAAc,CAACiB,MAAO,QAASxM,SAAU,IAE3CrF,EAAE,EAAGA,EAAI4R,EAAiB/L,KAAKhF,MAAMgC,OAAQ7C,KAGjDyR,EAAU,CAACI,MAAO,YAAarQ,MAD/BgQ,EAAYI,EAAiB/L,KAAKhF,MAAMb,IACO8F,IAAI,QAAS+K,OAAQ,KAC5DC,SAAWU,EAAU1L,IAAI,YACjC2L,EAAQZ,OAASW,EAAU3L,KAAKgL,OAChCrD,EAAOoD,YAAYvL,SAASvC,KAAK2O,GAGlC,GAA0B,gBAAtBjE,EAAOzF,aAAuD,cAAtByF,EAAOzF,YAGlD,IADAyF,EAAOzJ,UAAY,GACd/D,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C2M,EAAQ,CAAC3J,KADT0O,EAAIC,EAAStQ,MAAMwE,KAAKhF,MAAMb,GAAG6F,MACjB7C,IAAKxB,KAAMkQ,EAAElQ,KAAMoF,SAAU8K,EAAE9K,SAAUkL,KAAMJ,EAAEI,KAAM/Q,KAAM2Q,EAAE3Q,MAC/EyM,EAAOzJ,UAAUjB,KAAK6J,GAIxBuC,EAAEC,KAAK7O,EAAG8Q,IAAI,SAASpR,EAAGkF,GACzB,IAAIjF,EAAOK,EAAGH,KAAK,SAAW+E,EAAI,KAClCsI,EAAOS,SAAS/I,GAAKjF,EAAKqG,UAC3B,IAEAhG,EAAGkN,OAAOU,YAAc5N,EAAGkN,OAAOU,aAAe,CAAC,EAElDgB,EAAEC,KAAK,CAAC,OAAQ,OAAQ,WAAY,aAAc,SAAU,aAAc,aAAc,cAAc,SAASnP,EAAGkF,GACjH,IAAIjF,EAAOK,EAAGH,KAAK,SAAW+E,EAAI,KAClCsI,EAAOU,YAAYhJ,GAAKjF,EAAKqG,UAC9B,IAEAkH,EAAO8D,aAAehR,EAAGH,KAAK,uBAAuBmG,WACrDkH,EAAO+D,kBAAoBjR,EAAGH,KAAK,4BAA4BmG,WAE1DhG,EAAGmM,OAMPnM,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAGkN,QACtClN,EAAGmN,GAAGvH,YALN5F,EAAGyR,YAAYzR,EAAG0C,IAAKwK,EApEjB,CA2ER,EAEAuE,YAAa,SAAS/O,EAAKgP,GAC1B,IAAI1R,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK2D,IAAKrG,EAAGmE,UAAWjD,KAAMwQ,EAAIxQ,KAAMyC,YAAa+N,EAAI/N,YAAalD,KAAMT,EAAGwE,SAAU8B,SAAWtG,EAAGuG,eAAiBvG,EAAGuG,eAAiB,IAAMmL,EAAIxQ,KAAO,MAC/KkC,MAAOsO,EACP5O,UAAW,oBACT9C,EAAIA,EAAG2R,eAAgB,MAC3B5O,EAAIO,MACL,EAEAqO,eAAgB,SAASpO,GACxB,IAAIvD,EAAKJ,KAETd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGmN,GAAGjN,UAAYF,EAAGmN,GAAGjN,SAASC,QAAQH,EAAGkN,QAC5ClN,EAAGmN,GAAGvH,UACP,EAEAgM,WAAY,SAAS9L,GACpB,IAAI9F,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbmJ,YAA0B,eAAb/L,EAA6B,EAAI,EAC9C6C,aAA2B,WAAb7C,EAAyB,iBAAmB,sDAC1D8C,aAAc,CACbC,YAAY,EACZC,QAAsB,WAAbhD,EAAyB,cAAgB9F,EAAG+D,SAEtD7D,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+I,oBAAqBjD,KAE5DhH,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEAsJ,aAAc,SAAShM,GACtB,IAAI9F,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbmJ,YAAa,EACblJ,aAAc,gBACdC,aAAc,CACbE,QAAS,MAEV5I,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS4G,GAC1C,IAAI5G,EAAKJ,KAEQ,SAAbkG,IAEH9F,EAAGH,KAAK,oBAAoB6D,SAASkD,EAAKlE,KAC1C1C,EAAGH,KAAK,qBAAqB6D,SAASkD,EAAK1F,MAE3ClB,EAAGoP,aAAaxI,EAAKlE,KAEvB,MAEF5D,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEAO,oBAAqB,SAASxI,EAAOuF,GACpC,IAAI9F,EAAKJ,KACRgH,EAAqB,eAAbd,EAA6B,KAAOvF,EAC5C8O,EAAQrP,EAAGkN,OAEZ,GAAiB,UAAbpH,GAAsC,UAAbA,EAEX,UAAbA,GAEHuJ,EAAMoB,OAAS,CACd/N,IAAKkE,EAAKlE,IACVxB,KAAM0F,EAAK1F,MAEZlB,EAAGH,KAAK,iBAAiB6D,SAASkD,EAAK1F,OAElB,UAAb4E,IAERuJ,EAAMqB,OAAS,CACdhO,IAAKkE,EAAKlE,IACVxB,KAAM0F,EAAK1F,MAEZlB,EAAGH,KAAK,iBAAiB6D,SAASkD,EAAK1F,YAGpC,GAAiB,eAAb4E,EACT,CACC,IAAIuL,EAAWrR,EAAGH,KAAK,mBAEvB+O,EAAEC,KAAKtO,GAAO,SAASqE,EAAGgC,GACzB,IAAIlH,EAEHqS,GAAS,EAEV,IAAKrS,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C,GADM2R,EAAStQ,MAAMwE,KAAKhF,MAAMb,GACxB8F,IAAI,QAAUoB,EAAKlE,IAC3B,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,GAEHV,EAAStQ,MAAMiR,IAAIpL,EAErB,GACD,KACsB,WAAbd,GAERuJ,EAAM4C,SAAWrL,EAAKlE,IACtB2M,EAAMsB,UAAY/J,EAAK1F,KACvBlB,EAAGH,KAAK,oBAAoB6D,SAASkD,EAAK1F,OAErB,cAAb4E,GAERuJ,EAAMuB,WAAahK,EACnB5G,EAAGH,KAAK,qBAAqB6D,SAASkD,EAAK1F,OAEtB,YAAb4E,GAERuJ,EAAMwB,SAAWjK,EACjB5G,EAAGH,KAAK,mBAAmB6D,SAASkD,EAAK1F,QAIzCmO,EAAM5L,UAAY,CAACmD,GACnB9H,IAAImR,cAAcjQ,EAAI8F,EAAW,IAAKc,EAAK1F,MAC3ClB,EAAGkM,mBAEL,EAEAgG,kBAAmB,WACTtS,KAEWC,KAAK,wBACWkB,MACjBiR,IAHR,CAAC,EAIb,EAEAG,WAAY,SAASC,EAAQC,GAC5B,IAAIrS,EAAKJ,KACRyP,EAAQrP,EAAGkN,OAEZ,GAAImC,EAAM5L,UAAUlB,OAAS,EAC7B,CACC,IAAI8J,EAAQgD,EAAM5L,UAAU,GACtB,IAAI3E,IAAIwT,kBAAkB,CAC9BjG,MAAOA,EACPnM,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAGuS,cAAe,CAACH,EAAQC,MAG5DG,MACJ,CACD,EAEAD,cAAe,SAASE,EAAWC,GAClC,IAGChT,EAHG0S,EAASM,EAAM,GAClBL,EAASK,EAAM,GACfC,EAAQ,GAKT,IAFAP,EAAO7B,OAASkC,EAEX/S,EAAE,EAAGA,EAAI+S,EAAUlQ,OAAQ7C,IAE/BiT,GAAa,GAAHjT,EAAS+S,EAAU/S,GAAG0B,MAAQqR,EAAU/S,GAAGkT,KAAQ,MAAQH,EAAU/S,GAAG0B,MAAQqR,EAAU/S,GAAGkT,MAGxGP,EAAO3M,IAAI,QAASiN,EACrB,EAEAE,eAAgB,SAASC,GACxB,IACCnN,EADQ/F,KACQC,KAAK,qBACtBf,IAAIiU,SAASpN,EAAYmN,EAC1B,EAEAzS,cAAe,WACd,IAAIL,EAAKJ,KAETZ,GAAGsB,MAAMV,KAAM,CACdsJ,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,WACP2I,YAAY,EACZ5I,MAAO,CACN,CACCC,MAAO,OACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERE,MAAOC,KAAKC,GAAG,aACfqI,YAAY,EACZ5I,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,UACpBwI,UAAU,GAEX,CACC9I,MAAO,WACPU,KAAM,cACNc,OAAQ,GACRqH,WAAYxI,KAAKC,GAAG,WAErB,CACCI,KAAM,cACNV,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,UACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EAEZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAML,KAAKC,GAAG,kBAAmB6R,MAAO,gBACzC,CAACzR,KAAML,KAAKC,GAAG,iBAAkB6R,MAAO,eACxC,CAACzR,KAAML,KAAKC,GAAG,sBAAuB6R,MAAO,oBAC7C,CAACzR,KAAML,KAAKC,GAAG,eAAgB6R,MAAO,aACtC,CAACzR,KAAML,KAAKC,GAAG,iBAAkB6R,MAAO,eACxC,CAACzR,KAAML,KAAKC,GAAG,gBAAiB6R,MAAO,cACvC,CAACzR,KAAML,KAAKC,GAAG,wBAAyB6R,MAAO,sBAC/C,CAACzR,KAAML,KAAKC,GAAG,eAAgB6R,MAAO,kBAO3C,CACCnS,MAAO,WACPI,MAAOC,KAAKC,GAAG,iBACfI,KAAM,WAEN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,OACNmI,WAAYxI,KAAKC,GAAG,YACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAML,KAAKC,GAAG,eAAgB6R,MAAO,SACtC,CAACzR,KAAML,KAAKC,GAAG,aAAc6R,MAAO,OACpC,CAACzR,KAAML,KAAKC,GAAG,aAAc6R,MAAO,cAGtClR,UAAW,CACV4R,OAAQ,SAAS1R,GAChB,IAAI3B,EAAKJ,KACR0T,EAAOtT,EAAGH,KAAK,eACfyO,EAAStO,EAAGH,KAAK,iBACjB0O,EAAavO,EAAGH,KAAK,qBACrB6O,EAAa1O,EAAGH,KAAK,qBACrB0T,EAAO5R,EAAKqE,WACZwN,EAAe,YAARD,EAERD,EAAKlG,YAAYoG,GACjB9E,EAAWtB,WAAmB,OAARmG,GACtBjF,EAAOlB,WAAWoG,GAClBjF,EAAWnB,WAAWoG,EACvB,EACAjS,MAAO3B,OAGT,CACCY,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,OACNP,KAAM,EACN0I,WAAYxI,KAAKC,GAAG,gBAErB,CACCN,MAAO,WACPU,KAAM,WACNuS,WAAY,GACZlU,MAAO,IACPiK,SAAU3I,KAAKC,GAAG,oBAClBW,UAAW,CACV4R,OAAQ,SAAS1R,GAChB,IACC+R,EAAW/R,EAAKqE,WADRpG,KAEEC,KAAK,eAEX8T,YAAYD,EAClB,EACAnS,MAAO3B,SAKX,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,mBACpBI,KAAM,OACN0S,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPoT,QAAQ,EACR1S,KAAM,aAEP,CACCV,MAAO,YACPU,KAAM,aACNP,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTtI,QAAS,WACR1B,KAAKkS,aAAa,QACnB,EACAvQ,MAAO3B,QAIV,CACCY,MAAO,WACPU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,cACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAIX,CACCR,MAAO,YACPU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,aACpB8S,QAAQ,GAET,CACCpT,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,aACpB+S,OAAQ,OACRD,QAAQ,EACR1S,KAAM,YAKT,CACCV,MAAO,WACPyI,QAAQ,EACRrI,MAAOC,KAAKC,GAAG,kBACfI,KAAM,WACN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERoT,cAAe,CACdL,WAAY,IAEblT,MAAO,CACN,CACCW,KAAM,aACNuS,WAAY,GACZpK,WAAYxI,KAAKC,GAAG,YACpBN,MAAO,YAER,CACCA,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPqT,OAAQ,OACRE,WAAW,EACXpB,MAAO9R,KAAKC,GAAG,gBAEhB,CACCN,MAAO,YACPG,KAAM,KAIT,CACCH,MAAO,YACPG,KAAM,EACNI,MAAO,CACNC,OAAQ,CACP,CAACE,KAAM,QACP,CAACA,KAAM,QACP,CAACA,KAAM,UACP,CAACA,KAAM,YACP,CAACA,KAAM,OACP,CAACA,KAAM,UAGTA,KAAM,WACNc,OAAQ,IACRqI,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIpT,EAAQkT,EAAKlT,MACVA,EAAMqT,MAAMF,GACnBnT,EAAMsT,SAASH,EAChB,MAKJI,WAAY,CACXC,YAAY,EACZrK,QAAS,CACRC,MAAO,mBACPqK,QAAS,YAEV/S,UAAW,CACVgT,WAAY,SAAS7J,EAAMrF,EAAMmP,EAASC,EAAcC,GACvD,IAGClV,EAHGM,EAAKJ,KAGLmS,GAAS,EACZ8C,EAAMtP,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,EAAKgD,EAAKuP,QAAQ,GAAK,KACnEC,EAAW,EAAOF,EAAGrP,IAAI,QAAU,KAOpC,GAJCxF,GAAMuF,EAAKoF,KAAQpF,EAAKyP,MAAO,EAAQzP,EAAKyP,MAAO,EAE5C,EAAYhV,EAAGiV,MAAMlU,MAAMmU,QAAQR,GAAW,EAEtC,UAAZK,EACJ,CACC,IAAKrV,EAAE,EAAGA,EAAIM,EAAGe,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAGzC,GADOM,EAAGe,MAAMwE,KAAKhF,MAAMb,GAClB8F,IAAI,QAAUqP,EAAGtP,KAAK7C,IAC/B,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,GAEH/R,EAAGe,MAAMiR,IAAI6C,EAAGtP,KAElB,CAEA,OA7BK,CA8BN,EAEA4P,KAAM,SAASvK,EAAMrF,EAAMmP,EAASC,GACtBD,GAAqCA,EAAQlP,IAAI,QAC9D,OAAO,CACR,IAIF/D,UAAW,CACV2T,aAAc,SAASzK,EAAM0H,EAAQzL,EAAMyO,EAAOC,EAAOC,GACxD3V,KAAKiT,eAAeR,EAAO9M,KAAKrE,KACjC,EACAK,MAAO3B,OAGT,CACCY,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPuT,WAAW,EACXpT,KAAM,EACNgJ,UAAU,EACVgJ,MAAO9R,KAAKC,GAAG,gBAEhB,CACCN,MAAO,YACPG,KAAM,GAEP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,SACdQ,QAAS,WACR1B,KAAKgS,WAAW,cACjB,EACArQ,MAAO3B,UAOZ,CACCY,MAAO,WACPyI,QAAQ,EACRrI,MAAOC,KAAKC,GAAG,iBACfI,KAAM,WAEN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER2I,WAAYxI,KAAKC,GAAG,iBACpBP,MAAO,CACN,CACCC,MAAO,YACPgV,WAAW,EACX7L,UAAU,EACVhJ,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,cACnBI,KAAM,iBACNuU,YAAY,GAEb,CACCjV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,iBACjB,EACArQ,MAAO3B,QAKV,CACCY,MAAO,YACPG,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,OACPG,KAAM,EACNI,MAAO,CACNC,OAAQ,CACP,OAAQ,WAAY,SAAU,QAAS,SAAU,WAGnDE,KAAM,gBACNwU,UAAU,EACVxL,QAAS,CACR,CACCC,MAAO,cACPC,aAAc,IAGhBC,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,OACXE,OAAQ,CACPmL,aAAa,EACblL,YAAY,IAGd,CACCrJ,KAAMP,KAAKC,GAAG,eACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,WACXE,OAAQ,CACPhK,MAAO,WACPwS,UAAW,QACXC,aAAc,OACd2C,WAAY,OACZ1C,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,OAAQyR,MAAO,QACtB,CAACzR,KAAM,IAAKyR,MAAO,MACnB,CAACzR,KAAM,IAAKyR,MAAO,MACnB,CAACzR,KAAM,IAAKyR,MAAO,MACnB,CAACzR,KAAM,KAAMyR,MAAO,OACpB,CAACzR,KAAM,KAAMyR,MAAO,OACpB,CAACzR,KAAM,KAAMyR,MAAO,MACpB,CAACzR,KAAM,SAAUyR,MAAO,cAK5B,CACCvR,KAAMP,KAAKC,GAAG,WACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QACXE,OAAQ,CACPmL,aAAa,EACbE,SAAS,IAGX,CACCrV,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIpT,EAAQkT,EAAKlT,MACVA,EAAMqT,MAAMF,GACnBnT,EAAMsT,SAASH,EAChB,EACA3S,MAAO3B,MAER,CACCgK,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,UACjBQ,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IACCrJ,EADWmJ,EAAKlT,MACJqT,MAAMF,GACnBtU,KAAKuS,WAAWrH,EAAIvF,KAAMuF,EAC3B,EACAvJ,MAAO3B,SAKX0U,WAAY,CACXC,YAAY,GAEb9S,UAAW,CACV2T,aAAc,SAASzK,EAAM0H,EAAQzL,EAAMyO,EAAOS,GACjD,IAAI1D,EAASC,EAAO9M,KACnBwQ,EAAK1D,EAAO7M,IAAI,aAEb4M,GAAiB,MAAN2D,GAAoB,UAANA,GAE5BnW,KAAKuS,WAAWC,EAAQC,EAE1B,EACA2D,KAAM,SAASxL,EAAQQ,GACZR,EAAOyJ,KAAjB,IAECvU,EAAGuP,EAAGgH,EADN5D,EAASrH,EAAEqH,OAGZ,GAAqB,SAAjB7H,EAAO0L,OAIV,IAFA7D,EAAO9M,KAAKgL,OAAS,GACrB0F,EAASjL,EAAE2H,MAAM5B,MAAM,KAClBrR,EAAE,EAAGA,EAAIuW,EAAO1T,OAAQ7C,KAE5BuP,EAAInQ,IAAIqX,OAAOF,EAAOvW,MAGrB2S,EAAO9M,KAAKgL,OAAO/N,KAAK,CAACoQ,KAAM3D,EAAG7N,KAAM6N,GAI5C,EACA1N,MAAO3B,OAGT,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACN2V,KAAM,UAEP7V,MAAO,CACN,CACCC,MAAO,SACPoJ,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,mBACjBQ,QAAS,WACR1B,KAAKsS,mBACN,EACA3Q,MAAO3B,MAER,CACCY,MAAO,SACPoJ,QAAS,sBACTC,QAAS,UACTvI,QAAS,WACR,IAECwJ,EAAKuL,EAFFjG,EAAgBxQ,KAAKC,KAAK,wBAC7BoM,EAAMmE,EAAcnL,oBAAoBqR,eAGrCrK,GAAqB,GAAdA,EAAI1J,SAEduI,EAAMmB,EAAI,IACVoK,EAAKjG,EAAcrP,MAAMmU,QAAQpK,IACxB,IAERsF,EAAcrP,MAAMwV,OAAOzL,GAC3BA,EAAMsF,EAAcrP,MAAMyV,OAAOH,EAAG,EAAGvL,IAG1C,EACAvJ,MAAO3B,MAER,CACCY,MAAO,SACPoJ,QAAS,wBACTC,QAAS,YACTvI,QAAS,WACR,IAECwJ,EAAKuL,EAFFjG,EAAgBxQ,KAAKC,KAAK,wBAC7BoM,EAAMmE,EAAcnL,oBAAoBqR,eAGrCrK,GAAqB,GAAdA,EAAI1J,SAEduI,EAAMmB,EAAI,IACVoK,EAAKjG,EAAcrP,MAAMmU,QAAQpK,IAC1B,EAAIsF,EAAcrP,MAAMwE,KAAKhF,MAAMgC,SAEzC6N,EAAcrP,MAAMwV,OAAOzL,GAC3BA,EAAMsF,EAAcrP,MAAMyV,OAAOH,EAAG,EAAGvL,IAG1C,EACAvJ,MAAO3B,UAMZ,CACCY,MAAO,YACPU,KAAM,kBACNmI,WAAYxI,KAAKC,GAAG,oBAKvB,CACCN,MAAO,WACPyI,QAAQ,EACRrI,MAAOC,KAAKC,GAAG,sBACfI,KAAM,WAENuV,YAAa,YACbrX,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER4G,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,QAEP4I,WAAYxI,KAAKC,GAAG,iBACpBP,MAAO,CACN,CACCC,MAAO,YACPgV,WAAW,EACXtU,KAAM,iBACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnB2U,YAAY,GAEb,CACCjV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,iBACjB,EACArQ,MAAO3B,QAIV,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAGRH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,gBACNmI,WAAYxI,KAAKC,GAAG,oBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAML,KAAKC,GAAG,YAAa6R,MAAO,IACnC,CAACzR,KAAM,yBAA0ByR,MAAO,yBACxC,CAACzR,KAAM,sBAAuByR,MAAO,uBACrC,CAACzR,KAAM,sBAAuByR,MAAO,sBACrC,CAACzR,KAAM,kBAAmByR,MAAO,oBACjC,CAACzR,KAAM,iBAAkByR,MAAO,qBAInC,CACCzR,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,iBACpBN,MAAO,YACPmS,MAAO,IAER,CACCtJ,WAAYxI,KAAKC,GAAG,iBACpBI,KAAM,eACNV,MAAO,aACP6J,QAAS,EACTqM,GAAI,IACJC,OAAO,EACPpW,MAAO,CACN,CACCiJ,SAAU3I,KAAKC,GAAG,UAAWI,KAAM,UAAWuI,WAAY,OAAQmN,SAAS,GAE5E,CACCpN,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,UAAWuI,WAAY,WAE9D,CACCD,SAAU3I,KAAKC,GAAG,WAAYI,KAAM,UAAWuI,WAAY,MAE5D,CACCD,SAAU3I,KAAKC,GAAG,SAAUI,KAAM,UAAWuI,WAAY,MAE1D,CACCD,SAAU3I,KAAKC,GAAG,eAAgBI,KAAM,UAAWuI,WAAY,MAEhE,CACCD,SAAU3I,KAAKC,GAAG,UAAWI,KAAM,UAAWuI,WAAY,QAE3D,CACCD,SAAU3I,KAAKC,GAAG,UAAWI,KAAM,UAAWuI,WAAY,QAE3D,CACCD,SAAU3I,KAAKC,GAAG,UAAWI,KAAM,UAAWuI,WAAY,MAE3D,CACCD,SAAU3I,KAAKC,GAAG,YAAaI,KAAM,UAAWuI,WAAY,MAE7D,CACCD,SAAU3I,KAAKC,GAAG,YAAaI,KAAM,UAAWuI,WAAY,WAG9DhI,UAAW,CACV4R,OAAQ,SAAShH,EAAOwK,EAAQC,EAAQC,GACvC,IAAI7U,EAAUmK,EAAMrG,WAAW9D,QACbtC,KAAKC,KAAK,yBAEbuN,WAAuB,UAAXlL,EAC5B,EACAX,MAAO3B,OAGT,CACCyJ,WAAYxI,KAAKC,GAAG,YACpBI,KAAM,iBACNV,MAAO,YACPoT,QAAQ,OAOb,CACCpT,MAAO,WACPU,KAAM,WAEN+H,QAAQ,EACRrI,MAAOC,KAAKC,GAAG,eACf2V,YAAa,YACbrX,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAGRH,MAAO,CACN,CACCC,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,cACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,cACnB6I,UAAU,EACVzI,KAAM,UAEP,CACCV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,SACjB,EACArQ,MAAO3B,QAIV,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,eACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,cACnB6I,UAAU,EACVzI,KAAM,UAEP,CACCV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,SACjB,EACArQ,MAAO3B,UAOZ,CACCY,MAAO,WACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERQ,KAAM,WAENN,MAAOC,KAAKC,GAAG,iBACfP,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER2I,WAAYxI,KAAKC,GAAG,iBACpBP,MAAO,CACN,CACCC,MAAO,YACPgV,WAAW,EACXtU,KAAM,aACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnB2U,YAAY,GAEb,CACCjV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,aACjB,EACArQ,MAAO3B,QAIV,CACCsB,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,eACpBN,MAAO,cACPmS,OAAQ,EACRqE,UAAW,EACXC,SAAU,IACVC,eAAe,EACfC,iBAAkB,EAClBC,KAAM,GAEP,CACClW,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,aACpBN,MAAO,cACPmS,OAAQ,EACRqE,UAAW,EACXC,SAAU,IACVC,eAAe,EACfC,iBAAkB,EAClBC,KAAM,GAEP,CACClW,KAAM,eACNmI,WAAYxI,KAAKC,GAAG,cACpBN,MAAO,cACPmS,OAAQ,EACRqE,UAAW,EACXC,SAAU,GACVC,eAAe,EACfC,iBAAkB,EAClBC,KAAM,GAEP,CACClW,KAAM,gBACNmI,WAAYxI,KAAKC,GAAG,eACpBN,MAAO,aAER,CACCU,KAAM,gBACNmI,WAAYxI,KAAKC,GAAG,cACpBN,MAAO,aAER,CACCU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,gBACpBN,MAAO,aAER,CACCA,MAAO,eACPmS,MAAO,4CAER,CACCnS,MAAO,YACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,uBAKvB,CACCN,MAAO,WACPI,MAAOC,KAAKC,GAAG,0BACfI,KAAM,WAEN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,QAEP4I,WAAYxI,KAAKC,GAAG,iBACpBP,MAAO,CACN,CACCC,MAAO,YACPgV,WAAW,EACXtU,KAAM,YACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnB2U,YAAY,GAEb,CACCjV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,YACjB,EACArQ,MAAO3B,QAIV,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,QAEP4I,WAAYxI,KAAKC,GAAG,mBACpBP,MAAO,CACN,CACCC,MAAO,YACPgV,WAAW,EACXtU,KAAM,aACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnB2U,YAAY,GAEb,CACCjV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,aACjB,EACArQ,MAAO3B,QAIV,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,QAEP4I,WAAYxI,KAAKC,GAAG,UACpBP,MAAO,CACN,CACCC,MAAO,YACPgV,WAAW,EACXtU,KAAM,WACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnB2U,YAAY,EACZ9L,UAAU,GAEX,CACCnJ,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,WACjB,EACArQ,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAM,QACNE,QAAS,WACC1B,KACIsN,OAEN2D,SAAW,KAHTjR,KAINC,KAAK,mBAAmB6D,SAAS,GACrC,EACAnC,MAAO3B,QAIV,CACCY,MAAO,WACPU,KAAM,eACNmI,WAAYxI,KAAKC,GAAG,sBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,aAAcyR,MAAO,QAC5B,CAACzR,KAAM,0BAA2ByR,MAAO,WAI5C,CACCnS,MAAO,WACPU,KAAM,oBACNmI,WAAYxI,KAAKC,GAAG,oBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,sBAAuByR,MAAO,WACrC,CAACzR,KAAM,sBAAuByR,MAAO,WACrC,CAACzR,KAAM,kBAAmByR,MAAO,QACjC,CAACzR,KAAM,YAAayR,MAAO,kBAMhC,CACCnS,MAAO,WACPU,KAAM,WACNN,MAAOC,KAAKC,GAAG,uBACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,MAMV,CACCC,MAAO,QACPI,MAAOC,KAAKC,GAAG,cACfqI,YAAY,EACZ/J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,cACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,aACPU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,cACpB6V,OAAO,EACPpW,MAAO,CACN,CAACiJ,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,aAAcuI,WAAY,GAAImN,SAAS,GAC9E,CAACpN,SAAU3I,KAAKC,GAAG,SAAUI,KAAM,aAAcuI,WAAY,OAC7D,CAACD,SAAU3I,KAAKC,GAAG,SAAUI,KAAM,aAAcuI,WAAY,UAG/D,CACCjJ,MAAO,aACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,aACpB6V,OAAO,EACPpW,MAAO,CACN,CAACiJ,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,cAAeuI,WAAY,GAAImN,SAAS,GAC/E,CAACpN,SAAU3I,KAAKC,GAAG,YAAaI,KAAM,cAAeuI,WAAY,WACjE,CAACD,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,cAAeuI,WAAY,cAKtE,CACCjJ,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,SAERkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,iBACNsI,SAAU3I,KAAKC,GAAG,cAEnB,CACCN,MAAO,WACPU,KAAM,aACNsI,SAAU3I,KAAKC,GAAG,eAElBW,UAAW,CACV4R,OAAQ,SAAShH,EAAOwK,EAAQC,EAAQO,GACvC,IAAIrX,EAAKJ,KACR6N,EAAapB,EAAMrG,WACnBsR,EAAWtX,EAAGH,KAAK,mBACnB0X,EAAWvX,EAAGH,KAAK,mBACOG,EAAGH,KAAK,kCAGnCyX,EAASlK,WAAWK,GACpB8J,EAASnK,WAAWK,EACrB,EACAlM,MAAO3B,OAGT,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,qBACpBI,KAAM,WACNuS,WAAY,IACZG,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,iBACNP,KAAM,GAEP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACd0W,KAAM,CACLjX,MAAO,CACN,CACCa,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACStB,EAAGH,KAAK,yBACd6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACStB,EAAGH,KAAK,yBACd6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,kBACNuR,MAAO,mBACPrR,QAAS,WACStB,EAAGH,KAAK,yBACd6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,iBACNuR,MAAO,iBACPrR,QAAS,WACStB,EAAGH,KAAK,yBACd6D,SAAS9D,KAAK+S,MAC1B,QAQN,CACCnS,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,qBACpBI,KAAM,WACNuS,WAAY,IACZG,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,eACNP,KAAM,GAEP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACd0W,KAAM,CACLjX,MAAO,CACN,CACCa,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACStB,EAAGH,KAAK,uBACd6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACStB,EAAGH,KAAK,uBACd6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,kBACNuR,MAAO,mBACPrR,QAAS,WACStB,EAAGH,KAAK,uBACd6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,iBACNuR,MAAO,iBACPrR,QAAS,WACStB,EAAGH,KAAK,uBACd6D,SAAS9D,KAAK+S,MAC1B,QAQN,CACCnS,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER2I,WAAYxI,KAAKC,GAAG,gBACpBP,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,YACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnBH,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKgS,WAAW,UACjB,EACArQ,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR,IAAItB,EAAKJ,KACTI,EAAGH,KAAK,oBAAoB6D,SAAS,IACrC1D,EAAGkN,OAAOuK,WAAW9G,UAAY,GACjC3Q,EAAGkN,OAAOuK,WAAWxF,SAAW,EACjC,EACA1Q,MAAO3B,UAMZ,CACCY,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,gBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,OACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,OAAQ,YAOrB,CACCR,MAAO,WACPI,MAAOC,KAAKC,GAAG,cACf8S,OAAQhU,KAAKuM,MACb/M,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAGRH,MAAO,CACN,CACCC,MAAO,YACPwB,OAAQ,IACRd,KAAM,eACNC,KAAM,CACL,CACCC,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACR1B,KAAK8X,aACN,EACAnW,MAAO3B,MAER,KACA,CACCwB,KAAMP,KAAKC,GAAG,iBACdQ,QAAS,WACR,IAAItB,EAAKJ,KACR+X,EAAM,IAAI7Y,IAAI8Y,aAAa,CAC1BlP,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAG0C,IACRmV,MAAO7X,EAAG4G,KACVkR,MAAO,EACP5X,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+X,gBAEvCjZ,IAAIkK,WAAWhJ,EAAI2X,EACpB,EACApW,MAAO3B,OAGTmB,MAAO,CACNC,OAAQ,CAAC,SAEVqJ,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdvB,MAAO,IACP+K,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,aACdH,KAAM,GAEP,CACCH,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTtI,QAAS,SAAS2S,EAAMlJ,EAAQiN,EAAQlN,GAC9BlL,KACNqY,iBAAiBnN,EACrB,EACAvJ,MAAO3B,MAER,CACCgK,QAAS,mBACTtI,QAAS,SAAS2S,EAAMlJ,EAAQiN,EAAQlN,GAC3BmJ,EAAKlT,MACXwV,OAAOzL,EACd,EACAvJ,MAAO3B,qBAiBtBd,IAAI2M,kBAAkB7J,WAAWvB,cAAcC,MAAMV,KACtD,EAEA6B,UAAW,CACVC,YAAa,SAAS6J,GACrB,IAAI0J,EAAQrV,KAEZsY,YAAW,WACVjD,EAAMhT,QACP,GAAG,IACJ,KAIFnD,IAAIqZ,aAAenZ,GAAGC,OAAOD,GAAGE,OAAQ,CAEvCC,OAAO,EACPiZ,UAAU,EACVrW,OAAO,SACP3C,OAAQ,CACPqB,KAAM,MACNC,MAAO,WAGRrB,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEV0F,SAAU,WACAhG,KACNQ,OACJ,EAEAyF,SAAU,WACAjG,KACNsL,UAAUrF,UACd,EAEAxF,cAAgB,WACf,IAAIL,EAAKJ,KACTI,EAAGkL,UAAY,IAAIpM,IAAI2M,kBAAkB,CACxC/C,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAG0C,IACRqB,QAAS/D,EAAG+D,QACZsU,SAAUrY,EAAGqY,SACbhN,SAAUrL,EAAGqL,SACblH,UAAWnE,EAAGmE,UACdoC,eAAgBvG,EAAGuG,eACnB/B,SAAUxE,EAAGwE,SACb2I,GAAInN,EACJmM,MAAOnM,EAAGmM,MACVM,UAAWzM,EAAGyM,UACdvM,SAAUF,EAAGE,WAGdF,EAAGY,MAAQC,KAAKC,GAAG,mBAEnB9B,GAAGsB,MAAMN,EAAI,CAEZO,MAAO,CACNP,EAAGkL,WAEJ7J,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTN,KAAM,YACNI,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAIqZ,aAAavW,WAAWvB,cAAcC,MAAMV,KAAM4L,UACvD;AC9oED1M,IAAIwZ,SAAWtZ,GAAGC,OAAOD,GAAGE,OAAQ,CACnCC,OAAO,EACPE,UAAU,EACVC,WAAW,EACXC,MAAO,IACPyC,OAAQ,IAER4H,QAAS,iBACTxK,OAAQ,MACRmZ,YAAazQ,IAAIoB,QAEjBsP,MAAO,WACG5Y,KAEN6Y,YAAY,IAChB,EAEAA,YAAa,SAASC,GACrB,IAAI1Y,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,SACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAKW,OAAQ,iBAAkBqV,QAASA,GAAW,KACrEtV,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACN3D,KACGC,KAAK,gBAEXkB,MAAM0B,SAASc,EACtB,IAAG,GACJR,EAAIO,MACL,EAEAjD,cAAe,WAGdrB,GAAGsB,MAAMV,KAAM,CACdgB,MAAOC,KAAKC,GAAG,qBACfP,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERuI,OAAQ,EACRC,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,QACPyI,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,QACPI,MAAOC,KAAKC,GAAG,gBACfH,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,iBAEpB,CACCN,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,eAIpB,CACCN,MAAO,OACPU,KAAM,QACNP,KAAM,EACNoJ,QAAS,gBACTC,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPI,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACX3J,KAAM,IAGRI,MAAO,CACNC,OAAQ,IAETS,UAAW,CACViJ,UAAW,SAAS/I,EAAMiX,EAAIC,EAAWjO,EAAMsJ,EAAUlJ,GACxD,IACC8N,EADQlZ,KACKC,KAAK,kBAClBkZ,EAFQnZ,KAEKC,KAAK,kBAEnBiZ,EAAQ/X,MAAM0B,SAASmI,EAAKpF,IAAI,WAChCuT,EAAQrV,SAASkH,EAAKpF,IAAI,QAAQ0C,cACnC,EACA3G,MAAO3B,SAKX,CACCY,MAAO,YACPjB,MAAO,GAER,CACCiB,MAAO,QACPI,MAAOC,KAAKC,GAAG,mBACfH,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,kBACpBI,KAAM,WAEP,CACCV,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,gBACnBuI,WAAYxI,KAAKC,GAAG,aAErB,CACCN,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,eAIpB,CACCN,MAAO,OACPG,KAAM,EACNO,KAAM,UACNgJ,QAAS,CACR,CACCC,MAAO,cACPC,cAAc,IAGhBC,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACX3J,KAAM,GAEP,CACCS,KAAMP,KAAKC,GAAG,aACdwJ,UAAW,gBACX3J,KAAM,GAEP,CACCS,KAAMP,KAAKC,GAAG,eACdwJ,UAAW,aAEZ,CACClJ,KAAMP,KAAKC,GAAG,YACdwJ,UAAW,WAGbvJ,MAAO,CACNC,OAAQ,YAUjBK,QAAQ,CACP,CACCuI,QAAS,wBACTxI,KAAMP,KAAKC,GAAG,cACdQ,QAAS,WACR,IAGCyB,EAGKrD,EAAGsZ,EANLhZ,EAAKJ,KAERqZ,EAAO,GAGPhN,EADOjM,EAAGH,KAAK,gBACJoF,oBAAoBiU,SAE/BC,EAAM,CAAC,EAgBR,IAdApW,EAAM,CACLG,IAAK,SACLC,QAAS,CACRT,IAAK1C,EAAG0C,IACR0W,cAAepZ,EAAGoZ,cAAc5T,IAAI,OACpCnC,OAAQ,eAETD,MAAO,CAACiW,OAAQ,IAChBC,OAAQ,IACRxW,UAAW,cAGZqW,EAAIjY,KAAO,GAENxB,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAGzBsZ,EADM/M,EAAI1L,MAAMb,GACP6F,KACTxC,EAAIK,MAAMiW,OAAO7W,KAAKwW,GAElBtZ,EAAI,EAEPyZ,EAAIjY,OAASxB,EAAI,EAAI,IAAM,IAAMsZ,EAAG9X,KAEvB,GAALxB,IAERyZ,EAAIjY,MAAQ,SAAW+K,EAAI1J,OAAS,KAItC0W,EAAKzW,KAAKO,GAEVjE,IAAIya,cAAcvZ,EAAIA,EAAG0C,IAAK1C,EAAGwE,SAAUyU,EAAME,EAClD,EACA5X,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAASC,GACrB/B,KAAK4Y,OACN,EACAjX,MAAO3B,QAITd,IAAIwZ,SAAS1W,WAAWvB,cAAcwB,KAAKjC,KAC5C;ACxQDd,IAAI0a,aAAexa,GAAGC,OAAOH,IAAI2a,MAAO,CACvC7P,QAAS,eACTvK,UAAU,EACVD,OAAQ,MACRmZ,YAAazQ,IAAIoB,QAEjBsP,MAAO,WACN,IACCkB,EADG1Z,EAAKJ,KAER+Z,EAAa3Z,EAAGH,KAAK,qBAEtBf,IAAI8a,QAAQ5Z,EAAG0I,SAAUkG,EAAE+K,EAAWE,GAAGC,KAAMhb,IAAIib,SAASC,IAAK,IAAIlb,IAAIsF,YAAYpE,GAAI,SAASwX,GACjG1Y,IAAImb,OAAOrL,EAAE,WAAY+K,EAAWE,GAAGC,KAAMtC,EAAK0C,QAAQC,KAAK,MAChE,KAEIna,EAAG0C,IAEN1C,EAAGoa,WAIHV,EAAO,CAAC,EAEJ1Z,EAAGqa,KAAOra,EAAGqa,IAAI3X,MAEpBgX,EAAKY,WAAa,CACjB5X,IAAK1C,EAAGqa,IAAI3X,IACZxB,KAAMlB,EAAGqa,IAAInZ,OAGflB,EAAGua,QAAQb,GAEb,EAEAU,QAAS,WACR,IAAIpa,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,YACdrD,GAAI,SAASuD,GACVA,EAAKV,UAETU,EAAKV,QAAU,CACd3B,KAAMqC,EAAKrC,KACXwB,IAAKa,EAAKb,IACV4D,SAAU/C,EAAK+C,SACf7F,KAAM8C,EAAK9C,KACXqC,UAAW,oBAGb9C,EAAGua,QAAQhX,EAAKV,QACjB,IAAG,GACJE,EAAIO,MACL,EAEAiX,QAAS,SAAS1X,GACjB,IAAI7C,EAAKJ,KAETI,EAAGwa,IAAM3X,EACT7C,EAAGwa,IAAIC,UAAYza,EAAGwa,IAAIC,WAAa,GAEnCza,EAAGwa,IAAIF,WAEVta,EAAG0a,SAIH1a,EAAG2a,SAGA3a,EAAGwa,IAAI9X,KAEV1C,EAAG4a,SAEL,EAEAA,QAAS,WACR,IAGCC,EAHG7a,EAAKJ,KACR4a,EAAMxa,EAAGwa,IACTM,EAAY9a,EAAGH,KAAK,oBAGrBgb,EAAQ,CACPpa,KAAM,OACNS,KAAMsZ,EAAItZ,KACVwB,IAAK8X,EAAI9X,IACT4D,SAAUkU,EAAIlU,SACdyU,MAAM,EACNhW,SAAU,CACT,CACCtE,KAAM,OACNS,KAAM,gBAKT4Z,EAAUE,YAAchb,EAAGgb,YAC3BF,EAAUG,YAAYJ,GAEtB3C,YAAW,WACV4C,EAAUI,cAAcC,QACzB,GAAG,GACJ,EAEAT,OAAQ,WACP,IAAI1a,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAGwa,IAAIF,WAAW5X,KACjCU,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACfvD,EAAGob,OAAO7X,EAAKV,QAChB,IAAG,GACJE,EAAIO,MACL,EAEA8X,OAAQ,SAASnU,GAChB,IAAIjH,EAAKJ,KAERyb,EAAKrb,EAAGwa,IAAIF,WAEbta,EAAGsb,IAAMrU,EACToU,EAAG3Y,IAAMuE,EAAIvE,IACb2Y,EAAG/U,SAAWW,EAAIX,SAClB+U,EAAGna,KAAO+F,EAAI/F,KAEdlB,EAAGH,KAAK,mBAAmB0b,QAAQtU,EAAI/F,KAAO,KAAOlB,EAAGsb,IAAIE,OAAS,KAEhD,UAAjBxb,EAAGsb,IAAIE,QAAuC,UAAjBxb,EAAGsb,IAAIE,QAEvCxb,EAAGH,KAAK,mBAAmB2S,OAC3BxS,EAAGyb,SAAWzb,EAAGsb,IAAII,QAAQC,aAEJ,WAAjB3b,EAAGsb,IAAIE,QAEfxb,EAAGH,KAAK,mBAAmB2S,OAC3BxS,EAAGyb,SAAWzb,EAAGsb,IAAII,QAAQE,kBAEJ,SAAjB5b,EAAGsb,IAAIE,QAEfxb,EAAGH,KAAK,mBAAmB2S,OAC3BxS,EAAGyb,SAAWzb,EAAGsb,IAAII,QAAQG,iBAEJ,QAAjB7b,EAAGsb,IAAIE,QAAqC,QAAjBxb,EAAGsb,IAAIE,QAKjB,aAAjBxb,EAAGsb,IAAIE,UAHfxb,EAAGH,KAAK,mBAAmB2S,OAC3BxS,EAAGyb,SAAWzb,EAAGsb,IAAII,QAAQI,aAQ9B9b,EAAGgb,aAAc,EAEbhb,EAAGyb,SAENzb,EAAGgb,YAA0C,KAA5Bhb,EAAGyb,SAASM,aAI7B/b,EAAGgb,YAAqC,KAAvBhb,EAAGsb,IAAIS,YAE1B,EAEAC,kBAAmB,SAAS3J,EAAQ9M,GACnC,IAAIvF,EAAKJ,KACRqI,GAAI,EACJgU,EAAQ5J,EAAO7M,IAAI,QAuCpB,OArCAyW,EAAQA,EAAQA,EAAM/T,cAAgB,KAEtClI,EAAGkc,IAAM,KAEI,UAATD,GAA8B,WAATA,GAA+B,WAATA,GAA+B,cAATA,IAEpEjc,EAAGkc,IAAM7J,EAEJA,EAAO7M,IAAI,SAEf6M,EAAO8I,SAGRnb,EAAGmc,YAAY9J,IAGH,SAAT4J,GAA6B,cAATA,GAEvBjc,EAAGkc,IAAM7J,EAEJA,EAAO7M,IAAI,SAEf6M,EAAO8I,SAERnb,EAAGmc,YAAY9J,GACfpK,GAAI,GAEa,UAATgU,GAA8C,GAAzB5J,EAAO7M,IAAI,YAExCxF,EAAGmc,YAAY9J,GACfpK,GAAI,GAEa,aAATgU,IAERhU,EAAIjI,EAAGoc,gBAAgB/J,IAGjBpK,CACR,EAEAoU,mBAAoB,SAASzR,GAC5B,IAAI5K,EAAKJ,KACRqI,GAAI,EACJgU,EAAQrR,EAAKpF,IAAI,QAoClB,OAhCKoF,EAAK0R,UAEI,UAATL,GAA8B,WAATA,EAwBpBjc,EAAGkc,MAEPlc,EAAGkc,IAAMtR,GAnBQ,SAATqR,GAA6B,cAATA,IAExBrR,EAAK2R,WAAWha,OAAS,GAAuC,QAAlCqI,EAAK2R,WAAW,GAAG/W,IAAI,UAExDoF,EAAK4R,YACDxc,EAAGkc,KAAOlc,EAAGkc,IAAI1W,IAAI,QAAUoF,EAAKpF,IAAI,QAE3CxF,EAAGmc,YAAYvR,IAKjB3C,GAAI,GAWCA,CACR,EAEAwU,cAAe,SAAS7R,GACvB,IAEC8R,EAFQ9c,KACM8I,SACIyC,UAWnB,OARIuR,GAEC9R,GAEH8R,EAAOpR,YAAYV,EAAKpF,IAAI,OAAQ,UAAWoF,EAAKpF,IAAI,QAASoF,EAAKpF,IAAI,aAAa,EAAOoF,EAAKpF,IAAI,YANlG,CAAC,IAUD,CACR,EAEA4W,gBAAiB,SAASxR,GACzB,IAEC8R,EAFQ9c,KACM8I,SACIyC,UAClBgO,EAAM,CAAC,EAmBR,OAjBIuD,IAEHvD,EAAM,CACLwD,QARO/c,KAQK8C,IACZka,UAAWhS,EAAO,KAAO,IAAI9L,IAAI+d,YAAY,OAG1CjS,EAEH8R,EAAOpR,YAAYV,EAAKpF,IAAI,OAAQ,YAAaoF,EAAKpF,IAAI,QAASoF,EAAKpF,IAAI,aAAa,EAAOoF,EAAKpF,IAAI,YAAa2T,GAItHuD,EAAOpR,YAAY,KAAM,YAAa,YAAa,MAAM,GAAO,EAAM6N,KAIjE,CACR,EAEA2D,iBAAkB,SAASC,EAAOrE,EAAS9N,GAC1C,IAAI5K,EAAKJ,KACTod,EAAchd,EAAGH,KAAK,sBAErBod,MAAQF,EAAMtc,KAAKyH,cACnBnF,IAAM,IAAIjE,IAAIkE,MAEfD,IAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAKqa,EAAMra,IAAK4D,SAAUyW,EAAMzW,SAAUpF,KAAM6b,EAAM7b,KAAMT,KAAMsc,EAAMtc,MAClF2C,MAAO,CAACC,OAAQ,WACdrD,GAAI,SAASuD,GACf,IAAI7D,EACH2M,EACA6Q,EACAnR,EAAK,GACLgE,EAAK,CAAC,CAAC7O,KAAML,KAAKC,GAAG,YAAa6R,MAAO,KACzC3R,EAAS,GACTmc,EAAand,EAAGH,KAAK,qBACrBud,EAAYpd,EAAGH,KAAK,oBACpBwd,EAAerd,EAAGH,KAAK,uBACvByd,EAAYtd,EAAGH,KAAK,oBAMrB,IAJCmd,EAAYrJ,YAA0B,SAAdoJ,EAAMtc,MAAiC,cAAdsc,EAAMtc,MAExDyc,EAAS3Z,EAAKwB,UAAY,GAErBrF,EAAE,EAAGA,EAAIwd,EAAO3a,OAAQ7C,KAE5B2M,EAAQ6Q,EAAOxd,IACT6d,QAAUze,IAAI0e,kBAAkBnR,EAAM5L,KAAKyH,cAAemE,GAC9C,UAAdA,EAAM5L,MAET4L,EAAMtH,SAAW,CAChB,CACCtE,KAAM,OACNS,KAAM,eAGRmL,EAAMoR,SAAU,EAChB1R,EAAGvJ,KAAK6J,KAIRA,EAAM1F,SAAW0F,EAAMnL,KACvBmL,EAAMqR,cAAgBrR,EAAMsR,WAAWC,OAErB,aAAdvR,EAAM5L,MAAqC,UAAd4L,EAAM5L,OAEtC4L,EAAMwR,SAAW/e,IAAIgf,aAAazR,EAAMsR,WAAWI,SAEpD1R,EAAMkR,QAAUze,IAAI0e,kBAAkBnR,EAAM5L,KAAO4L,EAAM5L,KAAKyH,cAAgB,SAAUmE,GACxF0D,EAAGvN,KAAK,CACPtB,KAAMmL,EAAMnL,KACZyR,MAAOtG,EAAMqR,gBAEd1c,EAAOwB,KAAK6J,IAIdvN,IAAIkf,SAAShd,GAEblC,IAAIkf,SAASjS,GAETA,EAAGxJ,QAAoC,GAA1BqI,EAAK2R,WAAWha,QAEhCqI,EAAKqT,YAAYlS,GAGlBuR,EAAUvc,MAAM0B,SAASzB,GAEzBqc,EAAa3Z,SAAuB,SAAdqZ,EAAMtc,MAA0Bsc,EAAMM,cAC5DA,EAAa1J,YAA0B,SAAdoJ,EAAMtc,MAE/B0c,EAAWpc,MAAM0B,SAASsN,GAC1BoN,EAAWzZ,SAASqZ,EAAMI,YAAc,IAExCC,EAAUrc,MAAM0B,SAASsN,GACzBqN,EAAU1Z,SAASqZ,EAAMK,WAAa,GACvC,IAAG,GAEJra,IAAIO,MACL,EAEA6Y,YAAa,SAASvR,EAAM8N,GAC3B,IAAI1Y,EAAKJ,KACRkb,EAAY9a,EAAGH,KAAK,oBACpBkD,EAAM,IAAIjE,IAAIkE,MACdkb,EAAWtT,EAAKpF,IAAI,QAAQ0C,cAC5BiW,EAAUne,EAAGH,KAAK,kBAEnBG,EAAGH,KAAK,kBAAkBue,YAAYC,cAAc,GAEpDre,EAAGH,KAAK,gBAAgBuN,WAAwB,UAAZ8Q,GAAoC,SAAZA,GAAmC,cAAZA,GACnFle,EAAGH,KAAK,iBAAiBuN,WAAwB,SAAZ8Q,GAAmC,cAAZA,GAC5Dle,EAAGH,KAAK,iBAAiBuN,WAAwB,UAAZ8Q,GAAoC,WAAZA,GAC7Dle,EAAGH,KAAK,mBAAmBuN,WAAuB,SAAZ8Q,GAAmC,cAAZA,GAE7Dle,EAAGH,KAAK,kBAAkBuN,WAAuB,WAAZ8Q,GACrCle,EAAGH,KAAK,kBAAkBuN,WAAuB,SAAZ8Q,GAAmC,cAAZA,GAE5C,UAAZA,GAAoC,WAAZA,GAE3BC,EAAQG,OACRte,EAAGH,KAAK,kBAAkBye,OAC1Bte,EAAGH,KAAK,mBAAmBye,OAC3Bte,EAAGH,KAAK,kBAAkBye,OAC1Bte,EAAGH,KAAK,kBAAkBye,OAC1Bte,EAAG8c,iBAAiBlS,EAAKrF,KAAMmT,EAAS9N,IAEpB,WAAZsT,GAERle,EAAGH,KAAK,kBAAkB0b,QAAQ1a,KAAKC,GAAG,cAAe8J,EAAKpF,IAAI,gBAAkBoF,EAAKpF,IAAI,UAC7FxF,EAAGH,KAAK,kBAAkB8T,aAAa/I,EAAKpF,IAAI,aAChDxF,EAAGH,KAAK,kBAAkBye,OAC1Bte,EAAGH,KAAK,mBAAmBye,OAC3Bte,EAAGH,KAAK,kBAAkBye,OAC1Bte,EAAGH,KAAK,kBAAkBye,OAC1Bte,EAAG8c,iBAAiBlS,EAAKrF,KAAMmT,EAAS9N,KAIxCuT,EAAQ3L,OAGPxS,EAAGH,KAAK,kBAAkB2S,OAC1BxS,EAAGH,KAAK,mBAAmB2S,OAG5BxS,EAAGH,KAAK,kBAAkB2S,OAC1BxS,EAAGH,KAAK,kBAAkB2S,OAE1BzP,EAAIE,KAAK6X,EACR,CACC5X,IAAK,UACLC,QAAS,CACRT,IAAKkI,EAAKpF,IAAI,QAEfpC,MAAO,CAACC,OAAQ,gBACdyX,GAAW,SAASvX,GACtB,IAAIV,EAAUU,GAAQA,EAAKV,QAAUU,EAAKV,QAAwB,UAAbU,EAAK9C,KAAmB8C,EAAO,KAEpFvD,EAAGue,KAAO1b,EAENA,IAEiB,UAAhBA,EAAQpC,OAEXT,EAAGH,KAAK,wBAAwB6D,SAASb,EAAQ2b,eAAiB3b,EAAQ3B,MAC1ElB,EAAGH,KAAK,sBAAsB6D,SAASb,EAAQ8a,WAAa9a,EAAQ8a,WAAWc,OAAS,KAGzFze,EAAGH,KAAK,qBAAqBuN,WAA2B,cAAhBvK,EAAQpC,MAChDT,EAAGH,KAAK,qBAAqB6D,SAAS5E,IAAI4f,WAAW7b,EAAQmX,KAAO,KAkBpEha,EAAG8c,iBAAiBja,EAAS6V,EAAS9N,GAExC,IAGD7H,EAAIO,OAEN,EAEAqb,eAAgB,SAAS7T,GACxB,IAAI9K,EAAKJ,KAERgf,EADW5e,EAAG0I,SACAyC,UACd8Q,EAAQnR,EAAItF,IAAI,QAAQ0C,cAEZ,QAAT+T,IAEHA,EAAQnR,EAAItF,IAAI,WAAW0C,eAGxB0W,GAAe,UAAT3C,GAA8B,SAATA,GAA6B,cAATA,GAElD2C,EAAGtT,YAAYR,EAAItF,IAAI,OAAQyW,EAAOnR,EAAItF,IAAI,QAASsF,EAAItF,IAAI,aAAa,EAA6B,GAAvBsF,EAAItF,IAAI,YAAqB,CAC9GzB,QAAS/D,EAAG0C,IACZia,QAAS3c,EAAG0C,IACZxC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS2B,GACtCA,GAEHmJ,EAAIpF,IAAI,OAAQ/D,EAAKT,KAEvB,KAGH,EAEA2d,WAAY,SAASra,EAAUsa,GAC9B,IAAI9e,EAAKJ,KAERmf,GADQ/e,EAAGH,KAAK,gBACRG,EAAGkc,KAER4C,IAAgBC,IAEnBA,EAAQ/e,EAAGH,KAAK,oBAAoBqb,eAGjC6D,GAEHjgB,IAAIkgB,kBAAkBnd,KAAK7B,EAAIwE,EAAUua,EAAMvZ,IAAI,OAAQuZ,EAAMvZ,IAAI,YAAauZ,EACjF,IAAIjgB,IAAIsF,YAAYpE,GAAI,SAAS4K,EAAMqU,GAElCjf,EAAGkc,KAENlc,EAAGmc,YAAYnc,EAAGkc,IAEpB,IAGH,EAEAgD,UAAW,SAASC,EAAKhG,GACxB,IAICiG,EAJGpf,EAAKJ,KAER8I,EAAW1I,EAAG0I,SACdwC,EAAYxC,EAASyC,UAElBkU,EAAQrf,EAAGkc,IAAMlc,EAAGkc,IAAI1W,IAAI,QAAQ0C,cAAgB,KAExD,OAAQiX,GAER,IAAK,WACJnf,EAAGsf,UACH,MACD,IAAK,qBACJtf,EAAGuf,aACH,MACD,IAAK,gBAGJ,IAFIvf,EAAGwf,oBAGN,OAED7H,EAAM,IAAI7Y,IAAI2gB,mBAAmB,CAChC/W,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAG0C,IACR4Y,IAAKtb,EAAGsb,IACRG,SAAWzb,EAAGyb,UAAYzb,EAAGsb,IAAI5Y,IACjCxC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASiM,GAC1CjM,EAAG0f,sBAAsBzT,EAC1B,MAEDnN,IAAIkK,WAAWhJ,EAAI2X,GACnB,MACD,IAAK,iBACJ,IAAKwB,IAAQnZ,EAAGwf,oBAEf,OAGDJ,EAAMjG,GAAmB,cAAZA,EAAI1Y,KAAuB0Y,EAAM,CAACwG,OAAQ3f,EAAGsb,IAAI5Y,KAE9DiV,EAAM,IAAI7Y,IAAI8gB,eAAe,CAC5BlX,SAAU1I,EAAG0I,SACbmX,MAAO,aACPC,YAAaV,EACb/U,QAAS,GACTnK,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+f,gBAEtCjhB,IAAIkK,WAAWpJ,KAAM+X,GACrB,MACD,IAAK,cACJ,IAAKwB,IAAQnZ,EAAGwf,oBAEf,OAGD,IAAIZ,EAAKlW,EAASyC,UAClByT,GAAMA,EAAGtT,YAAY,KAAM,UAAW,cAAe,MAAM,GAAO,EAAM,CACvE0U,gBAAiBhgB,EAAGwa,IAAIF,WACxB2F,SAAUjgB,EAAG0C,MAEd,MACD,IAAK,aACJwI,GAAaA,EAAUI,YACtB,KAAM,SAAU,aAAc,MAAM,GAAM,EAAM,CAC/CvH,QAAS/D,EAAG0C,MAGd,MACD,IAAK,kBACJ,IAAI4Y,EAAMtb,EAAGsb,IACZ3D,EAAM,IAAI7Y,IAAIohB,WAAW,CACxBxX,SAAU1I,EAAG0I,SACbyX,KAAM,CACLzd,IAAK4Y,EAAI5Y,IACT4D,SAAUgV,EAAIhV,SACdpF,KAAMoa,EAAIpa,KACVT,KAAM6a,EAAI7a,QAIb3B,IAAIkK,WAAWpJ,KAAM+X,GACrB,MACD,IAAK,kBACJ3X,EAAGogB,cACH,MACD,IAAK,kBACJpgB,EAAG+X,eACH,MACD,IAAK,kBACJ/X,EAAGqgB,cACH,MACD,IAAK,gBACJ,GAAIhB,IAAmB,SAATA,GAA6B,cAATA,GAClC,CACK1H,EAAM,IAAI7Y,IAAIwhB,YAAY,CAC7B5X,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAGkc,IAAI1W,IAAI,OAChB/E,KAAMT,EAAGkc,IAAI1W,IAAI,QACjB+a,QAAQ,IAETzhB,IAAIkK,WAAWhJ,EAAI2X,EACpB,CACA,MACD,IAAK,cACJ,GAAI0H,IAAmB,SAATA,GAA6B,cAATA,GAMhC1H,EAFGwB,GAAOA,EAAIa,IAER,IAAIlb,IAAI0hB,eAAe,CAC5B9X,SAAU1I,EAAG0I,SACb+X,WAAYtH,IAKP,IAAIra,IAAI0hB,eAAe,CAC5B9X,SAAU1I,EAAG0I,SACbgY,MAAO,CACNlG,IAAKxa,EAAGkc,IAAI3W,QAKfzG,IAAIkK,WAAWhJ,EAAI2X,GAEpB,MACD,IAAK,eACJ3X,EAAG2gB,YACH,MACD,IAAK,oBACJ3gB,EAAG4gB,oBACH,MACD,IAAK,iBACJ5gB,EAAG6gB,aACH,MACD,IAAK,oBACAlJ,EAAM,IAAI7Y,IAAIgiB,kBAAkB,CACnCpY,SAAU1I,EAAG0I,SACbwT,IAAKlc,EAAGkc,IACR6E,OAAQ/gB,EAAGH,KAAK,sBAAsBmG,YAAc,OACpD0a,MAAO1gB,EAAGH,KAAK,wBAAwBmG,YAAc,OACrD9F,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASO,GAC1C,IAGCb,EACAoL,EAAKkW,EAJFhhB,EAAKJ,KAERmB,EADYf,EAAGH,KAAK,oBACFkB,MAGlBkgB,EAAO,CAAC,EACRC,EAAO,CAAC,EACRC,EAAW,GAEZ,GAAI5gB,GAASA,EAAMgC,OACnB,CACC,IAAK7C,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,IAEJ,WAAnBa,EAAMb,GAAG0hB,OAEZH,EAAK1gB,EAAMb,GAAGgD,KAAOnC,EAAMb,GAEA,WAAnBa,EAAMb,GAAG0hB,SAEjBF,EAAK3gB,EAAMb,GAAGgD,KAAOnC,EAAMb,IAI7B,IAAKA,EAAEqB,EAAMwE,KAAKhF,MAAMgC,OAAO,EAAG7C,GAAG,EAAGA,KAGvCshB,EAAOC,GADPnW,EAAM/J,EAAMwE,KAAKhF,MAAMb,IACP8F,IAAI,SAGnBsF,EAAIpF,IAAI,cAAesb,EAAKK,aAEpBH,EAAKpW,EAAItF,IAAI,SAErB2b,EAAS3e,KAAK,CACbE,IAAKoI,EAAItF,IAAI,OACbnC,OAAQ,WAKX,GAAI8d,EAAS5e,OACb,CACC,IAAIQ,EAAM,IAAIjE,IAAIkE,MAElBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASge,EACT/d,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACf,IAAK7D,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,IAEJ,OAAnBa,EAAMb,GAAG0hB,SAEZ7gB,EAAMb,GAAGge,cAAgBnd,EAAMb,GAAGoG,UAClC/E,EAAMiR,IAAIzR,EAAMb,KAIlBM,EAAG6gB,YACJ,IAED9d,EAAIO,MACL,KAEA,CACC,IAAK5D,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,IAEJ,OAAnBa,EAAMb,GAAG0hB,SAEZ7gB,EAAMb,GAAGge,cAAgBnd,EAAMb,GAAGoG,UAClC/E,EAAMiR,IAAIzR,EAAMb,KAIlBM,EAAG6gB,YACJ,CACD,CACD,MAED/hB,IAAIkK,WAAWhJ,EAAI2X,GACnB,MACD,IAAK,mBACJ3X,EAAGshB,eACH,MACD,IAAK,gBACJthB,EAAGuhB,uBACH,MACD,IAAK,iBACJvhB,EAAGwhB,qBACH,MACD,IAAK,eACJ,IAAIhZ,EAAa,IAAI1J,IAAI2J,cAAc,CACtCC,SAAU1I,EAAG0I,SACbC,aAAc,4BACd8Y,UAAW,YACX5P,aAAa,EACbjJ,aAAc,CACbC,YAAY,GAEb3I,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASgP,GAC1C,IACCM,EAAGzE,EAGH9H,EAJG2e,EAAQ1S,EAAI9N,KAEfygB,EAAU,GACV9e,EAAU,CAACtC,MAAO,IAGfmhB,EAAMxM,QAAQ,MAAQ,IAGzBwM,GADAA,EAAQA,EAAM3Q,MAAM,MACNoJ,KAAK,WAGpB7K,EAAI,CACHsS,OAAQ5S,EAAItM,IACZmf,QAAS7S,EAAIvO,KACbS,KAAMwgB,EACNjhB,KAAM,OACN4F,IAAKrG,EAAG0C,IACRif,QAAS3hB,EAAGsG,SAAW,IAAMob,GAG9B7W,EAAI,CACH/H,UAAW,OACX8e,OAAQ5S,EAAItM,IACZmf,QAAS7S,EAAIvO,KACbS,KAAMwgB,GAGPC,EAAQnf,KAAK8M,GACbzM,EAAQtC,MAAMiC,KAAKqI,IAEnB9H,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAAOP,GACL7C,GAAI,SAASuD,GACfzE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,GAAG,MACJiC,EAAIO,MACL,MAEDxE,IAAIkK,WAAWpJ,KAAM4I,GACrB,MACD,IAAK,aACAmP,EAAM,IAAI7Y,IAAIgjB,UAAU,CAC3BpZ,SAAU1I,EAAG0I,SACb8R,IAAKxa,EAAGwa,MAET1b,IAAIkK,WAAWpJ,KAAM+X,GAGvB,EAEA6J,mBAAoB,WACnB,IAECO,EACAC,EAHGhiB,EAAKJ,KACR4a,EAAMxa,EAAGwa,IAIVA,EAAIuH,eAAiBvH,EAAIuH,gBAAkB,IAC3CA,EAAiBvH,EAAIuH,iBAECA,EAAexf,OAAS,GAE7Cyf,EAAM,IAAIljB,IAAImjB,eAAe,CAC5BvZ,SAAU1I,EAAG0I,SACbvJ,OAAO,EACPuD,IAAK1C,EAAG0C,IACRqf,eAAgBA,IAEjBjjB,IAAIkK,WAAWhJ,EAAIgiB,KAInBA,EAAM,IAAIljB,IAAIojB,YAAY,CACzBxZ,SAAU1I,EAAG0I,SACbvJ,OAAO,EACPe,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASiM,GAC1C,IACCvM,EACAkH,EAFGub,EAAY,GAGhB,IAAKziB,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAC1B,CACC,IAAI0iB,EAAI,CACPC,IAAKpW,EAAIvM,GAAG8F,IAAI,OAChBtE,KAAM+K,EAAIvM,GAAG8F,IAAI,SAElB2c,EAAU3f,KAAK4f,EAChB,CAEA,GAAID,EAAU5f,OAAS,EACvB,CAGC,KAFAqE,EAAO,IAAI9H,IAAIwjB,cAAc,OACxBC,KAAO,GACP7iB,EAAE,EAAGA,EAAIyiB,EAAU5f,OAAQ7C,IAE/BkH,EAAK2b,KAAK/f,KAAK,CACdtB,KAAMihB,EAAUziB,GAAGwB,KACnBmhB,IAAKF,EAAUziB,GAAG2iB,MAIpBzb,EAAK4b,QAAS,EACdxiB,EAAGyiB,yBAAyB7b,GAAM,EACnC,CACD,MAED9H,IAAIkK,WAAWhJ,EAAIgiB,GAErB,EAEAS,yBAA0B,SAAS7b,EAAM8b,GACxC,IAAI1iB,EAAKJ,KACR+X,EAAM,IAAI7Y,IAAI6jB,mBAAmB,CAChCja,SAAU1I,EAAG0I,SACbvJ,OAAO,EACP2gB,YAAa,CACZ8C,MAAO,CACNxQ,OAAQxL,EACRic,YAAa,CACZngB,IAAK1C,EAAG0C,OAIXogB,aAAc,CACd,EACA5iB,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASof,GAC1C,GAAiB,GAAbsD,EACJ,CACC,IAAIK,EAAQ3D,EAAIwD,MAAMxQ,OACtB2Q,GAAS/iB,EAAGwa,IAAIuH,eAAevf,KAAKugB,EACrC,CACD,MAEFjkB,IAAIkK,WAAWhJ,EAAI2X,EACpB,EAEAiJ,kBAAmB,WAClB,IAAI5gB,EAAKJ,KACTd,IAAIkkB,gBAAgBlb,IAAIC,QAASlH,KAAKC,GAAG,uBAAuB,SAASkK,GACxE,GAAS,OAALA,EACJ,CACC,IAAI2M,EAAM,IAAI7Y,IAAImkB,eAAe,CAChCva,SAAU1I,EAAG0I,SACbxI,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASkjB,GAC1C,IAICxjB,EAAGoL,EAJA9K,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEdjC,EADYf,EAAGH,KAAK,oBACFkB,MAElBkL,EAAM,GAEP,IAAKvM,EAAE,EAAGA,EAAIqB,EAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAIf,UAFvBoL,EAAM/J,EAAMwE,KAAKhF,MAAMb,IAEf8F,IAAI,SAAsBsF,EAAItF,IAAI,cAAciZ,QAAUyE,EAAKC,QAEtElX,EAAIzJ,KAAK,CACRE,IAAKoI,EAAItF,IAAI,SAKE,GAAdyG,EAAI1J,QAMRQ,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CACRE,OAAQ,gBACR8f,OAAQD,EAAKC,OACbtM,OAAQqM,EAAKrM,QAEdzT,MAAO,CAAC2B,SAAUkH,GAClBnJ,UAAW,WACT9C,GAAI,SAASuD,GACfzE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,IAEDiC,EAAIO,QAlBHxE,IAAI+I,SAASC,IAAIC,QAAS,wBAA0Bmb,EAAKC,OAAQ,KAAM,KAAM,EAAG,QAmBlF,MAEDrkB,IAAIkK,WAAWhJ,EAAI2X,EACpB,CACD,GACD,EAEA4J,qBAAsB,WACrB,IAAIvhB,EAAKJ,KACR+X,EAAM,IAAI7Y,IAAIskB,YAAY,CACzB1a,SAAU1I,EAAG0I,SACb2a,OAAQrjB,EACRE,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS2X,GAC3C,MAGF7Y,IAAIkK,WAAWhJ,EAAI2X,EACpB,EAEA2H,QAAS,WACR,IAAItf,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAGwa,IAAI9X,KACtBU,MAAOpD,EAAGwa,IACV1X,UAAW,mBACT9C,GAAI,SAASuD,GACfzE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,IACDiC,EAAIO,MACL,EAEAqX,OAAQ,WACP,IACChD,EADG3X,EAAKJ,KAGT+X,EAAM,IAAI7Y,IAAIwkB,cAAc,CAC3B5a,SAAU1I,EAAG0I,SACb6a,SAAU,EACVrjB,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASiM,GAC1C,IAAIuX,EAAQ,EACX7F,EAAa3d,EAAGwa,IAAImD,aAEhB3d,EAAGwa,IAAIF,YAAeta,EAAGwa,IAAIF,YAActa,EAAGwa,IAAIF,WAAW5X,KAAOuJ,EAAI1G,KAAK7C,OAEjF8gB,EAAQ,GAGTxjB,EAAGwa,IAAIF,WAAa,CACnB5X,IAAKuJ,EAAI1G,KAAK7C,IACdxB,KAAM+K,EAAI1G,KAAKrE,MAGZyc,IAEHA,EAAW8F,OAASzjB,EAAGwa,IAAIF,WAAW5X,KAGnC8gB,GAEHxjB,EAAGsf,UAGJtf,EAAG0a,QACJ,MAGG1a,EAAGwa,IAAIF,YAActa,EAAGwa,IAAIF,WAAW5X,IAE1C5D,IAAIkkB,gBAAgBlb,IAAIC,QAAS/H,EAAGwa,IAAItZ,KAAO,IAAML,KAAKC,GAAG,wBAAwB,SAASkK,GACpF,OAALA,GAEHlM,IAAIkK,WAAWhJ,EAAI2X,EAErB,IAIA7Y,IAAIkK,WAAWhJ,EAAI2X,EAErB,EAEAkJ,WAAY,WACX,IAIC/V,EAAK4Y,EACL7Y,EAAGwW,EAEH3hB,EAPGM,EAAKJ,KAER+jB,GADQ3jB,EAAGkc,IACAlc,EAAGue,MACdjB,EAAYtd,EAAGH,KAAK,oBAGpBkD,EAAM,IAAIjE,IAAIkE,MAaf,IAVA2gB,EAASC,WAAa5jB,EAAGH,KAAK,sBAAsBmG,WACpD2d,EAASnF,cAAgBxe,EAAGH,KAAK,wBAAwBmG,WACzD2d,EAAShG,WAAWc,OAASkF,EAASC,WACtCD,EAAShG,WAAWC,OAAS+F,EAASnF,cACtCmF,EAAStG,aAAerd,EAAGH,KAAK,uBAAuBmG,WACvD2d,EAASxG,WAAand,EAAGH,KAAK,qBAAqBmG,WACnD2d,EAASvG,UAAYpd,EAAGH,KAAK,oBAAoBmG,WAEjD2d,EAAStZ,QAAU,GAEd3K,EAAE,EAAGA,EAAI4d,EAAUvc,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAKhD2hB,GAFAqC,GADA5Y,EAAMwS,EAAUvc,MAAMwE,KAAKhF,MAAMb,IACrB6F,MAEQ8b,aAInBxW,EAFGC,EAAIvF,KAAKse,UAERH,EAAMG,UAIN,CACHnhB,IAAKghB,EAAMhhB,IACXxB,KAAMwiB,EAAMxiB,KACZyC,YAAa+f,EAAM/f,YACnBb,UAAW,cAIXgD,UAAY4d,EAAMhG,cACpB7S,EAAEiZ,UAAYH,EAASnF,cAEvB3T,EAAEwW,YAAcA,EAEhBxW,EAAE8S,WAAa,CACd8F,OAAQE,EAASnF,cACjBC,OAAQkF,EAASjhB,IACjBkb,OAAQ8F,EAAMhG,cACdK,OAAQ2F,EAAMK,aAGfJ,EAAStZ,QAAQ7H,KAAKqI,GAGvB9H,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CACRT,IAAKihB,EAASjhB,IACdW,OAAQ,eAETD,MAAOugB,EACP7gB,UAAW,SACT9C,GAAI,SAASuD,GACfvD,EAAGgkB,eACJ,IAAG,GACJjhB,EAAIO,MACL,EAEAyc,aAAc,SAASpI,GACtB,IAAI3X,EAAKJ,KACRkgB,EAAcnI,EAAImI,YAClB5D,EAAMlc,EAAGkc,IACTnZ,EAAM,IAAIjE,IAAIkE,MACdN,EAAMod,EAAYpd,IAEdod,EAAYpd,MAEhBod,EAAYrf,KAAO,aACnBqf,EAAYzZ,IAAM6V,EAAI1W,IAAI,OAC1Bsa,EAAYxZ,SAAW4V,EAAI1W,IAAI,YAAc,IAAMsa,EAAY5e,KAC/DwB,EAAMod,EAAYxZ,UAGnBvD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAKA,EAAKjC,KAAM,aAAcS,KAAM4e,EAAY5e,MAC1DkC,MAAO0c,EACPhd,UAAW,cACT9C,GAAI,SAASuD,GACVuc,EAAYpd,KAOhB1C,EAAGikB,aACHnlB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,aAN7Dgf,EAAYpd,IAAMa,EAAKb,IACvB1C,EAAGkkB,OAAO3gB,GAOZ,IACDR,EAAIO,MACL,EAEA4gB,OAAQ,SAAS3gB,GAChB,IAAIvD,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACd2e,EAAU,CACTjf,IAAKa,EAAKb,IACVW,OAAQ,cAGVN,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAAO,CAACC,OAAQ,eACdrD,GAAI,SAASuD,GACfvD,EAAGikB,aACHnlB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,IAAG,GACJiC,EAAIO,MACL,EAEA0gB,cAAe,WACd,IAAIhkB,EAAKJ,KACRyS,EAASrS,EAAGkc,IAEa,WAAtB7J,EAAO7M,IAAI,QAEdxF,EAAGyc,cAAcpK,GAIjBrS,EAAGmc,YAAY9J,EAEjB,EAEAiP,aAAc,WACb,IAGC5hB,EAHGM,EAAKJ,KAERqM,EADYjM,EAAGH,KAAK,oBACJoF,oBAAoBiU,SAGjCjN,GAAOA,EAAI1J,OAEdzD,IAAIkkB,gBAAgBlb,IAAIC,QAASlH,KAAKC,GAAG,qBAAqB,SAASkK,GACtE,GAAS,OAALA,EACJ,CACC,IAAImW,EAAW,GACdpe,EAAM,IAAIjE,IAAIkE,MAEf,IAAKtD,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAEzByhB,EAAS3e,KAAK,CACbE,IAAKuJ,EAAI1L,MAAMb,GAAG8F,IAAI,OACtBnC,OAAQ,WAIVN,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASge,EACT/d,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACfzE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,aAAc,KAAMd,EAAI,EAAG,WAC7DA,EAAGgkB,eACJ,IAEDjhB,EAAIO,MACL,CACD,IAIAxE,IAAIqlB,UAAUtjB,KAAKC,GAAG,iBAAkBd,EAE1C,EAEAwf,kBAAmB,WAClB,IAAIxf,EAAKJ,KACRsc,EAAMlc,EAAGkc,IAEV,IAAIA,GAA0B,UAAnBA,EAAI1W,IAAI,SAA0C,WAAnB0W,EAAI1W,IAAI,QAWlD,OALK0W,IAEJlc,EAAGkc,IAAMA,EAAMlc,EAAGH,KAAK,oBAAoBqb,eAGrCgB,EATNpd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,mBAAoB,KAAM,KAAM,EAAG,GAUvE,EAEAye,WAAY,WACX,IACC5H,EAAKyM,EADFpkB,EAAKJ,MAGTwkB,EAAIpkB,EAAGwf,sBAKHxf,EAAGsb,KAAOtb,EAAGsb,IAAI5Y,MAEpBiV,EAAM,IAAI7Y,IAAIwZ,SAAS,CACtB5P,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAGsb,IAAI5Y,IACZ4Y,IAAKtb,EAAGsb,IACRlC,cAAegL,EACflkB,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,WAClC,MAEDlB,IAAIkK,WAAWpJ,KAAM+X,GAEvB,EAEAgJ,UAAW,WACV,IACCjhB,EAAGoL,EAAKlE,EADL5G,EAAKJ,KACMW,EAAM,GAEpB8jB,EADYrkB,EAAGH,KAAK,oBACLkB,MAAMwE,KAAKhF,MAE3B,IAAKb,EAAE,EAAGA,EAAI2kB,EAAG9hB,OAAQ7C,IAIG,IAF3BoL,EAAMuZ,EAAG3kB,IAED8F,IAAI,aAAuBsF,EAAItF,IAAI,SAE1CoB,EAAO,CAAC,EACR9H,IAAIwlB,WAAWxZ,EAAIvF,KAAMqB,EAAM,8BAA+B,KAC9DrG,EAAMiC,KAAKoE,IAIb,GAAIrG,EAAMgC,OACV,CACC,IAAIyf,EAAM,IAAIljB,IAAI2J,cAAc,CAC/BC,SAAU1I,EAAG0I,SACbuB,KAAM,SACNwX,UAAW,SACX7Y,aAAc,CACbE,QAAS9I,EAAG0C,KAEbxC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASukB,GAC1C,IAAIxhB,EAGHrD,EAAG4P,EAAGzE,EAAGmE,EAAK0S,EAFdC,EAAU,GACV9e,EAAU,CAACtC,MAAO,IAGnB,GAAIgkB,EACJ,CACC,IAAK7kB,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,KAG3BgiB,GADA1S,EAAMzO,EAAMb,IACAwB,MAEFgU,QAAQ,MAAQ,IAGzBwM,GADAA,EAAQA,EAAM3Q,MAAM,MACNoJ,KAAK,WAGpB7K,EAAI,CACHsS,OAAQ5S,EAAItM,IACZmf,QAAS7S,EAAIvO,KACbS,KAAMwgB,EACNjhB,KAAM,OACN4F,IAAKke,EAAM7hB,IACXif,QAAS4C,EAAMje,SAAW,IAAMob,GAGjC7W,EAAI,CACH/H,UAAW,OACX8e,OAAQ5S,EAAItM,IACZmf,QAAS7S,EAAIvO,KACbS,KAAMwgB,GAGPC,EAAQnf,KAAK8M,GACbzM,EAAQtC,MAAMiC,KAAKqI,IAGpB9H,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAAOP,GACL7C,GAAI,SAASuD,GACfzE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,GAAG,MACJiC,EAAIO,MACL,CACD,MAGDxE,IAAIkK,WAAWhJ,EAAIgiB,EACpB,MAGCljB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,kBAAmB,KAAM,KAAM,EAAG,UAEtE,EAEAiX,aAAc,WACb,IACCrY,EAAGoL,EAAKlE,EADL5G,EAAKJ,KACMW,EAAM,GAEpB8jB,EADYrkB,EAAGH,KAAK,oBACLkB,MAAMwE,KAAKhF,MAE3B,IAAKb,EAAE,EAAGA,EAAI2kB,EAAG9hB,OAAQ7C,IAIG,IAF3BoL,EAAMuZ,EAAG3kB,IAED8F,IAAI,aAAuBsF,EAAItF,IAAI,SAE1CoB,EAAO,CAAC,EACR9H,IAAIwlB,WAAWxZ,EAAIvF,KAAMqB,EAAM,8BAA+B,KAC9DA,EAAK4d,QAAU1lB,IAAI2lB,cAAc3Z,EAAItF,IAAI,aAAe,MAAQ,QAChEoB,EAAK8d,aAA+B,OAAhB9d,EAAK4d,QAAmB,QAAU,QAEtDjkB,EAAMiC,KAAKoE,IAIb,GAAIrG,EAAMgC,OAAS,EACnB,CACC,IAAIyf,EAAM,IAAIljB,IAAI8Y,aAAa,CAC9BlP,SAAU1I,EAAG0I,SACbic,UAAWpkB,EACXqkB,QAAS5kB,EAAG4kB,QACZC,MAAO7kB,EACPsG,SAAUtG,EAAGwa,IAAIlU,SACjBpG,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG8kB,mBAEtChmB,IAAIkK,WAAWhJ,EAAIgiB,EACpB,MAGCljB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,kBAAmB,KAAM,KAAM,EAAG,UAEtE,EAEAuf,YAAa,WACZ,IACC3gB,EAAGoL,EAAKlE,EADL5G,EAAKJ,KACMW,EAAM,GAEpB8jB,EADYrkB,EAAGH,KAAK,oBACLkB,MAAMwE,KAAKhF,MAE3B,IAAKb,EAAE,EAAGA,EAAI2kB,EAAG9hB,OAAQ7C,IAIG,IAF3BoL,EAAMuZ,EAAG3kB,IAED8F,IAAI,aAAuBsF,EAAItF,IAAI,SAE1CoB,EAAO,CAAC,EACR9H,IAAIwlB,WAAWxZ,EAAIvF,KAAMqB,EAAM,4CAA6C,KAC5ErG,EAAMiC,KAAKoE,IAIb,GAAIrG,EAAMgC,OAAS,EACnB,CACC,IAAIyf,EAAM,IAAIljB,IAAIimB,YAAY,CAC7Brc,SAAU1I,EAAG0I,SACbic,UAAWpkB,EACXqkB,QAAS5kB,EAAG4kB,QACZC,MAAO7kB,EACPsG,SAAUtG,EAAGwa,IAAIlU,SACjBpG,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,WACjCA,EAAGgkB,eACJ,MAEDllB,IAAIkK,WAAWhJ,EAAIgiB,EACpB,MAGCljB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,kBAAmB,KAAM,KAAM,EAAG,UAEtE,EAEAkkB,WAAY,WACX,IACCtlB,EAAGoL,EAAKlE,EAGRob,EAJGhiB,EAAKJ,KACMW,EAAM,GAEpB8jB,EADYrkB,EAAGH,KAAK,oBACLkB,MAAMwE,KAAKhF,MAG3B,IAAKb,EAAE,EAAGA,EAAI2kB,EAAG9hB,OAAQ7C,IAIG,IAF3BoL,EAAMuZ,EAAG3kB,IAED8F,IAAI,aAAuBsF,EAAItF,IAAI,SAE1CoB,EAAO,CAAC,EACR9H,IAAIwlB,WAAWxZ,EAAIvF,KAAMqB,EAAM,uDAAwD,KACvFrG,EAAMiC,KAAKoE,IAITrG,EAAMgC,OAAS,GAElByf,EAAM,IAAIljB,IAAImmB,QAAQ,CACrBvc,SAAU1I,EAAG0I,SACbic,UAAWpkB,EACXmC,IAAK1C,EAAG0C,IACRxC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,WAElC,MAEDlB,IAAIkK,WAAWhJ,EAAIgiB,IAInBljB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,kBAAmB,KAAM,KAAM,EAAG,UAEtE,EAEAokB,mBAAoB,SAAS3hB,EAAMmP,GAG3BA,EAAM,GAFb,IACC3P,EAKAoiB,EAAOC,EACP1lB,EAEAuP,EACA0S,EACA9e,EARAtC,EAAQmS,EAAM,GAKd2S,EAAS,GAKV,IAAK3lB,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,IAGZ,eADfuP,EAAI1O,EAAMb,IACJ0L,OAAyBtG,OAAOpF,KAErCuP,EAAEqW,KAAOxmB,IAAIymB,SAASzgB,OAAOpF,GAAI,OACjC2lB,EAAO7iB,KAAKyM,IAId,GAAIoW,EAAO9iB,OACX,CAIC,IAHAof,EAAU,GACV9e,EAAU,GAELnD,EAAE,EAAGA,EAAI2lB,EAAO9iB,OAAQ7C,IAE5BkP,EAAEC,KAAK,CACN,CAAC3N,KAAM,OAAQiG,MAAO,QACtB,CAACjG,KAAM,WACP,CAACA,KAAM,MACP,CAACA,KAAM,KAAMiG,MAAO,OACpB,CAACjG,KAAM,KAAMiG,MAAO,aACpB,CAACjG,KAAM,UAAU,SAASskB,EAAGlW,GAC5B6V,EAAQtkB,KAAKC,GAAG,KAAOwO,EAAEnI,OACzBie,EAAO9V,EAAEpO,KAETygB,EAAQnf,KAAK,CACZE,IAAKnC,EAAMb,GAAG+lB,KAAO,IAAMJ,EAAO3lB,GAAGgmB,YAAc,IAAMP,EACzD9e,IAAKgf,EAAO3lB,GAAG4lB,KACfpkB,KAAMikB,EACN1kB,KAAM,iBAGPoC,EAAQL,KAAK,CACZM,UAAW,mBACXJ,IAAKnC,EAAMb,GAAG+lB,KAAO,IAAMJ,EAAO3lB,GAAGgmB,YAAc,IAAMP,EACzD9e,IAAKgf,EAAO3lB,GAAG4lB,KACfpkB,KAAMikB,EACN1kB,KAAM,eACNgD,UAAW,CACV,CACCf,IAAK2iB,EAAO3lB,GAAGgD,IACfxB,KAAMmkB,EAAO3lB,GAAGgD,IAChB4D,SAAU,GACV7F,KAAM,WAGR4E,aAAc+f,EACdthB,WAAY,OACZ0D,cAAe,OACfC,YAAa,eACbnC,eAAgB,GAChBK,WAAY,eAAiB0f,EAAO3lB,GAAGwB,KAAO,OAEjD,KAGD6B,EAAM,IAAIjE,IAAIkE,OACVC,KAxEIrD,KAyEP,CACCsD,IAAK,eACLC,QAASwe,EACTve,MAAOP,GA5EDjD,MA6EA,SAAS+lB,GACf7mB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,IACDiC,EAAIO,MACL,MAGCxE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAE/D,EAEAsf,YAAa,WACZ,IAECrd,EAAK+H,EAAKpL,EAKVkmB,EAPG5lB,EAAKJ,KACR8I,EAAW1I,EAAG0I,SAIduD,EADYjM,EAAGH,KAAK,oBACJoF,oBAAoBiU,SACpC9V,EAAQ,CAACiW,OAAQ,IAGlB,IAAK3Z,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAIZ,UADbkmB,GADA9a,EAAMmB,EAAI1L,MAAMb,IACJ8F,IAAI,QAAQ0C,gBACS,cAAT0d,GAEvBxiB,EAAMiW,OAAO7W,KAAK,CACjBtB,KAAM4J,EAAItF,IAAI,QACd9C,IAAKoI,EAAItF,IAAI,SAKhBpC,EAAMyiB,KAAO,CACZ,CACCnjB,IAAK1C,EAAG0C,OAIVK,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACE,OAAQ,eAClBD,MAAOA,EACPN,UAAW,UACT9C,GAAI,SAASuD,GACf,IAAIqb,EAAKlW,EAASyC,UAClByT,GAAMA,EAAGtT,YAAY,KAAM,YAAYpD,cAAe,YAAa,MAAM,GAAO,EAAM,CACrFyU,QAAS3c,EAAG0C,IACZojB,IAAKviB,GAEP,IAAG,GACJR,EAAIO,MACL,EAEAoc,sBAAuB,SAASzT,GAC/B,IAGCvM,EAIA0kB,EAPGpkB,EAAKJ,KACR+hB,EAAU,CAACte,OAAQ,YACnBA,EAAS,CAACgW,OAAQ,IAElBtW,EAAM,IAAIjE,IAAIkE,MAEdkZ,EAAMlc,EAAGkc,IAGV,GAAkB,GAAdjQ,EAAI1J,OAAR,CAKA,IAAK7C,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAEzB0kB,EAAInY,EAAIvM,GACR2D,EAAOgW,OAAO7W,KAAK,CAClBmd,OAAQ3f,EAAGyb,UAAYzb,EAAGsb,IAAI5Y,IAC9B2D,IAAK6V,EAAI1W,IAAI,OACbtE,KAAMkjB,EAAEljB,KACR0iB,WAAYQ,EAAER,WACdmC,aAAc3B,EAAE2B,aAChBvH,cAAe4F,EAAE5F,eAAiB4F,EAAEljB,KACpC8kB,YAAa5B,EAAE4B,cAGZ5B,EAAE2B,eAELpE,EAAQoE,aAAe3B,EAAE2B,cAI3BhjB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAAOC,EACPP,UAAW,UACT9C,GAAI,SAAS2lB,GACf3lB,EAAGikB,aACHnlB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,IAAG,GACJiC,EAAIO,MA/BJ,CAgCD,EAEA2gB,WAAY,WACFrkB,KACOC,KAAK,oBAEXomB,aACX,EAEAC,cAAe,SAAS/M,EAAKgN,EAAOjmB,GACnC,IAEC2C,EADAE,EAAM,IAAIjE,IAAIkE,MAGfH,EAAU,CACT8c,OAAQxG,EAAIwG,OACZ3F,IAAKlb,IAAIsnB,WAAWD,IAGrBpjB,EAAIE,KATKrD,KAUR,CACCsD,IAAK,cACLC,QAAS,CAACT,IAAKyW,EAAIzW,IAAKW,OAAQ,eAChCD,MAAOP,EACPC,UAAW,cAdJlD,MAeD,SAAS2D,GACf,GAAIA,GAAuB,GAAfA,EAAKhB,OACjB,CACC,IAAI8jB,EAAM9iB,EAAK,GACXrD,GAEH2C,EAAQwH,QAAUgc,EAAIhc,QACtBnK,EAASC,QAAQ0C,IAIjB/D,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,eAAiB,KAAOulB,EAAIhc,QAAUgc,EAAIhc,QAAQ9H,OAAS,KAAO,YAAa,KAAM,KAAM,EAAG,UAElI,CACD,GAAG,MACJQ,EAAIO,MACL,EAEA0hB,WAAY,WACX,IAICla,EAAKpL,EACLsiB,EALGhiB,EAAKJ,KACRW,EAAQ,GAER+lB,EADatmB,EAAGH,KAAK,oBACCkB,MAIvB,IAAKrB,EAAE,EAAGA,EAAI4mB,EAAS/gB,KAAKhF,MAAMgC,OAAQ7C,KAEzCoL,EAAMwb,EAAS/gB,KAAKhF,MAAMb,IACjB6F,KAAK7C,KAEdnC,EAAMiC,KAAKsI,EAAIvF,MAGhByc,EAAM,IAAIljB,IAAImmB,QAAQ,CACrBvc,SAAU1I,EAAG0I,SACbic,UAAWpkB,EACXmC,IAAK1C,EAAG0C,IACRxC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,WAElC,MAEDlB,IAAIkK,WAAWhJ,EAAIgiB,EACpB,EAEA3hB,cAAe,WACd,IAAIL,EAAKJ,KAITZ,GAAGsB,MAAMN,EAAI,CACZO,MAAO,CACN,CACCC,MAAO,QACPG,KAAM,EACNsI,OAAQ,EACR7J,OAAQ,SACR2R,OAAO,EACPxQ,MAAO,CACN,IAAIzB,IAAIynB,SAAS,CAChB7d,SAAU1I,EAAG0I,SACb8d,aAAa,EACb3d,YAAY,EACZ2L,QAAS,WAETtT,KAAM,YACN4H,QAAS9I,EAAG0C,IACZX,OAAQ,OACRxC,MAAO,IACP0J,OAAQ,EACR8H,OAAO,EACPnQ,MAAOC,KAAKC,GAAG,uBACf6H,aAAc,+DACd8d,YAAY,EACZC,SAAS,EACT1K,kBAAmB,IAAIld,IAAIsF,YAAYpE,EAAIA,EAAGgc,mBAC9CK,mBAAoB,IAAIvd,IAAIsF,YAAYpE,EAAIA,EAAGqc,oBAC/CsK,cAAc,EACdllB,UAAW,CACVmlB,QAAS,SAASzH,EAAK9M,EAAQrH,GACrBpL,KACNsc,IAAM7J,EADAzS,KAENsf,UAAUC,EACd,EACA5d,MAAO3B,QAGT,CACCY,MAAO,QACPuB,OAAQ,SACRb,KAAM,UACNP,KAAM,EACNsI,OAAQ,EACR7J,OAAQ,OACRmB,MAAO,CACN,CACCC,MAAO,QACPqmB,KAAM,8BAAgChmB,KAAKC,GAAG,iBAAmB,UAElE,CACCN,MAAO,QAEPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,OACPpB,OAAQ,SACR8B,KAAM,UACN0S,QAAQ,EACR3K,OAAQ,EACR1I,MAAO,CACN,CACCC,MAAO,YACPyI,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,gBACpBI,KAAM,cACN3B,MAAO,KAER,CACCiB,MAAO,YACPU,KAAM,iBAoBP,CACCV,MAAO,YACPG,KAAM,KAIT,CACCH,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,kBACpBI,KAAM,eACN+H,OAAQ,EACR2K,QAAS5T,EAAGgb,YACZ8L,WAAY,QACZtd,SAAU3I,KAAKC,GAAG,YAClBimB,UAAU,EACVtlB,UAAW,CACV4R,OAAQ,SAAS1R,GACP/B,KACAC,KAAK,aAEXuN,WAAWzL,EAAKqE,WACpB,EACAzE,MAAO3B,OAIT,CACCY,MAAO,QACPyI,OAAQ,EACR/H,KAAM,KACN0S,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,aACN4lB,WAAY,QACZzd,WAAYxI,KAAKC,GAAG,gBACpBoS,WAAY,QACZD,aAAc,OACdD,UAAW,QACXG,UAAU,EACVpS,MAAO,CACNC,OAAQ,CACP,OAAQ,WAIX,CACCR,MAAO,WACPU,KAAM,YACN4lB,WAAY,QACZzd,WAAYxI,KAAKC,GAAG,kBACpBoS,WAAY,QACZD,aAAc,OACdD,UAAW,QACXG,UAAU,EACVpS,MAAO,CACNC,OAAQ,CACP,OAAQ,WAIX,CACCR,MAAO,YACPG,KAAM,OAMX,CACCH,MAAO,QACPG,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERQ,KAAM,aACN0S,QAAQ,EACRrT,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,eAGR8lB,KAAM,CACL,CACCxmB,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACR,IAAItB,EAAKJ,KACRuZ,EAAMnZ,EAAGue,KACT5E,EAAa3Z,EAAGH,KAAK,qBACrBsmB,EAAQxM,EAAW3T,WAGfmgB,GAMLxM,EAAW5T,eAEX/F,EAAGkmB,cAAc/M,EAAKgN,EAAO,IAAIrnB,IAAIsF,YAAYpE,GAAI,SAASinB,GAC7DjnB,EAAGkf,UAAU,cAAe+H,EAC7B,MARCtN,EAAWlT,YAAY5F,KAAKC,GAAG,SASjC,EACAS,MAAO3B,MAER,KACA,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,cACdQ,QAAS,WACR,IAAItB,EAAKJ,KACRuZ,EAAMnZ,EAAGue,KACT5E,EAAa3Z,EAAGH,KAAK,qBACrBsmB,EAAQxM,EAAW3T,WAEfmgB,GAMLxM,EAAW5T,eACX/F,EAAGkmB,cAAc/M,EAAKgN,IALrBxM,EAAWlT,YAAY5F,KAAKC,GAAG,SAMjC,EACAS,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR,IAAItB,EAAKJ,KACRuZ,EAAMnZ,EAAGue,KACT5E,EAAa3Z,EAAGH,KAAK,qBAEjB8Z,EAAW3T,YAMhB2T,EAAW5T,eACXoT,EAAIa,IAAMlb,IAAIsnB,WAAWzM,EAAW3T,YAEpChG,EAAG+f,aAAa,CACfD,YAAa3G,KARbQ,EAAWlT,YAAY5F,KAAKC,GAAG,SAUjC,EACAS,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR,IACC6X,EADQvZ,KACC2e,KADD3e,KAEQC,KAAK,qBAEX6D,SAAS5E,IAAI4f,WAAWvF,EAAIa,KACxC,EACAzY,MAAO3B,QAIV,CACCY,MAAO,YACPI,MAAOC,KAAKC,GAAG,YACfI,KAAM,YACNP,KAAM,EACNsI,OAAQ,EACRlI,MAAO,CACNC,OAAQ,CACP,OAAQ,WAAY,WAAY,gBAAiB,YAAa,OAAQ,QAAS,UAAW,kBAG5F+I,QAAS,gBACTC,SAAU,CACTC,KAAM,SAGPqK,WAAY,CACXpK,QAAS,CACR,CACCC,MAAO,mBACPqK,QAAS,WACT0S,YAAY,EACZC,YAAY,IAGd1lB,UAAW,CACX,GAEDyI,QAAS,CACR,CACCC,MAAO,cACPC,cAAc,IAGhB9C,SAAU,CACT0M,UAAU,EACVoT,UAAU,GAEX/c,QAAS,CACR,CACCgd,OAAQ,GACR/c,UAAW,UACXgd,cAAc,EACd/nB,MAAO,GACPgoB,SAAU,SAAS5U,GAClB,MAAO,0BAA4BA,EAAQ,UAC5C,GAED,CACC0U,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,cACX3J,KAAM,GAEP,CACC0mB,OAAQxmB,KAAKC,GAAG,cAChBwJ,UAAW,gBACX3J,KAAM,GAEP,CACC0mB,OAAQxmB,KAAKC,GAAG,cAChBwJ,UAAW,WAEX/K,MAAO,IAoBR,CACCiB,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IACCpT,EAAQkT,EAAKlT,MACb+J,EAAM/J,EAAMqT,MAAMF,GAEnBpV,IAAI0oB,iBAAiB1c,EAAItF,IAAI,OAAQsF,EAAK,IAAIhM,IAAIsF,YAJzCxE,MAIyD,WACjEmB,EAAMsT,SAASH,EAChB,IACD,EACA3S,MAAO3B,SAKX6B,UAAW,CACVgmB,WAAY,SAASjd,EAAQQ,EAAG0c,GAC/B,IACCC,EAAyB,GADjB/nB,KACKgoB,SACb3f,GAAI,EAQL,OALc,GAFJ+C,EAAE6c,QAEQF,IAEnB1f,GAAI,GAGEA,CACR,EA+DAyC,UAAW,SAAS/I,EAAMiX,EAAIC,EAAWjO,EAAMsJ,EAAUlJ,GAI3C,SAFJJ,EAAKpF,IAAI,SAEmB,GAAbqT,GAHfjZ,KAKL+e,eAAe/T,EAEpB,EAEArJ,MAAO3B,MAERkoB,YAAa,CACZ,CACCtnB,MAAO,UACPunB,KAAM,MACNxnB,MAAO,CACN,CACCqJ,QAAS,oBACTC,QAAShJ,KAAKC,GAAG,gBACjBI,KAAM,UACN0S,QAAQ,EACRtS,QAAS,WACR1B,KAAKsf,UAAU,iBAChB,EACA3d,MAAO3B,MAER,CACCgK,QAAS,eACTC,QAAShJ,KAAKC,GAAG,aACjB8S,QAAQ,EACR1S,KAAM,WACNI,QAAS,WACR1B,KAAKsf,UAAU,oBAChB,EACA3d,MAAO3B,MAER,CACCgK,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YAEjBQ,QAAS,WACR1B,KAAKsf,UAAU,mBAChB,EACA3d,MAAO3B,MAER,CACCY,MAAO,YACPG,KAAM,EACNO,KAAM,UACN8mB,iBAAiB,EACjBte,UAAW7I,KAAKC,GAAG,gBACnBW,UAAW,CACVwmB,MAAO,SAAStmB,EAAMqJ,EAAG0c,GACX,IAAb1c,EAAEkd,SAAiBppB,IAAIqpB,UAAUvoB,KAAM,YAAa,CAAC,OAAQ,iBAC9D,EACA2B,MAAO3B,OAGT,CACCY,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACRxC,IAAIqpB,UAAUvoB,KAAM,YAAa,CAAC,OAAQ,iBAC3C,EACA2B,MAAO3B,MAER,IACA,CACCY,MAAO,SACPU,KAAM,WACN0I,QAAS,kBACTxI,KAAMP,KAAKC,GAAG,UACd+I,QAAS,UACT+J,QAAQ,EACRtS,QAAS,WACR1B,KAAKsf,UAAU,cAChB,EACA3d,MAAO3B,MAER,CACCY,MAAO,SACPU,KAAM,SACN0S,QAAQ,EACRxS,KAAMP,KAAKC,GAAG,aAEd0W,KAAM,CACLhX,MAAO,OACPD,MAAO,CACN,CACCa,KAAMP,KAAKC,GAAG,eACdQ,QAAS,WACR1B,KAAKsf,UAAU,gBAChB,EACA3d,MAAO3B,MAER,CACCgK,QAAS,eACTxI,KAAMP,KAAKC,GAAG,kBACdI,KAAM,UACNI,QAAS,WACR1B,KAAKsf,UAAU,kBAChB,EACA3d,MAAO3B,MAER,IACA,CACCgK,QAAS,YACTxI,KAAMP,KAAKC,GAAG,cACdI,KAAM,UACNI,QAAS,WACR1B,KAAKsf,UAAU,eAChB,EACA3d,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,iBACdI,KAAM,UACNI,QAAS,WACR1B,KAAKsf,UAAU,kBAChB,EACA3d,MAAO3B,MAER,CACCY,MAAO,SACPU,KAAM,UACNE,KAAMP,KAAKC,GAAG,eACdimB,UAAU,EACVzlB,QAAS,WACR1B,KAAKolB,YACN,EACAzjB,MAAO3B,SAKX,CACCY,MAAO,SACPU,KAAM,SACN0S,QAAQ,EACRxS,KAAMP,KAAKC,GAAG,aACd0W,KAAM,CACLhX,MAAO,OACPD,MAAO,CACN,CACCa,KAAMP,KAAKC,GAAG,mBACdQ,QAAS,WACR1B,KAAKsf,UAAU,oBAChB,EACA3d,MAAO3B,SAKX,KACA,CACCwB,KAAMP,KAAKC,GAAG,eACdI,KAAM,UACN0S,QAAQ,EACRtS,QAAS,WACR,IAAItB,EAAKJ,KACLI,EAAGkc,KAA6B,WAAtBlc,EAAGkc,IAAI1W,IAAI,SAExBxF,EAAGyc,cAAczc,EAAGkc,IAEtB,EACA3a,MAAO3B,MAER,CACCY,MAAO,SACPU,KAAM,cACNE,KAAMP,KAAKC,GAAG,eACdimB,UAAU,EACVzlB,QAAS,WACR1B,KAAKolB,YACN,EACAzjB,MAAO3B,MAER,CACCY,MAAO,SACPU,KAAM,QACNE,KAAMP,KAAKC,GAAG,iBACd8S,QAAQ,EACR4D,KAAM,CACLhX,MAAO,OACPD,MAAO,CACN,CACCa,KAAMP,KAAKC,GAAG,YACd8S,QAAqC,IAA7B9L,IAAIsgB,SAAmB,SAC/B9mB,QAAS,WACR1B,KAAKif,WAAW,SACjB,EACAtd,MAAO3B,MAER,IACA,CACCwB,KAAMP,KAAKC,GAAG,kBACd8S,QAAoC,IAA5B9L,IAAIsgB,SAAkB,QAC9B9mB,QAAS,WACR1B,KAAKif,WAAW,eACjB,EACAtd,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,aACd8S,QAAoC,IAA5B9L,IAAIsgB,SAAkB,QAC9B9mB,QAAS,WACR1B,KAAKif,WAAW,UACjB,EACAtd,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,aACd8S,QAAoC,IAA5B9L,IAAIsgB,SAAkB,QAC9B9mB,QAAS,WACR1B,KAAKif,WAAW,iBACjB,EACAtd,MAAO3B,MAGR,IACA,CACCwB,KAAMP,KAAKC,GAAG,gBACd8S,QAAoC,IAA5B9L,IAAIsgB,SAAkB,QAC9B9mB,QAAS,WACR1B,KAAKif,WAAW,aACjB,EACAtd,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,kBACd8S,QAAqC,IAA7B9L,IAAIsgB,SAAmB,SAC/B9mB,QAAS,WACR1B,KAAKif,WAAW,eACjB,EACAtd,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,eACd8S,QAAoC,IAA5B9L,IAAIsgB,SAAkB,QAC9B9mB,QAAS,WACR1B,KAAKif,WAAW,YACjB,EACAtd,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,SACd8S,QAAqC,IAA7B9L,IAAIsgB,SAAmB,SAC/B9mB,QAAS,WACR1B,KAAKif,WAAW,MACjB,EACAtd,MAAO3B,kBAcpBuB,KAAM,CACL,CACCyI,QAAS,oBACT1I,KAAM,SACN2I,QAAShJ,KAAKC,GAAG,UACjBQ,QAAS,WACR1B,KAAKsf,UAAU,WAChB,EACA3d,MAAO3B,MAER,IACA,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKsf,UAAU,gBAChB,EACA3d,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,eACdI,KAAM,OACNI,QAAS,WACR1B,KAAKsf,UAAU,iBAChB,EACA3d,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,aACd8S,OAAS9L,IAAIsgB,UAAYtgB,IAAIsgB,SAAuB,aACpD9mB,QAAS,WACR1B,KAAKsf,UAAU,cAChB,EACA3d,MAAO3B,MAER,IACA,CACCgK,QAAS,kBACTC,QAAShJ,KAAKC,GAAG,WAEjBQ,QAAS,WACR1B,KAAKsf,UAAU,gBAChB,EACA3d,MAAO3B,MAER,CACCgK,QAAS,sBACTC,QAAS,kBAETvI,QAAS,WACR1B,KAAKsf,UAAU,iBAChB,EACA3d,MAAO3B,MAER,CACCY,MAAO,SACPqJ,QAAShJ,KAAKC,GAAG,YACjBM,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKsf,UAAU,aAChB,EACA3d,MAAO3B,MAER,IACA,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,iBAEdQ,QAAS,WACR1B,KAAKsf,UAAU,kBAChB,EACA3d,MAAO3B,MAER,IACA,CACCY,MAAO,SACPoJ,QAAS,wBACTC,QAAShJ,KAAKC,GAAG,cACjBM,KAAMP,KAAKC,GAAG,gBAEdQ,QAAS,WACR1B,KAAKsf,UAAU,eAChB,EACA3d,MAAO3B,MAER,KACA,CACCwB,KAAMP,KAAKC,GAAG,kBACd8S,QAAQ,EACR1S,KAAM,WACNI,QAAS,WACR1B,KAAKsf,UAAU,qBAChB,EACA3d,MAAO3B,MAER,CACCgK,QAAS,cACTxI,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKsf,UAAU,aAChB,EACA3d,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,iBAEdQ,QAAS,WACR1B,KAAKsf,UAAU,kBAChB,EACA3d,MAAO3B,MAER,IACA,CACCY,MAAO,SAEPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAK+a,QACN,EACApZ,MAAO3B,OAGTonB,KAAM,CACF,CACCxmB,MAAO,UACPD,MAAO,CACN,CACCC,MAAO,SACPY,KAAM,GACNF,KAAM,WACNmnB,YAAa,QACbxe,QAAS,yBAOlBpI,UAAW,CACVC,YAAa,SAASC,GACrBA,EAAK6W,OACN,KAIF1Z,IAAI0a,aAAa5X,WAAWvB,cAAcwB,KAAKjC,KAChD,IAGDd,IAAIgiB,kBAAoB9hB,GAAGC,OAAOD,GAAGE,OAAQ,CAE5CK,MAAO,IACPyC,OAAQ,IACR5C,OAAQ,MACR8J,QAASpB,IAAIoB,QAEbof,cAAe,WACd,IAAItoB,EAAKJ,KACRmf,EAAQ/e,EAAGkc,IACXnZ,EAAM,IAAIjE,IAAIkE,MACd2e,EAAU,CACTjf,IAAKqc,EAAMvZ,IAAI,OACfnC,OAAQ,kBAETA,EAAS,CACR0d,OAAQ/gB,EAAG+gB,OACXL,MAAO1gB,EAAG0gB,OAGZ3d,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAAOC,GACLrD,GAAI,SAASuD,GACf,IACC7D,EACA2K,EACApC,EAAGrD,EACH2jB,EAGD,IADAle,EAAU9G,GAAOA,EAAK8G,SAAgB,GACjC3K,EAAE,EAAGA,EAAI2K,EAAQ9H,OAAQ7C,IAG7B,IADAuI,EAAIoC,EAAQ3K,IACN2hB,cAELpZ,EAAEmZ,OAASnZ,EAAEoZ,YAAYD,QAEpBnZ,EAAEmZ,QACP,CAGC,IAAKxc,KAFL2jB,EAAM,GAEItgB,EAAEoZ,YAEF,UAALzc,GAEH2jB,EAAI/lB,KAAKoC,GAIP2jB,EAAIhmB,SAEP0F,EAAEmZ,OAAS,UACXnZ,EAAEugB,SAAWD,EAAIpO,KAAK,KAExB,CA/BOva,KAmCNC,KAAK,gBAAgBkB,MAAM0B,SAAS4H,EAExC,IAAG,GACJtH,EAAIO,MACL,EAEAuC,SAAU,WACT,IAKCiF,EACA2d,EACA/oB,EAPGM,EAAKJ,KACR8oB,EAAQ1oB,EAAGH,KAAK,gBAEhBoM,GADQyc,EAAM3nB,MACR2nB,EAAM1e,SAASkP,UACrBxJ,EAAK,GAKN,IAAKhQ,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAIF,YAFvBoL,EAAMmB,EAAI1L,MAAMb,IAER6F,KAAK6b,QAA0C,OAAnBtW,EAAIvF,KAAK6b,QAAsC,WAAnBtW,EAAIvF,KAAK6b,SAEjD,WAAnBtW,EAAIvF,KAAK6b,SAEZqH,EAAa,GAEd/Y,EAAGlN,KAAKsI,EAAIvF,OAIG,GAAbmK,EAAGnN,OAMHkmB,EAEH3pB,IAAIkkB,gBAAgBlb,IAAIC,QAASlH,KAAKC,GAAG,qBAAqB,SAAS6W,GAC3D,OAAPA,IAGJ3X,EAAGE,UAAYF,EAAGE,SAASC,QAAQuP,GACnC1P,EAAGI,QACJ,KAIAJ,EAAGE,UAAYF,EAAGE,SAASC,QAAQuP,GACnC1P,EAAGI,SAjBHtB,IAAI+I,SAASC,IAAIC,QAAS,mBAAoB,KAAM,KAAM,EAAG,UAmB/D,EAEA1H,cAAe,WAGdrB,GAAGsB,MAFMV,KAEI,CACZgB,MAAOC,KAAKC,GAAG,cACfP,MAAO,CACN,CACCC,MAAO,QACP0I,QAASpB,IAAIoB,QACb9J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,QACNP,KAAM,EACNoJ,QAAS,gBACTC,SAAU,CACTC,KAAM,SAEPlJ,MAAO,CACNC,OAAQ,IAETG,KAAM,CACL,CACCX,MAAO,SACPY,KAAMP,KAAKC,GAAG,UACdQ,QAAS,WACR,IAEC2K,EAFQrM,KACGC,KAAK,gBACJoF,oBAAoBiU,SAGjC,IAFCxZ,EAAGoL,IAECpL,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAEzBoL,IAAMmB,EAAI1L,MAAMb,GACZoL,IAAItF,IAAI,WAEXsF,IAAIpF,IAAI,SAAU,SAGrB,EACAnE,MAAO3B,MAER,KACA,CACCY,MAAO,SACPU,KAAM,aACNE,KAAMP,KAAKC,GAAG,mBACdQ,QAAS,WACR,IAGC5B,EAAGoL,EACH6d,EACAtH,EAHApV,EAFQrM,KACGC,KAAK,gBACJoF,oBAAoBiU,SAKjC,IAAKxZ,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,KAGzBipB,GADA7d,EAAMmB,EAAI1L,MAAMb,IACH8F,IAAI,uBAGhB6b,EAAcvW,EAAIvF,KAAK8b,eAGtBvW,EAAIvF,KAAK8b,YAAcA,EAAc,CAAC,GAEvCA,EAAYngB,KAAO,KACnBmgB,EAAY1d,YAAcglB,EAC1B7d,EAAIpF,IAAI,cAAeijB,GACvB7d,EAAIpF,IAAI,SAAU,WAGrB,EACAnE,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,mBACdI,KAAM,aACNI,QAAS,WACR,IAGC5B,EAAGoL,EACH6d,EACAtH,EAHApV,EAFQrM,KACGC,KAAK,gBACJoF,oBAAoBiU,SAKjC,IAAKxZ,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,KAGzBipB,GADA7d,EAAMmB,EAAI1L,MAAMb,IACH8F,IAAI,uBAGhB6b,EAAcvW,EAAIvF,KAAK8b,eAGtBvW,EAAIvF,KAAK8b,YAAcA,EAAc,CAAC,GAEvCA,EAAYngB,KAAOynB,EACnBtH,EAAY1d,YAAc,KAC1BmH,EAAIpF,IAAI,OAAQijB,GAChB7d,EAAIpF,IAAI,SAAU,WAGrB,EACAnE,MAAO3B,OAGTyK,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACN2J,UAAW,OACXC,MAAO,eAER,CACCnJ,KAAMP,KAAKC,GAAG,YACdvB,MAAO,IACP+K,UAAW,UAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACN2J,UAAW,YAEZ,CACClJ,KAAMP,KAAKC,GAAG,WACdH,KAAM,EACN2J,UAAW,wBAQjBjJ,QAAS,CACR,KACA,CACCb,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAASC,GACrBA,EAAK2mB,eACN,KAIFxpB,IAAIgiB,kBAAkBlf,WAAWvB,cAAcwB,KAAKjC,KACrD,IAGDd,IAAImkB,eAAiBjkB,GAAGC,OAAOD,GAAGE,OAAQ,CAEzCK,MAAO,IACPC,YAAY,EACZJ,OAAQ,MACR8J,QAASpB,IAAIoB,QAEbrD,SAAU,WACT,IAAI7F,EAAKJ,KACRsjB,EAAO,CACNC,OAAQnjB,EAAGH,KAAK,oBAAoBmG,WACpC6Q,OAAQ7W,EAAGH,KAAK,oBAAoBmG,YAGtChG,EAAGE,UAAYF,EAAGE,SAASC,QAAQ+iB,GACnCljB,EAAGI,OACJ,EAEAC,cAAe,WAGdrB,GAAGsB,MAFMV,KAEI,CACZgB,MAAOC,KAAKC,GAAG,qBACfP,MAAO,CACN,CACCC,MAAO,QACP0I,QAASpB,IAAIoB,QACb9J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,qBACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,YACNmI,WAAYxI,KAAKC,GAAG,eAErB,CACCN,MAAO,YACPU,KAAM,YACNmI,WAAYxI,KAAKC,GAAG,oBAQ1BO,QAAS,CACR,KACA,CACCb,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAImkB,eAAerhB,WAAWvB,cAAcwB,KAAKjC,KAClD,IAGDd,IAAIgjB,UAAY9iB,GAAGC,OAAOD,GAAGE,OAAQ,CAEpCK,MAAO,IACPC,YAAY,EACZJ,OAAQ,MACR8J,QAASpB,IAAIoB,QAEbsP,MAAO,WACN,IAAIxY,EAAKJ,KAELI,EAAGwa,KAENxa,EAAGH,KAAK,yBAAyB6D,SAAS1D,EAAGwa,IAAIoO,eAEnD,EAEA/iB,SAAU,WACT,IAAI7F,EAAKJ,KAELI,EAAGwa,MAENxa,EAAGwa,IAAIoO,eAAiB5oB,EAAGH,KAAK,yBAAyBmG,YAG1DhG,EAAGI,OACJ,EAEAC,cAAe,WAGdrB,GAAGsB,MAFMV,KAEI,CACZgB,MAAOC,KAAKC,GAAG,YACfP,MAAO,CACN,CACCC,MAAO,QACP0I,QAASpB,IAAIoB,QACb9J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,iBACNsI,SAAU3I,KAAKC,GAAG,aAClBuI,WAAYxI,KAAKC,GAAG,kBAQ1BO,QAAS,CACR,KACA,CACCb,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,SAASsN,GACrBpP,KAAK4Y,OACN,KAIF1Z,IAAIgjB,UAAUlgB,WAAWvB,cAAcwB,KAAKjC,KAC7C;ACh/FId,IAAIwkB,gBAETxkB,IAAIwkB,cAAgBtkB,GAAGC,OAAOD,GAAGE,OAAQ,CAExCK,MAAO,IACPyC,OAAQ,IACR5C,OAAQ,MAERoZ,MAAO,WACN,IAGCvM,EAHGjM,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACdsX,EAAata,EAAGsa,WAGbA,GAEHta,EAAGH,KAAK,qBAAqB6D,SAAS,MAGvCX,EAAIE,KAAKjD,EACR,CACCkD,IAAK,SACLC,QAAS,CAACwe,QAAW,eAAgBte,OAAQ,QAC7CD,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACf,IAMC7D,EA0BIoL,EAhCD9K,EAAKJ,KACRipB,EAAMtlB,EAAKwB,SACX+jB,EAAU9oB,EAAGH,KAAK,kBAClB2b,EAASxb,EAAGwb,OACZ9L,EAAK,GAIN,GAAImZ,GAAOA,EAAItmB,OAEd,IAAK7C,EAAE,EAAGA,EAAImpB,EAAItmB,OAAQ7C,IAGzB,GADAoL,EAAM+d,EAAInpB,GACS,GAAfM,EAAGujB,UAAiBzY,EAAI6S,YAAuC,KAAzB7S,EAAI6S,WAAW8F,OACzD,CAMC,GALInJ,GAAcA,EAAW5X,KAAOoI,EAAIpI,MAEvCuJ,EAAMnB,GAGH0Q,GAAU1Q,EAAI6S,YAAc7S,EAAI6S,WAAWc,QAAUjD,EACxD,SAED9L,EAAGlN,KAAKsI,EACT,EAIFge,EAAQ/nB,MAAM0B,SAASiN,GAEnBzD,MAECnB,EAAMge,EAAQ/nB,MAAMgoB,MAAM9c,EAAI+c,MAC3BF,EAAQ7jB,oBAAoBQ,OAAOqF,GAAK,GAEjD,IAAG,GACJ/H,EAAIO,MACL,EAEAuC,SAAU,SAASiF,GAClB,IAAI9K,EAAKJ,KACRkpB,EAAU9oB,EAAGH,KAAK,kBAGlB2b,EAFaxb,EAAGH,KAAK,qBACGmG,WACO,UAC/BiG,EAAOnB,EAA6C,KAAvCge,EAAQ7jB,oBAAoBiU,SAE5B,MAAVsC,GAAiC,GAAfxb,EAAGujB,SAEpBzY,GAEH9K,EAAGE,UAAYF,EAAGE,SAASC,QAAQ2K,GACnC9K,EAAGI,SAEK6L,GAAOA,EAAI1J,QAEnBvC,EAAGE,UAAYF,EAAGE,SAASC,QAAQ8L,EAAI1L,MAAM,IAC7CP,EAAGI,SAIHtB,IAAIqlB,UAAUtjB,KAAKC,GAAG,YAAad,IAKpCA,EAAGE,UAAYF,EAAGE,SAASC,UAC3BH,EAAGI,QAEL,EAEAC,cAAe,WACd,IAAIL,EAAKJ,KAETZ,GAAGsB,MAAMN,EAAI,CACZY,MAAOC,KAAKC,GAAG,YACfoI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,QACP+X,YAAazQ,IAAIoB,QACjB9J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,qBACf8S,OAAuB,GAAf5T,EAAGujB,SACXnkB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,aACPU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,kBACpB6V,OAAO,EACPpW,MAAO,CACN,CACCiJ,SAAU3I,KAAKC,GAAG,cAClBI,KAAM,YACNuI,WAAY,KACZmN,SAAS,GAEV,CACCpN,SAAU3I,KAAKC,GAAG,aAClBI,KAAM,YACNuI,WAAY,OAGdhI,UAAW,CACV4R,OAAQ,SAAS1R,EAAMkV,EAAQC,GACrBlX,KACGC,KAAK,gBAEX8T,aAAYkD,IAAUA,EAAOoS,WAAiC,MAApBpS,EAAOoS,UACxD,EACA1nB,MAAO3B,SAKX,CACCY,MAAO,WACPU,KAAM,QACNN,MAAOC,KAAKC,GAAG,gBACfH,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERqmB,SAAyB,GAAf/mB,EAAGujB,SACbhjB,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,UACNP,KAAM,EACNoJ,QAAS,gBACTC,SAAU,CACTC,KAAM,SACN0O,cAAe,gBAEhB5X,MAAO,CACNC,OAAQ,IAETqJ,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACXC,MAAO,eAER,CACCnJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,gBAGb7I,UAAW,CACViJ,UAAW,SAASC,EAAMC,EAAMC,EAAGC,EAAKC,EAAQC,GAC/C,IAAIhL,EAAKJ,KAERspB,EADalpB,EAAGH,KAAK,qBACGmG,WAEN,GAAfhG,EAAGujB,UAGE,GAAL1Y,IAECqe,GAAyC,MAA3BA,EAAsB,UAEvClpB,EAAG6F,SAASiF,GAIZhM,IAAIqlB,UAAUtjB,KAAKC,GAAG,iBAAkBd,GAG3C,EACAuB,MAAO3B,YAQdyB,QAAS,CACR,KACA,CACCb,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAASC,GACrBA,EAAK6W,OACN,KAIF1Z,IAAIwkB,cAAc1hB,WAAWvB,cAAcwB,KAAKjC,KACjD;ACjPDd,IAAIwhB,YAActhB,GAAGC,OAAOD,GAAGE,OAAQ,CACtCC,OAAO,EACPE,UAAU,EACVC,WAAU,EACVF,OAAQ,MACRG,MAAO,IACPC,YAAY,EAEZJ,OAAQ,CACPqB,KAAM,OAGP8X,YAAa,EAEb4Q,aAAc,SAASzmB,EAAKjC,EAAM2oB,GACjC,IACCC,EAAO,IAAIvqB,IAAIkE,MACfud,GAAS,EAGG,WAFJ9f,EAAOA,EAAKyH,cAAgB,MAIpCqY,GAAS,GAGV8I,EAAKpmB,KAVIrD,KAWR,CACCsD,IAAK,cACLC,QAAS,CAACT,IAAKA,GACfU,MAAO,CAACC,OAAQ,YAAakd,OAASA,EAAS,IAAM,IAAM+I,OAAQ,SAd5D1pB,MAeD,SAAS2D,GACf,IAGC7D,EAAG0R,EAFHmY,EADQ3pB,KACKC,KAAK,UAAYupB,GAAO,WAAa,KAClDtkB,EAASvB,GAAQA,EAAKwB,SAAWxB,EAAKwB,SAAW,GAEjDykB,EAJQ5pB,KAIIC,KAAK,iBACjB6P,EAAK,GAMN,IAJInM,GAEHimB,EAAO9lB,SAAS,eAAiBH,EAAKrC,KAAO,IAAMqC,EAAK+C,SAAW,KAE/D5G,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,KAE5B0R,EAAItM,EAAOpF,IACT6d,QAAUze,IAAI0e,kBAAkBpM,EAAE3Q,KAAKyH,cAAekJ,GACxD1B,EAAGlN,KAAK4O,GAGTmY,EAAQxoB,MAAM0B,SAASiN,EACxB,IAAG,GAEJ2Z,EAAK/lB,MACN,EAEAjD,cAAe,WAGdrB,GAAGsB,MAAMV,KAAM,CACdgB,MAAOC,KAAKC,GAAG,eACfP,MAAO,CACN,CACCC,MAAO,QACP+X,YAAazQ,IAAIoB,QACjBugB,UAAW,IACXrqB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPU,KAAM,SACNyR,MAAO,aAER,CACCnS,MAAO,YACPU,KAAM,UACNP,KAAM,EACNI,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,WAAY,MAAO,OAAQ,YAGrCqJ,QAAS,CACR,CACC7J,MAAO,iBACPY,KAAMP,KAAKC,GAAG,UACdwmB,cAAc,EACd3mB,KAAM,EACN+oB,SAAU,IACVnf,MAAO,kBACPgd,SAAU,SAAS5U,EAAOgX,EAAUtX,GAMnC,MALQ,CACP,iCAAmCA,EAAO7M,IAAI,YAAc,IAAM,WAClE,gBAAkB6M,EAAO7M,IAAI,QAAU,IAAM6M,EAAO7M,IAAI,QAAU,MAAQ6M,EAAO7M,IAAI,QAAU,WAGvF2U,KAAK,GACf,GAGD,CACC/Y,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACN+oB,SAAU,IACVpf,UAAW,aAGb7I,UAAW,CACViJ,UAAW,SAAS/I,EAAMiX,EAAIC,EAAWxG,EAAQ6B,EAAUlJ,GAC1D,IACC4e,EADQhqB,KACSC,KAAK,sBACtB6C,EAAM2P,EAAO7M,IAAI,OAED,GAAbqT,IAEH+Q,EAAYpX,OANJ5S,KAOLupB,aAAazmB,EAAK2P,EAAO7M,IAAI,QAAS,eAE3C,EACAjE,MAAO3B,OAGT,CACCY,MAAO,QACPU,KAAM,cACNP,KAAM,EACNiT,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO,iBAER,CACCnS,MAAO,YACPG,KAAM,EACNO,KAAM,cACNH,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,WAAY,MAAO,OAAQ,YAGrCqJ,QAAS,CACR,CACC7J,MAAO,iBACPY,KAAMP,KAAKC,GAAG,UACdwmB,cAAc,EACd3mB,KAAM,EACN+oB,SAAU,IACVnf,MAAO,kBACPgd,SAAU,SAAS5U,EAAOgX,EAAUtX,GAMnC,MALQ,CACP,iCAAmCA,EAAO7M,IAAI,YAAc,IAAM,WAClE,gBAAkB6M,EAAO7M,IAAI,QAAU,IAAM6M,EAAO7M,IAAI,QAAU,MAAQ6M,EAAO7M,IAAI,QAAU,WAGvF2U,KAAK,GACf,GAGD,CACC/Y,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACN+oB,SAAU,IACVpf,UAAW,mBASnBjJ,QAAS,CACR,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAIwhB,YAAY1e,WAAWvB,cAAcwB,KAAKjC,KAC/C,EAEA6B,UAAW,CACVC,YAAa,SAASC,GAErBA,EAAKwnB,aADIvpB,KACY8C,IADZ9C,KACoBa,KAC9B;AC7MF3B,IAAI+qB,cAAgB7qB,GAAGC,OAAOD,GAAGE,OAAQ,CAExCC,OAAO,EACPiZ,UAAU,EACVrW,OAAO,SACP3C,OAAQ,MAERC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAER8gB,aAAc,KAEd5iB,SAAU,KAEV+B,OAAQ,WACP,IAAIjC,EAAKJ,KACRuM,EAAQnM,EAAGmM,MACXpJ,EAAM,IAAIjE,IAAIkE,MACJhD,EAAGH,KAAK,yBAEX6D,SAAS,aAEbyI,GAEHnM,EAAGyM,UAAU3J,UAAY,UACzB9C,EAAG4C,mBAAmB,CACrBC,QAAS7C,EAAGyM,aAKTzM,EAAG0C,KAENK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAG4C,mBAAoB,MAC/BG,EAAIO,QAEItD,EAAGmE,YAEXpB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,oBACdrD,GAAI,SAASuD,GACfvD,EAAG4C,mBAAmB,CACrByI,UAAU,EACVxI,QAAS,CACRwI,UAAU,EACVqB,SAAUnJ,EACVT,UAAW,YAGd,GAAG,MACJC,EAAIO,OAGP,EAEAwmB,iBAAkB,SAASzd,EAAOC,EAAUC,GACvCD,GAEH1M,KAAKC,KAAK,qBAAqB6D,SAAS4I,EAE1C,EAEA1J,mBAAoB,SAASW,GACxBA,IAEH3D,KAAKsN,OAAS3J,EAAKV,SAGpB,IACCnD,EACAqqB,EACAC,EAAOxE,EAEP9Y,EALG1M,EAAKJ,KAIRyP,EAAQrP,EAAGkN,OAEXP,EAAS,GACTG,EAAW9M,EAAGH,KAAK,mBAUpB,GARAwP,EAAM5L,UAAY4L,EAAM5L,WAAa,GAErCzD,EAAGH,KAAK,oBAAoBuN,WAAWiC,EAAMhE,UAAYrL,EAAGmM,OAC5DnM,EAAGH,KAAK,mBAAmB6D,SAAS2L,EAAMnO,MAC1ClB,EAAGH,KAAK,sBAAsB6D,SAAS2L,EAAM1L,aAE7ComB,EAAQ1a,EAAM/I,SAAW+I,EAAM/I,SAASyK,MAAM,KAAO,KAIpD,IAAKrR,EAAE,EAAGA,EAAI2P,EAAM5L,UAAUlB,OAAQ7C,IAKrC,GAFAsqB,GADAA,EAAQ3a,EAAM5L,UAAU/D,GAAG4G,UACV0jB,EAAMjZ,MAAM,KAAO,KAGpC,CACC,IAAKyU,EAAEwE,EAAMznB,OAAO,EAAGijB,GAAG,EAAGA,IAExBwE,EAAMxE,IAAMuE,EAAMvE,IAErBwE,EAAMC,OAAOzE,EAAG,GAIlBnW,EAAM5L,UAAU/D,GAAGqqB,MAAQC,EAAM7P,KAAK,IACvC,CAIFxN,EAAOnK,KAAK,CAACmM,KAAM,iBAAkBzN,KAAM,KAEtCmO,EAAM3C,WAEVA,EAAW2C,EAAM3C,SAAW,CAC3BK,UAAW,CACVC,eAAgB,GAChBC,cAAe,MAKlBP,EAAW2C,EAAM3C,gBACV2C,EAAgB,SAEvBrP,EAAG2M,OAASA,EAEZiC,EAAEC,KAAK,CACN,CAACC,IAAKpC,EAASK,UAAUC,eAAgB9F,EAAG,WAC5C,CAAC4H,IAAKpC,EAASK,UAAUE,cAAe/F,EAAG,aAC3C,CAAC4H,IAAKpC,EAASqC,WAAarC,EAASqC,WAAW9B,cAAgB,KAAM/F,EAAG,gBACvE,SAASA,EAAG8H,GACd,IAAItP,EACHuP,EACAH,EAAME,EAAIF,IAEX,GAAIA,EAEH,IAAKpP,EAAE,EAAGA,EAAIoP,EAAIvM,OAAQ7C,IAEzBuP,EAAIH,EAAIpP,GACRiN,EAAOnK,KAAK,CACXmM,KAAMM,EAAE/N,KACRA,KAAM+N,EAAE/N,KACRT,KAAMuO,EAAI9H,GAId,IAEA4F,EAAS/L,MAAM0B,SAASkK,GACxBG,EAASpJ,SAAS2L,EAAMH,WAAa,IACrClP,EAAGH,KAAK,qBAAqB6D,SAAS2L,EAAM6a,YAE5ClqB,EAAGqR,SAAStQ,MAAM0B,SAAS4M,EAAM5L,WACjCzD,EAAGH,KAAK,qBAAqB6D,SAAS2L,EAAM1J,YAE5C3F,EAAGH,KAAK,kBAAkB6D,SAAS2L,EAAM8a,gBAEzC,IAAIC,EAAUpqB,EAAGH,KAAK,yBACtBG,EAAGkN,OAAOmd,eAA0C,SAAxBhb,EAAMgb,eAA6B,iBAAmBhb,EAAMgb,eACxFD,EAAQ1mB,SAAS2L,EAAMgb,gBACvBD,EAAQhe,GAAG,SAAUpM,EAAG8pB,iBAAkB9pB,GAKrCA,EAAGmM,OAEPnM,EAAGkE,eAEL,EAEAA,cAAe,WACd,IAAIlE,EAAKJ,KAETd,IAAIoF,cAAcrC,KAAK7B,EAAIA,EAAG0C,IAAK1C,EAAGmE,UAAW,IAAIrF,IAAIsF,YAAYpE,GAAI,SAASuD,GACjFvD,EAAGmP,iBAAiB5L,EACrB,IACD,EAEA4L,iBAAkB,SAAS5L,GAC1B,IACCe,EAAQf,GAAQA,EAAKhB,OAASgB,EAAK,GAAK,KAErCe,IAHK1E,KAKLmE,QAAUO,EAAM5B,IALX9C,KAMLyY,SAAW/T,EAAMgC,SAEtB,EAEAT,SAAU,WACT,IACCoJ,EACA5C,EAAO+E,EAAGzR,EACVD,EAHGM,EAAKJ,KAGLyR,EAAWrR,EAAGH,KAAK,mBACtBwP,EAAQrP,EAAGkN,OAEZ,GAAKpO,IAAImH,YAAYjG,EAAI,CAAC,aAA1B,CAUA,IAPAqP,EAAMnO,KAAOlB,EAAGH,KAAK,mBAAmBmG,WACxCqJ,EAAM1L,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAElDiJ,EAAIjP,EAAGH,KAAK,qBAAqBmG,WACjCqJ,EAAM1J,WAAasJ,EAEnBA,GADAtP,EAAOK,EAAGH,KAAK,0BACNmG,WACJtG,EAAE,EAAGA,EAAIC,EAAKoB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAIC,EAAKoB,MAAMwE,KAAKhF,MAAMb,GAAG6F,KAAKoN,OAAS1D,EAC3C,CACCI,EAAMgb,eAAiB1qB,EAAKoB,MAAMwE,KAAKhF,MAAMb,GAAG6F,KAAKrE,KACrD,KACD,CAMD,IAFAmO,EAAM8a,eAAiBnqB,EAAGH,KAAK,kBAAkBmG,WACjDqJ,EAAM5L,UAAY,GACb/D,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C2M,EAAQ,CAAC3J,KADT0O,EAAIC,EAAStQ,MAAMwE,KAAKhF,MAAMb,GAAG6F,MACjB7C,IAAKxB,KAAMkQ,EAAElQ,KAAMoF,SAAU8K,EAAE9K,SAAUkL,KAAMJ,EAAEI,KAAM/Q,KAAM2Q,EAAE3Q,MAC/E4O,EAAM5L,UAAUjB,KAAK6J,GAQtB,GAHAgD,EAAMH,UAAYlP,EAAGH,KAAK,mBAAmBmG,WAC7CqJ,EAAM6a,WAAalqB,EAAGH,KAAK,qBAAqBmG,WAE5ChG,EAAGmM,MAENnM,EAAGE,UAAYF,EAAGE,SAASC,QAAQkP,GACnCrP,EAAGI,YAGJ,CACC,IAAI2C,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK2D,IAAKrG,EAAGmE,UAAWjD,KAAMmO,EAAMnO,KAAMyC,YAAa0L,EAAM1L,YAAalD,KAAMT,EAAGwE,SAAU8B,SAAWtG,EAAGuG,eAAiBvG,EAAGuG,eAAiB,IAAM8I,EAAMnO,KAAO,MACrLkC,MAAOiM,EACPvM,UAAW,WACT9C,EAAIA,EAAG2R,eAAgB,KAAM,MACjC5O,EAAIO,MACL,CAjDO,CAkDR,EAEAqO,eAAgB,SAASpO,GACxB,IAAIvD,EAAKJ,KAETd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAGkN,QACtClN,EAAGI,OACJ,EAEAyS,eAAgB,SAASC,GACxB,IAAInN,EAAa/F,KAAKC,KAAK,qBAC3Bf,IAAIiU,SAASpN,EAAYmN,EAC1B,EAEAlB,WAAY,SAAS9L,GACpB,IAAI9F,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbC,aAAc,qEACdkJ,aAAa,EACbjJ,aAAc,CACbC,YAAY,EACZC,QAAS9I,EAAG+D,WAGfyE,EAAWtI,SAAW,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+I,oBAAqBjD,GACtEhH,IAAIkK,WAAWpJ,KAAM4I,EACtB,EAEAO,oBAAqB,SAASnC,EAAMd,GACnC,IAAI9F,EAAKJ,KAET,GAAiB,QAAbkG,EACJ,CACC,IAAIuL,EAAWrR,EAAGH,KAAK,mBACtBU,EAAQ,GAIRA,EAFGqG,EAAKrE,OAEAqE,EAIA,CAACA,GAGVgI,EAAEC,KAAKtO,GAAO,SAAS2G,EAAGN,GACzB,IAAIlH,EAEHqS,GAAS,EAEV,IAAKrS,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C,GADM2R,EAAStQ,MAAMwE,KAAKhF,MAAMb,GACxB8F,IAAI,QAAUoB,EAAKlE,IAC3B,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,IAEC/R,EAAGqY,SAENzR,EAAKmjB,MAAQnjB,EAAKN,SAASgC,QAAQtI,EAAGqY,SAAU,IAIhDzR,EAAKmjB,MAAQnjB,EAAKN,SAEnB+K,EAAStQ,MAAMiR,IAAIpL,GAErB,GACD,CACD,EAEAvG,cAAgB,WACNT,KAENgB,MAAQC,KAAKC,GAAG,aAEnB9B,GAAGsB,MAAMV,KAAM,CACdsJ,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,MACR6J,OAAQ,EACRC,QAASpB,IAAIoB,QACbC,YAAY,EACZ7B,SAAU,CACT4B,QAASpB,IAAIoB,SAEd3I,MAAO,CACN,CACCC,MAAO,OACPyI,OAAQ,EACRE,YAAY,EACZ/J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,WAErB,CACCN,MAAO,WACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,UACpBkB,OAAQ,MAIX,CACCxB,MAAO,WACPI,MAAOC,KAAKC,GAAG,YACfH,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCW,KAAM,iBACNmI,WAAYxI,KAAKC,GAAG,UACpBN,MAAO,WACPsmB,WAAY,OACZrT,WAAY,IAEZP,WAAY,QACZD,aAAc,QACdN,MAAO,GACPQ,UAAU,EAEVpS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,QAAS,QAAS,QAEnBuE,KAAM,CACL,CAAClD,MAAM,SAAUnB,KAAM,SAAUyR,MAAM,aACvC,CAACtQ,MAAM,iBAAkBnB,KAAM,iBAAkByR,MAAM,2BACvD,CAACtQ,MAAM,YAAanB,KAAM,YAAayR,MAAM,kBAC7C,CAACtQ,MAAM,MAAOnB,KAAM,MAAOyR,MAAM,gBACjC,CAACtQ,MAAM,UAAWnB,KAAM,UAAWyR,MAAM,gBACzC,CAACtQ,MAAM,MAAOnB,KAAM,MAAOyR,MAAM,gBACjC,CAACtQ,MAAM,MAAOnB,KAAM,MAAOyR,MAAM,qBActC,CACCzR,KAAM,aACNV,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,YACpB2S,WAAY,KAGb,CACCvS,KAAM,UACNV,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,cACpB2S,WAAY,KAKb,CACCjT,MAAO,YACPU,KAAM,WACNH,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,OAAQ,SAAU,MAAO,WAAY,OAAQ,UAGvD0U,UAAU,EACV1T,OAAQ,IAERsS,WAAY,CACXpK,QAAS,CACR,CACCC,MAAO,mBACPqK,QAAS,WACT0S,YAAY,EACZC,YAAY,IAGd1lB,UAAW,CACVgT,WAAY,SAAS7J,EAAMrF,EAAMmP,EAASC,EAAcC,EAAcpI,GACrE,IACC9M,EAAGqS,GAAS,EACZ8C,EAAMtP,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,EAAKgD,EAAKuP,QAAQ,GAAK,KAMpE,GAJClV,MAAQ2F,EAAKoF,KAAQpF,EAAKyP,MAAO,EAAQzP,EAAKyP,MAAO,EAEtDK,MAAQ,EAAYzV,KAAKqV,MAAMlU,MAAMmU,QAAQR,GAAW,EAEpDG,GAAsB,UAAhBA,EAAGtP,KAAK9E,KAClB,CACC,IAAKf,EAAE,EAAGA,EAAIE,KAAKmB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAIE,KAAKmB,MAAMwE,KAAKhF,MAAMb,GAAG6F,KAAK7C,KAAOmS,EAAGtP,KAAK7C,IACjD,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,GAEHnS,KAAKmB,MAAMiR,IAAI6C,EAAGtP,KAEpB,CAEA,OAzBQ,CA0BT,EAEA4P,KAAM,SAASvK,EAAMrF,EAAMmP,EAASC,EAAcnI,GACpCkI,GAAqCA,EAAQlP,IAAI,QAC9D,OAAO,CACR,IAIF6E,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,OACXhB,UAAU,GAEX,CACClI,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,SAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GACxBF,EAAKlT,MAAMqT,MAAMF,GAC3BD,EAAKlT,MAAMsT,SAASH,EACrB,MAKJzS,UAAW,CACV2T,aAAc,SAASzK,EAAM0H,EAAQzL,EAAMyO,EAAOC,EAAOC,GACxD3V,KAAKiT,eAAeR,EAAO9M,KAAKrE,KACjC,EACAK,MAAO3B,OAGT,CACCY,MAAO,YACPpB,OAAQ,CACPqB,KAAM,QAEPF,MAAO,CACN,CACCC,MAAO,eACPG,KAAM,EACNgS,MAAO9R,KAAKC,GAAG,eAEhB,CACCN,MAAO,SACPY,KAAMP,KAAKC,GAAG,SACdQ,QAAS,WACR1B,KAAKgS,WAAW,OACjB,EACArQ,MAAO3B,UAMZ,CACCY,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,SACRmB,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,gBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,OACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,OAAQ,UAInB,CACCR,MAAO,YACPU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,wBAS5BO,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTN,KAAM,YACNI,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,WACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB,IAAI0J,EAAQrV,KACZqV,EAAM5D,SAAW4D,EAAMpV,KAAK,mBAC5BoV,EAAMhT,QACP,KAIFnD,IAAI+qB,cAAcjoB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACxD;AC9nBD1M,IAAIwrB,gBAAkBtrB,GAAGC,OAAOD,GAAGE,OAAQ,CAE1CC,OAAO,EACPiZ,UAAU,EACVrW,OAAO,SACP3C,OAAQ,CACPqB,KAAM,MACNC,MAAO,WAGRrB,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAER8gB,aAAc,KAEd5iB,SAAU,KAEV+B,OAAQ,WACP,IAAIjC,EAAKJ,KACRuM,EAAQnM,EAAGmM,MACXpJ,EAAM,IAAIjE,IAAIkE,MACHhD,EAAGH,KAAK,mBAEX6D,SAAS,UAEdyI,EAEHnM,EAAG4C,qBAIC5C,EAAG0C,KAENK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAG4C,mBAAoB,MAC/BG,EAAIO,QAEItD,EAAGmE,WAEXnE,EAAG4C,mBAAmB,CACrBC,QAAS,CAAC,GAId,EAEAD,mBAAoB,SAASW,GAC5B,IACC7D,EACAqqB,EACAC,EAAOxE,EAHJxlB,EAAKJ,KAkBT,GAXI2D,IAEH8L,MAAQrP,EAAGkN,OAAS3J,EAAKV,SAG1BknB,EAAQ1a,MAAM/I,SAAW+I,MAAM/I,SAASyK,MAAM,KAAO,KAErD1B,MAAM5L,UAAY4L,MAAM5L,WAAa,GACrCzD,EAAGH,KAAK,mBAAmB6D,SAAS2L,MAAMnO,MAC1ClB,EAAGH,KAAK,sBAAsB6D,SAAS2L,MAAM1L,aAEzComB,EAEH,IAAKrqB,EAAE,EAAGA,EAAI2P,MAAM5L,UAAUlB,OAAQ7C,IAKrC,GAFAsqB,GADAA,EAAQ3a,MAAM5L,UAAU/D,GAAG4G,UACV0jB,EAAMjZ,MAAM,KAAO,KAGpC,CACC,IAAKyU,EAAEwE,EAAMznB,OAAO,EAAGijB,GAAG,EAAGA,IAExBwE,EAAMxE,IAAMuE,EAAMvE,IAErBwE,EAAMC,OAAOzE,EAAG,GAIlBnW,MAAM5L,UAAU/D,GAAGqqB,MAAQC,EAAM7P,KAAK,IACvC,CAIFna,EAAGqR,SAAStQ,MAAM0B,SAAS4M,MAAM5L,WAEtBzD,EAAGH,KAAK,mBACV6D,SAAS2L,MAAMkb,cAAgB,UAEnCvqB,EAAGmM,OAEPnM,EAAGkE,eAEL,EAEAA,cAAe,WACd,IAAIlE,EAAKJ,KAETd,IAAIoF,cAAcrC,KAAK7B,EAAIA,EAAG0C,IAAK1C,EAAGmE,UAAW,IAAIrF,IAAIsF,YAAYpE,GAAI,SAASuD,GACjFvD,EAAGmP,iBAAiB5L,EACrB,IACD,EAEA4L,iBAAkB,SAAS5L,GAC1B,IACCe,EAAQf,GAAQA,EAAKhB,OAASgB,EAAK,GAAK,KAErCe,IAHK1E,KAKLmE,QAAUO,EAAM5B,IALX9C,KAMLyY,SAAW/T,EAAMgC,SAEtB,EAEAT,SAAU,WACT,IAEOwG,EAAO+E,EAAGzR,EAEhBD,EAJGM,EAAKJ,KAGRyP,EAAQrP,EAAGkN,OACRmE,EAAWrR,EAAGH,KAAK,mBAKvB,GAHAF,EAAOK,EAAGH,KAAK,mBACfwP,EAAMkb,aAAe5qB,EAAKqG,WAErBlH,IAAImH,YAAYjG,EAAI,CAAC,aAA1B,CAQA,IALAqP,EAAMvM,UAAY,sBAClBuM,EAAMnO,KAAOlB,EAAGH,KAAK,mBAAmBmG,WACxCqJ,EAAM1L,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAElDqJ,EAAM5L,UAAY,GACb/D,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C2M,EAAQ,CAAC3J,KADT0O,EAAIC,EAAStQ,MAAMwE,KAAKhF,MAAMb,GAAG6F,MACjB7C,IAAKxB,KAAMkQ,EAAElQ,KAAMoF,SAAU8K,EAAE9K,SAAUkL,KAAMJ,EAAEI,KAAM/Q,KAAM2Q,EAAE3Q,MAC/E4O,EAAM5L,UAAUjB,KAAK6J,GAGtB,GAAIrM,EAAGmM,MAENnM,EAAGE,UAAYF,EAAGE,SAASC,QAAQ,CAACkP,MAAOA,IAC3CrP,EAAGI,QAAQgkB,MAGZ,CACC,IAAIrhB,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK2D,IAAKrG,EAAGmE,UAAWjD,KAAMmO,EAAMnO,KAAMyC,YAAa0L,EAAM1L,YAAalD,KAAMT,EAAGwE,SAAU8B,SAAWtG,EAAGuG,eAAiBvG,EAAGuG,eAAiB,IAAM8I,EAAMnO,KAAO,MACrLkC,MAAOiM,EACPvM,UAAW,uBACT9C,EAAIA,EAAG2R,eAAgB,KAAM,MACjC5O,EAAIO,MACL,CA9BO,CA+BR,EAEAqO,eAAgB,SAASpO,GACxB,IAAIvD,EAAKJ,KAETd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAGkN,QACtClN,EAAGI,OACJ,EAEAwR,WAAY,SAAS9L,GACpB,IAAI9F,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbC,aAAc,mDACdkJ,YAAa,EACbjJ,aAAc,CACbC,YAAY,EACZC,QAAS9I,EAAG+D,SAEb7D,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+I,oBAAqBjD,KAE5DhH,IAAIkK,WAAWpJ,KAAM4I,EACtB,EAEAO,oBAAqB,SAASxI,EAAOuF,GACpC,IAAI9F,EAAKJ,KAEQ,QAAbkG,GAEH8I,EAAEC,KAAKtO,GAAO,SAASqE,EAAGgC,GACzB,IACClH,EADG2R,EAAWrR,EAAGH,KAAK,mBAGtBkS,GAAS,EACV,IAAKrS,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C,GADM2R,EAAStQ,MAAMwE,KAAKhF,MAAMb,GACxB8F,IAAI,QAAUoB,EAAKlE,IAC3B,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,IAEC/R,EAAGqY,SAENzR,EAAKmjB,MAAQnjB,EAAKN,SAASgC,QAAQtI,EAAGqY,SAAU,IAIhDzR,EAAKmjB,MAAQnjB,EAAKN,SAEnB+K,EAAStQ,MAAMiR,IAAIpL,GAErB,GAEF,EAEA4jB,kBAAmB,SAASvW,EAAMwW,GACjC,IAAI3V,EAAUb,EAAKhP,oBAAoBqR,eACtCjE,EAASyC,GAAWA,EAAQvS,OAASuS,EAAQ,GAAK,KAEnD,GAAKzC,EAAL,CAKA,IAAIgD,EAAQpB,EAAKyW,WAAWxV,QAAQ7C,GAEpC,GAAIoY,EAAY,GAGf,KADApV,EACY,EAEX,YAMD,KADAA,GACapB,EAAKyW,WAAWC,WAE5B,OAGF1W,EAAKyW,WAAWnU,OAAOlE,GACvBA,EAAS4B,EAAKyW,WAAWlU,OAAOnB,EAAOhD,GACvC4B,EAAKhP,oBAAoBQ,OAAO4M,GAAQ,EAtBxC,CAuBD,EAEAhS,cAAgB,WACNT,KAENgB,MAAQC,KAAKC,GAAG,eAEnB9B,GAAGsB,MAAMV,KAAM,CAEdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,MACR6J,OAAQ,EACR3B,SAAU,CACTiR,YAAazQ,IAAIoB,SAElB3I,MAAO,CACN,CACCC,MAAO,OACPyI,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,WAErB,CACCN,MAAO,WACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,UACpBkB,OAAQ,MAIX,CACCxB,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACfH,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,OACRmB,MAAO,CACN,CACCW,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,UACpBN,MAAO,WACPsmB,WAAY,OACZrT,WAAY,IAEZP,WAAY,QACZD,aAAc,OACdE,UAAU,EAEVpS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,QAAS,QAEVuE,KAAM,CACL,CAACrE,KAAM,iBAAkByR,MAAO,UAChC,CAACzR,KAAM,iBAAkByR,MAAO,gBAQvC,CACCnS,MAAO,YACPU,KAAM,WACNH,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,OAAQ,SAAU,MAAO,WAAY,OAAQ,UAGvD0U,UAAU,EACV/U,KAAM,EACNQ,KAAM,CACL,CACCX,MAAO,UACPD,MAAO,CACN,CACCC,MAAO,SACPY,KAAMP,KAAKC,GAAG,QACdQ,QAAS,WACR,IACCspB,EADQhrB,KACMC,KAAK,mBADXD,KAGN4qB,kBAAkBI,GAAW,EACjC,EACArpB,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,UACdQ,QAAS,WACR,IACCspB,EADQhrB,KACMC,KAAK,mBADXD,KAGN4qB,kBAAkBI,EAAU,EAChC,EACArpB,MAAO3B,SAKX0U,WAAY,CACXpK,QAAS,CACR,CACCC,MAAO,mBACPqK,QAAS,WACT0S,YAAY,EACZC,YAAY,IAGd1lB,UAAW,CACVgT,WAAY,SAAS7J,EAAMrF,EAAMmP,EAASC,EAAcC,EAAcpI,GACrE,IAEC9M,EAAGqS,GAAS,EACZ8C,EAAMtP,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,EAAKgD,EAAKuP,QAAQ,GAAK,KAMpE,GAJClV,MAAQ2F,EAAKoF,KAAQpF,EAAKyP,MAAO,EAAQzP,EAAKyP,MAAO,EAE9C,EAAYpV,KAAKqV,MAAMlU,MAAMmU,QAAQR,GAAW,EAEpDG,GAAsB,UAAhBA,EAAGtP,KAAK9E,KAClB,CACC,IAAKf,EAAE,EAAGA,EAAIE,KAAKmB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAIE,KAAKmB,MAAMwE,KAAKhF,MAAMb,GAAG6F,KAAK7C,KAAOmS,EAAGtP,KAAK7C,IACjD,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,GAEHnS,KAAKmB,MAAMiR,IAAI6C,EAAGtP,KAEpB,CAEA,OA1BQ,CA2BT,EAEA4P,KAAM,SAASvK,EAAMrF,EAAMmP,EAASC,EAAcnI,GACpCkI,GAAqCA,EAAQlP,IAAI,QAC9D,OAAO,CACR,IAIF6E,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,SAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GACxBF,EAAKlT,MAAMqT,MAAMF,GAC3BD,EAAKlT,MAAMsT,SAASH,EACrB,MAKJzS,UAAW,CACV2T,aAAc,SAASzK,EAAM0H,EAAQzL,EAAMyO,EAAOC,EAAOC,GACxD3V,KAAKiT,eAAeR,EAAO9M,KAAKrE,KACjC,EACAK,MAAO3B,OAGT,CACCY,MAAO,YACPpB,OAAQ,CACPqB,KAAM,QAEPF,MAAO,CACN,CACCC,MAAO,eACPG,KAAM,EACNgS,MAAO9R,KAAKC,GAAG,eAEhB,CACCN,MAAO,SACPY,KAAMP,KAAKC,GAAG,SACdQ,QAAS,WACR1B,KAAKgS,WAAW,OACjB,EACArQ,MAAO3B,aASfyB,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB,IAAI0J,EAAQrV,KACZqV,EAAM5D,SAAW4D,EAAMpV,KAAK,mBAC5BoV,EAAMhT,QACP,KAIFnD,IAAIwrB,gBAAgB1oB,WAAWvB,cAAcC,MAAMV,KAAM4L,UAC1D;AC7gBD1M,IAAI+rB,cAAgB7rB,GAAGC,OAAOD,GAAGE,OAAQ,CAExCC,OAAO,EAEP4C,OAAO,SAEPqW,UAAU,EAEVhZ,OAAQ,CACPqB,KAAM,MACNC,MAAO,WAGRrB,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IAER6D,SAAU,WACT,IACCoJ,EAEA5C,EAAO+E,EACP1R,EAJGM,EAAKJ,KAERgH,EAAO5G,EAAGkN,OAEPmE,EAAWzR,KAAKC,KAAK,mBAEzB,GAAKf,IAAImH,YAAYjG,EAAI,CAAC,aAA1B,CAWA,IARA4G,EAAK9D,UAAY,kBACjB8D,EAAK1F,KAAOlB,EAAGH,KAAK,mBAAmBmG,WACvCY,EAAKjD,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAEjDiJ,EAAIjP,EAAGH,KAAK,qBAAqBmG,WACjCY,EAAKjB,WAAasJ,EAElBrI,EAAKnD,UAAY,GACZ/D,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C2M,EAAQ,CAAC3J,KADT0O,EAAIC,EAAStQ,MAAMwE,KAAKhF,MAAMb,GAAG6F,MACjB7C,IAAKxB,KAAMkQ,EAAElQ,KAAMoF,SAAU8K,EAAE9K,SAAUkL,KAAMJ,EAAEI,KAAM/Q,KAAM2Q,EAAE3Q,MAC/EmG,EAAKnD,UAAUjB,KAAK6J,GAKrB,GAFAzF,EAAKsI,UAAYlP,EAAGH,KAAK,mBAAmBmG,WAExChG,EAAGmM,MAENnM,EAAGE,UAAYF,EAAGE,SAASC,QAAQyG,GACnC5G,EAAGI,YAGJ,CACC,IAAI2C,EAAM,IAAIjE,IAAIkE,MAElBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK2D,IAAKrG,EAAGmE,UAAWjD,KAAM0F,EAAK1F,KAAMyC,YAAaiD,EAAKjD,YAAalD,KAAMT,EAAGwE,SAAU8B,SAAWtG,EAAGuG,eAAiBvG,EAAGuG,eAAiB,IAAMK,EAAK1F,KAAO,MAClLkC,MAAOwD,EACP9D,UAAW,mBACT9C,EAAIA,EAAG8qB,UAAW,MACtB/nB,EAAIO,MACL,CApCO,CAqCR,EAEAwnB,UAAW,SAASvnB,GACnB,IAAIvD,EAAKJ,KACTd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAGkN,QACtClN,EAAGI,OACJ,EAEAwR,WAAY,SAAS9L,GACpB,IAAI9F,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbmJ,YAAa,EACblJ,aAAc,sFACdC,aAAc,CACbC,YAAY,EACZC,QAAS9I,EAAG+D,WAGfyE,EAAWtI,SAAW,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG+I,oBAAqBjD,GACtEhH,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEAO,oBAAqB,SAASxI,EAAOuF,GAGpC,GAAiB,WAAbA,EACJ,CACC,IAAIuL,EAJIzR,KAIUC,KAAK,mBAEvB+O,EAAEC,KAAKtO,GAAO,SAAS2G,EAAGN,GACzB,IAAIlH,EAEHqS,GAAS,EACV,IAAKrS,EAAE,EAAGA,EAAI2R,EAAStQ,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/C,GADM2R,EAAStQ,MAAMwE,KAAKhF,MAAMb,GACxB8F,IAAI,QAAUoB,EAAKlE,IAC3B,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,GAEHV,EAAStQ,MAAMiR,IAAIpL,EAErB,GACD,CAED,EAEAiM,eAAgB,SAASC,GACxB,IAAInN,EAAa/F,KAAKC,KAAK,qBAC3Bf,IAAIiU,SAASpN,EAAYmN,EAC1B,EAEA7Q,OAAQ,WACP,IAAIjC,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEXhD,EAAG0C,KAENK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAG4C,mBAAoB,MAC/BG,EAAIO,QAEItD,EAAGmE,YAEXpB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAGmE,WAClBf,MAAO,CAACC,OAAQ,oBACdrD,GAAI,SAASuD,GACfvD,EAAG4C,mBAAmB,CACrBC,QAAS,CACR6J,SAAUnJ,IAGb,GAAG,MACJR,EAAIO,OAEN,EAEAV,mBAAoB,SAASW,GAC5B,IAICqD,EAJG5G,EAAKJ,KACRyR,EAAWrR,EAAGH,KAAK,mBACnBiN,EAAW9M,EAAGH,KAAK,mBACnB8M,EAAS,GAGV/F,EAAO5G,EAAGkN,OAAS3J,EAAKV,QAExB7C,EAAGH,KAAK,mBAAmB6D,SAASkD,EAAK1F,MACzClB,EAAGH,KAAK,sBAAsB6D,SAASkD,EAAKjD,aAE5CiD,EAAKnD,UAAYmD,EAAKnD,WAAa,GAEnC4N,EAAStQ,MAAM0B,SAASmE,EAAKnD,WAC7BzD,EAAGH,KAAK,qBAAqB6D,SAASkD,EAAKjB,YAE3CgH,EAAOnK,KAAK,CAACmM,KAAM,iBAAkBzN,KAAM,KAE3CwL,SAAW9F,EAAK8F,gBACT9F,EAAe,SAEtBgI,EAAEC,KAAK,CACN,CAACC,IAAKpC,SAASK,UAAUC,eAAgB9F,EAAG,WAC5C,CAAC4H,IAAKpC,SAASK,UAAUE,cAAe/F,EAAG,aAC3C,CAAC4H,IAAKpC,SAASqC,WAAarC,SAASqC,WAAW9B,cAAgB,KAAM/F,EAAG,gBACvE,SAASA,EAAG8H,GACd,IAAItP,EACHuP,EACAH,EAAME,EAAIF,IAEX,GAAIA,EAEH,IAAKpP,EAAE,EAAGA,EAAIoP,EAAIvM,OAAQ7C,IAEzBuP,EAAIH,EAAIpP,GACRiN,EAAOnK,KAAK,CACXmM,KAAMM,EAAE/N,KACRA,KAAM+N,EAAE/N,KACRT,KAAMuO,EAAI9H,GAId,IAEA4F,EAAS/L,MAAM0B,SAASkK,GACxBG,EAASpJ,SAASkD,EAAKsI,WAAa,IAEpClP,EAAGkE,eACJ,EAEAA,cAAe,WACd,IAAIlE,EAAKJ,KACTd,IAAIoF,cAAcrC,KAAK7B,EAAIA,EAAG0C,IAAK1C,EAAGmE,UAAW,IAAIrF,IAAIsF,YAAYpE,GAAI,SAASuD,GACjFvD,EAAGmP,iBAAiB5L,EACrB,IACD,EAEA4L,iBAAkB,SAAS5L,GAC1B,IAAIe,EAAQf,GAAQA,EAAKhB,OAASgB,EAAK,GAAK,KAExCe,IAEH1E,KAAKmE,QAAUO,EAAM5B,IAEvB,EAEArC,cAAgB,WAGfrB,GAAGsB,MAAMV,KAAM,CACdgB,MAAOC,KAAKC,GAAG,qBAEfO,QAAS,CACR,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAITW,MAAO,CACN,CACCC,MAAO,YACP0I,QAASpB,IAAIoB,QACbqP,YAAazQ,IAAIoB,QACjBC,YAAY,EACZ/J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,UACpBwI,UAAU,GAEX,CACC9I,MAAO,WACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,aAIvB,CACCN,MAAO,WACPI,MAAOC,KAAKC,GAAG,oBACf2V,YAAa,YACbrX,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER4G,SAAU,CACTmM,WAAY,KAEblT,MAAO,CACN,CACCW,KAAM,aACNV,MAAO,cAIV,CACCA,MAAO,eACPmS,MAAO9R,KAAKC,GAAG,eAEhB,CACCN,MAAO,YACPU,KAAM,WACNH,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,SAAU,MAAO,WAAY,SAG/C0U,UAAU,EACV1T,OAAQ,IACRsS,WAAY,CACXC,YAAY,EAEZrK,QAAS,CACRC,MAAO,mBACPqK,QAAS,YAGV/S,UAAW,CACVgT,WAAY,SAAS7J,EAAMrF,EAAMmP,EAASC,EAAcC,GACvD,IAEClV,EAAGqS,GAAS,EACZ8C,EAAMtP,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,EAAKgD,EAAKuP,QAAQ,GAAK,KAMpE,GAJClV,MAAQ2F,EAAKoF,KAAQpF,EAAKyP,MAAO,EAAQzP,EAAKyP,MAAO,EAE9C,EAAYpV,KAAKqV,MAAMlU,MAAMmU,QAAQR,GAAW,EAEpDG,IAAuB,WAAhBA,EAAGtP,KAAK9E,MAAqC,UAAhBoU,EAAGtP,KAAK9E,MAAoC,gBAAhBoU,EAAGtP,KAAK9E,MAA2C,gBAAhBoU,EAAGtP,KAAK9E,MAC/G,CACC,IAAKf,EAAE,EAAGA,EAAIE,KAAKmB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAIE,KAAKmB,MAAMwE,KAAKhF,MAAMb,GAAG6F,KAAK7C,KAAOmS,EAAGtP,KAAK7C,IACjD,CACCqP,GAAS,EACT,KACD,CAGa,GAAVA,GAEHnS,KAAKmB,MAAMiR,IAAI6C,EAAGtP,KAEpB,CAEA,OA1BQ,CA2BT,EAEA4P,KAAM,SAASvK,EAAMrF,EAAMmP,EAASC,GACtBD,GAAqCA,EAAQlP,IAAI,QAC9D,OAAO,CACR,IAGF6E,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CAAC,CACPqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIpT,EAAQkT,EAAKlT,MACVA,EAAMqT,MAAMF,GACnBnT,EAAMwV,OAAOxV,EAAMwE,KAAKhF,MAAM2T,GAC/B,MAIHzS,UAAW,CACV2T,aAAc,SAASzK,EAAM0H,EAAQzL,EAAMyO,EAAOS,EAAI4F,GACrD,IAAIxa,EAAOmR,EAAO9M,KAAKrE,MAAQ,GAE3BA,GAEHtB,KAAKiT,eAAe3R,EAEtB,EACAK,MAAO3B,OAGT,CACCY,MAAO,YACPpB,OAAQ,CACPqB,KAAM,QAEPF,MAAO,CACN,CACCC,MAAO,eACPG,KAAM,EACNgS,MAAO9R,KAAKC,GAAG,eAEhB,CACCN,MAAO,SACPY,KAAMP,KAAKC,GAAG,SACdQ,QAAS,WACR1B,KAAKgS,WAAW,UACjB,EACArQ,MAAO3B,QAIV,CACCY,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,SACRmB,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,gBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,OACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,OAAQ,eASxBS,UAAW,CACVC,YAAa,WACZ9B,KAAKqC,QACN,KAIFnD,IAAI+rB,cAAcjpB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACxD;ACncD1M,IAAIisB,iBAAmB/rB,GAAGC,OAAOD,GAAGiW,MAAO,CAC1ClT,OAAO,SAEP3C,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAGT3T,SAAU,KACVqkB,MAAO,KAEP1e,SAAU,SAASsZ,GAClB,IAgBC6L,EAAUC,EAAUC,EAhBjBlrB,EAAKJ,KACRurB,EAAanrB,EAAGmrB,WAChBC,EAAUprB,EAAGH,KAAK,kBAClBwrB,EAAcrrB,EAAGH,KAAK,sBACtByrB,EAActrB,EAAGH,KAAK,sBACtB0rB,EAAavrB,EAAGH,KAAK,mBAErB2rB,EAAQxrB,EAAGH,KAAK,gBAChB4rB,EAASzrB,EAAGH,KAAK,iBACjB6rB,EAAQ1rB,EAAGH,KAAK,gBAChB8rB,EAAS3rB,EAAGH,KAAK,iBACjB+rB,EAAQ5rB,EAAGH,KAAK,gBAChBgsB,EAAS7rB,EAAGH,KAAK,iBACjBisB,EAAQ9rB,EAAGH,KAAK,gBAChBksB,EAAQ/rB,EAAGH,KAAK,gBAChBmsB,EAAQhsB,EAAGH,KAAK,gBAEhBosB,EAAQb,EAAQplB,WAChBkmB,EAASb,EAAYrlB,WACrBmmB,EAASb,EAAYtlB,WAQtBomB,MAAQjB,EAAaA,EAAWjqB,KAAO,KAEvCsqB,EAAQA,EAAMxlB,WACd0lB,EAAQA,EAAM1lB,WACd4lB,EAAQA,EAAM5lB,WAEdglB,EAAWQ,GAASC,EAAOzlB,WAAawlB,EAAQ,IAAMC,EAAOzlB,WAAa,IAAM8lB,EAAM9lB,WAAa,KACnGilB,EAAWS,GAASC,EAAO3lB,WAAa0lB,EAAQ,IAAMC,EAAO3lB,WAAa,IAAM+lB,EAAM/lB,WAAa,KACnGklB,EAAWU,GAASC,EAAO7lB,WAAa4lB,EAAQ,IAAMC,EAAO7lB,WAAa,IAAMgmB,EAAMhmB,WAAa,KAEnGhG,EAAG8K,IAAIpF,IAAI,UAAU,GACrB1F,EAAG8K,IAAIpF,IAAI,YAAaylB,EAAaA,EAAWjqB,KAAO,MACvDlB,EAAG8K,IAAIpF,IAAI,eAAgBylB,EAAaA,EAAWzoB,IAAM,MACzD1C,EAAG8K,IAAIpF,IAAI,YAAawmB,GACxBlsB,EAAG8K,IAAIpF,IAAI,aAAcumB,GACzBjsB,EAAG8K,IAAIpF,IAAI,YAAaymB,GACxBnsB,EAAG8K,IAAIpF,IAAI,cAAeslB,GAC1BhrB,EAAG8K,IAAIpF,IAAI,cAAeulB,GAC1BjrB,EAAG8K,IAAIpF,IAAI,cAAewlB,GAE1BlrB,EAAG8K,IAAIpF,IAAI,WAAY6lB,EAAWvlB,YAE9BhG,EAAGukB,QAENvkB,EAAGukB,MAAM8H,QAAS,EAElBzd,EAAEC,KAjCQ,CACT,YAAa,eACb,YAAa,aAAc,YAC3B,cAAe,cAAe,cAC9B,cAAe,aA6BA,SAASnP,EAAGkF,GAC3B5E,EAAGukB,MAAM3f,GAAK5E,EAAG8K,IAAItF,IAAIZ,EAC1B,IAEF,EAEA0nB,YAAa,WACZ,IAAItsB,EAAKJ,KACR0a,EAAata,EAAGsa,WAChBvX,EAAM,IAAIjE,IAAIkE,MAEXsX,GAActa,EAAG8K,KAAO9K,EAAG8K,IAAIyhB,eAElCxpB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAG8K,IAAIyhB,cACtBnpB,MAAO,CAACC,OAAQ,cACdrD,GAAI,SAASuD,GACf,IAAIvD,EAAKJ,KACL2D,GAAQA,EAAKhB,SAEhBvC,EAAGmrB,WAAa5nB,EAAK,GACrBvD,EAAGH,KAAK,kBAAkB6D,SAAS1D,EAAGmrB,WAAWjqB,MAEjDlB,EAAGwsB,YAEL,IACDzpB,EAAIO,OAEN,EAEAkpB,UAAW,WACV,IAAIxsB,EAAGJ,KACNmD,EAAM,IAAIjE,IAAIkE,MACdmoB,EAAanrB,EAAGmrB,WAEZA,IAGLpoB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAKyoB,EAAWzoB,KAC1BU,MAAO,CAACC,OAAQ,WACdrD,EAAIA,EAAGysB,aAAc,MACzB1pB,EAAIO,OACL,EAEAmpB,aAAc,SAASlpB,GACtB,IACC7D,EAAG8lB,EACHlhB,EACA+H,EAWAqgB,EAAKC,EAAKC,EAyCPC,EACHC,EACAC,EAAMC,EAAOC,EAAKC,EAAMC,EAzDrBntB,EAAKJ,KAIRwtB,EAAYptB,EAAGH,KAAK,kBACpBwtB,EAAgBrtB,EAAGH,KAAK,sBACxBytB,EAAgBttB,EAAGH,KAAK,sBACxB0rB,EAAavrB,EAAGH,KAAK,mBAErB0tB,EAAKvtB,EAAG8K,IAAItF,IAAI,aAChBgoB,EAAKxtB,EAAG8K,IAAItF,IAAI,cAChBioB,EAAKztB,EAAG8K,IAAItF,IAAI,aAChBkoB,EAAW1tB,EAAG8K,IAAItF,IAAI,YACtBxE,EAAS,GAKV,GAFAsD,EAAQf,EAAOA,EAAKwB,SAAW,KAI9B,IAAKrF,EAAE,EAAGA,EAAI4E,EAAM/B,OAAQ7C,KAE3B2M,EAAQ/H,EAAM5E,IACRgD,IAAM2J,EAAM3J,KAAOhD,EAErB2M,EAAM3J,KAAO6qB,IAEhBb,EAAMrgB,EAAM3J,KAET2J,EAAM3J,KAAO8qB,IAEhBb,EAAMtgB,EAAM3J,KAET2J,EAAM3J,KAAO+qB,IAEhBb,EAAMvgB,EAAM3J,KAEb1B,EAAOwB,KAAK6J,GAsBd,IAlBA+gB,EAAUrsB,MAAM0B,SAASzB,GAAQ,GACjCqsB,EAActsB,MAAM0B,SAASzB,GAAQ,GACrCqsB,EAAc3pB,SAASgpB,GACvBU,EAAU1pB,SAASipB,GAEnBW,EAAcvsB,MAAM0B,SAASzB,GAAQ,GACrCssB,EAAc5pB,SAASkpB,GAEvBrB,EAAW7nB,SAASgqB,GAAY,IAEhC1tB,EAAGH,KAAK,gBAAgBkB,MAAM0B,SAASzB,GAAQ,GAC/ChB,EAAGH,KAAK,gBAAgBkB,MAAM0B,SAASzB,GAAQ,GAC/ChB,EAAGH,KAAK,gBAAgBkB,MAAM0B,SAASzB,GAAQ,GAM1CtB,EAAE,EAAGA,EAAI,EAAGA,IAGhB,IADAmtB,EAAQ7sB,EAAG8K,IAAItF,IAAI,aAAe9F,MAGjCotB,EAAI9sB,EAAGH,KAAK,aAAeH,EAAI,KAC/BqtB,EAAO/sB,EAAGH,KAAK,cAAgBH,EAAI,KACnCutB,EAAMjtB,EAAGH,KAAK,aAAeH,EAAI,KAC7BmtB,EAAM3X,QAAQ,MAAQ,GAczB,IAZAlV,EAAGH,KAAK,gBAAkBH,EAAI,KAAKyb,SACnC6R,EAAQH,EAAMc,UAAU,EAAGd,EAAM3X,QAAQ,MAEzCiY,EAAM,KADND,EAAOL,EAAMc,UAAUd,EAAM3X,QAAQ,KAAK,IAEjCA,QAAQ,MAAQ,IAExBiY,EAAMD,EAAKS,UAAUT,EAAKhY,QAAQ,KAAK,GACvCgY,EAAOA,EAAKS,UAAU,EAAGT,EAAKhY,QAAQ,OAEvC6X,EAAKrpB,SAASwpB,GACdD,EAAIvpB,SAASypB,GAER3H,EAAE,EAAGA,EAAIxkB,EAAOuB,OAAQijB,IAE5B,GAAIxkB,EAAOwkB,GAAGlf,UAAY0mB,EAC1B,CACCF,EAAEppB,SAAS1C,EAAOwkB,GAAG9iB,KACrB,KACD,CAKL,EAEArC,cAAgB,WACf,IAAIutB,EAAa,GAEjBhf,EAAEC,KAAK/P,IAAI+uB,eAAe,SAASC,EAAKnb,GACvCib,EAAWprB,KAAK,CAACmQ,MAAOA,EAAMzR,KAAMA,KAAMyR,EAAMob,QACjD,IAEA/uB,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAM,WACNwtB,eAA4B,QAAZpuB,KAAKquB,IACrBrtB,MAAOC,KAAKC,GAAG,YACfotB,WAAW,EACX9uB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,WACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,UACNyI,UAAU,EACVD,UAAW7I,KAAKC,GAAG,cACnBH,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR,IAAItB,EAAKJ,KAET,GAAKI,EAAGsa,WAAR,CAGA,IAAI9R,EAAa,IAAI1J,IAAI2J,cAAc,CACtCC,SAAU1I,EAAG0I,SACbC,aAAc,qCACd8Y,UAAW,oBACX7Y,aAAc,CACbC,YAAY,EACZC,QAAS9I,EAAGsa,YAEbpa,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS4G,GAC1C,IAAI5G,EAAKJ,KACR4E,EAAWoC,EAAKnG,KAAKyH,cAEN,cAAZ1D,GAAwC,SAAZA,IAE/BxE,EAAGH,KAAK,kBAAkB6D,SAASkD,EAAK1F,MACxClB,EAAGmrB,WAAavkB,EAChB5G,EAAGwsB,YAEL,MAED1tB,IAAIkK,WAAWpJ,KAAM4I,EAtBd,CAuBR,EACAjH,MAAO3B,QAIV,CACCY,MAAO,WACPU,KAAM,cACN8R,UAAW,QACX3J,WAAYxI,KAAKC,GAAG,gBACpBmS,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,MAAO,OAAQ,cAIlC,CACCR,MAAO,WACPU,KAAM,UACN8R,UAAW,QACX3J,WAAYxI,KAAKC,GAAG,iBACpBmS,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,MAAO,OAAQ,cAIlC,CACCR,MAAO,WACPU,KAAM,cACN8R,UAAW,QACX3J,WAAYxI,KAAKC,GAAG,gBACpBmS,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,MAAO,OAAQ,gBAMpC,CACCR,MAAO,WACPI,MAAOC,KAAKC,GAAG,gBACfotB,WAAW,EACX9uB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,eACpBI,KAAM,WACN8R,UAAW,QACXG,UAAU,EACVD,WAAY,QACZD,aAAc,OACdlS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,kBAAmByR,MAAO,IACjC,CAACzR,KAAM,iBAAkByR,MAAO,QAChC,CAACzR,KAAM,kBAAmByR,MAAO,cAMtC,CACCnS,MAAM,WACNU,KAAM,WACN8sB,gBAAe,EACfptB,MAAOC,KAAKC,GAAG,mBACfotB,WAAW,EACX9uB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,kBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,MAAO,OAAQ,cAIlC,CACCR,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,QACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,SAETuE,KAAMqoB,IAGR,CACCptB,MAAO,YACPU,KAAM,SACNmI,WAAYxI,KAAKC,GAAG,oBAGtBW,UAAW,CACV0sB,SAAU,SAASrB,EAAGzV,GACrBzX,KAAKC,KAAK,gBAAgB6D,SAAS,IACnC9D,KAAKC,KAAK,iBAAiB6D,SAAS,GACrC,IAGF,CACClD,MAAM,WACNU,KAAM,WACN8sB,gBAAe,EACfptB,MAAOC,KAAKC,GAAG,mBACfotB,WAAW,EACX9uB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,kBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,MAAO,OAAQ,cAIlC,CACCR,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,QACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,SAETuE,KAAMqoB,IAGR,CACCptB,MAAO,YACPU,KAAM,SACNmI,WAAYxI,KAAKC,GAAG,oBAGtBW,UAAW,CACV0sB,SAAU,SAASrB,EAAGzV,GACrBzX,KAAKC,KAAK,gBAAgB6D,SAAS,IACnC9D,KAAKC,KAAK,iBAAiB6D,SAAS,GACrC,IAGF,CACClD,MAAM,WACNU,KAAM,WACN8sB,gBAAe,EACfptB,MAAOC,KAAKC,GAAG,mBACfotB,WAAW,EACX9uB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,kBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,MAAO,OAAQ,cAIlC,CACCR,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,QACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,SAETuE,KAAMqoB,IAGR,CACCptB,MAAO,YACPU,KAAM,SACNmI,WAAYxI,KAAKC,GAAG,oBAGtBW,UAAW,CACV0sB,SAAU,SAASrB,EAAGzV,GACrBzX,KAAKC,KAAK,gBAAgB6D,SAAS,IACnC9D,KAAKC,KAAK,iBAAiB6D,SAAS,GACrC,OAMJ5E,IAAIisB,iBAAiBnpB,WAAWvB,cAAcC,MAAMV,KAAM4L,UAC3D;AC9gBD1M,IAAIsvB,aAAepvB,GAAGC,OAAOD,GAAGE,OAAQ,CAEvCC,OAAO,EAEPC,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAGRrB,UAAU,EACVC,WAAW,EACXC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEV2F,SAAU,WACT,IAAI7F,EAAKJ,KACRgH,EAAO5G,EAAG4G,KAEX,GAAIA,EACJ,CACC,IAoBCN,EAlBAgH,EADatN,EAAGH,KAAK,qBACEqG,gBAEvBwB,GADc1H,EAAGH,KAAK,sBACXG,EAAGH,KAAK,sBAAsBqG,iBACzC4G,EAAW9M,EAAGH,KAAK,mBACnBwuB,EAAiBruB,EAAGH,KAAK,yBACzB4N,EAAazN,EAAGH,KAAK,qBACrBiE,EAAa9D,EAAGH,KAAK,qBACrByuB,EAAatuB,EAAGH,KAAK,qBACrBge,EAAW7d,EAAGH,KAAK,mBACnBkkB,EAAc/jB,EAAGH,KAAK,sBACtBosB,EAAQjsB,EAAGH,KAAK,gBAMhBgD,GALY/D,IAAIgI,gBAKNF,EAAK/D,SACf7B,EAAS4F,EAAK2nB,OAAS3nB,EAAK2nB,OAAOvtB,OAAS,KAG7C,IAAKlC,IAAImH,YAAYjG,EAAI,CAAC,aACzB,OAED6C,EAAQ3B,KAAOlB,EAAGH,KAAK,mBAAmBmG,WAC1CnD,EAAQc,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAEpDY,EAAK1F,KAAO2B,EAAQ3B,KACpB0F,EAAKjD,YAAcd,EAAQc,YAE3Bd,EAAQyK,UAA0B,IAAbA,EAAmB,KAAOA,EAC/CzK,EAAQ6E,SAAwB,IAAZA,EAAkB,KAAOA,EAC7C7E,EAAQ2K,YAAc6gB,EAAeroB,WACrCnD,EAAQqM,UAAYpC,EAAS9G,WAC7BnD,EAAQ4K,WAAsC,GAAzBA,EAAWzH,WAChCnD,EAAQiB,WAAaA,EAAWkC,WAChCnD,EAAQiD,UAAYmmB,EAAMjmB,WAC1BnD,EAAQgb,SAAWA,EAAS7X,WAC5BnD,EAAQkhB,YAAcA,EAAY/d,WAE9BnD,EAAQ8a,aAEX9a,EAAQ8a,WAAWI,OAASlb,EAAQkhB,aAGrClhB,EAAQ2rB,eAA0C,GAAzBF,EAAWtoB,WAEpCnD,EAAQ4rB,KAAO,CACdhuB,KAAMT,EAAGH,KAAK,mBAAmBmG,WACjC0oB,QAAS1uB,EAAGH,KAAK,mBAAmBmG,WACpC2oB,gBAAiB3uB,EAAGH,KAAK,uBAAuBmG,WAChD4oB,OAAQ5uB,EAAGH,KAAK,qBAAqBmG,YAGlChF,GAAUA,EAAOuB,QAAU0pB,EAAMjmB,aAEpChF,EAAO,GAAGE,KAAO+qB,EAAMjmB,WAEvBM,GADAA,EAAWtF,EAAO,GAAGsF,UACDqnB,UAAU,EAAGrnB,EAASuoB,YAAY,MAAQ,IAAM7tB,EAAO,GAAGE,KAC9EF,EAAO,GAAGsF,SAAWA,GAGtBzD,EAAQisB,UAAY,SACpBjsB,EAAQ6K,WAAa1N,EAAGH,KAAK,uBAAuBmG,UACrD,CAEA,GAAwB,cAApBhG,EAAG+uB,cAEN/uB,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAG4G,MACtC5G,EAAGI,aAEC,GAAIwG,EAAKyE,SACd,CACC,IAAI4J,EAAQrV,KACXmD,EAAM,IAAIjE,IAAIkE,MACdiE,EAAML,EAAK/D,QAEZE,EAAIE,KAAKgS,EACR,CACC/R,IAAK,eACLC,QAAS,CAACT,IAAKuS,EAAMvS,IAAKxB,KAAM+F,EAAI/F,KAAMyC,YAAasD,EAAItD,aAC3DP,MAAO6D,EACPnE,UAAW,aACTmS,EAAOA,EAAM+Z,WAAY,MAC7BjsB,EAAIO,MACL,MAGCtD,EAAGI,OAEL,EAEA4uB,WAAY,SAASrJ,GACpB,IAAI3lB,EAAKJ,KACTd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAG4G,MACtC5G,EAAGI,OACJ,EAEA6B,OAAQ,WACP,IAAIjC,EAAKJ,KAETI,EAAGivB,SAAW,GAEVjvB,EAAGyM,WAENzM,EAAGyM,UAAUC,SAAW,CACvBK,UAAW,CACVC,eAAgB,GAChBC,cAAe,KAIjBjN,EAAGkvB,mBAAmB,CACrBhuB,KAAMlB,EAAGyM,UAAUvL,KACnByC,YAAa3D,EAAGyM,UAAU9I,YAC1BjB,IAAK1C,EAAGyM,UAAU/J,IAClBG,QAAS7C,EAAGyM,UACZpB,UAAU,KAGHrL,EAAG0C,KAEX1C,EAAGmvB,iBAEL,EAEAC,cAAe,WACd,IAGC1vB,EAqBAgN,EAxBG1M,EAAKJ,KACRgH,EAAO5G,EAAG4G,KACV4T,EAAM5T,EAAK/D,QAEXyK,EAAYkN,EAAIlN,WAAa,GAC7BV,EAAa5M,EAAGH,KAAK,qBACrB6H,EAAW8S,EAAI9S,UAAY,GAC3BmF,EAAc7M,EAAGH,KAAK,sBACtBiN,EAAW9M,EAAGH,KAAK,mBACnBwuB,EAAiBruB,EAAGH,KAAK,yBACzBwvB,EAAkBrvB,EAAGH,KAAK,0BAC1ByvB,EAAkBtvB,EAAGH,KAAK,0BAC1B0vB,EAAqBvvB,EAAGH,KAAK,6BAC7B4N,EAAazN,EAAGH,KAAK,qBACrBge,EAAW7d,EAAGH,KAAK,mBACnBkkB,EAAc/jB,EAAGH,KAAK,sBACtBiE,EAAa9D,EAAGH,KAAK,qBACrByuB,EAAatuB,EAAGH,KAAK,qBACrB8Q,EAAY3Q,EAAGH,KAAK,oBACpBosB,EAAQjsB,EAAGH,KAAK,gBAChB2vB,EAAWxvB,EAAGH,KAAK,mBAEX6P,GADI5Q,IAAIgI,gBACH,IACb6F,EAAS,GAET8hB,EAAOjU,EAAIiU,MAAQ,CAAC,EAsErB,IApEAzuB,EAAGH,KAAK,oBAAoBuN,WAAWxG,EAAKyE,UAC5CrL,EAAGH,KAAK,mBAAmB6D,SAAS8W,EAAItZ,MACxClB,EAAGH,KAAK,sBAAsB6D,SAAS8W,EAAI7W,aAE3CiJ,EAAWlJ,SAAS,CAAC2J,WAAY,CAACC,KAClCT,EAAYnJ,SAAS,CAAC6J,YAAa,CAAC7F,KACpC2mB,EAAe3qB,SAAS8W,EAAIhN,cAAe,GAC3CC,EAAW/J,SAAS8W,EAAI/M,aAAc,GACtC3J,EAAWJ,SAAS8W,EAAI1W,YAAc,IACtCwqB,EAAW5qB,SAAS8W,EAAIgU,gBACxB7d,EAAUjN,SAAS8W,EAAI7J,WAAa,IACpCkN,EAASna,SAAS8W,EAAIqD,UACtBkG,EAAYrgB,SAAS8W,EAAIuJ,aACzB/jB,EAAGH,KAAK,gBAAgB6D,SAAS8W,EAAIsJ,WACrCmI,EAAMvoB,SAAS8W,EAAI1U,WACnB0pB,EAAS9rB,SAAS+qB,EAAKhuB,MAEvBT,EAAGH,KAAK,iBAAiB6D,SAAS8W,EAAI/J,OAAS+J,EAAI/J,OAAOvP,KAAO,MACjElB,EAAGH,KAAK,iBAAiB6D,SAAS8W,EAAI9J,OAAS8J,EAAI9J,OAAOxP,KAAO,MAE7DsZ,EAAIiV,eAEPJ,EAAgB3rB,SAAS8W,EAAIiV,cAAcvuB,MAGxCsZ,EAAIkV,eAEPJ,EAAgB5rB,SAAS8W,EAAIkV,cAAcxuB,MAGxCsZ,EAAImV,kBAEPJ,EAAmB7rB,SAAS8W,EAAImV,iBAAiBzuB,MAGlDlB,EAAGH,KAAK,mBAAmB6D,SAAS+qB,EAAKC,SACzC1uB,EAAGH,KAAK,uBAAuB6D,SAAS+qB,EAAKE,iBAC7C3uB,EAAGH,KAAK,qBAAqB6D,SAAS+qB,EAAKG,QAE3Clf,EAAGlN,KAAK,CAACmM,KAAM,iBAAkBzN,KAAM,GAAIT,KAAM,KAEjDT,EAAG2M,OAASA,EACZD,EAAW8N,EAAI9N,gBACR8N,EAAc,SAErB5L,EAAEC,KAAK,CACN,CAACC,IAAKpC,EAASK,UAAUC,eAAgB9F,EAAG,WAC5C,CAAC4H,IAAKpC,EAASK,UAAUE,cAAe/F,EAAG,aAC3C,CAAC4H,IAAKpC,EAASqC,WAAarC,EAASqC,WAAW9B,cAAgB,KAAM/F,EAAG,gBACvE,SAASA,EAAG8H,GACd,IAAItP,EACHuP,EACAH,EAAME,EAAIF,IAEX,GAAIA,EAEH,IAAKpP,EAAE,EAAGA,EAAIoP,EAAIvM,OAAQ7C,IAEzBuP,EAAIH,EAAIpP,GACRiN,EAAOnK,KAAK,CACXtB,KAAM+N,EAAE/N,KACRT,KAAMuO,EAAI9H,GAId,IAGKxH,EAAE,EAAGA,EAAIiN,EAAOpK,OAAQ7C,IAE5BgQ,EAAGlN,KAAK,CAACmM,KAAMhC,EAAOjN,GAAGwB,KAAMA,KAAMyL,EAAOjN,GAAGwB,KAAMT,KAAMkM,EAAOjN,GAAGe,OAGtEqM,EAAS/L,MAAM0B,SAASiN,GAExB5C,EAASpJ,SAAS8W,EAAItL,WAAa,IAEnClP,EAAGH,KAAK,uBAAuB6D,SAAS8W,EAAI9M,YAAc,GAC3D,EAEAyhB,gBAAiB,WAChB,IACCpsB,EADGkS,EAAQrV,MAGZmD,EAAM,IAAIjE,IAAIkE,OACVC,KAAKgS,EACR,CACC/R,IAAK,UACLC,QAAS,CAACT,IAAKuS,EAAMvS,KACrBU,MAAO,CAACC,OAAQ,gBACd4R,EAAOA,EAAMia,oBAAoB,GACrCnsB,EAAIO,MACL,EAEA4rB,mBAAoB,SAAS3rB,GAC5B,IAAIvD,EAAKJ,KAETI,EAAG4G,KAAOrD,EAEVvD,EAAGovB,gBAEqB,cAApBpvB,EAAG+uB,eAEN/uB,EAAG0X,aAEL,EAEAA,YAAa,WACZ,IACC3U,EADG/C,EAAKJ,KAERgwB,EAAe5vB,EAAGH,KAAK,wBAExBkD,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,WACdrD,GAAI,SAASuD,GACfqsB,EAAa7uB,MAAM0B,SAASc,EAAKwB,SAClC,IAAG,GACJhC,EAAIO,MACL,EAEAuI,iBAAkB,WACRjM,KACQC,KAAK,qBAGX6D,SAFL,GAGP,EAEAqF,oBAAqB,SAASkjB,GAC7B,IAAIjsB,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbmnB,YAAsB,WAAT5D,EAAqB,iBAAmB,iDACrDtjB,aAAuB,WAATsjB,EAAqB,iBAAmB,iDACtDrjB,aAAc,CACbC,YAAY,EACZC,QAAkB,WAATmjB,EAAqB,cAAiBjsB,EAAG4G,KAAK/D,QAAQkB,SAAW/D,EAAG+D,SAE9E7D,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG8vB,uBAAwB7D,KAE/DntB,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEAsnB,uBAAwB,SAASnrB,EAAOsnB,GACvC,IAAIjsB,EAAKJ,KAERiD,EADO7C,EAAG4G,KACK/D,QAEH,WAATopB,GAEHppB,EAAQoP,SAAWtN,EAAMjC,IACzBG,EAAQ8N,UAAYhM,EAAMzD,KAC1BlB,EAAGH,KAAK,oBAAoB6D,SAASiB,EAAMzD,OAE1B,mBAAT+qB,GAERppB,EAAQ4sB,cAAgB,CACvB/sB,IAAKiC,EAAMjC,IACXxB,KAAMyD,EAAMzD,MAEblB,EAAGH,KAAK,0BAA0B6D,SAASiB,EAAMzD,OAEhC,mBAAT+qB,GAERppB,EAAQ6sB,cAAgB,CACvBhtB,IAAKiC,EAAMjC,IACXxB,KAAMyD,EAAMzD,MAEblB,EAAGH,KAAK,0BAA0B6D,SAASiB,EAAMzD,OAEhC,sBAAT+qB,GAERppB,EAAQ8sB,iBAAmB,CAC1BjtB,IAAKiC,EAAMjC,IACXxB,KAAMyD,EAAMzD,MAEblB,EAAGH,KAAK,6BAA6B6D,SAASiB,EAAMzD,OAEnC,UAAT+qB,GAERppB,EAAQ4N,OAAS,CAChB/N,IAAKiC,EAAMjC,IACXxB,KAAMyD,EAAMzD,MAEblB,EAAGH,KAAK,iBAAiB6D,SAASiB,EAAMzD,OAEvB,UAAT+qB,IAERppB,EAAQ6N,OAAS,CAChBhO,IAAKiC,EAAMjC,IACXxB,KAAMyD,EAAMzD,MAEblB,EAAGH,KAAK,iBAAiB6D,SAASiB,EAAMzD,MAE1C,EAEA+W,iBAAkB,SAASnN,GAC1B,IAECI,EAFQtL,KACM8I,SACOyC,UACrBC,EAAQN,EAAItF,IAAI,QAAQ0C,cAErBgD,GAAaJ,EAAItF,IAAI,aAExB0F,EAAUI,YAAYR,EAAItF,IAAI,OAAQ4F,EAAON,EAAItF,IAAI,QAASsF,EAAItF,IAAI,aAAa,EAAMsF,EAAItF,IAAI,YAAa,CAC7GtF,SAAU,IAAIpB,IAAIsF,YARXxE,MAQ2B,SAAS+B,GACtCA,GAEHmJ,EAAIpF,IAAI,OAAQ/D,EAAKT,KAEvB,KAGH,EAEAb,cAAgB,WACf,IAAIX,EACHuV,EAAMrV,KACNmwB,EAAe,GACfpjB,EAASsI,EAAMtI,OACfqjB,EAAS,CACR,CACC5uB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR,IACC2uB,EADQrwB,KACMC,KAAK,mBACnBqwB,EAFQtwB,KAEUC,KAAK,uBACxBowB,EAASvsB,SAAS,2BAClBwsB,EAAaxsB,SAAS,MAEvB,EACAnC,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,SACdQ,QAAS,WACR,IACC2uB,EADQrwB,KACMC,KAAK,mBACnBqwB,EAFQtwB,KAEUC,KAAK,uBACxBowB,EAASvsB,SAAS,kCAClBwsB,EAAaxsB,SAAS,aAEvB,EACAnC,MAAO3B,OAGTuwB,EAAWroB,IAAIqoB,SAuBhB,GArBIA,GAEHvhB,EAAEC,KAAKshB,GAAU,SAASzwB,EAAG0wB,GAC5BC,OAAO7tB,KAAK,CACXpB,KAAMgvB,EAAGlvB,KACTI,QAAS,WACR,IACC2uB,EADQrwB,KACMC,KAAK,mBACnBqwB,EAFQtwB,KAEUC,KAAK,uBAExBowB,EAASvsB,SAAS0sB,EAAGzd,OACrByd,EAAG9nB,SAAW4nB,EAAaxsB,SAAS0sB,EAAG9nB,QACxC,EACA/G,MAAO3B,MAET,IAGDqV,EAAMrU,MAAQC,KAAKC,GAAG,oBACtBivB,EAAavtB,KAAK,CAACtB,KAAM,iBAAkByR,MAAO,KAE9ChG,GAAUA,EAAOpK,OAAS,EAE7B,IAAK7C,EAAE,EAAGA,EAAIiN,EAAOpK,OAAQ7C,IAE5BqwB,EAAavtB,KAAK,CAACtB,KAAMyL,EAAOjN,GAAGwB,KAAMyR,MAAOhG,EAAOjN,GAAGwB,OAI5DlC,GAAGsB,MAAM2U,EAAO,CACf/L,QAAS,EACTD,OAAQ,EACR1I,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,WACPD,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,SACR+J,YAAY,EACZoP,YAAazQ,IAAIoB,QACjBtI,MAAOC,KAAKC,GAAG,aACfwG,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,WAErB,CACCN,MAAO,WACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,WAErB,CACCN,MAAO,WACPI,MAAOC,KAAKC,GAAG,cACf1B,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,aACPU,KAAM,aACNmI,WAAYxI,KAAKC,GAAG,cACpB6V,OAAO,EACPpW,MAAO,CACN,CAACiJ,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,aAAcuI,WAAY,GAAImN,SAAS,GAC9E,CAACpN,SAAU3I,KAAKC,GAAG,SAAUI,KAAM,aAAcuI,WAAY,OAC7D,CAACD,SAAU3I,KAAKC,GAAG,SAAUI,KAAM,aAAcuI,WAAY,UAG/D,CACCjJ,MAAO,aACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,aACpB6V,OAAO,EACPpW,MAAO,CACN,CAACiJ,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,cAAeuI,WAAY,GAAImN,SAAS,GAC/E,CAACpN,SAAU3I,KAAKC,GAAG,YAAaI,KAAM,cAAeuI,WAAY,WACjE,CAACD,SAAU3I,KAAKC,GAAG,aAAcI,KAAM,cAAeuI,WAAY,YAGpE,CACCjJ,MAAO,iBACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,YACpB8S,OAA+B,cAAvBqB,EAAM8Z,cACd3vB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,kBACNwI,UAAW7I,KAAKC,GAAG,cACnBH,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKmJ,oBAAoB,kBAC1B,EACAxH,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACC1B,KACEgH,KACK/D,QAER6sB,cAAgB,KAJf9vB,KAKNC,KAAK,0BAA0B6D,SAAS,GAC5C,EACAnC,MAAO3B,QAIV,CACCY,MAAO,iBACPU,KAAM,cACN0S,OAA+B,cAAvBqB,EAAM8Z,cACd1lB,WAAYxI,KAAKC,GAAG,YACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,kBACNwI,UAAW7I,KAAKC,GAAG,cACnBH,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKmJ,oBAAoB,kBAC1B,EACAxH,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACC1B,KACEgH,KACK/D,QAER4sB,cAAgB,KAJf7vB,KAKNC,KAAK,0BAA0B6D,SAAS,GAC5C,EACAnC,MAAO3B,QAIV,CACCY,MAAO,iBACPU,KAAM,iBACNmI,WAAYxI,KAAKC,GAAG,eACpB8S,OAA+B,cAAvBqB,EAAM8Z,cACd3vB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,qBACNwI,UAAW7I,KAAKC,GAAG,cACnBH,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKmJ,oBAAoB,qBAC1B,EACAxH,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACC1B,KACEgH,KACK/D,QAER8sB,iBAAmB,KAJlB/vB,KAKNC,KAAK,6BAA6B6D,SAAS,GAC/C,EACAnC,MAAO3B,UAMZ,CACCY,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,SACRmB,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,gBACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,OACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,OAAQ,YAMrB,CACCR,MAAO,WACPI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,iBACNsI,SAAU3I,KAAKC,GAAG,cAEnB,CACCN,MAAO,WACPU,KAAM,aACNsI,SAAU3I,KAAKC,GAAG,eAElBW,UAAW,CACV4R,OAAQ,SAAShH,EAAOwK,EAAQC,EAAQO,GACvC,IAAIrX,EAAKJ,KACR6N,EAAapB,EAAMrG,WACnBsR,EAAWtX,EAAGH,KAAK,mBACnB0X,EAAWvX,EAAGH,KAAK,mBACOG,EAAGH,KAAK,kCAGnCyX,EAASlK,WAAWK,GACpB8J,EAASnK,WAAWK,EACrB,EACAlM,MAAO3B,OAGT,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,qBACpBI,KAAM,WACNuS,WAAY,IACZG,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,aACNP,KAAM,GAGP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACd0W,KAAM,CACLjX,MAAO,CACN,CACCa,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACS2T,EAAMpV,KAAK,qBACjB6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACS2T,EAAMpV,KAAK,qBACjB6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,kBACNuR,MAAO,mBACPrR,QAAS,WACS2T,EAAMpV,KAAK,qBACjB6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,iBACNuR,MAAO,iBACPrR,QAAS,WACS2T,EAAMpV,KAAK,qBACjB6D,SAAS9D,KAAK+S,MAC1B,QAQN,CACCnS,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,qBACpBI,KAAM,WACNuS,WAAY,IACZG,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,eACNP,KAAM,GAGP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACd0W,KAAM,CACLjX,MAAO,CACN,CACCa,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACS2T,EAAMpV,KAAK,uBACjB6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,yBACNuR,MAAO,wBACPrR,QAAS,WACS2T,EAAMpV,KAAK,uBACjB6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,kBACNuR,MAAO,mBACPrR,QAAS,WACS2T,EAAMpV,KAAK,uBACjB6D,SAAS9D,KAAK+S,MAC1B,GAED,CACCvR,KAAM,iBACNuR,MAAO,iBACPrR,QAAS,WACS2T,EAAMpV,KAAK,uBACjB6D,SAAS9D,KAAK+S,MAC1B,UAUR,CACCnS,MAAO,WACPI,MAAOC,KAAKC,GAAG,gBACf1B,OAAQ,SAERkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER2I,WAAYxI,KAAKC,GAAG,gBACpBP,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,YACNwI,UAAW7I,KAAKC,GAAG,cACnB6I,UAAU,EACVhJ,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKmJ,oBAAoB,UAC1B,EACAxH,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR,IAECuB,EAFQjD,KACEgH,KACK/D,QAFPjD,KAINC,KAAK,oBAAoB6D,SAAS,MACrCb,EAAQ8N,UAAY,KACpB9N,EAAQoP,SAAW,IACpB,EACA1Q,MAAO3B,YAQd,CACCY,MAAO,QACPI,MAAOC,KAAKC,GAAG,cACf1B,OAAQ,SACRmZ,YAAazQ,IAAIoB,QACjBC,YAAY,EACZ7B,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,gBACpBI,KAAM,QACNyI,UAAU,GAEX,CACCnJ,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,gBACpBI,KAAM,SAEP,CACCV,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,cACpBI,KAAM,YAEP,CACCV,MAAO,WACPU,KAAM,cACNmI,WAAY,IACZ2J,UAAW,QACXC,aAAc,OACdC,WAAY,QACZnS,MAAO,CACNwE,KAAM,CACL,CAACrE,KAAM,GAAIyR,MAAO,IAClB,CAACzR,KAAM,MAAOyR,MAAO,MACrB,CAACzR,KAAM,UAAWyR,MAAO,MACzB,CAACzR,KAAM,WAAYyR,MAAO,KAC1B,CAACzR,KAAM,UAAWyR,MAAO,KACzB,CAACzR,KAAM,SAAUyR,MAAO,MACxB,CAACzR,KAAM,QAASyR,MAAO,KACvB,CAACzR,KAAM,OAAQyR,MAAO,KACtB,CAACzR,KAAM,SAAUyR,MAAO,KACxB,CAACzR,KAAM,UAAWyR,MAAO,KACzB,CAACzR,KAAM,UAAWyR,MAAO,KACzB,CAACzR,KAAM,OAAQyR,MAAO,KACtB,CAACzR,KAAM,UAAWyR,MAAO,MACzB,CAACzR,KAAM,cAAeyR,MAAO,MAC7B,CAACzR,KAAM,OAAQyR,MAAO,MACtB,CAACzR,KAAM,OAAQyR,MAAO,MACtB,CAACzR,KAAM,YAAayR,MAAO,MAC3B,CAACzR,KAAM,SAAUyR,MAAO,MACxB,CAACzR,KAAM,YAAayR,MAAO,MAC3B,CAACzR,KAAM,gBAAiByR,MAAO,MAC/B,CAACzR,KAAM,OAAQyR,MAAO,KACtB,CAACzR,KAAM,QAASyR,MAAO,QACvB,CAACzR,KAAM,cAAeyR,MAAO,QAC7B,CAACzR,KAAM,WAAYyR,MAAO,QAC1B,CAACzR,KAAM,SAAUyR,MAAO,QACxB,CAACzR,KAAM,QAASyR,MAAO,QACvB,CAACzR,KAAM,OAAQyR,MAAO,QACtB,CAACzR,KAAM,OAAQyR,MAAO,QACtB,CAACzR,KAAM,MAAOyR,MAAO,QACrB,CAACzR,KAAM,WAAYyR,MAAO,MAC1B,CAACzR,KAAM,UAAWyR,MAAO,MACzB,CAACzR,KAAM,QAASyR,MAAO,MACvB,CAACzR,KAAM,QAASyR,MAAO,OACvB,CAACzR,KAAM,WAAYyR,MAAO,MAC1B,CAACzR,KAAM,cAAeyR,MAAO,OAC7B,CAACzR,KAAM,QAASyR,MAAO,QACvB,CAACzR,KAAM,SAAUyR,MAAO,QACxB,CAACzR,KAAM,aAAcyR,MAAO,QAC5B,CAACzR,KAAM,qBAAsByR,MAAO,QACpC,CAACzR,KAAM,0BAA2ByR,MAAO,WAI5C,CACCnS,MAAO,WACPI,MAAOC,KAAKC,GAAG,eACf1B,OAAQ,SAERmB,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,eACpBkS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,UAAWyR,MAAO,IACzB,CAACzR,KAAM,iBAAkByR,MAAO,WAChC,CAACzR,KAAM,kBAAmByR,MAAO,UACjC,CAACzR,KAAM,QAASyR,MAAO,QACvB,CAACzR,KAAM,MAAOyR,MAAO,SAGvBlR,UAAW,CACV4R,OAAQ,SAAS1R,GAChB,IAAI3B,EAAKJ,KACR2T,EAAO5R,EAAKqE,WACZsqB,EAAMtwB,EAAGH,KAAK,cACdqwB,EAAelwB,EAAGH,KAAK,uBACvB0wB,EAAavwB,EAAGH,KAAK,qBAEtBywB,EAAY,WAAR/c,EAAoB,OAAS,UACjC2c,EAAqB,WAAR3c,EAAoB,OAAS,UAC1Cgd,EAAmB,OAARhd,EAAgB,OAAS,SACrC,EACAhS,MAAO3B,OAGT,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,kBACpB8S,QAAQ,EACR1S,KAAM,MACN9B,OAAQ,OACRmB,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,YAEP,CACCV,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACd0W,KAAM,CACLhX,MAAO,OACPD,MAAOyvB,MAKX,CACCxvB,MAAO,YACPU,KAAM,eACN0S,QAAQ,EACRvK,WAAYxI,KAAKC,GAAG,mBAErB,CACCN,MAAO,YACPU,KAAM,aACN0S,QAAQ,EACRvK,WAAYxI,KAAKC,GAAG,wBAIvB,CACCN,MAAO,WACPI,MAAOC,KAAKC,GAAG,cACf8S,OAA+B,cAAvBqB,EAAM8Z,cACd3vB,OAAQ,SAERmB,MAAO,CACN,CACCC,MAAO,YACPwB,OAAQ,IACRd,KAAM,eACNC,KAAM,CACL,CACCC,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACR1B,KAAK8X,aACN,EACAnW,MAAO3B,MAER,KACA,CACCwB,KAAMP,KAAKC,GAAG,iBACdQ,QAAS,WACR,IAAItB,EAAKJ,KACR+X,EAAM,IAAI7Y,IAAI8Y,aAAa,CAC1BlP,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAG0C,IACRmV,MAAO7X,EAAG4G,KACVkR,MAAO,EACP5X,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAG0X,eAEvC5Y,IAAIkK,WAAWhJ,EAAI2X,EACpB,EACApW,MAAO3B,OAGTmB,MAAO,CACNC,OAAQ,CAAC,SAEVqJ,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdvB,MAAO,IACP+K,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,aACdH,KAAM,GAEP,CACCH,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTtI,QAAS,SAAS2S,EAAMlJ,EAAQiN,EAAQlN,GAC9BlL,KACNqY,iBAAiBnN,EACrB,EACAvJ,MAAO3B,MAER,CACCgK,QAAS,mBACTtI,QAAS,SAAS2S,EAAMlJ,EAAQiN,EAAQlN,GACvC,GAAIA,EAAItF,IAAI,OACZ,CACC,IAAIxF,EAAKJ,KACTd,IAAIkkB,gBAAgBlb,IAAIC,QAASlH,KAAKC,GAAG,qBAAqB,SAASkK,GACtE,GAAS,OAALA,EACJ,CACC,IAAIjI,EAAM,IAAIjE,IAAIkE,MAIlBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,gBACLC,QAAS,CAACT,IAAKoI,EAAItF,IAAI,QACvBpC,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACH0Q,EAAKlT,MACXwV,OAAOzL,EACd,IACD/H,EAAIO,MACL,CACD,GAAGtD,EAAIA,EACR,CACD,EACAuB,MAAO3B,YAQd,CACCY,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf8S,OAA+B,cAAvBqB,EAAM8Z,cACd3vB,OAAQ,SAERmB,MAAO,CACN,CACCC,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,iBACpBI,KAAM,aACNsI,SAAU3I,KAAKC,GAAG,cAEnB,CACCN,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,SACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,cACnBI,KAAM,UAEP,CACCV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKmJ,oBAAoB,SAC1B,EACAxH,MAAO3B,QAIV,CACCY,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,SACpB1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,cACnBI,KAAM,UAEP,CACCV,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKmJ,oBAAoB,SAC1B,EACAxH,MAAO3B,QAIV,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPG,KAAM,GAEP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,gBACdQ,QAAS,WACR,IAAItB,EAAKJ,KACR+X,EAAM,IAAI7Y,IAAI0xB,WAAW,CACxB9nB,SAAU1I,EAAG0I,SACbhG,IAAK1C,EAAG0C,MAGV5D,IAAIkK,WAAWhJ,EAAI2X,EACpB,EACApW,MAAO3B,iBAcnByB,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTN,KAAM,YACNI,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,WACZ9B,KAAKqC,QACN,KAIFnD,IAAIsvB,aAAaxsB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACvD;AC1uCD1M,IAAI0xB,WAAaxxB,GAAGC,OAAOD,GAAGE,OAAQ,CAErCC,OAAO,EACP4C,OAAO,SACP3C,OAAQ,MAERC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPC,YAAY,EAEZU,SAAU,KAEV2F,SAAU,WAKTjG,KAAKM,UAAYN,KAAKM,SAASC,QAHnB,IAKZP,KAAKQ,OACN,EAEAqwB,KAAM,WACL,IAEIC,EAFK9wB,KAEWC,KAAK,qBAErBiI,IAAI6oB,cAAgB7oB,IAAI6oB,aAAapuB,OAAS,GAEjDmuB,EAAW3vB,MAAM0B,SAASqF,IAAI6oB,cANtB/wB,KASNgxB,cACJ,EAEAA,aAAc,WACb,GAAIhxB,KAAK8C,IACT,CACC,IAECsM,EAFGiG,EAAQrV,KAGXmD,EAAM,IAAIjE,IAAIkE,MAEfgM,EAAM,CAACtM,IAAK9C,KAAK8C,IAAKW,OAAQ,aAE9BN,EAAIE,KAAKgS,EACR,CACC/R,IAAK,cACLC,QAAS6L,EACT5L,MAVS,CAAC,GAWR6R,EAAOA,EAAM4b,gBAAiB,MAClC9tB,EAAIO,MACL,CACD,EAEAutB,gBAAiB,SAASlL,GACf/lB,KAAK8C,IAAf,IACCouB,EAASnL,EACTiF,EAAWhrB,KAAKC,KAAK,mBAEtBD,KAAKimB,KAAOiL,EAAOjL,KAEnB+E,EAAS7pB,MAAM0B,SAASquB,EAAOC,YAChC,EAEAC,UAAW,WACV,IACCN,EADQ9wB,KACQC,KAAK,qBAAqBmG,WAE3C,GAAI0qB,EACJ,CACC,IACC7tB,EACAmM,EAEAtP,EAEAuxB,EANGhc,EAAQrV,KAGXmD,EAAM,IAAIjE,IAAIkE,MAEd4nB,EAVOhrB,KAUOC,KAAK,mBAOpB,IAJAmP,EAAM,CAACtM,IAAK9C,KAAK8C,IAAKwuB,OAAQ,YAAaR,WAAYA,GAEvD7tB,EAAU,CAACtC,MAAO,IAEbb,EAAE,EAAGA,EAAIkrB,EAAS7pB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAE/CuxB,EAAMrG,EAAS7pB,MAAMwE,KAAKhF,MAAMb,IACvB8F,IAAI,QAAWyrB,EAAIzrB,IAAI,QAE/B3C,EAAQtC,MAAMiC,KAAK,CAClBoQ,KAAMqe,EAAIzrB,IAAI,UAKjBzC,EAAIE,KAAKgS,EACR,CACC/R,IAAK,aACLC,QAAS6L,EACT5L,MAAOP,GACLoS,EAAOA,EAAMkc,aAAc,MAC/BpuB,EAAIO,MACL,CACD,EAEA6tB,aAAc,SAASxL,GACtB,IAKCjmB,EACAsH,EAAMqL,EACN+e,EAAKC,EAAKnhB,EANVwgB,EADQ9wB,KACQC,KAAK,qBAAqBmG,WAC1C1B,EAAQxF,IAAIwyB,SAAS3L,EAAM,iBAC3B7gB,EAAUR,EAAQxF,IAAIyyB,eAAejtB,GAAS,KAC9CsmB,EAJQhrB,KAIMC,KAAK,mBAChBkM,EAAK,CAAC,EAIV,GAAIjH,EACJ,CAGC,GAFAusB,EAAOvyB,IAAI0yB,UAAY1yB,IAAI0yB,SAASd,GAAe5xB,IAAI0yB,SAASd,GAAc,KAI7E,IAAKhxB,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,IAE5BsH,EAAOlI,IAAI2yB,KAAmB3sB,EAAOpF,GAAI,QACzCsH,EAAOlI,IAAI4yB,YAAY1qB,GACvBoqB,EAAMtyB,IAAI2yB,KAAmB3sB,EAAOpF,GAAI,UACxC0xB,EAAMtyB,IAAI4yB,YAAYN,GACtBA,EAAMO,OAAOC,OAAOR,IAEpBlhB,EAAImhB,EAAIQ,WAAWT,IAEbU,KAAO5hB,EAAE6hB,MAEdhmB,EAAG/E,GAAQkJ,GAKd,IAAKxQ,EAAE,EAAGA,EAAIkrB,EAAS7pB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAG/CwQ,EAAInE,GADJsG,EAASuY,EAAS7pB,MAAMwE,KAAKhF,MAAMb,IACrB8F,IAAI,YAGjB6M,EAAO3M,IAAI,MAAOwK,EAAE4hB,KACpBzf,EAAO3M,IAAI,MAAOwK,EAAE6hB,KAGvB,CACD,EAEAC,cAAe,WACd,IAAIhyB,EAAKJ,KACRqyB,EAASjyB,EAAGH,KAAK,iBAAiBmG,WAEnC,GAAIhG,EAAG0C,KAAOuvB,GAAUjyB,EAAG6lB,KAC3B,CACC,IAEC7W,EAEAtP,EAEAuxB,EANGhc,EAAQrV,KACXiD,EAAU,GAEVE,EAAM,IAAIjE,IAAIkE,MAEd4nB,EAAW5qB,EAAGH,KAAK,mBAUpB,IAPAmP,EAAM,CAACtM,IAAK9C,KAAK8C,IAAKwuB,OAAQ,YAAarL,KAAMjmB,KAAKimB,MAEtDhjB,EAAU,CACTmX,IAAKiY,EACL1xB,MAAO,IAGHb,EAAE,EAAGA,EAAIkrB,EAAS7pB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAE/CuxB,EAAMrG,EAAS7pB,MAAMwE,KAAKhF,MAAMb,IACxB8F,IAAI,QAAUyrB,EAAIzrB,IAAI,QAE7B3C,EAAQtC,MAAMiC,KAAK,CAClBsvB,IAAKb,EAAIzrB,IAAI,OACbusB,IAAKd,EAAIzrB,IAAI,OACboN,KAAMqe,EAAIzrB,IAAI,UAKjBzC,EAAIE,KAAKgS,EACR,CACC/R,IAAK,aACLC,QAAS6L,EACT5L,MAAOP,GACLoS,EAAOA,EAAMkc,aAAc,MAC/BpuB,EAAIO,MACL,CACD,EAEA4uB,iBAAkB,SAASvM,GAC3B,EAEAtlB,cAAgB,WAGfrB,GAAGsB,MAAMV,KAAM,CACdgB,MAAOC,KAAKC,GAAG,gBACfP,MAAO,CACN,CACCC,MAAO,OACPpB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO,8BAGR,CACCnS,MAAO,YACPU,KAAM,WACNc,OAAQ,IACRjB,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,MAAO,QAGjBkJ,QAAS,CACR,CACCC,MAAO,cACPC,cAAc,IAGhBC,QAAS,CACR,CACC7J,MAAO,aACPY,KAAMP,KAAKC,GAAG,iBACdwJ,UAAW,OACX3J,KAAM,GAEP,CACCH,MAAO,aACPY,KAAMP,KAAKC,GAAG,SACdwJ,UAAW,MACXE,OAAQ,CACPC,YAAY,IAGd,CACCjK,MAAO,aACPY,KAAMP,KAAKC,GAAG,SACdwJ,UAAW,MACXE,OAAQ,CACPC,YAAY,MAKhB,CACCjK,MAAO,WACPI,MAAO,gBACPxB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,kBACpBH,KAAM,EACNO,KAAM,aACN8R,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,WAIX,CACCR,MAAO,SACPY,KAAMP,KAAKC,GAAG,iBACdQ,QAAS,WACC1B,KAENoxB,WACJ,EACAzvB,MAAO3B,QAIV,CACCY,MAAO,WACPU,KAAM,SACNmI,WAAYxI,KAAKC,GAAG,eAErB,CACCN,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPG,KAAM,GAEP,CACCH,MAAO,SACPY,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACC1B,KAENoyB,eACJ,EACAzwB,MAAO3B,aASfyB,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAK6wB,MACN,KAIF3xB,IAAI0xB,WAAW5uB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACrD;ACvWD1M,IAAIqzB,UAAYnzB,GAAGC,OAAOD,GAAGE,OAAQ,CAEpCC,OAAO,EACPC,OAAQ,SACRC,UAAU,EACVC,WAAW,EACXC,MAAO,IACPyC,OAAQ,IAER8gB,aAAc,KAEd5iB,SAAU,KACVkyB,YAAa,KACbC,eAAgB,KAChBC,UAAW,KAEXC,gBAAiB,WAChB,IAAItd,EAAQrV,KACXmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKgS,EACP,CACC/R,IAAK,YACLC,QAAS,CAACwe,QAAS,eACnBve,MAAO,CAAC,GACN6R,EAAOA,EAAMud,mBAAoB,MACtCzvB,EAAIO,MACL,EAEAkvB,mBAAoB,SAASjvB,GAC5B,IAECkvB,EAAOhF,EAAIK,EAMGpuB,EAAG8lB,EARdlhB,EAAQf,EAAKmvB,OAAO,GAGvBC,EAAO,CAAC,CACPzxB,KAAM,cACNyR,MAAO,KAGgBigB,GADb9qB,IAAI+qB,SACqB,CAAC,iBAAkB,kBAKxD,GAHAjzB,KAAKwyB,YAAc,GACnBxyB,KAAKyyB,eAAiB,CAAC,EAEnB/tB,EACJ,CACC,IAAK5E,EAAE,EAAGA,EAAIkzB,EAAUrwB,OAAQ7C,IAK/B,GAFA+yB,EAAQnuB,EAFRwpB,EAAM8E,EAAUlzB,IAMf,IAAK8lB,EAAE,EAAGA,EAAIiN,EAAMlwB,OAAQijB,IAE3BiI,EAAKgF,EAAMjN,GACX5lB,KAAKwyB,YAAY5vB,KAAKirB,GACtBkF,EAAKnwB,KAAK,CACTtB,KAAMusB,EAAGvsB,KACTyR,MAAO8a,EAAGvsB,OAEXtB,KAAKyyB,eAAe5E,EAAGvsB,MAAQusB,EAKlC,IAAKK,KAAOluB,KAAKyyB,gBAEhB5E,EAAK7tB,KAAKyyB,eAAevE,IAElBgF,eAAiBlzB,KAAKyyB,eAAe5E,EAAGqF,gBAEzClzB,KAAKyyB,eAAe5E,EAAGqF,cAI/B,CAEAlzB,KAAKC,KAAK,qBAAqBkB,MAAM0B,SAASkwB,GAC9C/yB,KAAKmzB,gBACN,EAEAA,eAAgB,WACf,IACCrzB,EACA+tB,EAEYuF,EAAQC,EAJjBjzB,EAAKJ,KAGRszB,EAAYlzB,EAAGH,KAAK,oBACpBszB,EAAQ,GAIT,GAFAnzB,EAAGH,KAAK,iBAAiB6D,SAAS1D,EAAGozB,QAAU,IAE3CpzB,EAAGsyB,UAAW,CAIjB,IAHAW,EAAQ,CAAC/xB,KAAM,aAAc6Z,MAAM,EAAOhW,SAAU,IACpDouB,EAAM3wB,KAAKywB,GAENvzB,EAAE,EAAGA,EAAIM,EAAGsyB,UAAU/vB,OAAQ7C,IAElCszB,EAAS,CAAC9xB,MADVusB,EAAKztB,EAAGsyB,UAAU5yB,IACCwB,KAAM6Z,MAAM,EAAMsY,QAAQ,GAEzC5F,EAAGqF,eAAiB9yB,EAAGqyB,eAAe5E,EAAGqF,gBAEvC9yB,EAAGqyB,eAAe5E,EAAGqF,eAI3BG,EAAMluB,SAASvC,KAAKwwB,GAGrBE,EAAUnyB,MAAMka,YAAY,CAC3BqY,UAAU,EACVlyB,KAAMP,KAAKC,GAAG,WACdI,KAAML,KAAKC,GAAG,WACdF,MAAOC,KAAKC,GAAG,WACfiE,SAAUouB,GAEZ,CACD,EAEAI,cAAe,SAASrkB,GACvB,IAAIxP,EACHM,EAAKJ,KACL4zB,EAAcxzB,EAAGH,KAAK,sBACtB4zB,EAAYzzB,EAAGH,KAAK,oBAIrB,IAFAG,EAAG0zB,kBAEEh0B,EAAE,EAAGA,EAAIM,EAAGsyB,UAAU/vB,OAAQ7C,IAElC,GAAIM,EAAGsyB,UAAU5yB,GAAGwB,MAAQgO,EAC5B,CACClP,EAAG2zB,SAAW3zB,EAAGsyB,UAAU5yB,GAC3BM,EAAG4zB,SAAW,EACd5zB,EAAGH,KAAK,gBAAgB6D,SAAS1D,EAAGsyB,UAAU5yB,GAAGwB,MACjDlB,EAAGH,KAAK,qBAAqB6D,SAAS1D,EAAGsyB,UAAU5yB,GAAGozB,eAAiB,IACvEU,EAAYK,cAAc7zB,EAAGsyB,UAAU5yB,GAAG2nB,QAC1CoM,EAAUI,cAAc7zB,EAAGsyB,UAAU5yB,GAAG6F,MACxCvF,EAAG4zB,SAAW,EACd,KACD,CAEF,EAEAF,gBAAiB,WAChB,IAAI1zB,EAAKJ,KACR4zB,EAAcxzB,EAAGH,KAAK,sBACtB4zB,EAAYzzB,EAAGH,KAAK,oBACpBi0B,EAAQ9zB,EAAGH,KAAK,gBAAgBmG,WAChC6Q,OAAS7W,EAAGH,KAAK,qBAAqBmG,WAEnChG,EAAG2zB,UAAY9c,QAAUid,IAE5B9zB,EAAG2zB,SAASb,cAAgBjc,OAC5B7W,EAAG2zB,SAASzyB,KAAO4yB,EACnBL,EAAUM,kBACVP,EAAYO,kBAEd,EAEAluB,SAAU,WACT,IACCnG,EAEA+tB,EAHGztB,EAAKJ,KAOT,IAFAI,EAAG0zB,kBAEEh0B,EAAE,EAAGA,EAAIM,EAAGsyB,UAAU/vB,OAAQ7C,KAElC+tB,EAAKztB,EAAGsyB,UAAU5yB,IAEXozB,eAAiB9yB,EAAGqyB,eAAe5E,EAAGqF,gBAErC9yB,EAAGqyB,eAAe5E,EAAGqF,eAK9B9yB,EAAGozB,OAASpzB,EAAGH,KAAK,iBAAiBmG,WACrChG,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,GACnCA,EAAGI,OACJ,EAEA4zB,eAAgB,SAAS7U,GACxB,IAAInf,EAAKJ,KAET,OAAQuf,GAER,IAAK,iBACJ,IAAIxH,EAAM,IAAI7Y,IAAIm1B,UAAU,CAC3BvrB,SAAU1I,EAAG0I,SACb4pB,UAAW1yB,KAAKwyB,YAChBlyB,SAAU,IAAIpB,IAAIsF,YAAYxE,KAAMA,KAAKs0B,yBAE1Cp1B,IAAIkK,WAAWpJ,KAAM+X,GACrB,MACD,IAAK,aACJ,IAAIjY,EAEHoL,EADYlL,KAAKC,KAAK,oBACNoF,oBAAoBiU,SACpCib,EAAOrpB,GAAOA,EAAIvI,OAAS,EAAIuI,EAAIvK,MAAM,GAAK,KAE/C,GAAI4zB,EAEH,IAAKz0B,EAAE,EAAGA,EAAIM,EAAGsyB,UAAU/vB,OAAQ7C,IAElC,GAAIy0B,EAAK3uB,IAAI,SAAWxF,EAAGsyB,UAAU5yB,GAAGwB,KACxC,CACClB,EAAGsyB,UAAUrI,OAAOvqB,EAAG,GACvBy0B,EAAK5d,SACL,KACD,EAKJ,EAEA2d,sBAAuB,SAASE,GAC/B,IAAIllB,EAAYklB,EAAO,GACtBtB,EAAgBsB,EAAO,GAExB,GAAItB,GAAiB5jB,GAKRtP,KAAKyyB,eAAeS,GAGhC,CACC,IAGCrF,EACA4G,EAAMC,EAJHpB,EAAYtzB,KAAKC,KAAK,oBAIV00B,EAAWrB,EAAUnyB,MAAMma,cAE3CoZ,EAAUC,EAAShY,WAAWgY,EAAShY,WAAWha,OAAS,GAE3D8xB,EAAO,CAACnzB,KAAMgO,EAAW6L,MAAM,EAAMsY,QAAQ,IAC7C5F,EAAK,CAAC,GACHvsB,KAAOgO,EACVue,EAAG+G,SAAW,YACd/G,EAAGqF,cAAgBA,EACnBrF,EAAGpG,OAAS,CAAC,EACboG,EAAGloB,KAAO,CAAC,EACX3F,KAAK0yB,UAAU9vB,KAAKirB,GAIpB,IAAIgH,EAAU,CAACvB,EAAUnyB,MAAM2zB,QAAQL,IAEvCnB,EAAUnyB,MAAM4zB,YAAYF,EAASH,EACtC,CAEF,EAEAj0B,cAAgB,WACf,IAKCuE,EALGqQ,EAAQrV,KACXg1B,EAAa,IAAI91B,IAAI+1B,YAAY,CAACnsB,SAAU1I,GAAG0I,SAAU9H,MAAOC,KAAKC,GAAG,iBAAkBI,KAAM,cAAe4zB,MAAO,OACtHC,EAAW,IAAIj2B,IAAI+1B,YAAY,CAACnsB,SAAU1I,GAAG0I,SAAU9H,MAAOC,KAAKC,GAAG,gBAAiBI,KAAM,YAAa4zB,MAAO,OACjHplB,EAAK,CAAC,CAACxO,KAAML,KAAKC,GAAG,aAAc6R,MAAO,KAC1CqiB,EAAOl2B,IAAIm2B,cAAcC,YAG1B,IAAKtwB,KAAKowB,EAETtlB,EAAGlN,KAAK,CAACtB,KAAM0D,EAAG+N,MAAO/N,IAG1BqQ,EAAMrU,MAAQC,KAAKC,GAAG,kBAEtB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,YACPI,MAAOC,KAAKC,GAAG,WACfI,KAAM,YACNi0B,eAAe,EACfpzB,OAAQ,OACRxC,MAAO,IACPwR,OAAO,EACP9H,QAAQ,EACRmsB,aAAa,EACbC,aAAa,EACblsB,YAAY,EACZpI,MAAO,CACNP,MAAO,YACPQ,OAAQ,CACP,OAAQ,OAAQ,OAAQ,QAAS,SAAU,UAE5Cs0B,KAAM,CACLhC,UAAU,EACVpyB,KAAM,QACN6D,SAAU,IAEXwwB,YAAY,GAGbC,WAAW,EAEX1N,YAAa,CACZ,CACCtnB,MAAO,UACPunB,KAAM,MACNpR,OAAO,EACPpW,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAS,mBACTzI,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACR1B,KAAKo0B,eAAe,iBACrB,EACAzyB,MAAO3B,MAER,CACCgK,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKo0B,eAAe,aACrB,EACAzyB,MAAO3B,SAMXyK,QAAS,CACR,CACC7J,MAAO,aACPY,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CAECqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GACxBF,EAAKlT,MAAMqT,MAAMF,EAC5B,EACAuhB,SAAU,SAAS5wB,EAAG8kB,EAAU1hB,EAAGiM,EAAUC,EAAUpT,GACtD,OAAgB,GAAZmT,GAA+B,GAAdjM,EAAEytB,UAAsBztB,EAAE1C,MAAyB,GAAjB0C,EAAE1C,KAAK8tB,OAEtD,aAED,EACR,MAKJ5xB,UAAW,CACVC,YAAa,WAEb,EACAi0B,UAAW,SAAShrB,EAAM0H,EAAQzL,EAAMyO,EAAOrK,GAC9C,IAAIkE,EAAYmD,EAAO7M,IAAI,QAEJ,GAAnB6M,EAAOiK,UAAqBpN,GAE/B+F,EAAMse,cAAcrkB,EAEtB,IAIF,CACC1O,MAAO,OACPuB,OAAQ,SACR3C,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,WAErB,CACCN,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,aACpBI,KAAM,aACN+R,aAAc,OACdC,WAAY,QACZC,UAAU,EACVH,UAAW,QACXjS,MAAO,CACNC,OAAQ,CAAC,OAAQ,UAElBS,UAAW,CACV4R,OAAQ,SAAS1R,EAAM2K,EAAUC,GAChC,IAECqpB,EAFG51B,EAAKJ,KACRkzB,EAAgB9yB,EAAGH,KAAK,qBAAqBmG,WAE7CwtB,EAAcxzB,EAAGH,KAAK,sBACtB4zB,EAAYzzB,EAAGH,KAAK,oBAEjBG,EAAG4zB,UAGHd,IAEH8C,EAAK51B,EAAGqyB,eAAeS,MAItBU,EAAYK,cAAc+B,EAAGvO,QAC7BoM,EAAUI,cAAc+B,EAAGrwB,MAG9B,EACAhE,MAAO3B,OAGT,CACCY,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,iBACpBI,KAAM,SACN+R,aAAc,OACdC,WAAY,QACZC,UAAU,EACVH,UAAW,QACXjS,MAAO,CACNC,OAAQ,CACP,OAAQ,SAETuE,KAAMmK,IAGR,CACClP,MAAO,WACPmW,OAAO,EACPhW,KAAM,EACNJ,MAAO,CACNw0B,EACAH,OAOLvzB,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,WACZ9B,KAAK2yB,iBACN,KAIFzzB,IAAIqzB,UAAUvwB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACpD;ACxdD1M,IAAI2gB,mBAAqBzgB,GAAGC,OAAOD,GAAGE,OAAQ,CAC7CC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAGRrB,UAAU,EACVC,WAAW,EAEXC,MAAO,IACPyC,OAAQ,IAERwW,MAAO,WACN,IAAIxY,EAAKJ,KAETI,EAAG61B,UAAY,CAAC,EAChB71B,EAAG81B,cAAe,EAClB91B,EAAG+1B,QAAU,KACb/1B,EAAGg2B,OAAS,KACZh2B,EAAGi2B,OAAOj2B,EAAGyb,UAAYzb,EAAGsb,IAAI5Y,IACjC,EAEAuzB,OAAQ,SAASvzB,GAChB,IAAI1C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACdgM,EAAM,CAACtM,IAAKA,GACZ4Y,EAAMtb,EAAGsb,IAEVvY,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS6L,EACT5L,MAAO,CAACC,OAAQ,aACdrD,GAAI,SAASuD,EAAM2yB,GACpB,IAGQx2B,EAAGkL,EAFXtG,EAASf,EACT4yB,EAFSv2B,KAEIC,KAAK,kBAElB6P,EAAK,GACL0mB,EAAS9a,EAAMA,EAAI+a,SAAS9uB,cAAgB,KAC5C+uB,EAAS,GAEV,GAAIhyB,EAEH,IAAK5E,EAAE,EAAGA,EAAI6D,EAAKgzB,QAAQh0B,OAAQ7C,IAElCkL,EAAOrH,EAAKgzB,QAAQ72B,GACpBgQ,EAAGlN,KAAKoI,GAEJwrB,GAAUxrB,EAAK1J,KAAKqG,eAAiB6uB,IAExCE,EAAS1rB,EAAK1J,MAKjBi1B,EAAQp1B,MAAM0B,SAASiN,GACvBymB,EAAQzyB,SAAS4yB,EAClB,IAAG,GACJvzB,EAAIO,MACL,EAEAkzB,SAAU,SAASC,GAClB,IACCN,EADQv2B,KACKC,KAAK,kBAInB,OAFAs2B,EAAQpwB,eAEHowB,EAAQnwB,WAMN,GAJNmwB,EAAQ1vB,YAAY,eACb,EAIT,EAEAiwB,UAAW,WACV,IAICh3B,EACAkL,EALG5K,EAAKJ,KACR+2B,EAAc32B,EAAGH,KAAK,sBACtBs2B,EAAUn2B,EAAGH,KAAK,kBAClB+2B,EAAQT,EAAQnwB,WAIjB,GAAKhG,EAAGw2B,WAAR,CAKA,IAAK92B,EAAE,EAAGA,EAAIy2B,EAAQp1B,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE9C,GAAIy2B,EAAQp1B,MAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,SAAWoxB,EAC/C,CACChsB,EAAOurB,EAAQp1B,MAAMwE,KAAKhF,MAAMb,GAChC,KACD,CAGDM,EAAG62B,UAAUjsB,EAAM,KAAM+rB,EAAY3wB,WAXrC,CAYD,EAEA6wB,UAAW,SAASjsB,EAAMvH,EAAQyzB,EAAS1C,GAC1C,IAICxvB,EAJG5E,EAAKJ,KACRm3B,EAASnsB,EAAKpF,IAAI,UAClBzC,EAAM,IAAIjE,IAAIkE,MACdmW,EAAM,CAACzW,IAAKq0B,EAAQ1zB,OAAQA,EAAQ0d,OAAQnW,EAAKpF,IAAI,QAASwxB,OAAQF,EAAS/Q,aAAcnb,EAAKpF,IAAI,iBAGvG,GAAI4uB,EAEH,IAAKxvB,KAAKwvB,EAETjb,EAAIvU,GAAKwvB,EAAOxvB,GAIlB7B,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASgW,EACT/V,MAAO+V,GACLnZ,EAAIA,EAAGi3B,cAAc,EAAO,CAACrsB,EAAMvH,IACvCN,EAAIO,MACL,EAEA2zB,aAAc,SAAS1zB,EAAMmP,GAC5B,IAIChT,EAAGsZ,EAHHpO,EAAO8H,EAAM,GACbrP,EAASqP,EAAM,GACfwK,EAAS3Z,EAAK8V,SAAW9V,EAAKhB,OAASgB,EAAK,GAAGwB,SAAW,MACnDsU,EAAS,GAChB6d,IAAY7zB,EACZ4Q,EAAQijB,EANAt3B,KAMeC,KAAK,kBANpBD,KAM2CC,KAAK,kBAEzD,GAAIqd,GAAUA,EAAO3a,OAEpB,IAAK7C,EAAE,EAAGA,EAAIwd,EAAO3a,OAAQ7C,KAE5BsZ,EAAKke,EAAYha,EAAOxd,GAAGmD,QAAUqa,EAAOxd,IACzCgD,IAAMsW,EAAGtW,KAAQ,GAAKhD,EACzBsZ,EAAG+M,aAAenb,EAAKpF,IAAI,gBAC3BwT,EAAGqE,aAAerE,EAAGqE,aACrBrE,EAAGme,kBAAoBne,EAAGqE,aAAe,MAAQ,GACjDhE,EAAO7W,KAAKwW,QAKbla,IAAIqlB,UAAUtjB,KAAKC,GAAG,aAAclB,MAErCqU,EAAKlT,MAAM0B,SAAS4W,EACrB,EAEA+d,WAAY,SAASC,EAASC,GAC7B,IAGC53B,EAAGuM,EAHAjM,EAAKJ,KACR23B,EAAUv3B,EAAGH,KAAK,kBAClB23B,EAAUx3B,EAAGH,KAAK,kBAIlBqhB,GAFQlhB,EAAG61B,UAEJ,CAAC,GAcT,GAAkB,IAVjB5pB,EAFGorB,GAAWC,EAER,CACL/0B,OAAQ,EACRhC,MAAO,CAAC+2B,KAKFD,EAAUG,EAAUD,GAAStyB,oBAAoBiU,UAGjD3W,QAAgB80B,EAAxB,CAMA,IAAKA,EAEJ,IAAK33B,EAAE,EAAGA,EAAI83B,EAAQz2B,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG9CwhB,EADMsW,EAAQz2B,MAAMwE,KAAKhF,MAAMb,GACtB8F,IAAI,kBAAoB,EAInC,IAAK9F,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAErB23B,EAEHG,EAAQz2B,MAAMwV,OAAOtK,EAAI1L,MAAMb,IAI1BwhB,EAAKjV,EAAI1L,MAAMb,GAAG8F,IAAI,mBAC1BgyB,EAAQz2B,MAAMiR,IAAI/F,EAAI1L,MAAMb,IAI1B23B,GAEJE,EAAQtyB,oBAAoBE,OA1B7B,MAFCrG,IAAI+I,SAASC,IAAIC,QAAS,sCAAuC,KAAM,KAAM,EAAG,QA8BlF,EAEA1H,cAAgB,WACf,IAAIL,EAAKJ,KAETI,EAAGY,MAAQC,KAAKC,GAAG,mBAEnB9B,GAAGsB,MAAMV,KAAM,CACdsJ,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPwS,UAAW,QACX3J,WAAYxI,KAAKC,GAAG,YACpBI,KAAM,UACN+R,aAAc,OACdC,WAAY,OACZxJ,UAAW7I,KAAKC,GAAG,iBACnB22B,WAAW,EACXC,gBAAgB,EAChBtkB,YAAY,EACZjK,YAAY,EAEZpI,MAAO,CACNC,OAAQ,CAAC,OAAQ,MAAO,SAAU,UAGpC,CACCR,MAAO,QACPG,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERuI,OAAQ,EACR1I,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,UACNN,MAAOC,KAAKC,GAAG,qBACf4I,UAAW7I,KAAKC,GAAG,UACnBiJ,QAAS,gBACTC,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPlJ,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,WAAY,MAAO,aAAc,WAAY,YAG/DG,KAAM,CACL,CACCX,MAAO,YACPU,KAAM,cAENuS,WAAY,GACZlU,MAAO,IACPmK,UAAW7I,KAAKC,GAAG,gBACnBknB,iBAAiB,EACjBvmB,UAAW,CACVwmB,MAAO,SAASrhB,EAAMoE,EAAGqM,GACP,IAAbrM,EAAEkd,SAELtoB,KAAK82B,WAEP,EACAn1B,MAAO3B,OAGT,CACCY,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAK82B,WACN,EACAn1B,MAAO3B,MAER,MAEDyK,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdvB,MAAO,GACPyU,UAAU,EACV1J,UAAW,eAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,cACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,kBAGb7I,UAAW,CACV2T,aAAc,SAASuiB,EAAW7sB,EAAKF,EAAMG,EAAQC,GACpDhL,EAAGo3B,YACJ,EACA71B,MAAO3B,OAGT,CACCY,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,GAEP,CACCH,MAAO,SACPY,KAAM,IACNE,QAAS,WACR1B,KAAKw3B,YACN,EACA71B,MAAO3B,MAaR,CACCY,MAAO,YACPG,KAAM,KAIT,CACCH,MAAO,YACPI,MAAOC,KAAKC,GAAG,oBACfI,KAAM,UACNwI,UAAW7I,KAAKC,GAAG,UAQnBK,KAAM,CACL,CACCX,MAAO,YACPU,KAAM,cAENwI,UAAW7I,KAAKC,GAAG,gBACnB2S,WAAY,GACZlU,MAAO,IACPyoB,iBAAiB,EACjBvmB,UAAW,CACVwmB,MAAO,SAASrhB,EAAMoE,EAAGqM,GAEX,IAAbrM,EAAEkd,SAAiBppB,IAAIqpB,UAAUvoB,KAAM,UAAW,CAAC,QAD1CA,KACsDC,KAAK,sBACrE,EACA0B,MAAO3B,OAGT,CACCY,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACRxC,IAAIqpB,UAAUvoB,KAAM,UAAW,CAAC,QAASI,EAAGH,KAAK,sBAClD,EACA0B,MAAO3B,OAGTmB,MAAO,CACNC,OAAQ,CACP,OAAQ,OAAQ,WAAY,MAAO,aAAc,WAAY,YAG/DqJ,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdvB,MAAO,GACPyU,UAAU,EACV1J,UAAW,eAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,QAEZ,CACClJ,KAAMP,KAAKC,GAAG,cACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,iBAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,SAAS2S,EAAMC,EAAUC,GACjC,IAECrJ,EADQmJ,EAAKlT,MACDqT,MAAMF,GAFVtU,KAGNw3B,WAAW,EAAGtsB,EAClB,EACAvJ,MAAO3B,SAKX6B,UAAW,CACV2T,aAAc,SAASuiB,EAAW7sB,EAAKF,EAAMG,EAAQC,GACpDhL,EAAGo3B,WAAW,EAAGtsB,EAClB,EACAvJ,MAAO3B,YASdyB,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR,IAEC5B,EAFGM,EAAKJ,KACR43B,EAAUx3B,EAAGH,KAAK,kBACf0F,EAAO,GAEX,IAAK7F,EAAE,EAAGA,EAAI83B,EAAQz2B,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE9C6F,EAAK/C,KAAKg1B,EAAQz2B,MAAMwE,KAAKhF,MAAMb,GAAG6F,MAGlCA,EAAKhD,QAMVvC,EAAGE,UAAYF,EAAGE,SAASC,QAAQoF,GACnC3F,KAAKQ,SALJtB,IAAI+I,SAASC,IAAIC,QAAS,sCAAuC,KAAM,KAAM,EAAG,QAMlF,EACAxG,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,SAAS6J,GACZ3L,KACN4Y,OACJ,KAIF1Z,IAAI2gB,mBAAmB7d,WAAWvB,cAAcC,MAAMV,KAAM4L,UAC7D;AClfD1M,IAAImjB,eAAiBjjB,GAAGC,OAAOD,GAAGE,OAAQ,CAEzCC,OAAO,EACPC,OAAQ,MACRC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IACRuW,YAAazQ,IAAIoB,QAEjB0uB,KAAM,EAENC,WAAY,WACX,IACC7V,EADGhiB,EAAKJ,KAGToiB,EAAM,IAAIljB,IAAIojB,YAAY,CACzBxZ,SAAU1I,EAAG0I,SACbvJ,OAAO,EACPe,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASiM,GAC1C,IACCvM,EACAkH,EACAkE,EAHGqX,EAAY,GAIf2V,EAAW,GACXC,EAAWn4B,KAAKC,KAAK,mBAEtB,IAAKH,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAC1B,CACC,IAAI0iB,EAAI,CACPC,IAAKpW,EAAIvM,GAAG8F,IAAI,OAChBtE,KAAM+K,EAAIvM,GAAG8F,IAAI,SAElB2c,EAAU3f,KAAK4f,EAChB,CAEA,GAAID,EAAU5f,OAAS,EACvB,CAGC,KAFAqE,EAAO,IAAI9H,IAAIwjB,cAAc,OACxBC,KAAO,GACP7iB,EAAE,EAAGA,EAAIyiB,EAAU5f,OAAQ7C,IAE/BkH,EAAK2b,KAAK/f,KAAK,CACdtB,KAAMihB,EAAUziB,GAAGwB,KACnBmhB,IAAKF,EAAUziB,GAAG2iB,MAGnByV,IAAap4B,EAAI,EAAI,IAAM,IAAMyiB,EAAUziB,GAAGwB,KAG/C0F,EAAK4b,QAAS,EACd5b,EAAKyO,MAAQrV,EAAG43B,OAChB53B,EAAG+hB,eAAevf,KAAKoE,GACvBkE,EAAMitB,EAASh3B,MAAMiR,IAAI,CACxB8lB,SAAUA,EACVtV,OAAQ5b,EAAK4b,OACbnN,MAAOzO,EAAKyO,QAEbrV,EAAGg4B,QAAQltB,EAAK,OACjB,CACD,MAEDhM,IAAIkK,WAAWhJ,EAAIgiB,EACpB,EAEAnc,SAAU,WACT,GAAIjG,KAAKM,SACT,CACC,IAAIR,EACHq4B,EAAWn4B,KAAKC,KAAK,mBAChBo4B,EAAS,CAAC,EAEhB,IAAKv4B,EAAE,EAAGA,EAAIq4B,EAASh3B,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAG/Cu4B,EADMF,EAASh3B,MAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,WACzB,EAGf,IAAK9F,EAAEuV,MAAM8M,eAAexf,OAAS,EAAG7C,GAAG,EAAGA,IAGxCu4B,EADChjB,MAAM8M,eAAeriB,GAAG2V,QAG7BJ,MAAM8M,eAAekI,OAAOvqB,EAAG,GAIjCE,KAAKM,SAASC,SACf,CACAP,KAAKQ,OACN,EAEA83B,mBAAoB,WACnB,IAGCx4B,EAAG8lB,EACHsS,EACA1lB,EALG6C,EAAQrV,KACX8P,EAAK,GACLqoB,EAAWn4B,KAAKC,KAAK,mBAKtB,GAAIoV,EAAM8M,eAET,IAAKriB,EAAE,EAAGA,EAAIuV,EAAM8M,eAAexf,OAAQ7C,IAC3C,CAOC,KANA0S,EAAS6C,EAAM8M,eAAeriB,IACvB6iB,KAAOnQ,EAAOmQ,MAAQ,GAC7BnQ,EAAOiD,MAAQJ,EAAM2iB,OAErBE,EAAW,GAENtS,EAAE,EAAGA,EAAIpT,EAAOmQ,KAAKhgB,OAAQijB,IAEjCsS,IAAatS,EAAI,EAAI,IAAM,IAAMpT,EAAOmQ,KAAKiD,GAAGtkB,KAGjDwO,EAAGlN,KAAK,CACPs1B,SAAUA,EACVtV,OAAQpQ,EAAOoQ,OACfnN,MAAOjD,EAAOiD,OAEhB,CAGD0iB,EAASh3B,MAAM0B,SAASiN,EACzB,EAEAsoB,QAAS,SAASltB,EAAKqU,GACtB,IAECjL,EACA8N,EAEGtiB,EAAGy4B,EAENvxB,EAPG5G,EAAKJ,KACRm4B,EAAW/3B,EAAGH,KAAK,mBAKnB8P,EAAM7E,EAAItF,IAAI,SAGf,IAAK9F,EAAE,EAAGA,EAAIE,KAAKmiB,eAAexf,OAAQ7C,IAEzC,GAAIM,EAAG+hB,eAAeriB,GAAG2V,OAAS1F,EAClC,CACC/I,EAAO5G,EAAG+hB,eAAeriB,GACzBy4B,EAASz4B,EACT,KACD,CAGD,GAAW,UAAPyf,EAEHjL,EAAW6jB,EAASh3B,MAAMmU,QAAQpK,GAClC9K,EAAG+hB,eAAekI,OAAO/V,EAAU,GACnC6jB,EAASh3B,MAAMwV,OAAOzL,QAElB,GAAW,QAAPqU,EAER6C,EAAM,IAAIljB,IAAIojB,YAAY,CACzBxZ,SAAU1I,EAAG0I,SACbvJ,OAAO,EACP8M,IAAKrF,EAAK2b,KACVriB,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASiM,GAC1C,IACCvM,EADGyiB,EAAY,GAEf2V,EAAW,GACAl4B,KAAKC,KAAK,mBAEtB,IAAKH,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAC1B,CACC,IAAI0iB,EAAI,CACPC,IAAKpW,EAAIvM,GAAG8F,IAAI,OAChBtE,KAAM+K,EAAIvM,GAAG8F,IAAI,SAElB2c,EAAU3f,KAAK4f,EAChB,CAEA,GAAID,EAAU5f,OAAS,EACvB,CAEC,IADAqE,EAAK2b,KAAO,GACP7iB,EAAE,EAAGA,EAAIyiB,EAAU5f,OAAQ7C,IAE/BkH,EAAK2b,KAAK/f,KAAK,CACdtB,KAAMihB,EAAUziB,GAAGwB,KACnBmhB,IAAKF,EAAUziB,GAAG2iB,MAGnByV,IAAap4B,EAAI,EAAI,IAAM,IAAMyiB,EAAUziB,GAAGwB,KAG/C4J,EAAIpF,IAAI,WAAYoyB,EACrB,CACD,MAEDh5B,IAAIkK,WAAWhJ,EAAIgiB,OAGpB,CACC,IAAIrK,EAAM,IAAI7Y,IAAI6jB,mBAAmB,CACpCja,SAAU1I,EAAG0I,SACboX,YAAa,CACZ8C,MAAO,CACNxQ,OAAQxL,EACRic,YAAa,CACZngB,IAAK1C,EAAG0C,OAIXogB,aAAc,CACb/e,QAAS/D,EAAG0C,KAEbxC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASof,GAC1Cxf,KAAKmiB,eAAeoW,GAAU/Y,EAAIwD,MAAMxQ,MACzC,MAEDtT,IAAIkK,WAAWhJ,EAAI2X,EACpB,CACD,EAEAtX,cAAgB,WACf,IAAI4U,EAAQrV,KAEZqV,EAAMrU,MAAQC,KAAKC,GAAG,yBAEtB,IAAIP,EAAQ,CACX,CACCC,MAAO,OACPpB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAET5K,OAAQ,EACR1I,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO,8BAER,CACCnS,MAAO,YACPU,KAAM,WACNP,KAAM,EACNoJ,QAAS,gBACTC,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPmuB,aAAa,EACbr3B,MAAO,CACNC,OAAQ,CACP,WAAY,SAAU,UAGxBqJ,QAAS,CACR,CACCgd,OAAQ,YACR/c,UAAW,WACX3J,KAAM,EACNqT,UAAU,EACVoT,UAAU,GAEX,CACC5mB,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,gBACTC,QAAS,OACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIrJ,EAAMmJ,EAAKlT,MAAMqT,MAAMF,GAC3Be,EAAM+iB,QAAQltB,EAAK,OACpB,GAED,CACClB,QAAS,mBACTC,QAAS,OACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIrJ,EAAMmJ,EAAKlT,MAAMqT,MAAMF,GAC3Be,EAAM+iB,QAAQltB,EAAK,OACpB,GAED,CACClB,QAAS,mBACTC,QAAS,mBACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIrJ,EAAMmJ,EAAKlT,MAAMqT,MAAMF,GAC3Be,EAAM+iB,QAAQltB,EAAK,SACpB,UAUJzJ,EAAU,CACb,CACCD,KAAMP,KAAKC,GAAG,gBACdQ,QAAS,WACR1B,KAAKi4B,YACN,EACAt2B,MAAO3B,MAER,KACA,CACCwB,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAITZ,GAAGsB,MAAMV,KAAM,CACdW,MAAOA,EACPc,QAASA,IAGVvC,IAAImjB,eAAergB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACzD,EAEA/J,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAKs4B,oBACN;ACzUFp5B,IAAI+d,YAAc,SAAStZ,GAC1B,IACC0L,EAAGvP,EAAG8lB,EAAW6S,EAEjBC,EACA5X,EAJG1gB,EAAKJ,KAqBT,GAfAI,EAAGwa,IAAMjX,EAAOA,GAAQ,CAAC,EAEzBvE,GAAGsI,SAAS/D,EAAM,CACjBsiB,KAAM,KAGP7lB,EAAGu4B,KAAO,EACVv4B,EAAGw4B,WAAY,EACfx4B,EAAGqZ,OAAS,GACZrZ,EAAGy4B,UAAY,GACfz4B,EAAGya,UAAY,GACfza,EAAG04B,YAAa,EAEhBJ,EAAQ/0B,EAAK8V,OAIZ,IAAK3Z,EAAE,EAAGA,EAAI44B,EAAM/1B,OAAQ7C,IAC5B,CAMC,IALAghB,EAAQ,IAAI5hB,IAAI65B,SAASL,EAAM54B,KACzBsB,OAAS,GAEfq3B,EAAS3X,EAAMrW,QAId,IAAKmb,EAAE,EAAGA,EAAI6S,EAAO91B,OAAQijB,IAEpB6S,EAAO7S,GACT7V,IAAM+Q,EAAM/Q,IAGpB3P,EAAGqZ,OAAO7W,KAAKke,EAChB,CAKD,GAFA4X,EAAQ/0B,EAAKq1B,MAIZ,IAAKl5B,EAAE,EAAGA,EAAI44B,EAAM/1B,OAAQ7C,KAE3BuP,EAAIqpB,EAAM54B,IAERm5B,OAAOlpB,IAAMV,EAAE4pB,OAAOlpB,KAAO,EAC/BV,EAAE6pB,OAAOnpB,IAAMV,EAAE6pB,OAAOnpB,KAAO,EAE/B3P,EAAGy4B,UAAUj2B,KAAKyM,GAQpB,GAJAqpB,EAAQ/0B,EAAKwe,eAEb/hB,EAAG+hB,eAAiB,GAEhBuW,EAEH,IAAK54B,EAAE,EAAGA,EAAI44B,EAAM/1B,OAAQ7C,IAE3BuP,EAAIqpB,EAAM54B,GACVM,EAAG+hB,eAAevf,KAAKyM,GAIzBjP,EAAGya,UAAYlX,EAAKkX,SACrB,EAEA3b,IAAI65B,SAAW,SAASL,GACd14B,KAGN4a,IAAM8d,EAHA14B,KAINm5B,QAAS,CACb,EAEAj6B,IAAI65B,SAASK,UAAY,CACxBC,OAAQ,WACP,IAAIj5B,EAAKJ,KACRqI,EAAI,EACJixB,EAAOl5B,EAAGk5B,KAkBX,OAfIl5B,EAAGm5B,MAILn5B,EAAGk5B,KAAO,CACTE,KAAMp5B,EAAGm5B,IAAIE,KAAKC,YAAYC,SAASH,KACvCI,IAAKx5B,EAAGm5B,IAAIE,KAAKC,YAAYC,SAASC,KAEvCN,EAAOl5B,EAAGk5B,KAIXjxB,EADO2G,EAAE5O,EAAGm5B,IAAIM,UAAUC,KAAK5f,KACtByf,SAASH,KAAOF,EAAKE,MAGxBnxB,CACR,EACA0xB,OAAQ,SAAS7zB,GAChB,IAIC8zB,EACAC,EAAMC,EALH95B,EAAKJ,KACRqI,EAAI,EACJixB,EAAOl5B,EAAGk5B,KAKX,GAAIl5B,EAAGm5B,MAILn5B,EAAGk5B,KAAO,CACTE,KAAMp5B,EAAGm5B,IAAIE,KAAKC,YAAYC,SAASH,KACvCI,IAAKx5B,EAAGm5B,IAAIE,KAAKC,YAAYC,SAASC,KAEvCN,EAAOl5B,EAAGk5B,KAIXU,EAAOhrB,EAAE5O,EAAGm5B,IAAIM,UAAUC,KAAK5f,KAE/BggB,GADAD,EAAO75B,EAAGm5B,IAAIM,UAAU55B,KAAK,iBACdg6B,EAAKH,KAAO9qB,EAAEirB,EAAKH,KAAK5f,KAAO,KAE9C7R,EAAI2xB,EAAKL,SAASC,IAAMN,EAAKM,KAAOM,GAAOA,EAAK93B,UAAgB,GAE/C,MAAb8D,GACJ,CACC,IAECi0B,EAID9xB,IAFA8xB,EAJW/5B,EAAGm5B,IAAIM,UAITO,UAAUl0B,IAEZsL,EACPpR,EAAG+4B,OAASgB,EAAEhB,MACf,CAGD,OAAO9wB,CACR,EACAgyB,UAAW,WACV,IACChyB,EAAI,EAQL,OATSrI,KAGFu5B,MAGNlxB,EANQrI,KAMDu5B,IAAIM,UAAUS,YAGfjyB,CACR,EACAkyB,WAAY,WACX,IACClyB,EAAI,EAaL,OAdSrI,KAGFu5B,OAGNlxB,EANQrI,KAMDu5B,IAAIM,UAAUO,aAEdjB,SAEN9wB,EAAIA,EAAEmJ,IAIDnJ,CACR,GAGDnJ,IAAI+d,YAAYmc,UAAY,CAC3BoB,OAAQ,WAEP,OADSx6B,KACC4a,GACX;ACtLD1b,IAAIu7B,gBAAkB,SAASC,EAAQT,GACtC,IAAI75B,EAAKJ,KACTI,EAAG65B,KAAOA,EACV75B,EAAG0I,SAAWmxB,EAAKnxB,SACnB1I,EAAGs6B,OAASA,EACZt6B,EAAGu6B,OAAS,GACZv6B,EAAGw6B,MAAQ,GACXx6B,EAAGy6B,UAAY,EACfz6B,EAAG06B,SAAW,GACf,EAEA57B,IAAIu7B,gBAAgBrB,UAAY,CAC/B/1B,KAAM,WACL,IAAIjD,EAAKJ,KAETI,EAAG26B,kBAAoB,KAEvB36B,EAAG46B,UAAYhsB,EAAE,2CAA2CisB,IAAI,CAACC,SAAU,WAAYtB,IAAK,EAAGuB,OAAQ,EAAG3B,KAAM,EAAG4B,MAAO,EAAGC,SAAU,SAASC,SAASl7B,EAAGs6B,QAC5Jt6B,EAAGm7B,MAAQvsB,EAAE,eACb5O,EAAGm7B,MAAMD,SAASl7B,EAAG46B,WAErB56B,EAAGs5B,YAAc1qB,EAAE,eAAeisB,IAAI,CACrCC,SAAU,WACVtB,IAAK,EACLuB,OAAQ,EACRx7B,MAAOT,IAAIs8B,MAAMC,GAAGr7B,EAAG46B,WACvB54B,OAAQlD,IAAIs8B,MAAME,GAAGt7B,EAAG46B,WACxBW,gBAAiB,SACfL,SAASl7B,EAAG46B,WACf56B,EAAGw7B,kBACHx7B,EAAG46B,UAAUa,UAAU,CACtBtmB,KAAM,SAAUG,EAAO/J,GAEvB,IAGDvL,EAAG07B,UAAU17B,EAAGs5B,YAAY,IAE5Bt5B,EAAG46B,UAAUe,KAAK,UAAU,SAAS7lB,GACpC9V,EAAG47B,cACJ,GACD,EAEArD,KAAM,SAASsD,GACd,IAAI77B,EAAKJ,KACRk8B,EAAQ97B,EAAGy6B,UAAYoB,EAEpBC,EAAQ,IAAOA,EAAQ,IAE1B97B,EAAGy6B,UAAYqB,EAGfltB,EAAE5O,EAAGs5B,aAAauB,IAAI,CAACkB,UAAa,SAAWD,EAAQ,IAAMA,EAAQ,IAAK,mBAAoB,YAEhG,EAEAJ,UAAW,SAAS7hB,GACnB,IAAI5F,EAAOrU,KACLA,KAEHo8B,SAAWh9B,GAAGi9B,OAAOj9B,GAAGk9B,SAAUriB,EAAI,CACxCrF,QAAS,mBAET2nB,cAAe,EAEfC,mBAAoB,SAASpxB,GAC5B,IAAIqxB,EAAKrxB,EAAEsxB,aAAaC,OAASvxB,EAAEsxB,aAAaE,QAC/CC,EAAKzxB,EAAEsxB,aAAaI,OAAS1xB,EAAEsxB,aAAaK,QAC5CpV,EAAWtT,EAAK2oB,mBAAmBP,EAAII,GAOxC,OALgB,MAAZlV,IAEHA,EAAW1N,GAGL0N,CACR,EAEAsV,UAAY,SAASC,EAAI9xB,EAAGzF,GAC3B,IAAIvF,EAAKJ,KACNI,EAAG+8B,eACL/8B,EAAGg9B,UAAUh9B,EAAG+8B,aAAcD,EAAI9xB,EAAGzF,GACrCvF,EAAG+8B,aAAe,MAGnB9oB,EAAKgpB,YAAa,EACbhpB,EAAKipB,mBAGVjpB,EAAKipB,iBAAiBlyB,GAEL,GAAbhL,EAAGm9B,QAAkC,GAAhBn9B,EAAGo9B,WAEvBnpB,EAAKopB,WAEJr9B,EAAGm8B,cAAgB,GAEtBmB,aAAat9B,EAAGm8B,cAGjBn8B,EAAGm8B,aAAejkB,YAAW,WAC5BjE,EAAKipB,iBAAiBlyB,EACvB,GAAG,MAIN,EAEAuyB,YAAc,SAASzE,EAAQgE,EAAI9xB,EAAGzF,GACrC0O,EAAKgpB,YAAa,EAElB,IAEClxB,EAEAoxB,GAAS,EAEN53B,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,EAI/B,UAFVwJ,EAAKxG,EAAKuP,QAAQ,GAAGtP,IAAI,UAEE,cAANuG,GAA4B,aAANA,IAE1CoxB,GAAS,GAGF53B,EAAKi4B,WAEbzxB,EAAKxG,EAAKi4B,SACVL,GAAS,GAlBDv9B,KAqBNu9B,OAASA,CACb,EACAH,UAAY,SAASlE,EAAQgE,EAAI9xB,EAAGzF,GAEpC,EACAk4B,WAAa,SAAS3E,EAAQgE,EAAI9xB,EAAGzF,GACpC,IAECm4B,EAFG19B,EAAKJ,KAwBT,OAlBE89B,EAFEx+B,OAAOy+B,IAEY,GAAb39B,EAAGm9B,OAAkBQ,IAAIb,GAAGc,SAAS5E,UAAU6E,YAAcF,IAAIb,GAAGc,SAAS5E,UAAU8E,eAI3F99B,EAAGm9B,OAGQ,GAAbn9B,EAAGm9B,SAEF53B,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,EAEpCgD,EAAKuP,QAAQ,GAAGvP,KAIhBA,EAAKi4B,UAGLE,CACR,EACAK,WAAa,SAASjF,EAAQgE,EAAI9xB,EAAGzF,GACpC,IACCwG,EAeD,OAdiB,GAFRnM,KAEFu9B,SAEF53B,EAAKuP,SAAWvP,EAAKuP,QAAQvS,OAAS,GAEzCwJ,EAAKxG,EAAKuP,QAAQ,GAAGvP,KACrB0O,EAAK4lB,KAAKmE,aAAahzB,EAAGe,IAI1BA,EAAKxG,EAAKi4B,UAXH59B,KAeNu9B,QAAS,GACL,CACR,GAEF,EAEAc,WAAY,SAASjlB,GACpB,IAICklB,EAAMC,EAAMrkB,EAJT9Z,EAAKJ,KACRg7B,EAAY56B,EAAG46B,UACfzB,EAAMngB,EAAGmgB,IAAIM,UACba,EAASt6B,EAAGs6B,OAGTnB,IAEHgF,EAAOvD,EAAUrB,SACbJ,EAAIiF,KAGHp+B,EAAGq+B,OAASr+B,EAAGq+B,MAAMlF,KAExBvqB,EAAE5O,EAAGq+B,MAAMlF,IAAIM,UAAU2E,IAAIE,OAAOC,YAAY,eAKjDL,GAFApkB,EAAMlL,EAAEuqB,EAAIiF,IAAIE,QAEL/E,SACXzf,EAAI0kB,SAAS,eACb5D,EAAU6D,QAAQ,CACjBC,UAAWC,KAAKC,IAAIV,EAAK1E,IAAM2E,EAAK3E,IAAMoB,EAAU8D,aAAepE,EAAOt4B,SAAW8X,EAAI9X,UAAY,EAAG,GACxG68B,WAAYF,KAAKC,IAAIV,EAAK9E,KAAO+E,EAAK/E,KAAOwB,EAAUiE,cAAgBvE,EAAO/6B,QAAUua,EAAIva,SAAW,EAAG,IACxG,MAEK45B,EAAItf,IAAMsf,EAAItf,GAAGC,MAGrB9Z,EAAGq+B,OAASr+B,EAAGq+B,MAAMlF,KAExBvqB,EAAE5O,EAAGq+B,MAAMlF,IAAIM,UAAU5f,GAAGC,KAAKykB,YAAY,eAK9CL,GAFApkB,EAAMlL,EAAEuqB,EAAItf,GAAGC,MAEJyf,SACXzf,EAAI0kB,SAAS,eACb5D,EAAU6D,QAAQ,CACjBC,UAAWC,KAAKC,IAAIV,EAAK1E,IAAM2E,EAAK3E,IAAMoB,EAAU8D,aAAepE,EAAOt4B,SAAW8X,EAAI9X,UAAY,EAAG,GACxG68B,WAAYF,KAAKC,IAAIV,EAAK9E,KAAO+E,EAAK/E,KAAOwB,EAAUiE,cAAgBvE,EAAO/6B,QAAUua,EAAIva,SAAW,EAAG,IACxG,MAEJS,EAAGq+B,MAAQrlB,EAEb,EAEA4jB,mBAAoB,WACnB,OAAO,IACR,EAEApB,gBAAiB,WAChB,IAAIx7B,EAAKJ,KAGTI,EAAG8+B,UAAYlwB,EAAE,eAAeisB,IAAI,CACnCC,SAAU,WACVtB,IAAK,EAAGuB,OAAQ,EAChBx7B,MAAOT,IAAIs8B,MAAMC,GAAGr7B,EAAG46B,WACvB54B,OAAQlD,IAAIs8B,MAAME,GAAGt7B,EAAG46B,WACxBW,gBAAiB,SACfL,SAASl7B,EAAGs5B,aACft5B,EAAG++B,QAAUC,QAAQh/B,EAAG8+B,UAAU,GAAI,EAAG,EAAG,OAAQ,QACpD9+B,EAAGi/B,IAAM,EACV,EAEAC,cAAe,SAAS9zB,EAAO0K,GAC9B,IAAI9V,EAAKJ,KAET,OAAQwL,GAER,IAAK,OACJpL,EAAG26B,kBAAoB,CAACvY,EAAGtM,EAAGymB,MAAO4C,EAAErpB,EAAG4mB,OAC1C,MACD,IAAK,KACJ18B,EAAG26B,kBAAoB,KACvB,MACD,IAAK,OACJ,IAAIyE,EAAOtgC,IAAIs8B,MAAMC,GAAGT,WACvByE,EAAOvgC,IAAIs8B,MAAMC,GAAG/B,aACpBgG,EAAOxgC,IAAIs8B,MAAME,GAAGV,WACpB2E,EAAOzgC,IAAIs8B,MAAME,GAAGhC,aAErB,GAA4B,MAAxBt5B,EAAG26B,oBAA8ByE,EAAOC,GAAQG,YAAcC,eAClE,CACC,IAOCC,EAPGvE,EAAQn7B,EAAGm7B,MACdwE,EAAc3/B,EAAGs5B,YACjBwF,EAAY9+B,EAAG8+B,UACf/E,EAAI/5B,EAAG46B,UAAUrB,SACjBA,EAASoG,EAAYpG,SACrBqG,EAAK9pB,EAAGymB,MAAQv8B,EAAG26B,kBAAkBvY,EACrCyd,EAAK/pB,EAAG4mB,MAAQ18B,EAAG26B,kBAAkBwE,EAUtC,GAJAO,EAAI,CAAClG,IAAKD,EAAOC,IAAMqG,EAAIzG,KAAMG,EAAOH,KAAOwG,GAE/C5/B,EAAG26B,kBAAoB,CAACvY,EAAGtM,EAAGymB,MAAO4C,EAAGrpB,EAAG4mB,OAEvCgD,EAAElG,IAAM8F,EAAOC,GAAQG,EAAEtG,KAAOgG,EAAOC,GAAQK,EAAElG,IAAMO,EAAEP,IAAK,GAAKkG,EAAEtG,KAAOW,EAAEX,KAAM,EACvF,OACD0F,EAAUvF,OAAOmG,GACjBC,EAAYpG,OAAOmG,GACnBvE,EAAM5B,OAAOmG,EACd,EAGF,EAEAI,SAAU,WACT,IAAI9/B,EAAKJ,KAETI,EAAGu6B,OAAS,GACZv6B,EAAGw6B,MAAQ,GACXx6B,EAAG++B,QAAQ55B,QACXyJ,EAAEC,KAAK7O,EAAGi/B,KAAK,SAASv/B,EAAGmL,GAC1BA,EAAE0L,QACH,IACAvW,EAAGi/B,IAAM,GACTj/B,EAAGs5B,YAAYyG,QACf//B,EAAGw7B,iBACJ,EAEAwE,eAAgB,EAEhBpE,aAAc,WACb,IAAI57B,EAAKJ,KAELI,EAAGggC,eAEN1C,aAAat9B,EAAGggC,eAGjBhgC,EAAGggC,cAAgB9nB,YAAW,WAC7BlY,EAAGigC,kBACJ,GAAG,IACJ,EAEAA,iBAAkB,WACjB,IAICvgC,EAJG46B,EAAS16B,KAEZsgC,GADI5F,EAAOM,UAAUrB,SACjBz6B,IAAIs8B,MAAMC,GAAGf,EAAOM,YACxBuF,EAAIrhC,IAAIs8B,MAAME,GAAGhB,EAAOM,WAGzB,IAAKl7B,EAAE,EAAGA,EAAI46B,EAAOC,OAAOh4B,OAAQ7C,IAEnCwgC,EAAIvB,KAAKC,IAAIsB,EAAG5F,EAAOC,OAAO76B,GAAGghB,MAAMuY,SAAWqB,EAAOC,OAAO76B,GAAGghB,MAAMuZ,YAAc,KACvFkG,EAAIxB,KAAKC,IAAIuB,EAAG7F,EAAOC,OAAO76B,GAAGghB,MAAMiZ,SAAWW,EAAOC,OAAO76B,GAAGghB,MAAMyZ,aAAe,KAGzFr7B,IAAIs8B,MAAMC,GAAGf,EAAOhB,YAAa4G,GACjCphC,IAAIs8B,MAAME,GAAGhB,EAAOhB,YAAa6G,GACjCrhC,IAAIs8B,MAAMC,GAAGf,EAAOwE,UAAWoB,GAC/BphC,IAAIs8B,MAAME,GAAGhB,EAAOwE,UAAWqB,GAC/BrhC,IAAIs8B,MAAMC,GAAGf,EAAOa,MAAO+E,GAC3BphC,IAAIs8B,MAAME,GAAGhB,EAAOa,MAAOgF,GAE3B7F,EAAOyE,QAAQqB,WAAW,EAAG,EAAGF,EAAGC,GAAG,GACtC7F,EAAOyE,QAAQsB,QAAQH,EAAGC,GAE1B7F,EAAOgG,eACR,EAEAA,cAAe,WACd,IACC5gC,EADGM,EAAKJ,KAUT,IAPAI,EAAG++B,QAAQ55B,QAEXyJ,EAAEC,KAAK7O,EAAGi/B,KAAK,SAASv/B,EAAGmL,GAC1BA,EAAE0L,QACH,IACAvW,EAAGi/B,IAAM,GAEJv/B,EAAE,EAAGA,EAAIM,EAAGw6B,MAAMj4B,OAAQ7C,IAE9BM,EAAGw6B,MAAM96B,GAAGgZ,QAAQhZ,EAAkC,GAA/BM,EAAG65B,KAAKjd,UAAU4b,UAE3C,EAEA+H,OAAQ,SAASne,EAAG+c,EAAG5/B,EAAOyC,EAAQgX,EAAIwnB,GACzC,IACCC,EAAI,IAAI3hC,IAAI4hC,SADJ9gC,KACiBwiB,EAAG+c,EAAG5/B,EAAOyC,EAAQgX,GAK/C,OAJAynB,EAAED,KAAOA,EACTC,EAAEE,gBACFF,EAAEhH,UAAUf,WAAW1f,EAAG4nB,eAJjBhhC,KAKN26B,OAAO/3B,KAAKi+B,GACRA,CACR,EAEAI,QAAS,SAASC,EAAMn/B,EAAMo/B,EAAMtI,GACnC,IACC/4B,EACA+gC,EACAO,EAHGhhC,EAAKJ,KAOT,IAFAI,EAAGy4B,UAAYA,EAEV/4B,EAAE,EAAGA,EAAIM,EAAGw6B,MAAMj4B,OAAQ7C,IAI9B,IAFAshC,EAAIhhC,EAAGw6B,MAAM96B,MAKRshC,EAAEC,QAAQzmB,IAAI9X,KAAOo+B,EAAKtmB,IAAI9X,KAAOs+B,EAAEE,MAAM1mB,IAAI9X,KAAOf,EAAK6Y,IAAI9X,KAAOs+B,EAAEC,QAAQzmB,IAAI7K,KAAOmxB,EAAKtmB,IAAI7K,KAAOqxB,EAAEE,MAAM1mB,IAAI7K,KAAOhO,EAAK6Y,IAAI7K,KAC5IqxB,EAAEC,QAAQzmB,IAAI9X,KAAOf,EAAK6Y,IAAI9X,KAAOs+B,EAAEE,MAAM1mB,IAAI9X,KAAOo+B,EAAKtmB,IAAI9X,KAAOs+B,EAAEC,QAAQzmB,IAAI7K,KAAOhO,EAAK6Y,IAAI7K,KAAOqxB,EAAEE,MAAM1mB,IAAI7K,KAAOmxB,EAAKtmB,IAAI7K,KAC3I,CACC8wB,EAAIO,EACJ,KACD,CAYD,OATIP,EAEHA,EAAEjG,MAAMh4B,KAAKu+B,IAIbN,EAAI,IAAI3hC,IAAIqiC,UAAUnhC,EAAI8gC,EAAMn/B,EAAMo/B,EAAMtI,GAC5Cz4B,EAAGw6B,MAAMh4B,KAAKi+B,IAERA,CACR,EAEAW,UAAW,SAASz/B,GACnB,IAGCjC,EAAG8lB,EAGHvd,EANGjI,EAAKJ,KACRi6B,EAAO75B,EAAG65B,KACVwH,EAAKxH,EAAKjd,UAEV2d,EAASv6B,EAAGu6B,OACZC,EAAQx6B,EAAGw6B,MAGZ,IAAK96B,EAAE,EAAGA,EAAI2hC,EAAGhoB,OAAO9W,OAAQ7C,IAE/B,GAAIiC,EAAK+e,OAAS2gB,EAAGhoB,OAAO3Z,GAC5B,CACC2hC,EAAGhoB,OAAO4Q,OAAOvqB,EAAG,GACpB,KACD,CAGD,IAAKA,EAAE,EAAGA,EAAI66B,EAAOh4B,OAAQ7C,IAE5B,GAAI66B,EAAO76B,IAAMiC,EACjB,CACC44B,EAAOtQ,OAAOvqB,EAAG,GAEjB,KACD,CAGD,IAAKA,EAAE86B,EAAMj4B,OAAO,EAAG7C,GAAI,EAAGA,IAE7B,GAAI86B,EAAM96B,GAAGuhC,SAAWt/B,EAAK+e,OAAS8Z,EAAM96B,GAAGwhC,OAASv/B,EAAK+e,MAC7D,CAEC,IADAzY,EAAIuyB,EAAM96B,GACL8lB,EAAE6b,EAAG5I,UAAUl2B,OAAO,EAAGijB,GAAG,EAAGA,IAE/B6b,EAAG5I,UAAUjT,GAAG8b,IAAMr5B,GAEzBo5B,EAAG5I,UAAUxO,OAAOzE,EAAG,GAGzBgV,EAAMvQ,OAAOvqB,EAAG,EACjB,CAGDm6B,EAAK0H,kBACL1H,EAAK2H,iBACL3H,EAAK4H,eACN,GAGD3iC,IAAI4hC,SAAW,SAASrH,EAAMjX,EAAG+c,EAAG5/B,EAAOyC,EAAQ0e,GAClD,IAAIghB,EAAQ9hC,KACXI,EAAKJ,KACL+hC,EAAQtI,EAERrY,EAAON,EAAMlG,IAAItZ,KAElBlB,EAAG0I,SAAW2wB,EAAK3wB,SACnB1I,EAAGq5B,KAAOA,EACVr5B,EAAG0gB,MAAQA,EAEXA,EAAMlG,IAAIonB,QAAUlhB,EAAMlG,IAAIonB,SAAW5/B,EAErC0e,EAAMlG,IAAI7K,KAAO+Q,EAAMlG,IAAI7K,IAAM,IAEpCqR,GAAQ,IAAMN,EAAMlG,IAAI7K,IAAM,KAG/B3P,EAAGy5B,UAAY,IAAIz6B,GAAGiW,MAAM,CAC3BvM,SAAU1I,EAAG0I,SACbm5B,SAAUjiC,KAAKy5B,KAAKC,YAAY,GAChC5Y,MAAOA,EACPvX,YAAY,EACZuM,UAAU,EAEVosB,WAAW,EAGXnrB,OAAO,EACPorB,aAAa,EACbC,cAAc,EACd3iC,UAAU,EACV4iC,MAAM,EACNC,IAAKP,EACL/gC,MAAOogB,EACPoB,EAAGA,EACHnZ,OAAQ,EACRk2B,EAAGA,EACH5/B,MAAOA,EACPyC,QAAU0e,EAAMlG,IAAIonB,SAAW,KAAO,IAAM,IAAMlhB,EAAMlG,IAAIonB,QAC5DlU,SAAU,WACVyU,WAAW,EACXzJ,WAAY,SAAStX,GACpB,IAAIphB,EAAKJ,KACTI,EAAGmiC,UAAY/gB,EACfphB,EAAGoiC,MAAMh1B,WAAWgU,GAEpBphB,EAAGyC,UACJ,EACArD,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER2hC,cAAe,CACd,CACC5hC,KAAM,QACNS,KAAM,SACN2I,QAAShJ,KAAKC,GAAG,WACjBQ,QAAS,SAASgU,EAAOgtB,EAAQC,GACvB3iC,KACN4iC,UACJ,EACAjhC,MAAO3B,OAGT6iC,WAAY,WACX,IAAIziC,EAAKJ,KACRoZ,EAAKhZ,EAAG0gB,MAAMlG,IACdzX,EAAM,IAAIjE,IAAIkE,MAEXgW,EAAGtW,KAAgC,aAAzBsW,EAAGvY,KAAKyH,gBAErBnF,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CACRT,IAAKsW,EAAGtW,IACRjC,KAAMuY,EAAGvY,MAEV2C,MAAO,CAAC,GACNpD,GAAI,SAASuD,GACf,IAIC7D,EACAgjC,EAJA1pB,EADQzV,EAAKV,QACLwW,OACRspB,EAAU3iC,EAAGH,KAAK,kBAClBwZ,EAAS,GAIV,IAAK3Z,EAAE,EAAGA,EAAIsZ,EAAGzW,OAAQ7C,IAExBgjC,EAAM,CACLhgC,IAAKsW,EAAGtZ,GAAGgD,IACXjC,KAAMuY,EAAGtZ,GAAGe,KACZS,KAAM8X,EAAGtZ,GAAGwB,KACZoF,SAAU0S,EAAGtZ,GAAG4G,UAGjB+S,EAAO7W,KAAKkgC,GAGbC,EAAQ5hC,MAAM0B,SAAS4W,EACxB,IACDtW,EAAIO,OAEN,EACAs/B,WAAY,SAASlgC,GACpB,IAAI1C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACd6/B,EAAM7iC,EAAG0gB,MAAMlG,IACfsoB,EAAU9iC,EAAG0gB,MAAMoiB,QAIpB,GAFA9iC,EAAG0gB,MAAMyK,WAAazoB,EAElBogC,EAAQpgC,GACZ,CACC,IAAIw/B,EAAMliC,EAAGkiC,IAAIrI,KACjBqI,EAAIV,iBACJU,EAAIT,eACL,MAGC1+B,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAKA,EAAKW,OAAQ,iBAC5BD,MAAO,CAACC,OAAQ,SAAUoB,YAAa,MACrCzE,GAAI,SAASuD,GACf,IAGCuB,EACauH,EACb3M,EAJAqjC,EAAQx/B,EAAKhB,OAASgB,EAAK,GAAK,KAGhCvC,GAFQ+hC,GAAQA,EAAMlgC,QAEb,IAETq/B,EANOtiC,KAMCsiC,IAAIrI,KAIb,GAFAiJ,EAAQpgC,GAAO,CAAC2H,QAAS,IAErB04B,GAASA,EAAMh+B,SAIlB,IAFAD,EAASi+B,EAAMh+B,SAEVrF,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,KAE5B2M,EAAQvH,EAAOpF,GAAGmD,SACZ+f,MAAQigB,EAAIngC,IAClB2J,EAAMyX,UAAYif,EAAM7hC,MAAQmL,EAAMyX,UACtCzX,EAAM22B,MAAQ32B,EAAM22B,OAAS32B,EAAMnL,KACnCmL,EAAM42B,MAAQ52B,EAAM42B,MACpB52B,EAAM0O,MAAO,EACb1O,EAAM1F,SAAW0F,EAAMnL,KACvBmL,EAAM62B,WAAY,EAClB72B,EAAMsD,IAAM+Q,EAAMlG,IAAI7K,IACtBtD,EAAM82B,SAAWJ,EAAMrgC,IACvB1B,EAAOwB,KAAK6J,GAIdy2B,EAAQpgC,GAAK2H,QAAUrJ,EAEvBkhC,EAAIV,iBACJU,EAAIT,eACL,GAAG,MACJ1+B,EAAIO,MAEN,EACAb,SAAU,WACT,IAGC/C,EAIA0jC,EAPGpjC,EAAKJ,KACRyjC,EAAU,GACVC,EAAQ,GAERT,EAAM7iC,EAAG0gB,MACT1H,EAAKhZ,EAAG0gB,MAAMlG,IACdnQ,EAAU2O,EAAG3O,QAGd,GAA6B,aAAzB2O,EAAGvY,KAAKyH,cACZ,CACC,IAAI26B,EAAI1X,aAAc0X,EAAIC,QAAQD,EAAI1X,YAOrC,YADAnrB,EAAGyiC,aAJHp4B,EAAUw4B,EAAIC,QAAQD,EAAI1X,YAAY9gB,OAOxC,CAEA,GAAIA,EAEH,IAAK3K,EAAE,EAAGA,EAAI2K,EAAQ9H,OAAQ7C,IAE7B0jC,EAAM/4B,EAAQ3K,IACVM,EAAGmiC,WAA2B,GAAbiB,EAAIH,OAAgC,GAAfG,EAAIG,QAM7CF,EAAQ7gC,KAAK4gC,GAJbE,EAAM9gC,KAAK4gC,GASdpjC,EAAGoiC,MAAMrhC,MAAM0B,SAAS6gC,GACxBtjC,EAAGwjC,SAASziC,MAAM0B,SAAS4gC,EAC5B,EACArJ,UAAW,SAASl0B,GACnB,IAIIpG,EAAG+jC,EAENxvB,EACA8lB,EAAG2J,EAPA1jC,EAAKJ,KACRqI,EAAI,CACHmJ,EAAG,EACH2nB,QAAQ,GAETA,GAAS,EACH4K,GAAK,EAGZ,GAAI3jC,EAAGmiC,UACP,CAKC,IAFAuB,GAFAzvB,EAAOjU,EAAGoiC,OAEApI,YAELt6B,EAAE,EAAGA,EAAIuU,EAAKlT,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAIuU,EAAKlT,MAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,SAAWM,EAC5C,CACC29B,EAAQxvB,EAAK2vB,UAAUC,QAAQnkC,GAC/B,KACD,CAGG+jC,IAEHE,GAAK,GAEL5J,EAAInrB,EAAE60B,GAAOlK,SAASC,IAAM5qB,EAAEqF,EAAK4F,GAAGC,KAAKyf,SAASC,IAAM5qB,EAAE60B,GAAOzhC,SAAW,IACrE,GAAK+3B,EAAI2J,EAEjB3K,GAAS,GAITgB,EAAKA,EAAI,EAAK,EAAIA,EAClBA,EAAI4E,KAAKmF,IAAI/J,EAAG2J,IAGnB,CAEA,GAAU,GAANC,EACJ,CAIC,GAFAD,GADAzvB,EAAOjU,EAAGwjC,UACAxJ,YAENl0B,GAEH,IAAKpG,EAAE,EAAGA,EAAIuU,EAAKlT,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAIuU,EAAKlT,MAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,SAAWM,EAC5C,CACC29B,EAAQxvB,EAAK2vB,UAAUC,QAAQnkC,GAC/B,KACD,OAKDq6B,EAAI2J,EAGDD,KAEH1J,EAAInrB,EAAE60B,GAAOlK,SAASC,IAAM5qB,EAAEqF,EAAK4F,GAAGC,KAAKyf,SAASC,IAAM5qB,EAAE60B,GAAOzhC,SAAW,IACrE,GAAK+3B,EAAI2J,EAEjB3K,GAAS,GAITgB,EAAKA,EAAI,EAAK,EAAIA,EAClBA,EAAI4E,KAAKmF,IAAI/J,EAAG2J,IAGnB,CAQA,OANI3J,IAEH9xB,EAAEmJ,EAAI2oB,GAEP9xB,EAAE8wB,OAASA,EAEJ9wB,CACR,EACA87B,UAAW,WACV,IACC78B,EAAY88B,EADThkC,EAAKJ,KAERoC,EAAShC,EAAGg6B,YAETh6B,EAAGmiC,YAGG,IADTj7B,EAAIlH,EAAGoiC,MAAMrhC,MAAMwE,KAAKhF,MAAMgC,QAG7BvC,EAAGoiC,MAAMh1B,YAAW,IAIpBpN,EAAGoiC,MAAMh1B,YAAW,GACpB42B,EAAKrF,KAAKmF,IAbH,GAaY58B,EAAE,EAAY,GAATlF,GACxBhC,EAAGoiC,MAAM6B,UAAUD,IAGpBhkC,EAAGkiC,IAAI5B,gBAET,EAEA4D,YAAa,WACZ,IAAIlkC,EAAKJ,KAETI,EAAGmkC,KAAO7G,aAAat9B,EAAGmkC,KAE1BnkC,EAAGmkC,IAAMjsB,YAAW,WACnBlY,EAAGokC,WACJ,GAAG,GACJ,EAEAA,UAAW,WACV,IAECC,EAFQzkC,KACMC,KAAK,mBACLkB,MACd+4B,EAHQl6B,KAGEC,KAAK,eAAemG,WAE3B8zB,GAEHA,EAAOA,EAAK5xB,cACZm8B,EAAGC,aAAY,GACfD,EAAGE,UAAS,SAASlyB,GACpB,IACCmyB,EAAQnyB,EAAO7M,IAAI,QAAQ0C,cAC3BpC,EAAYuM,EAAO7M,IAAI,cAAgB,GAKxC,OAHAM,EAAYA,EAAUoC,cAClBs8B,EAAMtvB,QAAQ4kB,IAAS,GAAKh0B,EAAUoP,QAAQ4kB,IAAS,CAG5D,KAIAuK,EAAGC,aAAY,EAEjB,EAEA/jC,MAAO,CACN,CACCC,MAAO,YACPoT,OAA6B,aAArB5T,EAAG0gB,MAAMlG,IAAI/Z,KACrBrB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,UACNP,KAAM,EACNsS,aAAc,OACdC,WAAY,MACZnS,MAAO,CACP,EACAU,UAAW,CACV4R,OAAQ,SAAS1R,GACZA,EAAKqE,aAERhG,EAAGy5B,UAAU/Y,MAAMoiB,QAAU9iC,EAAGy5B,UAAU/Y,MAAMoiB,SAAW,CAAC,EAC5D9iC,EAAGy5B,UAAUmJ,WAAWjhC,EAAKqE,YAE/B,EACAzE,MAAO3B,OAGT,CACCY,MAAO,SACPoJ,QAAS,eACTC,QAAShJ,KAAKC,GAAG,aACjBQ,QAAS,CAET,EACAC,MAAO3B,QAIV,CACCY,MAAO,YACPU,KAAM,OACNwI,UAAW7I,KAAKC,GAAG,iBACnBknB,iBAAiB,EACjBvmB,UAAW,CACVwmB,MAAO,SAAStmB,EAAMqJ,EAAGqM,GACxB1V,EAAK8iC,QAAQP,aACd,IAGF,CACC1jC,MAAO,YACPU,KAAM,QACN+H,OAAQ,EACRy7B,OAAQ,WACRv7B,YAAY,EACZw7B,gBAAgB,EAChBC,UAAU,EACVpP,WAAW,EACXnO,QAAQ,EACRgO,aAAa,EACbzhB,QAAQ,EACRsuB,IAAKP,EACLntB,QAAS,wBACTF,WAAY,CACX5K,UAAW7I,KAAKC,GAAG,cACnBoJ,QAAS,CACRC,MAAO,mBACPqK,QAAS,yBAEV/S,UAAW,CACVgT,WAAY,SAAS7J,EAAMrF,EAAMmP,EAASC,GACzC,IAAIkwB,EAASt/B,EAAKuP,QAAQ,GACzBgwB,EAASpwB,EAOV,OALImwB,GAAUC,GAEbnD,EAAM9H,KAAKkL,YAAYF,EAAQC,IAGzB,CACR,EAEA3vB,KAAM,SAASvK,EAAMrF,EAAMmP,EAASC,GACtBD,GAAqCA,EAAQlP,IAAI,OAC/D,IAGFzE,MAAO,CACNC,OAAQ,CACP,OAAQ,WAAY,WAAY,WAAY,YAAa,OAAQ,WAAY,MAAO,QAAS,aAG/FgkC,YAAa,WACZplC,KAAKsiC,IAAI5B,eACV,EACAj2B,QAAS,CACR,CACC7J,MAAO,cACP8J,UAAW,WACX26B,kBAAkB,EAClBC,YAAY,EACZ3lC,MAAO,GACPiL,OAAQ,CACPhK,MAAO,WACP2kC,IAAK,6BAEN1jC,UAAW,CACV2jC,YAAa,SAASlvB,EAAQhC,EAAU0C,EAASS,GAChD,IAIsB3X,EADrB4G,EAFOo7B,EAAMjI,UAAU+J,SACXziC,MAAMwE,KAAKhF,MAAM2T,GACb1O,IAAI,YACpBkb,EAAQghB,EAAMhhB,MAEf,IAAKhhB,EAAE,EAAGA,EAAIghB,EAAM1f,OAAOuB,OAAQ7C,IAElC,GAAIghB,EAAM1f,OAAOtB,GAAG4G,UAAYA,EAChC,CACCoa,EAAM1f,OAAOtB,GAAGwZ,SAAWtC,EAC3B,KACD,CAEF,EACAyuB,YAAa,SAASC,EAAIpvB,EAAQlL,EAAGiE,EAAGoI,GACvC,IAAI3X,EACH0pB,EAAMkc,EAAGb,QACT/jB,EAAQghB,EAAMhhB,MACf,GAAoB,eAAhBxK,EAAO1V,MACX,CAEC,IADA0V,EAAOgvB,YAAehvB,EAAOgvB,WACxBxlC,EAAE,EAAGA,EAAI0pB,EAAIroB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE1C0pB,EAAIroB,MAAMwE,KAAKhF,MAAMb,GAAGgG,IAAI,WAAYwQ,EAAOgvB,YAGhD,IAAKxlC,EAAE,EAAGA,EAAIghB,EAAM1f,OAAOuB,OAAQ7C,IAElCghB,EAAM1f,OAAOtB,GAAGwZ,SAAWhD,EAAOgvB,UAEpC,CACD,IAGF,CACC7d,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,OACX0J,UAAU,EACVoT,UAAU,EACVzmB,KAAM,GAEP,CACC0mB,OAAQxmB,KAAKC,GAAG,WAChBwJ,UAAW,YACX0J,UAAU,EACVoT,UAAU,EACVxT,QAAQ,EACRjT,KAAM,IAGRc,UAAW,CACVC,YAAa,SAAS6J,GACV3L,KAAKgkC,UACXx3B,GAAG,aAAcxM,KAAKolC,YAAaplC,KACzC,EACA2lC,aAAc,SAASC,EAAUC,EAAapuB,GAE9C,IAGF,CACC7W,MAAO,YACPU,KAAM,WACN+H,OAAQ,EACRy7B,OAAQ,WACRv7B,YAAY,EACZw7B,gBAAgB,EAChBC,UAAU,EACVpP,WAAW,EACXnO,QAAQ,EACRgO,aAAa,EACb10B,KAAM,EACNuhC,IAAKP,EACLntB,QAAS,wBACTF,WAAY,CACX5K,UAAW7I,KAAKC,GAAG,cACnBoJ,QAAS,CACRC,MAAO,mBACPqK,QAAS,yBAEV/S,UAAW,CACVgT,WAAY,SAAS7J,EAAMrF,EAAMmP,EAASC,GACzC,IAAIkwB,EAASt/B,EAAKuP,QAAQ,GACzBgwB,EAASpwB,EAOV,OALImwB,GAAUC,GAEbnD,EAAM9H,KAAKkL,YAAYF,EAAQC,IAGzB,CACR,EAEA3vB,KAAM,SAASvK,EAAMrF,EAAMmP,EAASC,GACtBD,GAAqCA,EAAQlP,IAAI,OAC/D,IAIFzE,MAAO,CACNC,OAAQ,CACP,OAAQ,WAAY,WAAY,WAAY,YAAa,OAAQ,WAAY,MAAO,QAAS,aAG/FgkC,YAAa,WACZplC,KAAKsiC,IAAI5B,eACV,EACAj2B,QAAS,CACR,CACC7J,MAAO,cACP8J,UAAW,WACX26B,kBAAkB,EAClBC,YAAY,EACZ3lC,MAAO,GACPiL,OAAQ,CACPhK,MAAO,WACP2kC,IAAK,6BAEN1jC,UAAW,CACV2jC,YAAa,SAASlvB,EAAQhC,EAAU0C,EAASS,GAChD,IAIsB3X,EADrB4G,EAFOo7B,EAAMjI,UAAU+J,SACXziC,MAAMwE,KAAKhF,MAAM2T,GACb1O,IAAI,YACpBkb,EAAQghB,EAAMhhB,MAEf,IAAKhhB,EAAE,EAAGA,EAAIghB,EAAM1f,OAAOuB,OAAQ7C,IAElC,GAAIghB,EAAM1f,OAAOtB,GAAG4G,UAAYA,EAChC,CACCoa,EAAM1f,OAAOtB,GAAGwZ,SAAWtC,EAC3B,KACD,CAEF,EACAyuB,YAAa,SAASC,EAAIpvB,EAAQlL,EAAGiE,EAAGoI,GACvC,IAAI3X,EACH0pB,EAAMkc,EAAGb,QACT/jB,EAAQghB,EAAMhhB,MACf,GAAoB,eAAhBxK,EAAO1V,MACX,CAEC,IADA0V,EAAOgvB,YAAehvB,EAAOgvB,WACxBxlC,EAAE,EAAGA,EAAI0pB,EAAIroB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE1C0pB,EAAIroB,MAAMwE,KAAKhF,MAAMb,GAAGgG,IAAI,WAAYwQ,EAAOgvB,YAGhD,IAAKxlC,EAAE,EAAGA,EAAIghB,EAAM1f,OAAOuB,OAAQ7C,IAElCghB,EAAM1f,OAAOtB,GAAGwZ,SAAWhD,EAAOgvB,UAEpC,CACD,IAGF,CACC7d,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,OACX0J,UAAU,EACVoT,UAAU,EACVzmB,KAAM,GAEP,CACC0mB,OAAQxmB,KAAKC,GAAG,WAChBwJ,UAAW,YACX0J,UAAU,EACVoT,UAAU,EACVxT,QAAQ,EACRjT,KAAM,IAGRc,UAAW,CACVC,YAAa,SAAS6J,GACV3L,KAAKgkC,UACXx3B,GAAG,aAAcxM,KAAKolC,YAAaplC,KACzC,EACA2lC,aAAc,SAASC,EAAUC,EAAapuB,GAE9C,KAIH2P,KAAM,CACL,CACCxmB,MAAO,SACPoJ,QAAS,gBACTC,QAAS,QACTvI,QAAS,WACR,IAAItB,EAAKJ,KAAK65B,UACbiM,EAAQ9lC,KAAK65B,UAAU2I,MAEvBv3B,EADOjL,KAAK65B,UAAU+J,SACbn5B,QACTg3B,EAAKqE,EAAMr7B,QAeZ,OAbmB,YAAfrK,EAAG0tB,SAEN1tB,EAAG0tB,SAAW,UAES,WAAf1tB,EAAG0tB,SAEX1tB,EAAG0tB,SAAW,OAId1tB,EAAG0tB,SAAW,WAGP1tB,EAAG0tB,UAEX,IAAK,WACJ7iB,EAAE,GAAG2H,OACL3H,EAAE,GAAGyT,OACL+iB,EAAG,GAAG7uB,OACN6uB,EAAG,GAAG/iB,OACN,MACD,IAAK,UACJzT,EAAE,GAAGyT,OACLzT,EAAE,GAAG2H,OACL6uB,EAAG,GAAG/iB,OACN+iB,EAAG,GAAG7uB,OACN,MACD,QACC3H,EAAE,GAAG2H,OACL3H,EAAE,GAAG2H,OACL6uB,EAAG,GAAG7uB,OACN6uB,EAAG,GAAG7uB,OAGR,EACAjR,MAAOmgC,GAER,CACClhC,MAAO,SACPoJ,QAAS,kBACTC,QAAShJ,KAAKC,GAAG,aACjBQ,QAAS,WACR,IAAItB,EAAKJ,KACDI,EAAGy5B,UAAU+J,SACrB,GAAuC,aAAnCxjC,EAAG0gB,MAAMlG,IAAI/Z,KAAKyH,cACtB,CACC,IAAIy6B,EAAU3iC,EAAGy5B,UAAU55B,KAAK,kBAC5B8iC,EAAQ38B,aAEXhG,EAAG0gB,MAAMoiB,QAAU9iC,EAAG0gB,MAAMoiB,SAAW,CAAC,EACxC9iC,EAAGy5B,UAAUmJ,WAAWD,EAAQ38B,YAElC,MAGChG,EAAGwgC,KAAKmF,iBAAiB3lC,EAAG0gB,MAE9B,EACAnf,MAAOmgC,GAER,CACClhC,MAAO,SACPoJ,QAAS,kBACTC,QAAS,UACTvI,QAAS,WACR1B,KAAK4gC,KAAKoF,WAAWhmC,KAAK8gB,MAC3B,EACAnf,MAAOmgC,GAER,CACClhC,MAAO,eACPmS,MAAO,GACPzR,KAAM,WAGRO,UAAW,CACVC,YAAa,SAAS6J,GACrB,IAAIvL,EAAKJ,KACTI,EAAGmiC,UAAYniC,EAAGkiC,IAAIrI,KAAKnB,WAC3B14B,EAAGoiC,MAAQpiC,EAAGH,KAAK,gBACnBG,EAAGwjC,SAAWxjC,EAAGH,KAAK,mBACtBG,EAAG6lC,OAAS7lC,EAAGH,KAAK,iBAEpBqY,YAAW,WACV,IAAI4tB,EAAOl3B,EAAE5O,EAAGo+B,IAAIE,OACN1vB,EAAE,mGAAmGssB,SAAStsB,EAAE,kBAAmBk3B,IAEzInK,KAAK,SAAS,SAAS3wB,GAC9BA,EAAE+6B,kBACF/6B,EAAEg7B,iBAEFhmC,EAAGI,OACJ,IAEA0lC,EAAKxmC,UAAU,CACdoqB,SAAU,IACVD,UAAW,IACXwc,MAAO,SAASnwB,EAAIvK,GAEpB,EACA26B,KAAM,SAASpwB,EAAIvK,GAClBvL,EAAGqgC,QAAQ90B,EAAG46B,KAAK5mC,MAAOgM,EAAG46B,KAAKnkC,QAClCq3B,EAAKuC,cACN,GAEF,GAAG,IAEH57B,EAAGyC,UACJ,EACA8iC,aAAc,SAASC,EAAUC,EAAapuB,GAE9C,EACA+uB,OAAQ,SAASzkC,EAAMpC,EAAOyC,EAAQqkC,EAAQC,EAAS5e,GAEtD2R,EAAKuC,cACN,EACA2K,UAAW,SAAS5kC,GACfA,EAAKy8B,MAERz8B,EAAKy8B,IAAIoI,OAAO/L,UAAYpB,EAAKoB,UAEnC,EACAwH,KAAM,SAAStgC,EAAMygB,EAAG+c,EAAG9nB,IACtB+K,EAAI,GAAK+c,EAAI,IAEhBv/B,KAAK6mC,YAAYrkB,EAAI,EAAI,EAAIA,EAAG+c,EAAI,EAAI,EAAIA,GAE7C9F,EAAKuC,cACN,EACAx7B,MAAO,SAAS6U,EAAOoC,GACtBsqB,EAAMP,UAAUM,EACjB,IAMH,EAEA5iC,IAAI4hC,SAAS1H,UAAY,CACxBN,WAAY,SAAStX,GAChBxhB,KAAK8gB,MAAMgY,YAActX,IAG7BxhB,KAAK8gB,MAAMgY,WAAatX,EAExBxhB,KAAK65B,UAAUf,WAAWtX,GAC3B,EAEAuf,cAAe,SAASvf,GACvB,IAMC+e,EANGngC,EAAKJ,KACR+hC,EAAQ3hC,EAAGq5B,KAIJr5B,EAAG0gB,MAAMlG,IAAIjb,MAGrB4gC,IAFCA,EAAIngC,EAAG0gB,MAAMlG,IAAIonB,UAEP,KAAO,IAAO,IAAMzB,EAI/BngC,EAAGy5B,UAAUrsB,YAAW,GA2BxBu0B,EAAM/F,eACN+F,EAAMrB,eACP,GAGDxhC,IAAIqiC,UAAY,SAAS9H,EAAM4H,EAASC,EAAOH,EAAMtI,GACpD,IAAIz4B,EAAKJ,KAETI,EAAGq5B,KAAOA,EACVr5B,EAAGihC,QAAUA,EACbjhC,EAAGkhC,MAAQA,EACXlhC,EAAGw6B,MAAQ,CAACuG,GACZ/gC,EAAGy4B,UAAYA,EAEfz4B,EAAG0mC,SAAW,GACd1mC,EAAG2mC,OAAS,GAEZ3mC,EAAG06B,SAAWrB,EAAKqB,QACpB,EAEA57B,IAAIqiC,UAAUnI,UAAY,CACzB4N,kBAAmB,SAASC,GAC3B,IACCC,EAAKl4B,EAAEhP,KAAKqhC,QAAQ9H,IAAIM,UAAUC,KAAK5f,KACvCgT,EAAIga,EAAGvN,SACPwN,EAAKn4B,EAAEhP,KAAKshC,MAAM/H,IAAIM,UAAUC,KAAK5f,KACrC7K,EAAI83B,EAAGxN,SACPyN,EAAMloC,IAAIs8B,MAAMC,GAAGyL,GAAMD,EACzBI,EAAMnoC,IAAIs8B,MAAMC,GAAG0L,GAAMF,EAEtB/Z,EAAEsM,KAAO4N,EAAM/3B,EAAEmqB,MAEpBx5B,KAAK8mC,SAAW,QAChB9mC,KAAK+mC,OAAS,QAIV13B,EAAEmqB,KAAO6N,EAAMna,EAAEsM,MAEpBx5B,KAAK8mC,SAAW,OAChB9mC,KAAK+mC,OAAS,UAIV7Z,EAAEsM,KAAOnqB,EAAEmqB,KAEdx5B,KAAK8mC,SAAW,QAChB9mC,KAAK+mC,OAAS,QASlB,EACAO,eAAgB,SAASnG,EAAMvG,GAC9B,IACC9xB,EADQ9I,KACMy5B,KAAK3wB,SACnBiP,EAAM,IAAI7Y,IAAIqoC,WAAW,CACxBz+B,SAAUA,EACV2wB,KAAMz5B,KAAKy5B,KACX0H,KAAMA,EACNvG,MAAOA,EACP/B,UAAW74B,KAAK64B,UAChBv4B,SAAU,IAAIpB,IAAIsF,YAAYxE,KAAMA,KAAKwnC,qBAG3CtoC,IAAIuoC,QAXKznC,KAWO+X,EACjB,EACAyvB,kBAAmB,SAAShT,GAC3B,IAKC10B,EALGM,EAAKJ,KACRy5B,EAAOr5B,EAAGq5B,KACVQ,EAAOR,EAAKQ,KACZW,EAAQpG,EAAO,GAGhB,OAFQA,EAAO,IAIf,IAAK,SACJyF,EAAKyN,mBACLzN,EAAKyG,gBACLjH,EAAKiH,gBACL,MACD,IAAK,UACJ,IAAK5gC,EAAE,EAAGA,EAAIM,EAAGw6B,MAAMj4B,OAAQ7C,IAE1BM,EAAGw6B,MAAM96B,IAAM86B,EAAM,KAExBx6B,EAAGw6B,MAAM96B,GAAGya,KAAOqgB,EAAM,GAAGrgB,MAG9Bkf,EAAKiH,gBAGP,EAEA5nB,QAAS,SAAS6uB,EAAI/O,GACrB,IAGCgP,EAAIC,EAAIC,EAAIC,EAISC,EAOrBzkB,EACQ0kB,EAdRlG,EAAQ/hC,KACRkoC,EAAY,EAEZ7G,EAAUU,EAAMV,QAChBC,EAAQS,EAAMT,MACd1G,EAAQmH,EAAMnH,MACduN,EAAO,GAEPC,EAAQ,GACR93B,EAAIyxB,EAAMtI,KAAK0F,QACf9iB,EAAQ,CAACgsB,OAAQ,UAAW,eAAgB,EAAGC,KAAM,OAAQC,QAAS,GACtEC,EAAQ,CAACH,OAAQ,UAAWC,KAAM,UAAWC,QAAS,GAKtDtB,EAAIlF,EAAMtI,KAAKoB,UACf4N,EAAK,EAAIxB,EAINlF,EAAMnH,OAASmH,EAAMnH,MAAMj4B,OAAS,GAAkB,GAAbi2B,IAE5CsP,EAAiC,IAArBnG,EAAMnH,MAAMj4B,QAGzBo/B,EAAMiF,kBAAkBC,GAExBgB,EAAuB,GAAbrP,GAAqBgC,EAAMj4B,OAAS,EAAK,CAACi4B,EAAM,IAAMA,EAEhE5rB,EAAEC,KAAKg5B,GAAQ,SAASnoC,EAAGqhC,GAG1B,GAAKA,EAAL,CAGA,IAAIuH,EAAgB3G,EAAM+E,SACzB6B,EAAc5G,EAAMgF,OAErB5F,EAAKyH,YAAiC,IAAhBzH,EAAW,OAAoB,KAAOA,EAAKyH,OAG7DzH,EAAKlI,OAAO/U,WAAaod,EAAM1mB,IAAItZ,MAAQ6/B,EAAKjI,OAAOhV,WAAamd,EAAQzmB,IAAItZ,MAAQ6/B,EAAKlI,OAAOlpB,KAAOuxB,EAAM1mB,IAAI7K,KAAOoxB,EAAKjI,OAAOnpB,KAAOsxB,EAAQzmB,IAAI7K,KAE9JsxB,EAAUU,EAAMT,MAChBA,EAAQS,EAAMV,QACVqH,GAAiBC,IAGnBD,EADoB,SAAjBA,EACa,OAEA,QAEhBC,EADkB,SAAfA,EACW,OAEA,WAKhBtH,EAAUU,EAAMV,QAChBC,EAAQS,EAAMT,OAGf/d,EAA0B,GAAhBqX,EAAMj4B,QAA4B,GAAbi2B,EAAsBgC,EAAM96B,GAAGm5B,OAAO33B,KAAO,KAC5EsmC,EAAK,CAACplB,EAAG6e,EAAQhI,SAAWoP,EAAIlJ,EAAG8B,EAAQtH,OAAOxW,GAAUklB,GAC5DllB,EAA0B,GAAhBqX,EAAMj4B,QAA4B,GAAbi2B,EAAsBgC,EAAM96B,GAAGo5B,OAAO53B,KAAO,KAC5EymC,EAAK,CAACvlB,EAAG8e,EAAMjI,SAAWoP,EAAIlJ,EAAG+B,EAAMvH,OAAOxW,GAAUklB,GAElC,GAAlBpH,EAAQlI,QAAkC,GAAhBmI,EAAMnI,SAE1B,EACT9c,EAAMgsB,OAAS,UACfhsB,EAAM,gBAAkB6rB,EACxBM,EAAMH,OAAS,UACfG,EAAMF,KAAO,WAELJ,EAAY,IAEX,EACT7rB,EAAMgsB,OAAS,UACfhsB,EAAM,gBAAkB6rB,EACxBM,EAAMH,OAAS,UACfG,EAAMF,KAAO,YAIJ,EAGW,SAAjBI,GAEHd,EAAGplB,GAAK6e,EAAQhH,YAChBwN,EAAK,CAACrlB,EAAGolB,EAAGplB,EAAI4lB,EAAO7I,EAAGqI,EAAGrI,IAEJ,QAAjBmJ,IAERb,EAAK,CAACrlB,EAAGolB,EAAGplB,EAAI4lB,EAAO7I,EAAGqI,EAAGrI,IAGX,SAAfoJ,GAEHZ,EAAGvlB,GAAK8e,EAAMjH,YACdyN,EAAK,CAACtlB,EAAGulB,EAAGvlB,EAAI4lB,EAAO7I,EAAGwI,EAAGxI,IAEN,QAAfoJ,IAERb,EAAK,CAACtlB,EAAGulB,EAAGvlB,EAAI4lB,EAAO7I,EAAGwI,EAAGxI,IAoE9ByI,GADAA,EAAM9oC,IAAI2pC,gBAAgBhB,EAAIC,EAAI,IACxBnlC,OAAS,EAAIqlC,EAAI,GAAK,KAE5BpN,GAASA,EAAMj4B,OAAS,GAAsB,eAAjBi4B,EAAM,GAAGrgB,KAEtB,SAAfouB,EAEHr4B,EAAEw4B,KAAK,IAAMf,EAAGvlB,EAAI,KAAOulB,EAAGxI,EAAI4I,GAC9B,KAAOJ,EAAGvlB,EAAI2lB,GAAQ,IAAMJ,EAAGxI,EAC/B,IAAMwI,EAAGvlB,EAAI,KAAOulB,EAAGxI,EAAI4I,IAAOY,KAAK1sB,GAI3C/L,EAAEw4B,KAAK,IAAMf,EAAGvlB,EAAI,KAAOulB,EAAGxI,EAAI4I,GAC9B,KAAOJ,EAAGvlB,EAAI2lB,GAAQ,IAAMJ,EAAGxI,EAC/B,IAAMwI,EAAGvlB,EAAI,KAAOulB,EAAGxI,EAAI4I,IAAOY,KAAK1sB,GAGpCue,GAASA,EAAMj4B,OAAS,GAAsB,cAAjBi4B,EAAM,GAAGrgB,OAGzB,SAAjBmuB,EAEHp4B,EAAEw4B,KAAK,IAAMlB,EAAGplB,EAAI,KAAOolB,EAAGrI,EAAI4I,GAC9B,KAAOP,EAAGplB,EAAI2lB,GAAQ,IAAMP,EAAGrI,EAC/B,IAAMqI,EAAGplB,EAAI,KAAOolB,EAAGrI,EAAI4I,IAAOY,KAAK1sB,GAI3C/L,EAAEw4B,KAAK,IAAOlB,EAAI,EAAI,KAAOA,EAAGrI,EAAI4I,GAChC,KAAOP,EAAGplB,EAAE2lB,GAAQ,IAAMP,EAAGrI,EAC7B,IAAOqI,EAAI,EAAI,KAAOA,EAAGrI,EAAI4I,IAAOY,KAAK1sB,IAI/C/L,EAAEw4B,KAAK,IAAMlB,EAAGplB,EAAI,IAAMolB,EAAGrI,EACzB,IAAMsI,EAAGrlB,EAAI,IAAMqlB,EAAGtI,EACtB,IAAMuI,EAAGtlB,EAAI,IAAMslB,EAAGvI,EACtB,IAAMwI,EAAGvlB,EAAI,IAAMulB,EAAGxI,GAAGwJ,KAAK1sB,GAElC,IAIC2sB,EAJGC,EAAwB,GAAhBrO,EAAMj4B,QAA4B,GAAbi2B,EAAqBgC,EAAQ,CAACA,EAAM96B,IACjEmL,EAAI+D,EAAE,gDAAgDssB,SAASyG,EAAMtI,KAAKyF,WAC7EgK,EAAQ,GACRC,EAAQn6B,EAAE,OAAQ/D,GAGnB,GAAiB,GAAb2tB,EAEH,IAAK94B,EAAE,EAAGA,EAAI86B,EAAMj4B,OAAQ7C,IAEvBA,EAAI,IAEPopC,GAAS,MAEVA,GAAStO,EAAM96B,GAAGm5B,OAAO33B,KACrBs5B,EAAM96B,GAAGm5B,OAAO33B,MAAQs5B,EAAM96B,GAAGo5B,OAAO53B,OAE3C4nC,GAAS,MAAQtO,EAAM96B,GAAGo5B,OAAO53B,WAMnC4nC,EAAQ/H,EAAKlI,OAAO33B,KAAO,MAAQ6/B,EAAKjI,OAAO53B,KAGhD6nC,EAAMliB,KAAKiiB,GACXj+B,EAAE89B,KAAK,QAASG,GAEhBF,EAAMjK,KAAKmF,IAAIiF,EAAMxpC,QAAU,GAAK,GAAI,IAExCsL,EAAEgwB,IAAI,CAACzB,KAAMwO,EAAIxlB,EAAIwmB,EAAKpP,IAAKoO,EAAIzI,IACnCt0B,EAAE8wB,KAAK,SAAS,SAAS3wB,GACxBA,EAAEg7B,iBACFh7B,EAAE+6B,kBAEFpE,EAAMuF,eAAe2B,EAAMrO,EAC5B,IAIAmH,EAAMtI,KAAK4F,IAAIz8B,KAAKqI,EA7Nb,CA6TR,GACD;ACnuDD/L,IAAIkqC,gBAAkBhqC,GAAGC,OAAOD,GAAGE,OAAQ,CAE1CC,OAAO,EACP4C,OAAO,SACP3C,OAAQ,MACRC,UAAU,EACVC,WAAU,EACVC,MAAO,IAEPiZ,MAAO,WACN,IAAIxY,EAAKJ,KACRk5B,EAAS94B,EAAGipC,QAETnQ,IAEH94B,EAAGH,KAAK,iBAAiB6D,SAASo1B,EAAO53B,MACzClB,EAAGH,KAAK,kBAAkB6D,SAAS1D,EAAGkpC,QAAQlpC,EAAG8F,YAEnD,EAEAD,SAAU,WACT,IAAI7F,EAAKJ,KACCI,EAAGipC,UAIZjpC,EAAGkpC,QAAQlpC,EAAG8F,WAAa9F,EAAGH,KAAK,kBAAkBmG,YAGtDhG,EAAGE,UAAYF,EAAGE,SAASC,UAC3BH,EAAGI,OACJ,EAEAC,cAAgB,WACNT,KAENgB,MAAQC,KAAKC,GAAG,2BAEnB9B,GAAGsB,MAAMV,KAAM,CACdsJ,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,eACPU,KAAM,UAEP,CACCV,MAAO,WACPU,KAAM,UACNc,OAAQ,KAET,CACCxB,MAAO,eACPmS,MAAO,+DAMXtR,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAK4Y,OACN,KAIF1Z,IAAIkqC,gBAAgBpnC,WAAWvB,cAAcC,MAAMV,KAAM4L,UAC1D,IAGD1M,IAAIqoC,WAAanoC,GAAGC,OAAOD,GAAGE,OAAQ,CAErCC,OAAO,EACP4C,OAAO,SACP3C,OAAQ,MACRC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPC,YAAY,EAEZU,SAAU,KACVipC,SAAU,KAEV3wB,MAAO,WAGN,GAFA5Y,KAAKupC,SAAW,KAEZvpC,KAAKmhC,MAAQnhC,KAAKmhC,KAAKx+B,OAAS,EACpC,CACC,IAEU7C,EACTshC,EAHGoI,EAAOxpC,KAAKC,KAAK,eACpBwpC,EAAUzpC,KAAKC,KAAK,kBACpB6P,EAAK,GAGN,GAAI9P,KAAKmhC,KAAKx+B,OAAS,EACvB,CAGC,IAFA6mC,EAAKh8B,YAAW,GAChBi8B,EAAQj8B,YAAW,GACd1N,EAAE,EAAGA,EAAIE,KAAKmhC,KAAKx+B,OAAQ7C,IAE/BshC,EAAIphC,KAAKmhC,KAAKrhC,GACdgQ,EAAGlN,KAAK,CACPtB,KAAM8/B,EAAEnI,OAAO/U,UAAY,IAAMkd,EAAEnI,OAAO33B,KAAO,MAAQ8/B,EAAElI,OAAOhV,UAAY,IAAMkd,EAAElI,OAAO53B,KAC7FooC,IAAK5pC,IAIP0pC,EAAKroC,MAAM0B,SAASiN,GACpB05B,EAAK1lC,SAAS,EACf,CAEA9D,KAAKqQ,cAAcrQ,KAAKmhC,KAAK,GAC9B,CACD,EAEA9wB,cAAe,SAAS8wB,GACvB,IAAI/gC,EAAKJ,KACR2pC,EAASvpC,EAAGH,KAAK,iBACjBilC,EAAS9kC,EAAGH,KAAK,iBACjB2pC,EAAQxpC,EAAGH,KAAK,gBAEbkhC,IAEH/gC,EAAGmpC,SAAWpI,EAEdwI,EAAO7lC,SAAS1D,EAAGypC,YAAY1I,EAAKlI,SACpCiM,EAAOphC,SAAS1D,EAAGypC,YAAY1I,EAAKjI,SAGpC0Q,EAAM9lC,SAASq9B,EAAK5mB,MAEtB,EAEAsvB,YAAa,SAAS1P,GAYrB,OAVIA,EAAEvV,QAEDuV,EAAEvV,QACAlc,QAAQ,UAAWyxB,EAAE74B,MAIvB64B,EAAEjW,UAAY,IAAMiW,EAAE74B,IAI5B,EAEAwoC,WAAY,WACX,IACChqC,EAAG8lB,EAAemkB,EADf3pC,EAAKJ,KACFgqC,EAAS,EACfR,EAAOppC,EAAGH,KAAK,eACf26B,EAAQx6B,EAAG+gC,KACXtI,EAAYz4B,EAAGy4B,UACfoR,EAAU7pC,EAAGmpC,SAEbW,EADO9pC,EAAGq5B,KACImB,MAEf,GAAIA,EAAMj4B,OAAS,EACnB,CACC,IAAK7C,EAAE,EAAGA,EAAI+4B,EAAUl2B,OAAQ7C,IAE/B,GAAI+4B,EAAU/4B,IAAMmqC,EACpB,CACCpR,EAAUxO,OAAOvqB,EAAG,GACpB,KACD,CAGD,IAAKA,EAAE,EAAGA,EAAI86B,EAAMj4B,OAAQ7C,IAE3B,GAAI86B,EAAM96B,IAAMmqC,EAChB,CACCrP,EAAMvQ,OAAOvqB,EAAG,GAChBkqC,EAAS,EACT,KACD,CAGD,IAAKlqC,EAAE,EAAGA,EAAIoqC,EAAOvnC,OAAQ7C,IAC7B,CAEC,IADAiqC,EAAS,EACJnkB,EAAE,EAAGA,EAAIskB,EAAOpqC,GAAG86B,MAAMj4B,OAAQijB,IAErC,GAAIskB,EAAOpqC,GAAG86B,MAAMhV,IAAMqkB,EAC1B,CAECC,EAAOpqC,GAAG86B,MAAMvQ,OAAOzE,EAAG,GAC1BmkB,EAAS,EACT,KACD,CAGD,GAAIA,EACJ,CACyB,GAApBG,EAAOpqC,GAAG6C,QAEbunC,EAAO7f,OAAOvqB,EAAG,GAElB,KACD,CACD,CAEA,GAAIkqC,EACJ,CACC,IAAI36B,EAAIm6B,EAAKpjC,WACb,IAAKtG,EAAE,EAAGA,EAAI0pC,EAAKroC,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C,GAAI0pC,EAAKroC,MAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,QAAUyJ,EAC3C,CACCm6B,EAAKroC,MAAMsT,SAAS3U,GACpB,KACD,CAGmC,GAAhC0pC,EAAKroC,MAAMwE,KAAKhF,MAAMgC,QAEzB6mC,EAAK9qB,OAGF8qB,EAAKroC,MAAMwE,KAAKhF,MAAMgC,OAAS,GAElC6mC,EAAK1lC,SAAS0lC,EAAKroC,MAAMwE,KAAKhF,MAAM,GAAGiF,IAAI,OAE7C,CAEA,IAAK9F,EAAE,EAAGA,EAAI0pC,EAAKroC,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAE3C0pC,EAAKroC,MAAMwE,KAAKhF,MAAMb,GAAGgG,IAAI,MAAOhG,GAGrCM,EAAGE,UAAYF,EAAGE,SAASC,QAAQ,CAACq6B,EAAO,UAC5C,KAEA,CACC,IAAK96B,EAAE,EAAGA,EAAI+4B,EAAUl2B,OAAQ7C,IAE/B,GAAI+4B,EAAU/4B,IAAMmqC,EACpB,CACCpR,EAAUxO,OAAOvqB,EAAG,GACpB,KACD,CAGD,IAAKA,EAAE,EAAGA,EAAIoqC,EAAOvnC,OAAQ7C,IAC7B,CAEC,IADAkqC,EAAS,EACJpkB,EAAE,EAAGA,EAAIskB,EAAOpqC,GAAG86B,MAAMj4B,OAAQijB,IAErC,GAAIskB,EAAOpqC,GAAG86B,MAAMhV,IAAMqkB,EAC1B,CAECC,EAAOpqC,GAAG86B,MAAMvQ,OAAOzE,EAAG,GAC1BokB,EAAS,EACT,KACD,CAGD,GAAIA,EACJ,CACyB,GAApBE,EAAOpqC,GAAG6C,QAEbunC,EAAO7f,OAAOvqB,EAAG,GAElB,KACD,CACD,CAEAM,EAAGE,UAAYF,EAAGE,SAASC,QAAQ,CAACq6B,EAAO,WAC3Cx6B,EAAGI,OACJ,CACD,EAEA2pC,eAAgB,WACf,IACCP,EADQ5pC,KACGC,KAAK,gBAChBgqC,EAFQjqC,KAEKupC,SAEVU,IAEHA,EAAQ1vB,KAAOqvB,EAAMxjC,WACrB6jC,EAAQr5B,SAAW,IAErB,EAEA3K,SAAU,WACT,IAAI7F,EAAKJ,KAETI,EAAG+pC,iBACH/pC,EAAGE,UAAYF,EAAGE,SAASC,QAAQ,CAACH,EAAG+gC,KAAM,YAC7C/gC,EAAGI,OACJ,EAEA4pC,UAAW,SAASC,GACnB,IAKCtyB,EALG3X,EAAKJ,KACRohC,EAAIhhC,EAAGmpC,SACPtE,EAAS7kC,EAAGH,KAAK,UAAYoqC,EAAW,IAAM,KAAO,UACrD59B,EAAQ49B,EAAWjJ,EAAEnI,OAASmI,EAAElI,OAChChzB,GAAamkC,EAAW,SAAW,UAAY,iBAG5C59B,IAEHsL,EAAM,IAAI7Y,IAAIkqC,gBAAgB,CAC7BtgC,SAAU1I,EAAG0I,SACbwgC,QAASlI,EACTiI,QAAS58B,EACTvG,UAAWA,EACX5F,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,WACjC6kC,EAAOnhC,SAAS9D,KAAK6pC,YAAYp9B,GAClC,MAGDvN,IAAIkK,WAAWhJ,EAAI2X,GAErB,EAEAtX,cAAgB,WAEfrB,GAAGsB,MAAMV,KAAM,CACdsJ,QAASpB,IAAIoB,QACbtI,MAAOC,KAAKC,GAAG,qBACfP,MAAO,CACN,CACCC,MAAO,OACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,cACpBI,KAAM,OACN0S,QAAQ,EACRZ,UAAW,QACXI,YAAY,EACZjK,YAAY,EACZgK,UAAU,EACVyC,WAAY,OACZ3C,aAAc,OACdC,WAAY,MACZnS,MAAO,CACNC,OAAQ,CACP,OAAQ,QAGVS,UAAW,CACV4R,OAAQ,SAAShH,EAAO69B,EAAUC,EAAU9yB,GAC3C,IAAI/H,EAAIjD,EAAMrG,WACdpG,KAAKqQ,cAAcrQ,KAAKmhC,KAAKzxB,GAC9B,EACA/N,MAAO3B,OAGT,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERQ,KAAM,aACNX,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,SACNwI,UAAW7I,KAAKC,GAAG,cACnBuI,WAAYxI,KAAKC,GAAG,kBACpB6I,UAAU,EACVhJ,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKoqC,WAAU,EAChB,EACAzoC,MAAO3B,QAIV,CACCY,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERQ,KAAM,aACNX,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,SACNwI,UAAW7I,KAAKC,GAAG,cACnBuI,WAAYxI,KAAKC,GAAG,kBACpB6I,UAAU,EACVhJ,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACR1B,KAAKoqC,WAAU,EAChB,EACAzoC,MAAO3B,QAIV,CACCY,MAAO,WACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER4G,SAAU,CACTmM,WAAY,KAEb7S,MAAOC,KAAKC,GAAG,aACfP,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,mBACpBkS,UAAW,QACXI,YAAY,EACZD,UAAU,EACVD,WAAY,KACZD,aAAc,OACd2C,WAAY,OACZw0B,GAAI,IACJrpC,MAAO,CACNC,OAAQ,CACP,OAAQ,KAAM,QAEfuE,KAAM,CACL,CAACrE,KAAM,cAAe6U,GAAI,aAAcs0B,KAAM,0BAC9C,CAACnpC,KAAM,aAAc6U,GAAI,aAAcs0B,KAAM,yCAC7C,CAACnpC,KAAM,cAAe6U,GAAI,cAAes0B,KAAM,yCAC/C,CAACnpC,KAAM,eAAgB6U,GAAI,UAAWs0B,KAAM,0CAC5C,CAACnpC,KAAM,aAAc6U,GAAI,aAAcs0B,KAAM,uCAG/C5oC,UAAW,CACV4R,OAAQ,SAASi3B,GAChB,IAAIx/B,EACHpL,EACAuI,EACAsiC,EAAOD,EAAKtkC,WACZwkC,EAAU5qC,KAAKC,KAAK,kBAErB,IAAKH,EAAE,EAAGA,EAAI4qC,EAAKvpC,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAI3C,IAFAuI,EAAIqiC,EAAKvpC,MAAMwE,KAAKhF,MAAMb,IAEpB8F,IAAI,OAAS+kC,EACnB,CACCz/B,EAAM7C,EACN,KACD,CAGG6C,GAEH0/B,EAAQ9mC,SAAS,KAAOoH,EAAItF,IAAI,QAElC,EACAjE,MAAO3B,OAGT,CACCY,MAAO,eACPU,KAAM,aAIT,CACCV,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,SAERH,MAAO,CACN,CACCC,MAAO,SACPU,KAAM,UACNE,KAAMP,KAAKC,GAAG,qBACd8S,QAAQ,EACRtS,QAAS,WACR1B,KAAKmqC,gBACN,EACAxoC,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,qBACdQ,QAAS,WACR1B,KAAK8pC,YACN,EACAnoC,MAAO3B,WAObyB,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAK4Y,OACN,KAIF1Z,IAAIqoC,WAAWvlC,WAAWvB,cAAcC,MAAMV,KAAM4L,UACrD;AC3iBD1M,IAAI2rC,UAAYzrC,GAAGC,OAAOH,IAAI2a,MAAO,CACpCixB,eAAc,EACd/+B,YAAY,EACZvM,OAAQ,MACRkI,SAAU,CACTqjC,aAAa,EACb55B,OAAO,EACP65B,WAAW,EACXC,UAAU,EACVC,cAAc,GAGfC,aAAa,EACb1rC,UAAU,EAEV2rC,UAAW,SACXC,UAAW,SAEXrhC,QAAS,iBAET4O,MAAO,WACN,IAAIxY,EAAKJ,KACRg7B,EAAY56B,EAAGH,KAAK,qBAErBG,EAAG+5B,EAAI,IAAIj7B,IAAIu7B,gBAAgBzrB,EAAEgsB,EAAUlB,KAAK5f,KAAM9Z,GACtDA,EAAG+5B,EAAE92B,OAEDjD,EAAG0C,KAEN1C,EAAGkrC,eAEHlrC,EAAGH,KAAK,iBAAiBuN,WAAWpN,EAAGqL,UAEnCrL,EAAGqL,UAENvM,IAAIqsC,UAAUnrC,GAAI,SAASmf,GACf,UAAPA,IAEHnf,EAAGqL,UAAW,EACdrL,EAAGH,KAAK,iBAAiBye,OAE3B,KAGOte,EAAG8lB,IAEX9lB,EAAGorC,gBAAgBprC,EAAG8lB,MAItB9lB,EAAG4c,UAAY,IAAI9d,IAAI+d,YAAY,MACnC7c,EAAGqrC,WAEL,EAEAH,aAAc,WACb,IAAIlrC,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACwe,QAAS3hB,EAAG0C,KACtBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAGorC,gBAAiB,MAC5BroC,EAAIO,MACL,EAEA8nC,gBAAiB,SAAS7nC,GACzB,IACCsX,EACAL,EAFGxa,EAAKJ,KAGR0rC,EAAUtrC,EAAGH,KAAK,kBAEnBG,EAAG4c,UAAY,IAAI9d,IAAI+d,YAAYtZ,EAAKV,WACxC2X,EAAMxa,EAAG4c,UAAUpC,KAEVF,YAActa,EAAG2c,QAEzBnC,EAAIF,WAAa,CAChB5X,IAAK1C,EAAG2c,SAGD3c,EAAG2c,UAEXnC,EAAIF,WAAW5X,IAAM1C,EAAG2c,SAGzB3c,EAAG2c,QAAUnC,EAAIF,WAAW5X,IAE5B1C,EAAG4c,UAAUtC,WAAa,CACzB5X,IAAK8X,EAAIF,WAAW5X,KAAO1C,EAAG2c,SAG/B,IAAI4uB,EAAS,IAEb,GAAIvrC,EAAG2c,QACP,CACC,IAAI5Z,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAG2c,SAClBvZ,MAAO,CAACC,OAAQ,cACdrD,GAAI,SAASuD,GACXA,GAAQA,EAAKhB,SAEhBvC,EAAGwrC,KAAOjoC,EAAK,GACfgoC,EAAShoC,EAAK,GAAGrC,KACjBoqC,EAAQ/vB,QAAQgwB,GAChBD,EAAQG,WAAW,WAAaloC,EAAK,GAAG+C,SAAW,4BAErD,IAAG,GACJvD,EAAIO,MACL,CAEAgoC,EAAQ/vB,QAAQgwB,GAChBD,EAAQG,WAAW,IAEnB5wB,EAAQ,CACPpa,KAAM,OACNS,KAAM,aACNwB,IAAK1C,EAAG2c,QACR5B,MAAM,EACNhW,SAAU,CACT,CACCtE,KAAM,OACNS,KAAM,iBAKT2Z,EAAQ7a,EAAGH,KAAK,gBAAgBob,YAAYJ,IACtCM,SAENnb,EAAGqrC,UACJ,EAEAA,SAAU,WACAzrC,KAEN4hC,iBAFM5hC,KAGN6hC,eACJ,EAEAiK,eAAgB,SAASnoC,EAAMooC,GAC9B,IAAIjsC,EAAG8lB,EACN5e,EACAglC,EACAC,EACD,IAAKnsC,EAAE,EAAGA,EAAI6D,EAAKhB,OAAQ7C,IAS1B,IAPAmsC,EAAKtoC,EAAK7D,IACPiH,SAAWklC,EAAG3qC,KACb2qC,EAAGllC,SAASpE,OAAS,IAAgC,KAA1BspC,EAAGllC,SAASmlC,OAAO,MAEjDD,EAAGllC,SAAWklC,EAAGllC,SAASgnB,UAAU,KAGjCke,EAAG9mC,SAIN,IAFA6mC,EAASC,EAAG9mC,SAEPygB,EAAE,EAAGA,EAAIomB,EAAOrpC,OAAQijB,IAE3B5e,EAAOglC,EAAOpmB,GACdmmB,EAAKnpC,KAAK,CACTmQ,MAAO/L,EAAKlE,IACZxB,KAAM2qC,EAAGllC,SAAW,IAAMC,EAAK1F,YAMlCyqC,EAAKnpC,KAAK,CACRmQ,MAAO,GACPzR,KAAM2qC,EAAGllC,SAAW,qBAIzB,EAEA46B,gBAAiB,WAChB,IAEC7hC,EAAGqB,EAFKnB,KACKC,KAAK,kBACCkB,MACnB6b,EAHQhd,KAGOgd,UACfmvB,EAAU,CAAC,EAEZ,GAAIhrC,EAAMwE,KAAKhF,MAAMgC,OACrB,CACC,IAAK7C,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAEtCqsC,EAAQnvB,EAAUvD,OAAO3Z,GAAG8a,IAAI9X,KAAO,EAGxC,IAAKhD,EAAE,EAAGA,EAAIqB,EAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAEtCqB,EAAMwE,KAAKhF,MAAMb,GAAGgG,IAAI,OAAQqmC,EAAQhrC,EAAMwE,KAAKhF,MAAMb,GAAG8F,IAAI,QAAU,IAAM,GAElF,CACD,EAEAmgC,iBAAkB,SAASjlB,EAAOsrB,EAAUC,GAC3C,IACClpC,EAAM,IAAIjE,IAAIkE,MACd+2B,EAAIrZ,EAAMlG,IAEXzX,EAAIE,KAJKrD,KAKR,CACCsD,IAAK,eACLC,QAAS,CAACT,IAAKq3B,EAAEr3B,IAAK4D,SAAUyzB,EAAEzzB,SAAUpF,KAAM64B,EAAE74B,KAAMmC,OAAQ,iBAClED,MAAO,CAACC,OAAQ,SAAUoB,YAAa,MARhC7E,MASD,SAAS2D,GACf,IAGCuB,EACauH,EACb3M,EAJAqjC,EAAQx/B,EAAKhB,OAASgB,EAAK,GAAK,KAGhCvC,GAFQ+hC,GAAQA,EAAMlgC,QAEb,IAGV,GAAIkgC,GAASA,EAAMh+B,SAIlB,IAFAD,EAASi+B,EAAMh+B,SAEVrF,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,KAE5B2M,EAAQvH,EAAOpF,GAAGmD,SACZihB,UAAYpD,EAAMlG,IAAItZ,MAAQmL,EAAMyX,UAC1CzX,EAAMvG,UAAYuG,EAAMvG,WAAauG,EAAMnL,KAC3CmL,EAAM42B,MAAQ52B,EAAM42B,MACpB52B,EAAM0O,MAAO,EACb1O,EAAM1F,SAAW0F,EAAMnL,KACvBmL,EAAM62B,WAAY,EAClB72B,EAAMsD,IAAM+Q,EAAMlG,IAAI7K,IACtBtD,EAAM82B,SAAWziB,EAAMlG,IAAI9X,IAC3B1B,EAAOwB,KAAK6J,GAIdqU,EAAMlG,IAAInQ,QAAUrJ,IAEfgrC,GAAaA,GAAYC,KA5BtBrsC,KA8BL4hC,iBA9BK5hC,KA+BL6hC,gBAEJ,GAAG,MACJ1+B,EAAIO,MACL,EAEAsiC,WAAY,SAASllB,GACpB,IACC/I,EAAM,IAAI7Y,IAAI0hB,eAAe,CAC5B9X,SAFO9I,KAEM8I,SACbgY,MAAOA,IAGT5hB,IAAIkK,WAAWpJ,KAAM+X,EACtB,EAEA2vB,iBAAkB,WACjB,IAEC5nC,EAAGwsC,EAAGj9B,EAAGk9B,EAAKjlC,EAAGe,EAAGmkC,EAAQC,EAAQC,EADpC1vB,EADQhd,KACOgd,UAGhB,IAAKld,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IACvC,CAOC,IALAysC,GADAl9B,EAAI2N,EAAUvD,OAAO3Z,IACb8a,IACR4R,MAAQ+f,EAAIjrC,KAAO,IAAMirC,EAAIx8B,IAE7Bw8B,EAAI9hC,QAAU8hC,EAAI9hC,SAAW,GAExB6hC,EAAE,EAAGA,EAAIC,EAAI9hC,QAAQ9H,OAAQ2pC,IAEjCC,EAAI9hC,QAAQ6hC,GAAG3I,SAAU,EAG1B,IAAKr8B,EAAE,EAAGA,EAAI0V,EAAU6b,UAAUl2B,OAAQ2E,IAMzC,GAHAklC,GADAnkC,EAAI2U,EAAU6b,UAAUvxB,IACb2xB,OAAO/U,UAAY,IAAM7b,EAAE4wB,OAAOlpB,IAC7C08B,EAASpkC,EAAE6wB,OAAOhV,UAAY,IAAM7b,EAAE6wB,OAAOnpB,IAC7C28B,EAAUF,GAAUhgB,MAASnkB,EAAE4wB,OAAO33B,KAASmrC,GAAUjgB,MAASnkB,EAAE6wB,OAAO53B,KAAO,KAGjF,IAAKgrC,EAAE,EAAGA,EAAIC,EAAI9hC,QAAQ9H,OAAQ2pC,IAEjC,GAAIC,EAAI9hC,QAAQ6hC,GAAGhrC,MAAQorC,EAC3B,CACCH,EAAI9hC,QAAQ6hC,GAAG3I,SAAU,EACzB,KACD,CAKCt0B,EAAEkqB,KAAOlqB,EAAEypB,YAEdzpB,EAAEkqB,IAAIM,UAAUh3B,UAElB,CACD,EAGA++B,eAAgB,SAASwK,GACxB,IAGIO,EACOlQ,EAAII,EAAI+P,EAAIC,EAJnBzsC,EAAKJ,KAERgd,EAAY5c,EAAG4c,UAEfmd,EAAI/5B,EAAG+5B,EAER/5B,EAAG0sC,SAAW1sC,EAAG0sC,UAAY,CAAC,EAC9B1sC,EAAGsnC,mBAGH14B,EAAEC,KAAK+N,EAAUvD,QAAQ,SAAS3Z,EAAGghB,GAEpC,IAIC0L,EAJG5R,EAAMkG,EAAMlG,IAOhB6hB,EAAK7hB,EAAI4H,EACTqa,EAAKjiB,EAAI2kB,EACTqN,EAAKhyB,EAAIjb,MACTktC,EAAKjyB,EAAIxY,OACHwY,EAAIonB,SAAWpnB,EAAIxY,OAEzBoqB,EAAQ5R,EAAI9X,IAAM,IAAM8X,EAAI7K,IAExB+Q,EAAMyY,IAETzY,EAAMyY,IAAIM,UAAUh3B,YAIpB8pC,EAAOxS,EAAEwG,OAAOlE,EAAII,EAAI+P,EAAIC,EAAI/rB,EAAO1gB,GACvC0gB,EAAMyY,IAAMoT,EAERP,GAEHhsC,EAAG2lC,iBAAiBjlB,EAAOsrB,EAAUtsC,GAAKkd,EAAUvD,OAAO9W,OAAO,IAIpEvC,EAAG0sC,SAAStgB,GAAS1L,CACtB,IAEAqZ,EAAE6B,cACH,EAEA6F,cAAe,WACd,IACC/hC,EACAuI,EAAG64B,EAAMn/B,EAFN3B,EAAKJ,KAGRgd,EAAY5c,EAAG4c,UACfmd,EAAI/5B,EAAG+5B,EAGR,IAAKr6B,EAAEkd,EAAU6b,UAAUl2B,OAAO,EAAG7C,GAAG,EAAGA,IAE1CuI,EAAI2U,EAAU6b,UAAU/4B,GACxBohC,EAAO9gC,EAAG0sC,UAAUzkC,EAAE4wB,OAAOjW,OAAS3a,EAAE4wB,OAAOsK,UAAY,IAAMl7B,EAAE4wB,OAAOlpB,KAC1EhO,EAAO3B,EAAG0sC,UAAUzkC,EAAE6wB,OAAOlW,OAAS3a,EAAE6wB,OAAOqK,UAAY,IAAMl7B,EAAE6wB,OAAOnpB,KAErEmxB,GAASn/B,EAMRsG,EAAEq5B,KAENr5B,EAAEq5B,GAAKvH,EAAE8G,QAAQC,EAAMn/B,EAAMsG,EAAG2U,EAAU6b,YAN3C7b,EAAU6b,UAAUxO,OAAOvqB,EAAG,GAWhCM,EAAGsnC,mBACHtnC,EAAGsgC,gBACHvG,EAAEuG,eACH,EAEAA,cAAe,WAEd,IAIC5gC,EAEAqhC,EAAM3c,EAAGnV,EALT09B,EADQ/sC,KACEC,KAAK,eACf6P,EAAK,GAGL8qB,EALQ56B,KAGDm6B,EAEGtB,WAAa,GAIxB,IAAK/4B,EAAE,EAAGA,EAAI86B,EAAMj4B,OAAQ7C,IAI3B0kB,GAFA2c,EAAOvG,EAAM96B,IAEJm5B,OACT5pB,EAAI8xB,EAAKjI,OAEL1U,GAAKnV,GAERS,EAAGlN,KAAK,CACPoqC,GAAIxoB,EAAEN,UACN+oB,GAAI59B,EAAE6U,UACNgpB,GAAI1oB,EAAEzU,IACNo9B,GAAI99B,EAAEU,IACNq9B,GAAI5oB,EAAEljB,KACN+rC,GAAIh+B,EAAE/N,KACNgsC,GAAInM,EAAK5mB,KACTgzB,MAAO/oB,EAAEN,UAAY,IAAMM,EAAEljB,KAC7BksC,MAAOn+B,EAAE6U,UAAY,IAAM7U,EAAE/N,KAC7B8/B,EAAGD,IAMN4L,EAAK5rC,MAAM0B,SAASiN,EACrB,EAGAsuB,aAAc,SAASloB,EAAIu3B,GAC1B,IAEC3sB,EAGAhhB,EAAG8a,EALAuf,EAAIn6B,KACPoZ,EAAKq0B,EAELzwB,EAAYmd,EAAEnd,UACd2c,EAASQ,EAAEA,EAAEO,OAAOf,SAcrB,IAVA/e,GADAkG,EAAQ,IAAI5hB,IAAI65B,SAAS,OACbne,IAAM,CAAC,EACnB1b,IAAIwlB,WAAWtL,EAAI0H,EAAMlG,IAAK,gDAC9BA,EAAI4H,EAAItM,EAAGw3B,OAAS/T,EAAOH,KAC3B5e,EAAI2kB,EAAIrpB,EAAGy3B,OAAShU,EAAOC,IAC3Bhf,EAAIjb,MAAQ,IACZib,EAAIxY,OAAS,IACbwY,EAAI7K,IAAM,EAEV+Q,EAAM1f,OAAS,GAEVtB,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAElCkd,EAAUvD,OAAO3Z,GAAG8a,IAAI9X,KAAO8X,EAAI9X,MAEtC8X,EAAI7K,IAAMgvB,KAAKC,IAAIpkB,EAAI7K,IAAKiN,EAAUvD,OAAO3Z,GAAG8a,IAAI7K,IAAI,IAI1DiN,EAAUvD,OAAO7W,KAAKke,GAEtBqZ,EAAEwH,kBAEFxH,EAAE4L,iBAAiBjlB,EACpB,EAEA8sB,YAAa,WACZ,IAEC9tC,EAAG8lB,EAAG9E,EAAOwY,EAAMuU,EACnB7T,EAIA8T,EAAMC,EAAMC,EAAK9sC,EANjBi5B,EADQn6B,KACDm6B,EAGP8T,EAAa9T,EAAET,YAAYC,SAC3B3c,EALQhd,KAKOgd,UACfpC,EAAMoC,EAAUpC,IAEhBszB,EAAW,CAAC,EAEZzF,EAAK,EADDtO,EAAEU,UAOP,IAJAjgB,EAAInB,OAAS,GACbmB,EAAIoe,MAAQ,GACZpe,EAAIuH,eAAiB,GAEhBriB,EAAE,EAAGA,EAAIkd,EAAU6b,UAAUl2B,OAAQ7C,IAGzCkuC,EAAM,CACLzzB,MAFDrZ,EAAK8b,EAAU6b,UAAU/4B,IAEfya,KACT3J,SAAU1P,EAAG0P,SACbqoB,OAAQ/3B,EAAG+3B,OACXC,OAAQh4B,EAAGg4B,OACXiV,qBAAsBjtC,EAAGitC,qBACzBC,qBAAsBltC,EAAGktC,sBAE1BF,EAAShtC,EAAG+3B,OAAOn2B,KAAO,EAC1BorC,EAAShtC,EAAGg4B,OAAOp2B,KAAO,EAC1B8X,EAAIoe,MAAMp2B,KAAKorC,GAGhB,IAAKluC,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IACvC,CAgBC,GAdAiuC,GADAjtB,EAAQ9D,EAAUvD,OAAO3Z,IACZ8a,KACbkzB,EAAO5uC,IAAImvC,WAAWN,IACjBtjC,QAAU,GACf6uB,EAAOxY,EAAMyY,IAAIM,UAGjBgU,GAFA7T,EAAOhrB,EAAEsqB,EAAKkF,IAAIE,QAEF/E,SAChBmU,EAAKtrB,GAAKqrB,EAASrU,KAAOyU,EAAWzU,MAAQiP,EAC7CqF,EAAKvO,GAAKsO,EAASjU,IAAMqU,EAAWrU,KAAO6O,EAC3CqF,EAAKnuC,MAAQq6B,EAAKr6B,QAClBmuC,EAAK1rC,OAAS43B,EAAK53B,SAEnB0rC,EAAK9L,QAAU8L,EAAK1rC,OAEhB2rC,EAAKtjC,QAER,IAAKmb,EAAEmoB,EAAKtjC,QAAQ9H,OAAO,EAAGijB,GAAG,EAAGA,KAE/BmoB,EAAKtjC,QAAQmb,GAAGyd,OAAS6K,EAASH,EAAKtjC,QAAQmb,GAAG9iB,OAErDgrC,EAAKrjC,QAAQ7H,KAAKmrC,EAAKtjC,QAAQmb,IAKlChL,EAAInB,OAAO7W,KAAKkrC,EACjB,CAEA,GAAI9wB,EAAUmF,eAEb,IAAKriB,EAAE,EAAGA,EAAIkd,EAAUmF,eAAexf,OAAQ7C,IAE9C8a,EAAIuH,eAAevf,KAAKoa,EAAUmF,eAAeriB,GAGpD,EAEA+R,YAAa,SAASy8B,GACrB,IAAIluC,EAAKJ,KAETI,EAAGwtC,cAEHxtC,EAAGmuC,UAAU,kBAEb,IAGCn/B,EAHM4N,EAAY5c,EAAG4c,UACrB/Z,EAAU+Z,EAAUwd,SACpBr3B,EAAM,IAAIjE,IAAIkE,MAKdgM,EAFGk/B,EAEG,CAAC7nC,IAAKuW,EAAUhW,KAAKP,IAAKsb,QAAS/E,EAAUhW,KAAK+a,QAASzgB,KAAM0b,EAAUhW,KAAK1F,KAAMT,KAAM,aAI5F,CAACiC,IAAK1C,EAAG0C,KAGhBK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS6L,EACT5L,MAAOP,EACPC,UAAW,aACV9C,GAAI,SAASuD,GACN3D,KAEN8C,IAAMa,EAAKb,IAFL9C,KAGNuC,SAASoB,EAAKrC,MAEjBpC,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,GAAG,MACHiC,EAAIO,MACL,EAEAyhC,YAAa,SAASqJ,EAAO9pC,GAC5B,IAIC+pC,EAAKC,EAJFtuC,EAAKJ,KACRgd,EAAY5c,EAAG4c,UACfmd,EAAI/5B,EAAG+5B,EACP9xB,EAAI,CAACkS,KAAM,QAAS3J,SAAU,KAG/BvI,EAAE4wB,OAASuV,EAAM7oC,KACjB0C,EAAE6wB,OAASx0B,EAAMiB,KAEjBqX,EAAU6b,UAAUj2B,KAAKyF,GACzBjI,EAAGsnC,mBACH+G,EAAMruC,EAAG0sC,UAAUzkC,EAAE4wB,OAAOjW,OAAS3a,EAAE4wB,OAAOsK,UAAY,IAAMl7B,EAAE4wB,OAAOlpB,KACzE2+B,EAAMtuC,EAAG0sC,UAAUzkC,EAAE6wB,OAAOlW,OAAS3a,EAAE6wB,OAAOqK,UAAY,IAAMl7B,EAAE6wB,OAAOnpB,KAErE0+B,GAAOC,IAEVrmC,EAAEq5B,GAAKvH,EAAE8G,QAAQwN,EAAKC,EAAKrmC,EAAG2U,EAAU6b,WACxCz4B,EAAGsgC,gBACHvG,EAAEuG,gBAEJ,EAEAtM,eAAgB,SAAS7U,GACxB,IAECzf,EAFGM,EAAKJ,KACRm6B,EAAI/5B,EAAG+5B,EAGR,OAAQ5a,GAER,IAAK,WACCnf,EAAG0C,IAMP1C,EAAGyR,cAJHzR,EAAGuuC,eAAc,GAMlB,MACD,IAAK,aACJvuC,EAAGuuC,eAAc,GACjB,MACD,IAAK,kBACJvuC,EAAG4c,UAAU4b,WAAax4B,EAAG4c,UAAU4b,UACvCuB,EAAEuG,gBACF,MACD,IAAK,cACJ,IAAI1jB,EAAY5c,EAAG4c,UAEnB,IADAA,EAAU8b,YAAc9b,EAAU8b,WAC7Bh5B,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAEtCkd,EAAUvD,OAAO3Z,GAAGy5B,IAAIT,WAAW9b,EAAU8b,YAE9C,MACD,IAAK,eACJ14B,EAAGwuC,YACH,MACD,IAAK,kBACJxuC,EAAGmc,cACH,MACD,IAAK,cACJnc,EAAGyuC,kBACH,MACD,IAAK,kBACJ,IAAI92B,EAAM,IAAI7Y,IAAI4vC,cAAc,CAC/BhmC,SAAU1I,EAAG0I,SACbkU,UAAW5c,EAAG4c,YAEf9d,IAAIuoC,QAAQrnC,EAAI2X,GAChB,MACD,IAAK,oBACU3X,EAAGH,KAAK,kBAEdkB,MAAM0B,SAAS,IAEnBzC,EAAGkc,KAENlc,EAAG2uC,kBAAkB3uC,EAAGkc,IAAK,gBAAiB,KAAM,CAACzX,YAAa,MAIrE,EAEA0X,YAAa,WACZ,IAAInc,EAAKJ,KACRgd,EAAY5c,EAAG4c,UAIZA,EAAUvD,OAAO9W,QAEpBqM,EAAEC,KAAK+N,EAAUvD,QAAQ,SAAS3Z,EAAGsZ,GACpChZ,EAAG2lC,iBAAiB3sB,EACrB,GAEF,EAEAw1B,UAAW,WACV,IAEC9uC,EAAG8lB,EACUxM,EACb40B,EAAKgB,EAAMC,EAJR7uC,EAAKJ,KACRgd,EAAY5c,EAAG4c,UACT6b,EAAY,CAAC,EACnBqW,EAAS,GAGV,GAAIlyB,EAAUvD,OAAO9W,OAAS,EAC9B,CACC,IAAK7C,EAAE,EAAGA,EAAIkd,EAAU6b,UAAUl2B,OAAQ7C,IAOzC+4B,GAHAmW,GAFAhB,EAAMhxB,EAAU6b,UAAU/4B,IAEfm5B,OAAOsK,SAAW,IAAMyK,EAAI/U,OAAO/yB,WAG7B,KAFjB+oC,EAAOjB,EAAI9U,OAAOqK,SAAW,IAAMyK,EAAI9U,OAAOhzB,YAEf,EAC/B2yB,EAAUoW,EAAO,IAAMD,GAAQ,EAGhC,IAAKlvC,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAKtC,KAHAsZ,EAAK4D,EAAUvD,OAAO3Z,IACnBqvC,QAAU,CAAC,EAETvpB,EAAE,EAAGA,EAAIxM,EAAGwB,IAAInQ,QAAQ9H,OAAQijB,IAEpCxM,EAAG+1B,QAAQ/1B,EAAGwB,IAAInQ,QAAQmb,GAAG1f,WAAakT,EAAGwB,IAAInQ,QAAQmb,GAI3D,IAAK9lB,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAEtCsZ,EAAK4D,EAAUvD,OAAO3Z,GACtBM,EAAGgvC,cAAcpyB,EAAUvD,OAAQof,EAAWqW,EAAQ91B,GAGvD,GAAI81B,EAAOvsC,OAAS,EACpB,CACC,IAAIoV,EAAM,IAAI7Y,IAAImwC,QAAQ,CACzBvmC,SAAU1I,EAAG0I,SACbkwB,MAAOkW,EACP5uC,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS44B,GAC1C,IAEC3wB,EAAGvI,EACH2uC,EAAKC,EAHFtuC,EAAKJ,KACRm6B,EAAI/5B,EAAG+5B,EAIR,IAAKr6B,EAAE,EAAGA,EAAIk5B,EAAMr2B,OAAQ7C,IAE3BuI,EAAI2wB,EAAMl5B,GACVkd,EAAU6b,UAAUj2B,KAAKyF,GAEzBomC,EAAMruC,EAAG0sC,UAAUzkC,EAAE4wB,OAAOjW,OAAS3a,EAAE4wB,OAAOsK,UAAY,IAAMl7B,EAAE4wB,OAAOlpB,KACzE2+B,EAAMtuC,EAAG0sC,UAAUzkC,EAAE6wB,OAAOlW,OAAS3a,EAAE6wB,OAAOqK,UAAY,IAAMl7B,EAAE6wB,OAAOnpB,KAErE0+B,GAAOC,IAEVrmC,EAAEq5B,GAAKvH,EAAE8G,QAAQwN,EAAKC,EAAKrmC,EAAG2U,EAAU6b,YAI1Cz4B,EAAGsgC,gBACHvG,EAAEuG,eACH,MAEDxhC,IAAIuoC,QAAQrnC,EAAI2X,EACjB,MAGC7Y,IAAI+I,SAASC,IAAIC,QAAS,oCAAqC,KAAM,KAAM,EAAG,UAEhF,CACD,EAEAinC,cAAe,SAAS31B,EAAQof,EAAWqW,EAAQ91B,GAClD,IACCtZ,EAAG8lB,EAEHopB,EAAMC,EAAMK,EAAIC,EAAIljB,EACpBmjB,EAAOC,EACPC,EACAC,EAEAC,EADAC,EAAOz2B,EAAGwB,IAKX,IAFA00B,EAAKO,EAAK/sC,IAAM,IAEXhD,EAAE,EAAGA,EAAI2Z,EAAO9W,OAAQ7C,IAK5B,GAFA8vC,EADYn2B,EAAO3Z,GACE8a,IAEjBi1B,EAAK/sC,KAAO8sC,EAAS9sC,OAAS+sC,EAAKjxB,eAAkBixB,EAAKjxB,eAAiBixB,EAAKjxB,eAAiBgxB,EAAShxB,eAC9G,CAOC,IANA2wB,EAAKK,EAAS9sC,IAAM,IACpB0sC,EAAQ,GACRC,EAAQ,GACRC,EAAUE,EAASnlC,QAAQ9H,OAC3BgtC,GAAe,EAEV/pB,EAAE,EAAGA,EAAI8pB,EAAS9pB,IAEtByG,EAAQujB,EAASnlC,QAAQmb,GAAG1f,UAExBkT,EAAG+1B,QAAQ9iB,KAEd2iB,EAAOM,EAAKjjB,EACZ4iB,EAAOM,EAAKljB,EAERA,EAAM/W,QAAQ,OAAS,IAE1Bq6B,GAAe,GAGX9W,EAAUmW,EAAO,IAAMC,KAE3BO,EAAM5sC,KAAK,CACV2X,KAAM,QACN3J,SAAU,IACVqoB,OAAQ7f,EAAG+1B,QAAQ9iB,GACnB6M,OAAQ0W,EAASnlC,QAAQmb,KAE1BiT,EAAUmW,EAAO,IAAMC,GAAQ,EAC/BpW,EAAUoW,EAAO,IAAMD,GAAQ,GAK/BS,EAAM7sC,KAAKypB,IAKd,IAAKojB,EAAM9sC,OAAS,GAAK+sC,EAAU,GAAOD,EAAM9sC,QAAU+sC,IAErDC,EAEH,IAAK/pB,EAAE4pB,EAAM7sC,OAAO,EAAGijB,GAAG,EAAGA,IAExB4pB,EAAM5pB,GAAGqT,OAAO/yB,UAAUoP,QAAQ,MAAQ,GAE7Ck6B,EAAMnlB,OAAOzE,EAAG,GAMpB,IAAKA,EAAE,EAAGA,EAAI4pB,EAAM7sC,OAAQijB,IAE3BspB,EAAOtsC,KAAK4sC,EAAM5pB,GAEpB,CAEF,EAEAipB,gBAAiB,WAChB,IAEC/uC,EACAgwC,EAEAC,EAEA/B,EAAK50B,EAPFhZ,EAAKJ,KACRgd,EAAY5c,EAAG4c,UACZgzB,EAAQ,GAAIC,EAAe,GACpBC,EAAY,CAAC,EACvBrX,EAAY,CAAC,EAEbpf,EAAS,GAIV,GAAIuD,EAAUvD,OAAO9W,OAAS,GAAKqa,EAAU6b,UAAUl2B,OAAS,EAChE,CAEC,IAAK7C,EAAE,EAAGA,EAAIkd,EAAU6b,UAAUl2B,OAAQ7C,IAGzC+4B,GADAmV,EAAMhxB,EAAU6b,UAAU/4B,IACZm5B,OAAOsK,UAAY1K,EAAUmV,EAAI/U,OAAOsK,WAAa,GACnE1K,EAAUmV,EAAI/U,OAAOsK,UAAU3gC,KAAKorC,GAEpCnV,EAAUmV,EAAI9U,OAAOqK,UAAY1K,EAAUmV,EAAI9U,OAAOqK,WAAa,GACnE1K,EAAUmV,EAAI9U,OAAOqK,UAAU3gC,KAAKorC,GAIrC,IAAKluC,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,KAEtCsZ,EAAK4D,EAAUvD,OAAO3Z,IACnBqwC,OAAS,KACZ/2B,EAAGg3B,WAAa,GAChBh3B,EAAGi3B,UAAY,GACfH,EAAU92B,EAAGwB,IAAI9X,KAAOsW,EACxBK,EAAO7W,KAAKwW,GAGb,KAAOK,EAAO9W,OAAS,GAGtB,GAAIk2B,GADJzf,EAAKK,EAAO,IACKmB,IAAI9X,KASpB,IAPAgtC,EAAW,CACVQ,WAAY,KACZ72B,OAAQ,IAGTs2B,EAAWlX,EAAUzf,EAAGwB,IAAI9X,KAEvBhD,EAAE,EAAGA,EAAIiwC,EAASptC,OAAQ7C,IAE9BgwC,EAASr2B,OAAO7W,KAAKwW,GACrB42B,EAAMptC,KAAKktC,GACXr2B,EAAO4Q,OAAO,EAAG,GAEjBjqB,EAAGmwC,mBAAmB92B,EAAQof,EAAWqX,EAAWH,EAASjwC,GAAIgwC,EAAU12B,QAM5E62B,EAAartC,KAAKwW,GAClBK,EAAO4Q,OAAO,EAAG,GAInB,GAAI2lB,EAAMrtC,OAAS,EAElB,IAAK7C,EAAE,EAAGA,EAAIkwC,EAAMrtC,OAAQ7C,IAE3BM,EAAGowC,uBAAuBN,EAAWF,EAAMlwC,IAI7C,IAEC2wC,EAFGjuB,EAAI,GACP+c,EAAI,GACEmR,EAAQ,EAGf,IAAK5wC,EAAE,EAAGA,EAAImwC,EAAattC,OAAQ7C,IAGlC0iB,IADAiuB,EAAOrwC,EAAGuwC,gBAAgBnuB,EAAG+c,EAJvB,GAI+B0Q,EAAanwC,KACxC0iB,EACVkuB,EAAQ3R,KAAKC,IAAI0R,EAAOD,EAAKlR,GAO9B,IAJAA,GAAKmR,EATE,GAWPluB,EAAI,GAEC1iB,EAAE,EAAGA,EAAIkwC,EAAMrtC,OAAQ7C,IAI3By/B,GAFAkR,EAAOrwC,EAAGuwC,gBAAgBnuB,EAAG+c,EAfvB,GAe+ByQ,EAAMlwC,GAAGwwC,aAErC/Q,CAEX,CACD,EAEAiR,uBAAwB,SAASN,EAAWU,GAC3C,IACIC,EAAO,CAAC,EAEZD,EAAKn3B,OAAOq3B,MAAK,SAAShR,EAAGe,GAC5B,IAAIkQ,EAAKjR,EAAEuQ,UAAU1tC,OAGrB,OAFMk+B,EAAEwP,UAAU1tC,OAENouC,CACb,IAEAH,EAAKN,WAAaM,EAAKn3B,OAAO,GAC9Bo3B,EAAKD,EAAKN,WAAW11B,IAAI9X,KAAO,EAXvB9C,KAYNgxC,gBAAgBd,EAAWU,EAAKN,WAAYO,EAChD,EAEAG,gBAAiB,SAASd,EAAW92B,EAAIy3B,GACxC,IACC/wC,EAAGmxC,EAEJ,IAAKnxC,EAAE,EAAGA,EAAIsZ,EAAGi3B,UAAU1tC,OAAQ7C,IAI7B+wC,GAFLI,EAAS73B,EAAGi3B,UAAUvwC,IAEL8a,IAAI9X,OAEpB+tC,EAAKI,EAAOr2B,IAAI9X,KAAO,EAEvBsW,EAAGg3B,WAAWxtC,KAAKquC,GACnB73B,EAAGi3B,UAAUvwC,GAAGqwC,OAAS/2B,EAZlBpZ,KAcJgxC,gBAAgBd,EAAWe,EAAQJ,GAGzC,EAEAF,gBAAiB,SAASnuB,EAAG+c,EAAGyJ,EAAKkI,GACpC,IAKCpxC,EAJAqxC,EAAK3uB,EACL4uB,EAAK7R,EACLmR,EAAQ,EAUT,GALYQ,EAAM3X,IAAIM,UACZgN,YAAYrkB,EAAG+c,GAEzB6R,GAAMF,EAAMt2B,IAAIxY,OAEZ8uC,EAAMd,YAAcc,EAAMd,WAAWztC,OACzC,CAGC,IAFAyuC,GAAMpI,EAEDlpC,EAAE,EAAGA,EAAIoxC,EAAMd,WAAWztC,OAAQ7C,IAjB/BE,KAmBJ2wC,gBAAgBQ,EAAIC,EAAIpI,EAAKkI,EAAMd,WAAWtwC,IACjDqxC,GAAMD,EAAMt2B,IAAIjb,MAAQqpC,EACxB0H,EAAQ3R,KAAKC,IAAI0R,EAAOQ,EAAMt2B,IAAIxY,QAGnCgvC,GAAMV,CACP,CAEA,MAAO,CAACluB,EAAG2uB,EAAI5R,EAAG6R,EACnB,EAEAb,mBAAoB,SAAS92B,EAAQof,EAAWqX,EAAWH,EAAUD,EAAU12B,GAC9E,IACCtZ,EAAG8lB,EACHyrB,EACAC,EACAC,EAWD,IAPCF,EAFGtB,EAAS9W,OAAOsK,UAAYnqB,EAAGwB,IAAI9X,IAE7BitC,EAAS7W,OAIT6W,EAAS9W,OAGdn5B,EAAE,EAAGA,EAAI2Z,EAAO9W,OAAQ7C,IAE5B,GAAI2Z,EAAO3Z,GAAG8a,IAAI9X,KAAOuuC,EAAO9N,SAChC,CASC,GARAgO,EAAS93B,EAAO3Z,GAChBgwC,EAASr2B,OAAO7W,KAAK2uC,GACrB93B,EAAO4Q,OAAOvqB,EAAG,GACjBsZ,EAAGi3B,UAAUztC,KAAK2uC,GAClBA,EAAOlB,UAAUztC,KAAKwW,GAEtBk4B,EAAYzY,EAAU0Y,EAAO32B,IAAI9X,KAIhC,IAAK8iB,EAAE,EAAGA,EAAI0rB,EAAU3uC,OAAQijB,IA7B1B5lB,KA+BFuwC,mBAAmB92B,EAAQof,EAAWqX,EAAWoB,EAAU1rB,GAAIkqB,EAAUyB,GAG9E,KACD,CAEF,EAEAxC,kBAAmB,SAAS/jC,EAAMvH,EAAQyzB,EAAS1C,GAClD,IAICxvB,EAJG5E,EAAKJ,KACR0G,EAAWsE,EAAKpF,IAAI,YACpBzC,EAAM,IAAIjE,IAAIkE,MACdmW,EAAM,CAACwI,QAASrb,EAAUjD,OAAQA,EAAQ2zB,OAAQF,EAASp0B,IAAKkI,EAAKpF,IAAI,QAG1E,GAAI4uB,EAEH,IAAKxvB,KAAKwvB,EAETjb,EAAIvU,GAAKwvB,EAAOxvB,IAIbuU,EAAIzW,KAAQyW,EAAIwI,WAKrBxI,EAAI5U,UAAY,IAEhBxB,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAASgW,EACT/V,MAAO+V,GACLnZ,EAAIA,EAAGoxC,sBAAsB,EAAO,CAACxmC,EAAMvH,IAC/CN,EAAIO,OACL,EAEA8tC,qBAAsB,SAAS7tC,EAAMmP,GACpC,IAIChT,EAAGsZ,EAIHiD,EARGjc,EAAKJ,KAERyD,GADOqP,EAAM,GACJA,EAAM,IACfwK,EAAS3Z,EAAKwB,UAAY,GACnBsU,EAAS,GAChB6d,IAAY7zB,EACZ4Q,EAAOjU,EAAGH,KAAK,kBACf+c,EAAY5c,EAAG4c,UAEfmvB,EAAU,CAAC,EAEZ,GAAI7uB,EACJ,CAEC,IADAN,EAAUvD,OAASuD,EAAUvD,QAAU,GAClC3Z,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAEtCqsC,EAAQnvB,EAAUvD,OAAO3Z,GAAG8a,IAAI9X,KAAO,EAGxC,IAAKhD,EAAE,EAAGA,EAAIwd,EAAO3a,OAAQ7C,IAG5Buc,GADAjD,EAAKke,EAAYha,EAAOxd,GAAGmD,QAAUqa,EAAOxd,IACjCe,KAAKyH,cAChB8Q,EAAGtW,IAAMsW,EAAGtW,KAAQ,GAAKhD,EAErBsZ,EAAGtW,KAAO1C,EAAG0C,MAGbqpC,EAAQ/yB,EAAGtW,OAEdsW,EAAGq4B,KAAO,KAEE,aAATp1B,IAEHjD,EAAGlT,UAAYkT,EAAG2E,WAAWC,QAE9B5E,EAAGuE,QAAUze,IAAI0e,kBAAkBvB,GACnC5C,EAAO7W,KAAKwW,GAEd,CACA/E,EAAKlT,MAAM0B,SAAS4W,EACrB,EAEAk1B,cAAe,SAAS+C,GACvB,IAAItxC,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbuB,KAAM,UACNrB,aAAc,CACbE,QAAS9I,EAAG2c,SAEbzc,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAGuxC,eAAgBD,KAEvDxyC,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEA+oC,eAAgB,SAAS3qC,EAAM0qC,GACrB1xC,KACNgd,UAAUhW,KAAO,CACnB1F,KAAM0F,EAAK1F,KACXygB,QAAS/a,EAAKN,SAAW,IAAMM,EAAK1F,KACpCmF,IAAKO,EAAKlE,KAJF9C,KAON6R,aAAY,EAChB,EAEA+/B,QAAS,SAASxQ,GACjB,IACCthC,EAIAkqC,EALG5pC,EAAKJ,KAER6xC,EAASzxC,EAAG4c,UACZmd,EAAI/5B,EAAG+5B,EACP2X,EAAOD,EAAOhZ,UAEf,IAAK/4B,EAAE,EAAGA,EAAIgyC,EAAKnvC,OAAQ7C,IAE1B,GAAIgyC,EAAKhyC,IAAMshC,EACf,CACC0Q,EAAKznB,OAAOvqB,EAAG,GACf,KACD,CAGD,IAAKA,EAAE,EAAGA,EAAIq6B,EAAES,MAAMj4B,OAAQ7C,IAC9B,CAEC,IADAkqC,GAAS,EACJpkB,EAAE,EAAGA,EAAIuU,EAAES,MAAM96B,GAAG86B,MAAMj4B,OAAQijB,IAEtC,GAAIuU,EAAES,MAAM96B,GAAG86B,MAAMhV,IAAMwb,EAC3B,CACCjH,EAAES,MAAM96B,GAAG86B,MAAMvQ,OAAOzE,EAAG,GAC3BokB,GAAS,EACT,KACD,CAGD,GAAc,GAAVA,EACJ,CAC0B,GAArB7P,EAAES,MAAM96B,GAAG6C,QAEdw3B,EAAES,MAAMvQ,OAAOvqB,EAAG,GAEnB,KACD,CACD,CAEAM,EAAGsnC,mBACHtnC,EAAGsgC,gBACHvG,EAAEuG,eACH,EAEAqR,mBAAoB,WACnB,IACCC,EADQhyC,KACKC,KAAK,kBAAkBmG,WAEpCjF,EAHQnB,KAEEC,KAAK,eACFkB,MAEdA,EAAMujC,cAEFsN,IAEHA,EAAUA,EAAQ1pC,cAClBnH,EAAMwjC,UAAS,SAASsN,GACvB,IACYnyC,EADRqM,EAAK,CAAC8lC,EAAIrsC,IAAI,MAAOqsC,EAAIrsC,IAAI,MAAOqsC,EAAIrsC,IAAI,MAAOqsC,EAAIrsC,IAAI,OAC9Di7B,GAAI,EAEL,IAAK/gC,EAAE,EAAGA,EAAIqM,EAAGxJ,OAAQ7C,IAExB,GAAIqM,EAAGrM,IAAMqM,EAAGrM,GAAGwI,cAAcgN,QAAQ08B,IAAY,EACrD,CACCnR,GAAI,EACJ,KACD,CAGD,OAAOA,CACR,IAEF,EAEAqR,qBAAsB,SAASlnC,EAAMqU,EAAU8yB,GACrCnyC,KAENsc,IAAMtR,EAFAhL,KAGNo0B,eAAe,oBACnB,EAEA3zB,cAAe,WACd,IAAIL,EAAKJ,KAETZ,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,SACR2R,OAAO,EACPxQ,MAAO,CACN,CACCC,MAAO,QACPuB,OAAQ,OACRxC,MAAO,IACP81B,aAAa,EACbz0B,MAAOC,KAAKC,GAAG,gBACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERuI,OAAQ,EACR1I,MAAO,CACN,IAAIzB,IAAIkzC,aAAa,CACpBtpC,SAAU1I,EAAG0I,SACbxH,KAAM,QACN4H,QAASlJ,KAAK+c,QACdhU,aAAc,kBACdhI,KAAM,EACNsxC,eAAgB,SAASnnC,GACxB,IACC0M,EADQ5X,KACEsyC,WACVn9B,EAAWjK,EAAItF,IAAI,QAAQ0C,cAC3B4K,EAAWhI,EAAItF,IAAI,QACnB2sC,EAAWrnC,EAAItF,IAAI,YACnB4sC,EAAUtnC,EAAItF,IAAI,OAElB6F,GADWP,EAAItF,IAAI,QACgB,GAAvBsF,EAAItF,IAAI,aAA4C,GAArBsF,EAAItF,IAAI,WACnD6sC,EAAmC,GAArBvnC,EAAItF,IAAI,UACtByC,GAAI,EAuCL,OArCAuP,EAAKgF,aAEDnR,GAAYgnC,KAEfpqC,GAAI,EAEY,UAAZ8M,GAEHyC,EAAKxF,IAAI,CACR5Q,KAAMP,KAAKC,GAAG,YACd8S,QAAqC,IAA7B9L,IAAIsgB,SAAmB,SAC/B9mB,QAAS,WACR1B,KAAKof,kBAAkB,SAAUozB,EAASD,EAAUrnC,EACrD,EACAvJ,MAAO3B,OAIT4X,EAAKxF,IAAI,CACR5Q,KAAMP,KAAKC,GAAG,gBAAiBhC,IAAIwzC,WAAWx/B,IAC9Cc,QAAqC,IAA7B9L,IAAIsgB,SAAmB,SAC/B9mB,QAAS,WACR1B,KAAK2yC,kBAAkBz/B,EAAUs/B,EAASD,EAAU9/B,OACrD,EACA9Q,MAAO3B,OAGR4X,EAAKxF,IAAI,CACR5Q,KAAMP,KAAKC,GAAG,gBAAiBhC,IAAIwzC,WAAWx/B,IAC9Cc,QAAqC,IAA7B9L,IAAIsgB,SAAmB,SAC/B9mB,QAAS,WACR1B,KAAK4nB,iBAAiB4qB,EAAS//B,OAChC,EACA9Q,MAAO3B,QAIFqI,CACR,EACAoU,mBAAoB,IAAIvd,IAAIsF,YAAYpE,GAAI,SAAS4K,GACpDhL,KAAKkyC,qBAAqBlnC,EAAM,EAAG,EACpC,IACAoR,kBAAmB,IAAIld,IAAIsF,YAAYpE,GAAI,SAAS4K,EAAMrF,GACzD3F,KAAKkyC,qBAAqBlnC,EAAM,EAAG,EACpC,MAED,CACCpK,MAAO,YACPU,KAAM,UACNP,KAAM,EACNC,MAAOC,KAAKC,GAAG,sBACf4I,UAAW7I,KAAKC,GAAG,UACnB6V,OAAO,EACP1N,OAAQ,EACRlI,MAAO,CACNyxC,iBAAiB,EACjBxxC,OAAQ,CACP,OAAQ,OAAQ,MAAO,WAAY,WAAY,UAAW,eAAgB,oBAAqB,UAAW,kBAG5G2jC,gBAAgB,EAChBC,UAAU,EACVv6B,QAAS,CACR,CACCjJ,KAAM,GACN7B,MAAO,GACP+K,UAAW,QAEZ,CACC9J,MAAO,iBACPY,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACNqT,UAAU,EACV1J,UAAW,OACXC,MAAO,cACPkoC,IAAK,wJACLjoC,OAAQ,CACPC,YAAY,KAIfqd,YAAa,CACZ,CACCtnB,MAAO,UACPunB,KAAM,MACNxnB,MAAO,CACN,CACCqJ,QAAS,eACTC,QAAShJ,KAAKC,GAAG,aACjBQ,QAAS,WACR1B,KAAKo0B,eAAe,oBACrB,EACAzyB,MAAO3B,MAER,CACCY,MAAO,YACPG,KAAM,EACNO,KAAM,UACNwI,UAAW7I,KAAKC,GAAG,gBACnBknB,iBAAiB,EACjBvmB,UAAW,CACVwmB,MAAO,SAAStmB,EAAMqJ,EAAG0c,GACX,IAAb1c,EAAEkd,SAAiBppB,IAAIqpB,UAAUvoB,KAAM,UAAW,CAAC,OAAQ,SAC5D,EACA2B,MAAO3B,OAGT,CACCY,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACRxC,IAAIqpB,UAAUvoB,KAAM,UAAW,CAAC,OAAQ,SACzC,EACA2B,MAAO3B,SAKX6B,UAAW,CACViJ,UAAW,SAASuJ,EAAMrJ,EAAMiO,EAAWxG,EAAQ6B,EAAUlJ,GAC5D,IAGCtL,EAAGsZ,EAFHlO,EAAMmJ,EAAKlT,MAAMqT,MAAMF,GACvB0I,EAFQhd,KAEOgd,UAGhB,GAAuB,KAAnB9R,EAAItF,IAAI,QACZ,CACC,IAAK9F,EAAE,EAAGA,EAAIkd,EAAUvD,OAAO9W,OAAQ7C,IAEtC,GAAIkd,EAAUvD,OAAO3Z,GAAG8a,IAAI9X,KAAOoI,EAAItF,IAAI,OAC3C,CACCwT,EAAK4D,EAAUvD,OAAO3Z,GACtB,KACD,CAGDsZ,GAhBQpZ,KAgBCm6B,EAAEkE,WAAWjlB,EACvB,CACD,EACAzX,MAAO3B,SAKX,CACCa,KAAM,QACNomB,KAAM,GACN9V,OAAO,EACPi6B,UAAW,SACXC,UAAW,SACX/pC,KAAM,aACNa,OAAQ,SACRkH,OAAQ,GAET,CACCzI,MAAO,QACPuQ,OAAO,EACPnQ,MAAOC,KAAKC,GAAG,eACfiB,OAAQ,OACRb,KAAM,UACN0S,QAAQ,EACR8+B,MAAO,CACN,CACCjyC,KAAM,aAGRlB,MAAO,IACPH,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,YACpBI,KAAM,UACNuS,WAAY,GACZqT,WAAY,QACZnmB,KAAM,EACN+I,UAAW7I,KAAKC,GAAG,gBACnBknB,iBAAiB,EACjBvmB,UAAW,CACVwmB,MAAO,SAASjZ,EAAKhE,EAAG2nC,GACN,IAAb3nC,EAAEkd,SAELloB,EAAG2xC,oBAEL,EACApwC,MAAO3B,OAGT,CACCY,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAS,WACRtB,EAAG2xC,oBACJ,KAIH,CACCnxC,MAAO,YACPU,KAAM,OACNP,KAAM,EACNI,MAAO,CACNC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,QAAS,QAAS,MAEtEqJ,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,YACdH,KAAM,EACN2J,UAAW,SAEZ,CACClJ,KAAMP,KAAKC,GAAG,UACdH,KAAM,EACN2J,UAAW,SAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAS2S,EAAMC,EAAUC,GACjC,IAEC4sB,EADA6M,EADS35B,EAAKlT,MAAMqT,MAAMF,GAChB1O,IAAI,KAGXooC,GAAOA,EAAItM,KAEdP,EAAO6M,EAAItM,IACN4F,eAAe,CAACnG,EAAKvG,MAAM,IAAKuG,EAAKvG,MAE5C,GAED,CACC5wB,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GAClC,IAAIrJ,EAAMmJ,EAAKlT,MAAMqT,MAAMF,GAE3BlU,EAAGwxC,QAAQ1mC,EAAItF,IAAI,KACpB,YAWVrE,KAAM,CACL,CACCyI,QAAS,oBACT1I,KAAM,SACNE,KAAMP,KAAKC,GAAG,UACd+I,QAAShJ,KAAKC,GAAG,iBACjBQ,QAAS,WAAY1B,KAAKo0B,eAAe,WAAa,EACtDzyB,MAAO3B,MAER,IACA,CACCgK,QAAS,2BACTC,QAAShJ,KAAKC,GAAG,qBACjBQ,QAAS,WACR1B,KAAKo0B,eAAe,kBACrB,EACAzyB,MAAO3B,MAER,CACCgK,QAAS,2BACTC,QAAShJ,KAAKC,GAAG,iBACjBQ,QAAS,WACR1B,KAAKo0B,eAAe,kBACrB,EACAzyB,MAAO3B,MAER,IACA,CACCgK,QAAS,sBACTxI,KAAMP,KAAKC,GAAG,aACd+I,QAAShJ,KAAKC,GAAG,aACjBQ,QAAS,WACR1B,KAAKo0B,eAAe,cACrB,EACAzyB,MAAO3B,MAER,CACCgK,QAAS,wBACTxI,KAAMP,KAAKC,GAAG,eACd+I,QAAS,YACTvI,QAAS,WACR1B,KAAKo0B,eAAe,eACrB,EACAzyB,MAAO3B,MAER,CACCgK,QAAS,yBACTxI,KAAMP,KAAKC,GAAG,kBACd+I,QAAS,OACTvI,QAAS,WACR1B,KAAKo0B,eAAe,cACrB,EACAzyB,MAAO3B,MAER,CACCgK,QAAS,eACTC,QAAShJ,KAAKC,GAAG,aACjBQ,QAAS,WACR1B,KAAKo0B,eAAe,kBACrB,EACAzyB,MAAO3B,MAER,IACA,CACCgK,QAAS,sBACTC,QAAS,QACTvI,QAAS,WACR1B,KAAKo0B,eAAe,YACrB,EACAzyB,MAAO3B,MAER,IACA,CACCiK,QAAS,UACTD,QAAS,sBACTtI,QAAS,WACA1B,KAAKm6B,EACXxB,KAAK,GACR,EACAh3B,MAAO3B,MAER,CACCiK,QAAS,WACTD,QAAS,uBACTtI,QAAS,WACA1B,KAAKm6B,EACXxB,MAAM,GACT,EACAh3B,MAAO3B,MAER,KACA,CACCgK,QAAS,aACTC,QAAS,QACTvI,QAAS,WACR,IAAIsxC,EAAUhzC,KAAKC,KAAK,kBAEpB+yC,EAAQC,YAEXD,EAAQt0B,OAIRs0B,EAAQpgC,MAEV,EACAjR,MAAO3B,OAGTonB,KAAM,CACL,CACCxmB,MAAO,UACPD,MAAO,CACN,CACCC,MAAO,SACPY,KAAM,GACNF,KAAM,UACNmnB,YAAa,QACbxe,QAAS,0BACTvI,QAAS,WACR,IACCwxC,EADQlzC,KACA4rC,KACR9iC,EAFQ9I,KAEM8I,SACdqqC,EAAMrqC,EAASsqC,WAEZF,GAAMA,EAAGxsC,UAAYoC,EAASyC,WAAa4nC,IAE7B,QAAbA,EAAIj7B,OAEPhZ,IAAIm0C,UAAUvqC,EAAU,GAEzBqqC,EAAIG,aAAa,CAChBhyC,KAAM4xC,EAAG5xC,KACToF,SAAUwsC,EAAGxsC,SACb5D,IAAKowC,EAAGpwC,MAGX,EACAnB,MAAOvB,MAKXyB,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAK4Y,OACN,EACA4tB,OAAQ,SAAS76B,GACR3L,KAAKm6B,EACX6B,cACH,EAEAuX,YAAa,SAASl+B,EAAOkE,GAC5B,IAAInZ,EAAKJ,KAGT,GAAII,EAAGqL,UAAYrL,EAAG0C,IACtB,CACC,IAAI2mB,EAAO,IAAIvqB,IAAIkE,MACnBqmB,EAAKpmB,KAAKjD,EACT,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAG0C,KAClBU,MAAO,CAACC,OAAQ,OAAQimB,OAAQ,UAC9BtpB,GAAI,SAASuD,GAEhB,IAAG,GAEJ8lB,EAAK/lB,MACN,CAEA,OAjBK,CAkBN,KAIFxE,IAAI2rC,UAAU7oC,WAAWvB,cAAcwB,KAAKjC,KAC7C,IAIDd,IAAI4vC,cAAgB1vC,GAAGC,OAAOD,GAAGE,OAAQ,CAExCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAERC,UAAU,EACVC,WAAW,EAEXC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEVsY,MAAO,WACN,IAECa,EACA3Z,EAEA4P,EAJAsN,EADQhd,KACOgd,UAEZrX,EAAO,GACV6tC,EAJQxzC,KAIQC,KAAK,qBAMtB,IAHA+c,EAAUvD,OAASuD,EAAUvD,QAAU,GACvCA,EAASuD,EAAUvD,OAEd3Z,EAAE,EAAGA,EAAI2Z,EAAO9W,OAAQ7C,KAE5B4P,EAAI,CACH5M,IAAK2W,EAAO3Z,GAAG8a,IAAI9X,IACnBxB,KAAMmY,EAAO3Z,GAAG8a,IAAItZ,KACpByO,IAAK0J,EAAO3Z,GAAG8a,IAAI7K,MAGlBhB,KAAQW,EAAK,IAAIA,EAAEpO,KAAO,IAAMoO,EAAEK,IAAM,IAAML,EAAEpO,KAClDqE,EAAK/C,KAAK8M,GAGX8jC,EAAWryC,MAAM0B,SAAS8C,EAC3B,EAEAwkC,eAAgB,WACf,IAICrqC,EAEAoL,EAAKlG,EANF5E,EAAKJ,KAERyZ,EADYrZ,EAAG4c,UACIvD,OACnB1J,EAAM,CAAC,EAEPyjC,EAAapzC,EAAGH,KAAK,qBAGtB,IAAKH,EAAE,EAAGA,EAAI0zC,EAAWryC,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAGjDiQ,GADA7E,EAAMsoC,EAAWryC,MAAMwE,KAAKhF,MAAMb,IAC1B8F,IAAI,OAAS,IAAMsF,EAAItF,IAAI,QAAU9F,EAG9C,IAAKA,EAAE,EAAGA,EAAI2Z,EAAO9W,OAAQ7C,IAE5BkF,EAAIyU,EAAO3Z,GAAG8a,IAAI9X,IAAM,IAAM2W,EAAO3Z,GAAG8a,IAAI7K,IAC5C0J,EAAO3Z,GAAG2zC,UAAY1jC,EAAI/K,GAG3ByU,EAAOq3B,MAAK,SAAShR,EAAGe,GACvB,OAAOf,EAAE2T,UAAY5S,EAAE4S,SACxB,IAEArzC,EAAGI,OACJ,EAEAkzC,YAAa,SAAS7oB,GACrB,IAICpU,EAAIvL,EAHJyoC,EADQ3zC,KACGC,KAAK,qBAChB2zC,EAAKD,EAAMtuC,oBACXgH,EAAMunC,EAAGt6B,SAGNjN,GAAqB,GAAdA,EAAI1J,SAEduI,EAAMmB,EAAI1L,MAAM,GAChB8V,EAAKk9B,EAAMxyC,MAAMmU,QAAQpK,IAEP,GAAd2f,EAECpU,EAAK,IAERk9B,EAAMxyC,MAAMwV,OAAOzL,GACnBA,EAAMyoC,EAAMxyC,MAAMyV,OAAOH,EAAG,EAAGvL,GAC/B0oC,EAAG/tC,OAAOqF,GAAK,IAKZuL,EAAG,EAAIk9B,EAAMxyC,MAAMwE,KAAKhF,MAAMgC,SAEjCgxC,EAAMxyC,MAAMwV,OAAOzL,GACnBA,EAAMyoC,EAAMxyC,MAAMyV,OAAOH,EAAG,EAAGvL,GAC/B0oC,EAAG/tC,OAAOqF,GAAK,IAInB,EAEAzK,cAAgB,WACNT,KAENgB,MAAQC,KAAKC,GAAG,aAEnB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,EACNO,KAAM,aACNH,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,MAAO,MAAO,SAGxBqJ,QAAS,CACR,CACC7J,MAAO,aACPG,KAAM,EACNS,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,UAId,CACC9J,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACN2V,KAAM,SACN1V,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,GAEP,CACCH,MAAO,SACPoJ,QAAS,YACTtI,QAAS,WACR1B,KAAK0zC,aAAa,EACnB,EACA/xC,MAAO3B,MAER,CACCY,MAAO,YACPwB,OAAQ,IAET,CACCxB,MAAO,SACPoJ,QAAS,cACTtI,QAAS,WACR1B,KAAK0zC,YAAY,EAClB,EACA/xC,MAAO3B,MAER,CACCY,MAAO,YACPG,KAAM,QAOZU,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKmqC,gBACN,EACAxoC,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAI4vC,cAAc9sC,WAAWvB,cAAcC,MAAMV,KAAM4L,UACxD,EACA/J,UAAW,CACVC,YAAa,SAASC,GACrBA,EAAK6W,OACN,KAIF1Z,IAAI0hB,eAAiBxhB,GAAGC,OAAOD,GAAGE,OAAQ,CAEzCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAERC,UAAU,EACVC,WAAW,EAEXC,MAAO,IACPC,YAAY,EAEZU,SAAU,KAEVsY,MAAO,WACN,IAAIxY,EAAKJ,KAELI,EAAG0gB,OAAS1gB,EAAGygB,WAElBzgB,EAAGkrC,eAEKlrC,EAAGyzC,SAEXzzC,EAAGorC,gBAAgBprC,EAAGyzC,QAExB,EAEAvI,aAAc,SAASwI,GACtB,IAKCvwC,EACAL,EANG9C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACdyd,EAAazgB,EAAGygB,WAChBkzB,EAAQ3zC,EAAG0gB,MAAQ1gB,EAAG0gB,MAAMlG,IAAM,KAClCpX,EAAQ,CAAC,EAINqd,GAEHtd,EAAU,CAACuwC,OAAQA,EAAQrwC,OAAQ,WACnCD,EAAQqd,EACR3d,EAAY,cAIZK,EAAU,CAACT,IAAKixC,EAAMjxC,IAAKjC,KAAMkzC,EAAMlzC,KAAMizC,OAAQA,EAAQrwC,OAAQ,WAGtEN,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASA,EACTC,MAAOA,EACPN,UAAWA,GACT9C,EAAIA,EAAGorC,gBAAiBprC,EAAG4zC,kBAC/B7wC,EAAIO,MACL,EAEA8nC,gBAAiB,SAAS7nC,GACzB,IAGC7D,EAAG8lB,EAAmByL,EAAsC9L,EAAO0uB,EACxD9yC,EAGXigB,EAPGhhB,EAAKJ,KACR6jC,EAAQlgC,EAAKuwC,QACbC,EAAQxwC,EAAKwtB,YACcxrB,EAAO,GAAIyuC,EAAO,GAC7ChzC,EAAO,GACPizC,EAAWj0C,EAAGH,KAAK,mBACnB6gB,EAAQ1gB,EAAG0gB,MAAQ1gB,EAAG0gB,MAAMlG,IAAM,KAElC05B,EAAO,CAAC,EAET,GAAIzQ,GAASsQ,EACb,CACC,GAAIrzB,GAASA,EAAMrW,QAElB,IAAK3K,EAAE,EAAGA,EAAIghB,EAAMrW,QAAQ9H,OAAQ7C,IAEnCw0C,EAAKxzB,EAAMrW,QAAQ3K,GAAGwB,MAAQwf,EAAMrW,QAAQ3K,GAAGsjC,MAMjD,IAFYz/B,EAAK4wC,UAEZz0C,EAAE,EAAGA,EAAI+jC,EAAMlhC,OAAQ7C,IAGvBw0C,EADJ/uB,EAAQse,EAAM/jC,GAAGwB,OACEgzC,EAAK/uB,IAAUA,IAEjCA,EAAQ+uB,EAAK/uB,GAAS,MAAQA,GAE/B0uB,EAAO,OAASn0C,EAChBs0C,EAAKxxC,KAAK,CACThC,MAAO,aACPjB,MAAO,IACP6B,KAAM+jB,EACN7a,UAAWupC,IAGZ7yC,EAAOwB,KAAK,CAACtB,KAAM2yC,EAAMO,QAASP,IAKnC,IAFIG,EAAKzxC,OAEJ7C,EAAE,EAAGA,EAAIq0C,EAAMxxC,OAAQ7C,IAC5B,CAIC,IAHAuxB,EAAM,CAAC,EACPjQ,EAAO+yB,EAAMr0C,GAER8lB,EAAE,EAAGA,EAAIxE,EAAKze,OAAQijB,IAG1ByL,EADA4iB,EAAO,OAASruB,GACJxE,EAAKwE,GAGlBjgB,EAAK/C,KAAKyuB,EACX,CACD,CAEAlwB,EAAQ,CACPA,MAAO,QACPC,OAAQA,EACRqzC,MAAO9uC,GAGR0uC,EAASK,YAAYvzC,EAAOizC,EAC7B,EAEA3zC,cAAgB,WACNT,KAENgB,MAAQC,KAAKC,GAAG,cAEnB9B,GAAGsB,MAAMV,KAAM,CACdR,OAAQ,MAERmB,MAAO,CACN,CACCC,MAAO,QACP0I,QAASpB,IAAIoB,QACb9J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO,sBAER,CACCnS,MAAO,YACPU,KAAM,WACNc,OAAQ,IACRjB,MAAO,CAAC,EACRsJ,QAAS,OAObhJ,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,SAAS6J,GACZ3L,KACN4Y,OACJ,KAIF1Z,IAAI0hB,eAAe5e,WAAWvB,cAAcC,MAAMV,KAAM4L,UACzD,IAID1M,IAAImwC,QAAUjwC,GAAGC,OAAOD,GAAGE,OAAQ,CAClCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAERC,UAAU,EACVC,WAAW,EAEXC,MAAO,IACPC,YAAY,EAEZ0J,QAASpB,IAAIoB,QAEbsP,MAAO,WACN,IAGC9Y,EAAY0R,EAAGoU,EACf+uB,EAAMC,EAHNC,EADQ70C,KACGC,KAAK,gBAChB+4B,EAFQh5B,KAEGg5B,MACRlpB,EAAK,GAGT,IAAKhQ,EAAE,EAAGA,EAAIk5B,EAAMr2B,OAAQ7C,IAG3B60C,GADA/uB,EAAIoT,EAAMl5B,IACDm5B,OACT2b,EAAOhvB,EAAEsT,OACT1nB,EAAI,CACHsjC,UAAWH,EAAKpR,SAChBgO,OAASoD,EAAKzwB,UACdylB,OAAQgL,EAAKzuC,UACb6uC,UAAWH,EAAKrR,SAChByR,OAAQJ,EAAK1wB,UACbghB,OAAQ0P,EAAK1uC,UACbqU,KAAMqL,EAAErL,MAETzK,EAAGlN,KAAK4O,GAGTqjC,EAAM1zC,MAAM0B,SAASiN,EACtB,EAEA7J,SAAU,WACT,IAECiF,EAAoCpL,EACrB8lB,EAHZxlB,EAAKJ,KACR60C,EAAQz0C,EAAGH,KAAK,gBACX+4B,EAAQ54B,EAAG44B,MAAOkW,EAAS,GAChC7iC,EAAM,CAAC,EAER,IAAKvM,EAAE,EAAGA,EAAI+0C,EAAM1zC,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,IAM5CuM,GAJAnB,EAAM2pC,EAAM1zC,MAAMwE,KAAKhF,MAAMb,IAEnB8F,IAAI,aAAe,IAAMsF,EAAItF,IAAI,UAAY,IAAMsF,EAAItF,IAAI,aAAe,IAAMsF,EAAItF,IAAI,WAEvF,EAGZ,IAAK9F,EAAE,EAAGA,EAAIk5B,EAAMr2B,OAAQ7C,IAKvBuM,GAHJuZ,EAAIoT,EAAMl5B,IACFm5B,OAAOsK,SAAW,IAAM3d,EAAEqT,OAAO/yB,UAAY,IAAM0f,EAAEsT,OAAOqK,SAAW,IAAM3d,EAAEsT,OAAOhzB,YAI7FgpC,EAAOtsC,KAAKgjB,GAIdxlB,EAAGE,UAAYF,EAAGE,SAASC,QAAQ2uC,GAEnC9uC,EAAGI,OACJ,EAEAC,cAAgB,WAEfrB,GAAGsB,MAAMV,KAAM,CACdgB,MAAOC,KAAKC,GAAG,0BACfP,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAER+oB,UAAW,IACXvgB,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,QACNP,KAAM,EACN0J,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,aACdwJ,UAAW,UAEZ,CACClJ,KAAMP,KAAKC,GAAG,eACdwJ,UAAW,UAEZ,CACClJ,KAAMP,KAAKC,GAAG,eACdwJ,UAAW,UAEZ,CACClJ,KAAMP,KAAKC,GAAG,eACdwJ,UAAW,UAEZ,CACClJ,KAAMP,KAAKC,GAAG,QACdwJ,UAAW,QAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAS,cACTvI,QAAS,SAAU2S,EAAMC,EAAUC,GACxBF,EAAKlT,MAAMqT,MAAMF,GAC3BD,EAAKlT,MAAMsT,SAASH,EACrB,MAKJnT,MAAO,CACNC,OAAQ,CAAC,SAAU,SAAU,SAAU,SAAU,OAAQ,YAAa,kBAM3EK,QAAS,CACR,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACZ3L,KACN4Y,OACJ,KAIF1Z,IAAImwC,QAAQrtC,WAAWvB,cAAcC,MAAMV,KAAM4L,UAClD;AC/rED1M,IAAIojB,YAAcljB,GAAGC,OAAOD,GAAGE,OAAQ,CACtCC,OAAO,EACPC,OAAQ,MACRC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPC,YAAY,EACZ+Y,YAAazQ,IAAIoB,QAEjBrD,SAAU,WACT,IAAI7F,EAAKJ,KAET,GAAII,EAAGE,SACP,CACC,IACCR,EADGm1C,EAAe70C,EAAGH,KAAK,uBAE1BoM,EAAM,GAEP,IAAKvM,EAAE,EAAGA,EAAIm1C,EAAa9zC,MAAMwE,KAAKhD,OAAQ7C,IAE7CuM,EAAIzJ,KAAKqyC,EAAa9zC,MAAMwE,KAAKhF,MAAMb,IAExCM,EAAGE,SAASC,QAAQ8L,EACrB,CACAjM,EAAGI,OACJ,EAEA00C,aAAc,WACb,IAAI7/B,EAAQrV,KACXmD,EAAM,IAAIjE,IAAIkE,MACfD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,cACLC,QAAS,CAACwe,QAAS,SACnBve,MAAO,CAACC,OAAQ,WACd4R,EAAOA,EAAM8/B,iBAAiB,GAClChyC,EAAIO,MACL,EAEAyxC,gBAAiB,SAASxxC,GACzB,IAAI7D,EAKHs1C,EAHAC,EAAS,GACTC,EAAa,GAGbnd,EAAWn4B,KAAKC,KAAK,mBACrBg1C,EAAej1C,KAAKC,KAAK,uBACzBoM,EAAM,CAAC,EAGR,GAAIrM,KAAKqM,IAER,IAAKvM,EAAE,EAAGA,EAAIE,KAAKqM,IAAI1J,OAAQ7C,IAE9BuM,EAAIrM,KAAKqM,IAAIvM,GAAG2iB,KAAOziB,KAAKqM,IAAIvM,GAIlC,GAAI6D,EAEH,IAAK7D,EAAE,EAAGA,EAAI6D,EAAKhB,OAAQ7C,IAGtBuM,GADJ+oC,EAAOzxC,EAAK7D,IACC2iB,KAEZ6yB,EAAW1yC,KAAKwyC,GAIhBC,EAAOzyC,KAAKwyC,GAKfjd,EAASh3B,MAAM0B,SAASwyC,GACxBJ,EAAa9zC,MAAM0B,SAASyyC,EAW7B,EAkBAC,SAAU,SAAS1vC,GAClB,IACC/F,EACA01C,EAFQx1C,KAEQC,KAAK,kBAA8B,GAAV4F,EAAkB,OAAS,IAAM,KAC1E4vC,EAHQz1C,KAGQC,KAAK,kBAA8B,GAAV4F,EAAiB,OAAS,IAAM,KACzEwG,EAAMmpC,EAAWnwC,oBAAoBqR,eAEtC,GAAIrK,EAAI1J,OAAS,EAEhB,IAAK7C,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAEzB01C,EAAWr0C,MAAMwV,OAAOtK,EAAIvM,IAC5B21C,EAAWt0C,MAAMiR,IAAI/F,EAAIvM,GAG5B,EAEAW,cAAgB,WACfT,KAAKgB,MAAQC,KAAKC,GAAG,YAErB,IAAIP,EAAQ,CACX,CACCC,MAAO,OACPpB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAET5K,OAAQ,EACRsP,YAAazQ,IAAIoB,QACjB3I,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO9R,KAAKC,GAAG,cAEhB,CACCN,MAAO,QACPyI,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACN+H,OAAQ,EACRtI,KAAM,EACNqB,OAAQ,IACR+H,QAAS,gBACTC,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPmuB,aAAa,EACbr3B,MAAO,CACNC,OAAQ,CACP,OAAQ,WAAY,MAAO,SAAU,SAGvCqJ,QAAS,CACR,CACCgd,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,OACX3J,KAAM,EACNqT,UAAU,EACVoT,UAAU,GAEX,CACCC,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,OACX3J,KAAM,EACNqT,UAAU,EACVoT,UAAU,KAIb,CACC5mB,MAAO,YACP+X,YAAazQ,IAAIoB,QACjBD,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPG,KAAM,GAEP,CACCH,MAAO,SACPY,KAAM,KACNE,QAAS,WACR1B,KAAKu1C,UAAS,EACf,EACA5zC,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAM,KACNE,QAAS,WACR1B,KAAKu1C,UAAS,EACf,EACA5zC,MAAO3B,MAER,CACCY,MAAO,YACPG,KAAM,KAIT,CACCH,MAAO,YACPU,KAAM,eACNP,KAAM,EACNsI,OAAQ,EACRjH,OAAQ,IACR+H,QAAS,gBACTC,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPmuB,aAAa,EACbr3B,MAAO,CACNC,OAAQ,CACP,OAAQ,WAAY,MAAO,SAAU,SAGvCqJ,QAAS,CACR,CACCgd,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,OACX3J,KAAM,EACNqT,UAAU,EACVoT,UAAU,GAEX,CACCC,OAAQxmB,KAAKC,GAAG,UAChBwJ,UAAW,OACX3J,KAAM,EACNqT,UAAU,EACVoT,UAAU,UAUd/lB,EAAU,CACb,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAITZ,GAAGsB,MAAMV,KAAM,CACdW,MAAOA,EACPc,QAASA,IAGVvC,IAAIojB,YAAYtgB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACtD,EAEA/J,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAKk1C,cACN;AC3RFh2C,IAAIw2C,YAAct2C,GAAGC,OAAOD,GAAGE,OAAQ,CAEtCC,OAAO,EACPC,OAAQ,MAERC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAER6D,SAAU,WACT,IAKCnG,EACAoL,EACA/H,EAPG/C,EAAKJ,KACRgrB,EAAW5qB,EAAGH,KAAK,mBACnB01C,EAAWv1C,EAAGH,KAAK,mBACnB21C,EAAcx1C,EAAGH,KAAK,sBACtB41C,EAAOz1C,EAAGH,KAAK,eAIf61C,EAAM11C,EAAGH,KAAK,cACd0kB,EAAQvkB,EAAGukB,MAEZ,GAAKzlB,IAAImH,YAAYjG,EAAI,CAAC,SAGtBukB,EACJ,CASC,GARAmxB,EAAI3vC,eACJwe,EAAMrjB,KAAOw0C,EAAI1vC,WACjBue,EAAM5gB,YAAc3D,EAAGH,KAAK,cAAcmG,WAC1Cue,EAAMoxB,MAAQ31C,EAAGH,KAAK,cAAcmG,WACpCue,EAAMqxB,SAAW92C,IAAIsnB,WAAWpmB,EAAGH,KAAK,cAAcmG,YACtDue,EAAMsxB,YAAc,GACpBtxB,EAAMjK,WAAata,EAAGH,KAAK,uBAAuBmG,YAE7Cue,EAAMrjB,KAGV,YADAw0C,EAAIjvC,cAeL,IAXA8d,EAAMuxB,QAAU,GAEG,UAAfvxB,EAAMoxB,MAETpxB,EAAMwxB,OAAS/1C,EAAGH,KAAK,mBAAmBmG,WAI1Cue,EAAMwxB,OAAS/1C,EAAGH,KAAK,iBAAiBm2C,YAAYhwC,WAGhDtG,EAAE,EAAGA,EAAIkrB,EAAS7pB,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAE/CoL,EAAM8f,EAAS7pB,MAAMwE,KAAKhF,MAAMb,IAExB8F,IAAI,UAEX+e,EAAMsxB,YAAYrzC,KAAK,CACtBoQ,KAAM9H,EAAItF,IAAI,QACdmN,MAAO7H,EAAItF,IAAI,WAGG,UAAf+e,EAAMoxB,OAAqB7qC,EAAItF,IAAI,UAEtC+e,EAAMuxB,QAAQtzC,KAAK,CAACoQ,KAAM9H,EAAItF,IAAI,QAASywC,MAAOnrC,EAAItF,IAAI,YAK7D,GAAmB,UAAf+e,EAAMoxB,MAET,IAAKj2C,EAAE,EAAGA,EAAI61C,EAASx0C,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAE/CoL,EAAMyqC,EAASx0C,MAAMwE,KAAKhF,MAAMb,IAExB8F,IAAI,UAEX+e,EAAMuxB,QAAQtzC,KAAK,CAACoQ,KAAM9H,EAAItF,IAAI,QAASywC,MAAOnrC,EAAItF,IAAI,WAK7DiwC,EAAK5vC,WAEc,UAAf0e,EAAMoxB,OAAoC,OAAfpxB,EAAMoxB,QAEpCpxB,EAAM2xB,UAAYV,EAAYxvC,aAG/BjD,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAGukB,MAAM7hB,IAAKxB,KAAMlB,EAAGukB,MAAMrjB,KAAMyC,YAAa3D,EAAGukB,MAAM5gB,aACxEP,MAAOpD,EAAGukB,MACVzhB,UAAW,gBACT9C,GAAI,SAASuD,GACf,IAAIvD,EAAKJ,KACTI,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAG4G,MACtC5G,EAAGI,OACJ,GAAG,MACJ2C,EAAIO,MACL,CACD,EAEAkV,MAAO,WACN5Y,KAAKu2C,aACN,EAEAA,YAAa,WACZ,IAAIn2C,EAAKJ,KACR8I,EAAW1I,EAAG0I,SACd3F,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACwe,QAAS,KACnBve,MAAO,CAACC,OAAQ,aACdrD,GAAI,SAASuD,GACf,IACC6N,EAIA1R,EAAGoF,EAHH4K,EAAK,GAEL0mC,GADU1tC,EAAS2tC,SAASC,IAHpB12C,KAIUC,KAAK,wBAGxB,GAAI0D,GAAQA,EAAKhB,OACjB,CAKC,IAJAuC,EAASvB,EAETmM,EAAGlN,KAAK,CAACmE,SAAS,oBAAqBjE,IAAI,KAEtChD,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,KAE5B0R,EAAItM,EAAOpF,IACTiH,SAAWyK,EAAElQ,KACfwO,EAAGlN,KAAK4O,GAGTglC,EAAar1C,MAAM0B,SAASiN,GAC5B0mC,EAAa1yC,SAAS,GACvB,CAtBS9D,KAwBN22C,UACJ,IAAG,GACJxzC,EAAIO,MACL,EAEAizC,SAAU,WACT,IAAIv2C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK8zC,SAAUx2C,EAAGw2C,UACpCpzC,MAAO,CAACC,OAAQ,gBACdrD,GAAI,SAASuD,GACf,IAAIvD,EAAKJ,KACTI,EAAGukB,MAAQhhB,EAAKV,QAChB7C,EAAGukB,MAAM/e,IAAM,SAASixC,GACvB,OAAOz2C,EAAGukB,MAAMkyB,EACjB,EACAz2C,EAAGukB,MAAM7e,IAAM,SAAS+wC,EAAO9jC,GAC9B3S,EAAGukB,MAAMkyB,GAAS9jC,CACnB,EACA3S,EAAG02C,YACJ,IAAG,GACJ3zC,EAAIO,MACL,EAEAozC,WAAY,WACX,IAGCnmC,EAAQ7Q,EAHLM,EAAKJ,KACR2kB,EAAQvkB,EAAGukB,MACXkxB,EAAOz1C,EAAGH,KAAK,eAGhB,GAAI0kB,EACJ,CAqCC,GApCAhU,EAAS,CACR,CACC1F,EAAG,MACHhG,EAAG0f,EAAMrjB,MAEV,CACC2J,EAAG,MACHhG,EAAG0f,EAAM5gB,aAEV,CACCkH,EAAG,MACHhG,EAAG0f,EAAMoxB,OAAS,IAEnB,CACC9qC,EAAG,MACHhG,EAAG/F,IAAI4f,WAAW6F,EAAMqxB,WAEzB,CACC/qC,EAAG,eACHhG,EAAG0f,EAAMjK,YAEV,CACCzP,EAAG,WACHhG,EAAG0f,EAAMwxB,SAIX/1C,EAAGH,KAAK,eAAeiL,IAAMyZ,EACV,WAAfA,EAAMoxB,QAETF,EAAKn7B,WAAaiK,EAAMjK,WACxBm7B,EAAKnpB,eAGNtsB,EAAG22C,UAAUpmC,GAETgU,EAAMwxB,QAAUxxB,EAAMuxB,QAC1B,CACC,IACChrC,EADG8rC,EAAW,CAAC,EAGhB,IAAKl3C,EAAE,EAAEA,EAAI6kB,EAAMuxB,QAAQvzC,OAAQ7C,IAGlCk3C,GADA9rC,EAAMyZ,EAAMuxB,QAAQp2C,IACPkT,MAAQ9H,EAAImrC,MAG1B,IAAKv2C,EAAE,EAAGA,EAAI6kB,EAAMsxB,YAAYtzC,OAAQ7C,KAEvCoL,EAAMyZ,EAAMsxB,YAAYn2C,IACpBu2C,MAAQW,EAAS9rC,EAAI8H,KAE3B,CAEA5S,EAAGH,KAAK,mBAAmBkB,MAAM0B,SAAS8hB,EAAMsxB,aAChD71C,EAAGH,KAAK,mBAAmBkB,MAAM0B,SAAS8hB,EAAMuxB,SAChD91C,EAAGH,KAAK,sBAAsB6D,SAAS6gB,EAAM2xB,WAAa,IAEtD3xB,EAAMwxB,QAET/1C,EAAGH,KAAK,iBAAiBsb,QAE3B,CACD,EAEAw7B,UAAW,SAASpmC,GACnB,IACI7Q,EAEJ,IAAKA,EAAE,EAAGA,EAAI6Q,EAAOhO,OAAQ7C,IAHpBE,KAKDC,KAAK,SAAW0Q,EAAO7Q,GAAGmL,EAAI,KACnCnH,SAAS6M,EAAO7Q,GAAGmF,GAAK,GAE5B,EAEAgyC,YAAa,SAAS5iC,EAAMwW,GAC3B,IAAI3V,EAAUb,EAAKhP,oBAAoBqR,eACtCjE,EAASyC,GAAWA,EAAQvS,OAASuS,EAAQ,GAAK,KAEnD,GAAKzC,EAAL,CAKA,IAAIgD,EAAQpB,EAAKyW,WAAWxV,QAAQ7C,GAEpC,GAAIoY,EAAY,GAGf,KADApV,EACY,EAEX,YAMD,KADAA,GACapB,EAAKyW,WAAWC,WAE5B,OAGF1W,EAAKyW,WAAWnU,OAAOlE,GACvBA,EAAS4B,EAAKyW,WAAWlU,OAAOnB,EAAOhD,GACvC4B,EAAKhP,oBAAoBQ,OAAO4M,GAAQ,EAtBxC,CAuBD,EAEAhS,cAAgB,WACf,IACCy2C,EAAW,CACV,CAAC51C,KAAML,KAAKC,GAAG,YAAa6R,MAAO,IACnC,CAACzR,KAAM,gBAAiByR,MAAO,UAC/B,CAACzR,KAAM,YAAayR,MAAO,OAC3B,CAACzR,KAAM,WAAYyR,MAAO,YALnB/S,KAeNgB,MAAQC,KAAKC,GAAG,kBAEnB9B,GAAGsB,MAjBMV,KAiBI,CAEZsJ,QAAS,EAET3I,MAAO,CACN,CACCC,MAAO,QACP0I,QAASpB,IAAIoB,QACbD,OAAQ,EACRE,YAAY,EAEZ/J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAGRH,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,UACpBI,KAAM,OAEP,CACCV,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,UACpBI,KAAM,MACNc,OAAQ,IAET,CACCxB,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,kBAEpBI,KAAM,MACNH,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAMuxC,GAEP9jC,UAAW,QACXE,WAAY,QACZD,aAAc,OACdE,UAAU,EACV1R,UAAW,CACV4R,OAAQ,SAAShH,EAAOC,EAAUC,GACjC,GAAID,EACJ,CACC,IAAItM,EAAKJ,KAETI,EAAGH,KAAK,uBAAuBuN,WAAuB,UAAZd,GAC1CtM,EAAGH,KAAK,eAAeuN,WAAuB,UAAZd,GAClCtM,EAAGH,KAAK,eAAeuN,WAAuB,OAAZd,GAClCtM,EAAGH,KAAK,eAAeuN,WAAuB,WAAZd,GAClCtM,EAAGH,KAAK,iBAAiBuN,WAAuB,UAAZd,GAEpCtM,EAAGH,KAAK,sBAAsBuN,WAAuB,WAAZd,EAC1C,CACD,EACA/K,MAAO3B,OAGT,CACCY,MAAO,YACPU,KAAM,aACN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,eACN8R,UAAW,QACX3J,WAAYxI,KAAKC,GAAG,gBACpBmS,aAAc,WACdC,WAAY,MACZC,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,WAAY,MAAO,WAAY,YAGzCS,UAAW,CACVgE,OAAQ,SAAS9D,GAChB,IACCkV,EAASlV,EAAKqE,WACdyvC,EAFQ71C,KAEEC,KAAK,eAGM,WALbD,KAGCC,KAAK,cAEPmG,aAEPyvC,EAAKn7B,WAAazD,EAClB4+B,EAAKnpB,cAEP,EACA/qB,MAAO3B,OAGT,CACCY,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,iBACpBI,KAAM,cACN8R,UAAW,QACXY,QAAQ,EACRT,UAAU,EACVD,WAAY,QACZD,aAAc,OACdlS,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,gBAAiByR,MAAO,IAC/B,CAACzR,KAAM,iBAAkByR,MAAO,kBAChC,CAACzR,KAAM,wBAAyByR,MAAO,8BAM5C,CACCnS,MAAO,WACPI,MAAOC,KAAKC,GAAG,wBACfI,KAAM,OACN0S,QAAQ,EACRjT,KAAM,EACNvB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,kBACpB0I,SAAU3I,KAAKC,GAAG,YAClBW,UAAW,CACV4R,OAAQ,SAAS1R,GAChB,IAAIsN,EAAItN,EAAKqE,WACDpG,KAAKC,KAAK,mBAGbwK,QAAQ,GAAG+C,WAAW6B,EAChC,EACA1N,MAAO3B,OAGT,CACCY,MAAO,YACPU,KAAM,WACNC,KAAM,CACL,CACCX,MAAO,UACPoT,SAAQhU,KAAKm3C,SACbx2C,MAAO,CACN,CACCa,KAAMP,KAAKC,GAAG,aACdN,MAAO,SACPc,QAAS,WACO1B,KAAKC,KAAK,mBAChBkB,MAAMiR,IAAI,CAAC,EACrB,EACAzQ,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,oBACdN,MAAO,SACPc,QAAS,WACR,IAEC5B,EAFGkrB,EAAWhrB,KAAKC,KAAK,mBACxBoM,EAAM2e,EAAS3lB,oBAAoBiU,SAGpC,IAAKxZ,EAAEuM,EAAI1J,OAAO,EAAG7C,GAAG,EAAGA,IAE1BkrB,EAAS7pB,MAAMwV,OAAOtK,EAAI1L,MAAMb,GAElC,EACA6B,MAAO3B,MAER,IACA,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,QACdQ,QAAS,WACR,IACCspB,EADQhrB,KACMC,KAAK,mBADXD,KAGNi3C,YAAYjsB,GAAW,EAC3B,EACArpB,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,UACdQ,QAAS,WACR,IACCspB,EADQhrB,KACMC,KAAK,mBADXD,KAGNi3C,YAAYjsB,EAAU,EAC1B,EACArpB,MAAO3B,SAKXe,KAAM,EACNI,MAAO,CACNP,MAAO,QACPQ,OAAQ,CAAC,OAAQ,QAAS,UAE3B+I,QAAS,gBACTC,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPC,QAAS,CACR,CACCC,MAAO,cACPC,aAAc,IAGhBC,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACX3J,KAAM,EACN6J,OAAQ,CACPhK,MAAO,YACPiV,YAAY,IAGd,CACCrU,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,QACX3J,KAAM,EACN6J,OAAQ,CACPhK,MAAO,YACPiV,YAAY,IAGd,CAECrU,KAAMP,KAAKC,GAAG,WACdwJ,UAAW,QACX/K,MAAO,IACPqU,QAAQ,EACR2T,SAAU,SAAS5U,EAAOgX,EAAUtX,GACnC,MAAO,0DAA4DM,EAAQ,kBAAoBA,EAAQ,SACxG,EACAnI,OAAQ,CACP/J,KAAM,cAqCZ,CACCD,MAAO,WACPI,MAAOC,KAAKC,GAAG,qBACfI,KAAM,OACNuoB,UAAW,IACX9oB,KAAM,EACNiT,QAAQ,EACRxU,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,MACNP,KAAM,GAEP,CACCH,MAAO,eACPuT,WAAW,EACXpB,MAAO,uDAIV,CACCnS,MAAO,YACPI,MAAOC,KAAKC,GAAG,oBACfI,KAAM,OACNP,KAAM,EACNiT,QAAQ,EACR6V,UAAW,IACXrqB,OAAQ,SACRmB,MAAO,CACN,IAAIzB,IAAIisB,iBAAiB,CACxB7pB,KAAM,OACN+H,OAAQ,EACR4K,OAAQ,OACRoa,IAAK,WAKR,CACCztB,MAAO,WACPI,MAAOC,KAAKC,GAAG,cACfI,KAAM,SACN8sB,gBAAgB,EAChBE,WAAW,EACXlsB,OAAQ,IACR5C,OAAQ,MACRmB,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACN6I,QAAS,gBACT5I,KAAM,CACL,CACCX,MAAO,UACPD,MAAO,CACN,CACCa,KAAMP,KAAKC,GAAG,aACdN,MAAO,SACPc,QAAS,WACO1B,KAAKC,KAAK,mBAChBkB,MAAMiR,IAAI,CAAC,EACrB,EACAzQ,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,oBACdN,MAAO,SACPc,QAAS,WACR,IAEC5B,EAFGkrB,EAAWhrB,KAAKC,KAAK,mBACxBoM,EAAM2e,EAAS3lB,oBAAoBiU,SAGpC,IAAKxZ,EAAEuM,EAAI1J,OAAO,EAAG7C,GAAG,EAAGA,IAE1BkrB,EAAS7pB,MAAMwV,OAAOtK,EAAI1L,MAAMb,GAElC,EACA6B,MAAO3B,MAER,IACA,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,QACdQ,QAAS,WACR,IACCspB,EADQhrB,KACMC,KAAK,mBADXD,KAGNi3C,YAAYjsB,GAAW,EAC3B,EACArpB,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,UACdQ,QAAS,WACR,IACCspB,EADQhrB,KACMC,KAAK,mBADXD,KAGNi3C,YAAYjsB,EAAU,EAC1B,EACArpB,MAAO3B,SAKXoK,SAAU,CACT2O,cAAe,eACf1O,KAAM,SAEPlJ,MAAO,CACNP,MAAO,QACPQ,OAAQ,CAAC,OAAQ,UAElBqJ,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,WACdwJ,UAAW,OACX3J,KAAM,EACN6J,OAAQ,CACPhK,MAAO,YACPiV,YAAY,IAGd,CACCrU,KAAMP,KAAKC,GAAG,WACdwJ,UAAW,QACX3J,KAAM,EACN4mB,SAAU,SAAS5U,EAAOgX,EAAUtX,GACnC,MAAO,0DAA4DM,EAAQ,kBAAoBA,EAAQ,SACxG,EACAnI,OAAQ,CACP/J,KAAM,iBAWfY,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,WACZ9B,KAAK4Y,OACN,KAIF1Z,IAAIw2C,YAAY1zC,WAAWvB,cAAcC,MAAMV,KAAM4L,UACtD;ACpwBD1M,IAAIk4C,SAAWh4C,GAAGC,OAAOD,GAAGE,OAAQ,CACnCsB,MAAO,SAEPrB,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAERC,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IAERsF,SAAS,CACR4B,QAASpB,IAAIoB,SAGdrD,SAAU,WACT,IAAI7F,EAAKJ,KACRuZ,EAAM,CAAC,EAEJnZ,EAAGi3C,aAAa99B,KAGpBnZ,EAAGE,SAASC,QAAQgZ,GACpBnZ,EAAGI,QACJ,EAEAC,cAAgB,WAGfrB,GAAGsB,MAFMV,KAEI,CACZgB,MAHQhB,KAGEgB,OAASC,KAAKC,GAAG,WAC3BP,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,eACpBwI,UAAU,EACV2J,aAAc,OACdC,WAAY,QACZnS,MAAO,CACNwE,KAAM,CACL,CAACrE,KAAM,mBAAoByR,MAAO,MAClC,CAACzR,KAAM,mBAAoByR,MAAO,SAIrC,CACCnS,MAAO,WACPU,KAAM,WACNoI,UAAU,MAKdjI,QAAS,CACR,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAIk4C,SAASp1C,WAAWvB,cAAcC,MAAMV,KAAM4L,UACnD,IAGD1M,IAAI8Y,aAAe5Y,GAAGC,OAAOD,GAAGE,OAAQ,CAEvCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAER8J,QAASpB,IAAIoB,QAEb7J,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEVg3C,OAAQ,CACP,CAACh2C,KAAM,iBAAkByR,MAAO,iBAAkB4b,OAAQ,GAC1D,CAACrtB,KAAM,QAASyR,MAAO,QAAS4b,OAAQ,GACxC,CAACrtB,KAAM,MAAOyR,MAAO,MAAO4b,OAAQ,GACpC,CAACrtB,KAAM,UAAWyR,MAAO,MAAO4b,OAAQ,GACxC,CAACrtB,KAAM,MAAOyR,MAAO,MAAO4b,OAAQ,GACpC,CAACrtB,KAAM,MAAOyR,MAAO,MAAO4b,OAAQ,GACpC,CAACrtB,KAAM,WAAYyR,MAAO,OAAQ4b,OAAQ,IAG3C1oB,SAAU,WACT,IAAI7F,EAAKJ,KAET,GAAII,EAAGE,SACP,CACC,IACCR,EAGAkH,EAAM0jC,EAJHriC,EAAI,GAEPkvC,EAAcv3C,KAAKC,KAAK,sBACxBu3C,EAAYx3C,KAAKC,KAAK,oBAGvB,IAAKH,EAAE,EAAGA,EAAIy3C,EAAYp2C,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAElDkH,EAAOuwC,EAAYp2C,MAAMwE,KAAKhF,MAAMb,IAE1B6F,KAAK2T,WAGfoxB,EAAO,CACNhkC,SAAUM,EAAKpB,IAAI,YACnBgf,QAAS5d,EAAKpB,IAAI,WAClB/E,KAAMmG,EAAKpB,IAAI,QACftE,KAAM0F,EAAKpB,IAAI,QACf9C,IAAKkE,EAAKpB,IAAI,OACdqY,SAAUjX,EAAKpB,IAAI,YACnBkgB,YAAa9e,EAAKpB,IAAI,eACtB4F,MAAOxE,EAAKpB,IAAI,SAChB4xC,UAAWxwC,EAAKpB,IAAI,cAGrByC,EAAEzF,KAAK8nC,IAGR,GAAgB,GAAZriC,EAAE1F,OAGL,YADAzD,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,mBAAoB,KAAM,KAAM,EAAG,IAItEd,EAAG8kB,gBAAgB,CAClBvkB,MAAO0H,EACPmvC,UAAWA,EAAUpxC,WACrBu0B,OAAQv6B,EACR8X,MAAO9X,EAAG8X,MACVu/B,KAAMr3C,EAAGq3C,MAEX,CAEAr3C,EAAGI,OACJ,EAEA0kB,gBAAiB,SAAS3L,GACzB,IAAIzZ,EAAG8lB,EAIN8xB,EACA1wC,EACA2wC,EAAIC,EAIJ/xB,EAE2B1iB,EAE3B4tC,EACA8G,EAEAC,EAhBA13C,EAAKJ,KACL+hB,EAAU,GACV9e,EAAU,CAACtC,MAAO,IAKlBA,GADQ4Y,EAAIrB,MACJqB,EAAI5Y,OACZ62C,EAAYj+B,EAAIi+B,UAGhBO,GADMx+B,EAAIohB,OACIv6B,EAAGsG,UACjB+wC,EAAOl+B,EAAIk+B,KAGXO,EAAS/0C,EAAQtC,MAKlB,IAFAP,EAAG4kB,QAAUwyB,EAER13C,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,IAwC3B,GAtCAkH,EAAOrG,EAAMb,GAIZ+lB,EAFGtM,EAAIrB,MAEAlR,EAAKwwC,UAAY,IAIyB,YAA7CA,EAAUzpB,UAAU,EAAG,GAErB/mB,EAAKN,SAASqnB,UAAU,EAAG/mB,EAAKN,SAASuoB,YAAY,MAC9CuoB,EAAUzpB,UAAU,GAAqB,IAI9CgqB,EAAc,KAAOP,EAAaA,EAAY,IAAO,IAI9DxwC,EAAK6e,KAAOA,GAEZgyB,EAAQ7wC,EAAK8e,aAEHxQ,QAAQ,MAAQ,IAGzBuiC,GADAA,EAAQA,EAAM1mC,MAAM,MACNoJ,KAAK,WAGpBo9B,EAAK,CAACr2C,KAAMu2C,EAAO/0C,IAAK+iB,EAAOgyB,EAAOh3C,KAAMmG,EAAKwE,OAAS,UAAWysC,gBAAiB,KAClF73C,EAAG6X,QAEN0/B,EAAGlxC,IAAMrG,EAAG6X,MAAMnV,KAEnBif,EAAQnf,KAAK+0C,GAEbG,EAAQ13C,EAAG6X,MAAQ7X,EAAG6X,MAAQjR,EAEZ,cAAdA,EAAKwE,MAERosC,EAAK,CACJzzC,QAAS/D,EAAG0C,IACZoB,WAAY,OACZg0C,QAASlxC,EAAKlE,IACdoD,UAAW2xC,EACXj8B,OAAQ,OACR3X,OAAO,EACPf,UAAW,oBAGZ80C,EAAOp1C,KAAKg1C,OAGb,CACC,OAAQ5wC,EAAK4d,SAQb,IAAK,iBACL,IAAK,iBACJ8yB,EAAM,mBAAqB1wC,EAAK1F,KAAO,KACvC,MACD,IAAK,OACJ,MACD,QACCo2C,EAAM1wC,EAAK4d,QAAU,KAAO5d,EAAK1F,KAAO,KAIzC,GAAoB,QAAhB0F,EAAK4d,SAAqB6yB,EAC9B,CAKC,IAFA1G,GAFA2G,EAAMD,EAAK1xC,YAEFuP,QAAQ,WAEVy7B,GAAM,GAGZA,GADA2G,EAAMA,EAAI3pB,UAAU,EAAGgjB,GAAM,IAAM/pC,EAAK1F,KAAO,IAAMo2C,EAAI3pB,UAAUgjB,EAAK,IAC/Dz7B,QAAQ,WAalB,IAVAsiC,EAAK,CACJ10C,UAAW,UACX5B,KAAM0F,EAAK8e,YACXqyB,gBAAiBV,EAAKhtB,eACtB2tB,SAAUX,EAAKW,SACfryC,WAAY2xC,EACZ7zC,UAAW,CACVi0C,IAGGlyB,EAAE,EAAGA,EAAI6xB,EAAKr2C,OAAOuB,OAAQijB,IAEjC6xB,EAAKr2C,OAAOwkB,GAAG/kB,KAAO42C,EAAKr2C,OAAOwkB,GAAG/kB,MAAQ42C,EAAKr2C,OAAOwkB,GAAGhhB,SAC5DgzC,EAAGj3C,MAAMiC,KAAK60C,EAAKr2C,OAAOwkB,IAE3BoyB,EAAOp1C,KAAKg1C,EACb,MAGCA,EAAK,CACJ10C,UAAW,UACX5B,KAAM0F,EAAK8e,YACXqyB,gBAAiBnxC,EAAK4d,QACtB7e,WAAY2xC,EACZ7zC,UAAW,CACVi0C,IAIFE,EAAOp1C,KAAKg1C,EAEd,EAGDz0C,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAAOP,GACL7C,GAAI,SAASuD,GACfvD,EAAGE,SAASC,SACb,GAAG,MACJ4C,EAAIO,MACL,EAEA20C,aAAc,SAAS3gC,EAAUmgC,EAAOjzB,EAAS0zB,GAChD,IACCl4C,EAAKJ,KAEN,GAHQs4C,IAAW5gC,EAAY,0BAA0B6gC,KAAK7gC,GAAa,GAI3E,CACC,IAAI8gC,EAAQ,SAASC,EAAQC,EAAQC,GACpC,GAAIA,GAAUA,EAAOh2C,OACrB,CACC,IAAI2E,EAAIoxC,EAAOpjC,QAAQmjC,GAEnBnxC,GAAK,IAERoxC,EAASA,EAAO3qB,UAAU,EAAGzmB,GAAKqxC,EAASD,EAAO3qB,UAAUzmB,EAAEmxC,EAAO91C,QAEvE,CACA,OAAO+1C,CACR,EAEKt4C,EAAGw4C,aAEPx4C,EAAGw4C,WAAa,CACfC,MAAS,QACTC,eAAkB,eAClB,iBAAkB,eAClBC,IAAO,QACPC,IAAO,OACPC,IAAO,OACPC,IAAO,SAITrB,EAAQW,EAAM,UAAW9gC,EAAUmgC,GAGlCA,EAFGz3C,EAAGw4C,WAAWh0B,EAAQjd,eAEjB6wC,EAAM,YAAaX,EAAOz3C,EAAGw4C,WAAWh0B,EAAQjd,gBAIhD6wC,EAAM,YAAaX,EAAOjzB,EAEpC,CAEA,OAAOizB,CACR,EAEAsB,eAAgB,WACf,IAAIr5C,EAGHoL,EAGA2sC,EALAz3C,EAAKJ,KACLu3C,EAAcn3C,EAAGH,KAAK,sBAEtByX,EAAWtX,EAAGH,KAAK,mBAAmBmG,WACtCjF,EAAQo2C,EAAYlyC,oBAAoBiU,SAExChS,EAAIoQ,EAAY,0BAA0B6gC,KAAK7gC,GAAa,EAO7D,GALoB,GAAhBvW,EAAMwB,SAETxB,EAAQo2C,EAAYp2C,MAAMwE,MAGvB2B,EAEH,IAAKxH,EAAE,EAAGA,EAAIqB,EAAMwB,OAAQ7C,IAG3B+3C,GADA3sC,EAAM/J,EAAMR,MAAMb,IACN8F,IAAI,QAChBiyC,EAAQz3C,EAAGi4C,aAAa3gC,EAAUmgC,EAAO3sC,EAAItF,IAAI,WAAY0B,GAC7D4D,EAAIpF,IAAI,cAAe+xC,EAG1B,EAEAp3C,cAAgB,WACfT,KAAKgB,MAAQC,KAAKC,GAAG,eAErB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAM,WACNI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERC,KAAM,EACNuI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,UACpB8S,OAAsB,GAAdhU,KAAKkY,OAA4B,GAAdlY,KAAKkY,MAChC5W,KAAM,aAEP,CACCV,MAAO,iBACPpB,OAAQ,OACRiK,WAAYxI,KAAKC,GAAG,kBACpBP,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNyR,MAAO,qBAER,CACCnS,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR,IAAItB,EAAKJ,KACLI,EAAGH,KAAK,mBAAmBmG,aAE9B8B,IAAIkxC,eAAiBh5C,EAAGH,KAAK,mBAAmBmG,YAEjDhG,EAAG+4C,gBACJ,EACAx3C,MAAO3B,MAER,CACCY,MAAO,YACPG,KAAM,KAIT,CACCH,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERkT,OAAsB,GAAdhU,KAAKkY,OAA4B,GAAdlY,KAAKkY,MAChCvX,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO,kCAER,CACCnS,MAAO,YACPG,KAAM,KAIT,CACCH,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO,uCAER,CACCnS,MAAO,YACPG,KAAM,OAMX,CACCH,MAAO,YACPU,KAAM,cACNypC,aAAa,EACbj1B,UAAU,EACVujC,aAAa,EACblvC,QAAS,gBACTC,SAAU,CACT2O,cAAe,gBAEhB5X,MAAO,CACNC,OAAQ,CACP,OAAQ,MAAO,WAAY,OAAQ,WAAY,cAAe,UAAW,QAAS,cAGpFL,KAAM,EACNoqC,aAAa,EACb3rC,OAAQ,MACR8K,QAAS,CACR,CACCC,MAAO,cACPC,aAAc,IAGhBC,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,kBACdwJ,UAAW,cACX3J,KAAM,EACN6J,OAAQ,CACPC,YAAY,IAGd,CACCrJ,KAAMP,KAAKC,GAAG,eACdwJ,UAAW,OACX3J,KAAM,EACN6J,OAAQ,CACPC,YAAY,IAGd,CACClL,MAAO,IACP6B,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,UACXE,OAAQ,CACPhK,MAAO,WACPwS,UAAW,QACXC,aAAc,OACdC,WAAY,QACZC,UAAU,EACVC,YAAY,EACZ8lC,cAAe,MACfC,aAAa,EACbp4C,MAAO,CACNP,MAAO,QACPQ,OAAQ,CAAC,OAAQ,SACjBuE,KAAM3F,KAAKs3C,QAEZkC,YAAY,EACZC,UAAW,wBAId/kC,WAAY,CACXC,YAAY,GAEb+kC,KAAM,CACL,CACC94C,MAAO,UACPD,MAAO,CACN,CACCC,MAAO,SACPY,KAAMP,KAAKC,GAAG,qBACdQ,QAAS,WACR,IAIC5B,EAHAy3C,EADQv3C,KACSC,KAAK,sBACtBkB,EAAQo2C,EAAYp2C,MACpBkL,EAAMkrC,EAAYlyC,oBAAoBiU,SAGvC,IAAKxZ,EAAEuM,EAAI1J,OAAO,EAAG7C,GAAI,EAAGA,IAE3BqB,EAAMwV,OAAOtK,EAAI1L,MAAMb,GAEzB,EACA6B,MAAO3B,MAER,KACA,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,cACdQ,QAAS,WACR,IAoBC5B,EApBGM,EAAKJ,KACR+X,EAAM,IAAI7Y,IAAI+qB,cAAc,CAC3BnhB,SAAU1I,EAAG0I,SACbyD,MAAO,EACPpI,QAAS/D,EAAG6kB,MAAMniB,IAClBwK,OAAQlN,EAAGq3C,MAAQ,CAAC,EACpBn3C,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS0S,GAC1C1S,EAAGq3C,KAAO3kC,EAAQA,EAAMrD,MAAQ,KAChC,IAAI3P,EAEHuM,EADcjM,EAAGH,KAAK,sBACJoF,oBAAoBiU,SAEvC,IAAKxZ,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,IAEzBuM,EAAI1L,MAAMb,GAAGgG,IAAI,UAAW,OAE9B,MAEDmf,EAAQ7kB,EAAG6kB,MACX00B,EAAc10B,EAAQA,EAAM00B,YAAc,KAK3C,GAFA5hC,EAAIzK,OAAOR,SAASC,OAAS,GAEzB4sC,EAEH,IAAK75C,EAAE,EAAGA,EAAI65C,EAAYh3C,OAAQ7C,IAEjCiY,EAAIzK,OAAOR,SAASC,OAAOnK,KAAK+2C,EAAY75C,IAI9CiY,EAAIzK,OAAOmd,eAAiB1S,EAAIzK,OAAOmd,gBAAkB,eACzD1S,EAAIzK,OAAOvH,WAAagS,EAAIzK,OAAOvH,YAAc,eACjD7G,IAAIuoC,QAAQrnC,EAAI2X,EACjB,EACApW,MAAO3B,eAYjByB,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,WACZ,IAGC83C,EACA95C,EAAGotB,EAEH2sB,EACAhC,EAAO/xB,EAPJ1lB,EAAKJ,KACRu3C,EAAcn3C,EAAGH,KAAK,sBACtBu3C,EAAYp3C,EAAGH,KAAK,oBAGpB+G,EAAO5G,EAAG6X,MAOX,GAHA4hC,EAAc3xC,IAAIkxC,gBAAkB,oBACpCh5C,EAAGH,KAAK,mBAAmB6D,SAAS+1C,GAEpB,GAAZz5C,EAAG8X,MACP,CAIC,IAHA4hC,QAAUD,EAAe,0BAA0BtB,KAAKsB,GAAgB,EACxED,EAAW,GAEN95C,EAAE,EAAGA,EAAIM,EAAGk3C,OAAO30C,OAAQ7C,KAE/BotB,EAAI9sB,EAAGk3C,OAAOx3C,IAER6uB,OAAS,IAEdkpB,EAAQ3qB,EAAE5rB,KAEVwkB,EADA+xB,EAAQz3C,EAAGi4C,aAAawB,EAAahC,EAAO3qB,EAAEna,MAAO+mC,SAGrDF,EAASh3C,KAAK,CACbkjB,YAAaA,EACbhB,aAAcoI,EAAE5rB,KAChBA,KAAM0F,EAAK1F,KACXsjB,QAASsI,EAAEna,SAKdwkC,EAAYp2C,MAAM0B,SAAS+2C,EAC5B,MAGCpC,EAAU1zC,SAAuB,MAAd1D,EAAG4kB,QAAkB,oBAAsB5kB,EAAG4kB,SAE7D5kB,EAAG2kB,YAENwyB,EAAYp2C,MAAM0B,SAASzC,EAAG2kB,WAC9B3kB,EAAG+4C,iBAGN,KAIFj6C,IAAI8Y,aAAahW,WAAWvB,cAAcC,MAAMV,KAAM4L,UACvD,IAGD1M,IAAIimB,YAAc/lB,GAAGC,OAAOD,GAAGE,OAAQ,CAEtCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAER8J,QAASpB,IAAIoB,QAEb7J,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEV2F,SAAU,WACT,IAGCnG,EAEAkH,EAAM0jC,EAHHriC,EAAI,GAEPkvC,EAAcv3C,KAAKC,KAAK,sBAGzB,IAAKH,EAAE,EAAGA,EAAIy3C,EAAYp2C,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAElDkH,EAAOuwC,EAAYp2C,MAAMwE,KAAKhF,MAAMb,IAE1B8F,IAAI,WAGd8kC,EAAO,CACNhkC,SAAUM,EAAKpB,IAAI,YACnB/E,KAAMmG,EAAKpB,IAAI,QACftE,KAAM0F,EAAKpB,IAAI,SACf9C,IAAKkE,EAAKpB,IAAI,QAGfyC,EAAEzF,KAAK8nC,IAGQ,GAAZriC,EAAE1F,OAxBG3C,KA8BN+5C,eAAe,CACjBp5C,MAAO0H,EACPsyB,OAhCQ36B,OA0BRd,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,mBAAoB,KAAM,KAAM,EAAG,GAQvE,EAEA64C,eAAgB,SAASxgC,GACxB,IAAIzZ,EAKHkH,EACA2wC,EAIAx0C,EATA/C,EAAKJ,KACL+hB,EAAU,GAMVphB,GADQ4Y,EAAIrB,MACJqB,EAAI5Y,OACN4Y,EAAIohB,OAIX,IAAK76B,EAAE,EAAGA,EAAIa,EAAMgC,OAAQ7C,IAI3B63C,EAAK,CAACr2C,MAFN0F,EAAOrG,EAAMb,IAEIwB,KAAMwB,IAAKkE,EAAKlE,IAAKjC,KAAMmG,EAAKnG,KAAM4C,OAAQ,UAC/Dse,EAAQnf,KAAK+0C,IAGdx0C,EAAM,IAAIjE,IAAIkE,OACVC,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAASwe,EACTve,MAvBS,CAAC7C,MAAO,GAAI8C,OAAQ,WAwB3BrD,GAAI,SAASuD,GACfvD,EAAGE,UAAYF,EAAGE,SAASC,UAC3BH,EAAGI,OACJ,GAAG,MACJ2C,EAAIO,MACL,EAEAy1C,eAAgB,WACf,IAAI/4C,EAAKJ,KACRg6C,EAAgB55C,EAAGH,KAAK,wBACxBg6C,EAAQ75C,EAAGH,KAAK,gBAChBi6C,EAAQ95C,EAAGH,KAAK,gBAEjB,GAAIG,EAAG+5C,QAENj7C,IAAI+I,SAASC,IAAIC,QAAS,kCAAmC,KAAM,KAAM,EAAG,gBAI7E,GAAI8xC,EAAMG,cACV,CACSF,EAAMG,UAEdC,SAASC,QAAU,QACnB,IAAIluB,EAAQ4tB,EAAMG,cACd/tB,EAAM/W,QAAQ,OAAS,IAE1B+W,EAAQA,EAAM0B,UAAU1B,EAAM4C,YAAY,MAAM,IAGjD+qB,EAAcl2C,SAASuoB,GAEvBjsB,EAAG+5C,QAAU,EAEbD,EAAMM,OAAO,CACZC,IAAKvyC,IAAIwyC,QAAU,UACnBC,QAAS,2BACTC,QAAS,SAASC,EAAIvO,GACrB,IAAIthC,EAAO6vC,EAAGC,YAAYC,SACzBj4C,EAAMkI,GAAQA,EAAKkmB,OAASlmB,EAAKkmB,OAAOpuB,IAAM,KAE/Ck3C,EAAcl2C,SAAS,IACvBm2C,EAAMe,aACN56C,EAAG66C,oBAAoBn4C,GACvB1C,EAAG+5C,QAAU,CACd,GAEF,MAGC/5C,EAAG+5C,QAAU,EACb/5C,EAAG86C,sBAEL,EAEAD,oBAAqB,SAASn4C,GAC7B,IACCK,EAAM,IAAIjE,IAAIkE,MAEfD,EAAIE,KAHKrD,KAIR,CACCsD,IAAK,gBACLC,QAAS,CACR43C,QAASr4C,GAEVU,MAAO,CAACC,OAAQ,aATTzD,MAUD,SAAS2D,GACf,IAECy3C,EACAC,EAAMC,EACNx7C,EAAGwH,EAAGrC,EAJH7E,EAAKJ,KACRiL,EAAItH,EAAKV,QAOV,GAFAm4C,EAASh7C,EAAGg7C,OAASh7C,EAAGg7C,QAAU,CAAC,EAE/BnwC,GAAKA,EAAEtI,OAIV,IAFA04C,EAAOpwC,EAAEkG,MAAM,MAEVrR,EAAE,EAAGA,EAAIu7C,EAAK14C,OAAQ7C,KAE1Bw7C,EAAOD,EAAKv7C,IAEH6C,QAAU24C,EAAKhmC,QAAQ,KAAO,IAEtChO,EAAIg0C,EAAKvtB,UAAU,EAAGutB,EAAKhmC,QAAQ,MACnCrQ,EAAIq2C,EAAKvtB,UAAUutB,EAAKhmC,QAAQ,KAAO,GAEnChO,GAAKA,EAAE3E,QAAUsC,GAAKA,EAAEtC,SAE3By4C,EAAO9zC,GAAKrC,IAMhB7E,EAAG86C,sBAAqB,EACzB,IAGD/3C,EAAIO,MACL,EAEAw3C,qBAAsB,WACrB,IAAIp7C,EAGHoL,EAIA2sC,EAEAtyB,EAIA61B,EAZAh7C,EAAKJ,KACLu3C,EAAcn3C,EAAGH,KAAK,sBAEtBs7C,EAAan7C,EAAGH,KAAK,qBAAqBmG,WAC1Co1C,EAAmBp7C,EAAGH,KAAK,2BAA2BmG,WACtDjF,EAAQo2C,EAAYlyC,oBAAoBiU,SAIxCmiC,EAAS,qEAAqEtqC,MAAM,KACpFuqC,EAAY,CAAC,EACbC,EAAO,CAACvyB,GAAM,GAWf,IARAgyB,EAASh7C,EAAGg7C,QAAU,CAAC,EAGH,GAAhBj6C,EAAMwB,SAETxB,EAAQo2C,EAAYp2C,MAAMwE,MAGtB7F,EAAE,EAAGA,EAAI27C,EAAO94C,OAAQ7C,IAE5B47C,EAAUD,EAAO37C,IAAM,EAGxB,IAAI04C,EAAQ,SAAShtC,EAAOqsC,GAC3B,IACC/3C,EACAmL,EACAyE,EAEAkW,EAAG0a,EAAGsb,EALHr2B,EAAQ,GAIX6b,EAAIyW,EAAMl1C,OASX,IANIy4C,EAAOvD,KAGVzW,GADAyW,EAAQuD,EAAOvD,IACLl1C,QAGN7C,EAAE,EAAGA,EAAIshC,EAAGthC,IACjB,CASC,OARA4P,EAAI5P,EAAI,EAAI+3C,EAAM3L,OAAOpsC,EAAE,GAAK,KAChCmL,EAAI4sC,EAAM3L,OAAOpsC,GAEb07C,GAAyB,KAALvwC,IAEvBA,EAAI,KAGGO,GAER,IAAK,YACJP,EAAIA,EAAE3C,cACN,MACD,IAAK,YACJ2C,EAAIA,EAAEtD,cACN,MACD,IAAK,yBAGHsD,EAFQ,GAALnL,EAECmL,EAAEtD,cAIFsD,EAAE3C,cAEP,MACD,IAAK,+BAGH2C,EAFQ,GAALnL,GAIU,KAAL4P,GAAiB,KAALA,EAFhBzE,EAAEtD,cAQFsD,EAAE3C,cAEP,MACD,IAAK,uCACJ,GAAS,GAALxI,EAEHmL,EAAIA,EAAEtD,mBAEF,GAAS,KAAL+H,GAAiB,KAALA,EACrB,CAGC,IAFA4wB,EAAI,GAEC1a,EAAE9lB,EAAG8lB,EAAIwb,IAIH,MAFVwa,EAAK/D,EAAM3L,OAAOtmB,KAEK,KAANg2B,GAJDh2B,IAOhB0a,GAAKsb,EAGDF,EAAUpb,EAAEh4B,eAahB2C,EAAIA,EAAE3C,cAXFqzC,EAAKrb,EAAEh4B,gBAEV2C,EAAIq1B,EACJxgC,GAAKwgC,EAAE39B,QAIPsI,EAAIA,EAAEtD,aAKT,MAGCsD,EAAIA,EAAE3C,cAKRid,GAASta,CACV,CAEA,OAAOsa,CACR,EAEA,IAAKzlB,EAAE,EAAGA,EAAIqB,EAAMwB,OAAQ7C,IAG3B+3C,GADA3sC,EAAM/J,EAAMR,MAAMb,IACN8F,IAAI,QAGhB2f,EAAQizB,EAAM+C,EAFNrwC,EAAItF,IAAI,kBAEmBiyC,GAEnC3sC,EAAIpF,IAAI,QAASyf,EAEnB,EAEAs2B,OAAQ,WACP,IAAIz7C,EAAKJ,KACRoiB,EAAM,IAAIljB,IAAIk4C,SAAS,CACtBtuC,SAAU1I,EAAG0I,SACbxI,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAASgjC,GACtCA,GAASA,EAAM0Y,UAElB17C,EAAG27C,WAAW3Y,EAEhB,MAGFlkC,IAAIkK,WAAWhJ,EAAIgiB,EACpB,EAEA25B,WAAY,SAAS3Y,GACpB,IAMCtjC,EAAGmF,EAAGgG,EAAGm2B,EAAGl2B,EAAK8wC,EALjBC,EAAO7Y,EAAM0Y,SACb79B,EAAWmlB,EAAMnlB,SAEjBi+B,EAJQl8C,KAGSC,KAAK,sBACSkB,MAC/Bg7C,EAAMF,EAAK9qC,MAAM,MAEjB2qC,EAAW,CAACM,GAAI,CAAC,EAAGC,GAAI,CAAC,GAE1B,IAAKv8C,EAAE,EAAGA,EAAIq8C,EAAIx5C,OAAQ7C,IAGzBmF,EAAIgG,EAAI,MADRm2B,EAAI+a,EAAIr8C,MAIHshC,EAAE9rB,QAAQ,MAAQ,GAErBrK,EAAIm2B,EAAErT,UAAU,EAAGqT,EAAE9rB,QAAQ,OAC7BrQ,EAAIm8B,EAAErT,UAAUqT,EAAE9rB,QAAQ,MAAQ,IAE1B8rB,EAAE9rB,QAAQ,KAAO,IAEzBrK,EAAIm2B,EAAErT,UAAU,EAAGqT,EAAE9rB,QAAQ,MAC7BrQ,EAAIm8B,EAAErT,UAAUqT,EAAE9rB,QAAQ,KAAO,IAG9BrK,GAAKhG,IAEQ,MAAZgZ,IACH69B,EAASM,GAAGnxC,EAAEtD,eAAiB1C,GAChB,MAAZgZ,IACH69B,EAASO,GAAGp3C,EAAE0C,eAAiBsD,KAKnC,IAAKnL,EAAE,EAAGA,EAAIo8C,EAAiBv2C,KAAKhF,MAAMgC,OAAQ7C,IAIjDshC,GAFAl2B,EAAMgxC,EAAiBv2C,KAAKhF,MAAMb,IAE1B8F,IAAI,iBAAiB+B,eAE7Bq0C,EAAKF,EAASM,GAAGhb,IAAM0a,EAASO,GAAGjb,IAIlCl2B,EAAIpF,IAAI,QAASk2C,GAET9wC,EAAItF,IAAI,WAEhBw7B,EAAIl2B,EAAItF,IAAI,SAAS+B,eACrBq0C,EAAKF,EAASM,GAAGhb,IAAM0a,EAASO,GAAGjb,KAIlCl2B,EAAIpF,IAAI,QAASk2C,GAIrB,EAEAv7C,cAAgB,WACfT,KAAKgB,MAAQC,KAAKC,GAAG,eAErB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAM,WACNI,MAAOC,KAAKC,GAAG,kBACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERC,KAAM,EACNuI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,YACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,OACPU,KAAM,QACN9B,OAAQ,SACRmB,MAAO,CACN,CACCC,MAAO,cACPU,KAAM,QACNyR,MAAO7T,IAAIo9C,MAEZ,CACC17C,MAAO,YACPU,KAAM,gBACN0S,QAAQ,EACRvK,WAAYxI,KAAKC,GAAG,gBAErB,CACCN,MAAO,kBACPU,KAAM,QACNmI,WAAYxI,KAAKC,GAAG,UAEpBq7C,UAAW,OACX1xC,YAAY,EACZoJ,OAAQ,OAERuoC,WAAYv7C,KAAKC,GAAG,iBACpBu7C,aAAc,CACbC,OAAQ,YAKZ,CACC97C,MAAO,WACPU,KAAM,mBACNmI,WAAYxI,KAAKC,GAAG,sBACpB0I,SAAU3I,KAAKC,GAAG,cAEnB,CACCN,MAAO,iBACPpB,OAAQ,OACRiK,WAAYxI,KAAKC,GAAG,iBACpBP,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,aACNgS,WAAY,QACZD,aAAc,OACdD,UAAW,QACXG,UAAU,EACVpS,MAAO,CACNC,OAAQ,CACP,OAAQ,SAETuE,KAAM,CACL,CAACrE,KAAM,YAAayR,MAAO,IAC3B,CAACzR,KAAM,gBAAiByR,MAAO,aAC/B,CAACzR,KAAM,gBAAiByR,MAAO,aAC/B,CAACzR,KAAM,yBAA0ByR,MAAO,0BACxC,CAACzR,KAAM,+BAAgCyR,MAAO,gCAC9C,CAACzR,KAAM,kDAAmDyR,MAAO,wCACjE,CAACzR,KAAM,gBAAiByR,MAAO,mBAGjClR,UAAW,CACV4R,OAAQ,SAAS1R,EAAMkV,GACbjX,KACKC,KAAK,kBAEXuN,WAAqB,iBAAVyJ,EACpB,EACAtV,MAAO3B,OAGT,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdI,KAAM,UACN0S,QAAQ,EACRtS,QAAS,WACR1B,KAAK67C,QACN,EACAl6C,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACC1B,KACNm5C,gBACJ,EACAx3C,MAAO3B,YAQd,CACCY,MAAO,YACPU,KAAM,cACNypC,aAAa,EACbj1B,UAAU,EACVujC,aAAa,EACblvC,QAAS,gBACTC,SAAU,CACT2O,cAAe,gBAEhB5X,MAAO,CACNC,OAAQ,IAETL,KAAM,EACNoqC,aAAa,EACb3rC,OAAQ,MACR8K,QAAS,CACR,CACCC,MAAO,cACPC,aAAc,IAGhBC,QAAS,CACR,CACCjJ,KAAMP,KAAKC,GAAG,mBAEdymB,SAAU,SAASnmB,EAAMuoB,EAAUtX,EAAQkqC,EAAUC,EAAUz7C,GAC9D,IAAI01C,EAAQpkC,EAAO7M,IAAI,iBAMvB,OAJI6M,EAAO7M,IAAI,UAAY6M,EAAO7M,IAAI,UAAYixC,IAEjDA,GAAS,KAAOpkC,EAAO7M,IAAI,SAAW,KAEhCixC,CACR,EACA91C,KAAM,GAEP,CACCS,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACX3J,KAAM,GAEP,CACCS,KAAMP,KAAKC,GAAG,cACdwJ,UAAW,QACX3J,KAAM,EACN6J,OAAQ,CACPC,YAAY,KAIf6J,WAAY,CACXC,YAAY,GAEbpT,KAAM,CACL,CACCX,MAAO,UACPD,MAAO,CACN,CACCC,MAAO,SACPY,KAAMP,KAAKC,GAAG,qBACdQ,QAAS,WACR,IAIC5B,EAHAy3C,EADQv3C,KACSC,KAAK,sBACtBkB,EAAQo2C,EAAYp2C,MACpBkL,EAAMkrC,EAAYlyC,oBAAoBiU,SAGvC,IAAKxZ,EAAEuM,EAAI1J,OAAO,EAAG7C,GAAI,EAAGA,IAE3BqB,EAAMwV,OAAOtK,EAAI1L,MAAMb,GAEzB,EACA6B,MAAO3B,aAUfyB,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,WACZ,IAAI1B,EAAKJ,KACRu3C,EAAcn3C,EAAGH,KAAK,sBACtBi6C,EAAQ95C,EAAGH,KAAK,gBAEjBs3C,EAAYp2C,MAAM0B,SAASzC,EAAG2kB,WAC9Bm1B,EAAMG,UAAUS,YAAc,IAAI57C,IAAI29C,IACvC,KAIF39C,IAAIimB,YAAYnjB,WAAWvB,cAAcC,MAAMV,KAAM4L,UACtD,IAID1M,IAAImmB,QAAUjmB,GAAGC,OAAOD,GAAGE,OAAQ,CAElCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAER8J,QAASpB,IAAIoB,QAEb7J,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEVsY,MAAO,WACN,IAAIxY,EAAKJ,KACR88C,EAAW18C,EAAGH,KAAK,mBACnB8kB,EAAY3kB,EAAG2kB,UAEZ5hB,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,aACLC,QAAS,CACRE,OAAQ,qBACRX,IAAK1C,EAAG0C,KAETU,MAAO,CACN2B,SAAU4f,GAEX7hB,UAAW,aACT9C,GAAI,SAASuD,GACf,IAAI7D,EACHi9C,EAAe38C,EAAGH,KAAK,uBAMvB6P,EAAK,GACLktC,EAAar5C,EAAKq5C,WAClBC,EAAct5C,EAAKs5C,YACnBC,EAAWv5C,EAAKu5C,SAEjB,IAAKp9C,EAAE,EAAGA,EAAIk9C,EAAWr6C,OAAQ7C,IAEhCk9C,EAAWl9C,GAAGq9C,UAAW,EACzBrtC,EAAGlN,KAAKo6C,EAAWl9C,IAGpB,GAAIm9C,EAEH,IAAKn9C,EAAE,EAAGA,EAAIm9C,EAAYt6C,OAAQ7C,IAEjCgQ,EAAGlN,KAAKq6C,EAAYn9C,IAItBg9C,EAAS37C,MAAM0B,SAASiN,GACxBitC,EAAaj5C,SAASo5C,EAAWA,EAAS3iC,KAAK,MAAQ,GACxD,IAEDpX,EAAIO,MACL,EAEA05C,WAAY,SAASC,EAAQC,GAC5B,IACInjB,EAAI,CACPl3B,QAAS,CACRs6C,aAAc,CAAC,CAACz6C,IAHT9C,KAGiB8C,MAAOjC,KAAM,SAAU28C,QAAS,CAAC,GACzD38C,KAAM,UAEJ48C,EAAM,IAAIv+C,IAAIw+C,UAAUvjB,EAAG,UAC3BwjB,EAAM,IAAIz+C,IAAI0+C,SAAS,CAAC,EAAG,UAAU,GACzCH,EAAII,OAAOj7C,KAAK+6C,GAEhB,IAAI79C,EACHyH,EAAQ,GACRswC,EAAQ,GACRtyB,EAAQ,GAET,IAAKzlB,EAAE,EAAGA,EAAIw9C,EAAO36C,OAAQ7C,IAE5B+3C,IAAWA,EAAa,KAAL,IAAayF,EAAOx9C,GAAGwB,KAC1Cg8C,EAAOx9C,GAAGg+C,SAAW,MACrBH,EAAI36B,MAAM42B,SAASh3C,KAAK06C,EAAOx9C,IAGhC,IAAKA,EAAE,EAAGA,EAAIu9C,EAAOhsB,IAAI1uB,OAAQ7C,IAEhCyH,IAAWA,EAAa,KAAL,IAAa81C,EAAOhsB,IAAIvxB,GAAGwB,KAC9Cq8C,EAAI36B,MAAM+6B,KAAKn7C,KAAKy6C,EAAOhsB,IAAIvxB,IAGhC,IAAKA,EAAE,EAAGA,EAAIu9C,EAAO7Z,IAAI7gC,OAAQ7C,IAEhCylB,IAAWA,EAAa,KAAL,IAAa83B,EAAO7Z,IAAI1jC,GAAGwB,KAC9Cq8C,EAAI36B,MAAMoxB,KAAKxxC,KAAKy6C,EAAO7Z,IAAI1jC,IAGhC,IAAIuI,EAAIo1C,EAAIO,kBAGZ,OADA31C,EAAE/G,KAAOu2C,GAASA,GAAStwC,EAAQ,MAAQ,IAAMA,EAC1Cc,CACR,EAEApC,SAAU,WACT,IAICnG,EAAGoL,EAJA9K,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEdiJ,EADWjM,EAAGH,KAAK,mBACJoF,oBAAoBiU,SAGhC2kC,EAAU,GAEd,IAAKn+C,EAAE,EAAGA,EAAIuM,EAAI1J,OAAQ7C,KAEzBoL,EAAMmB,EAAI1L,MAAMb,GAAG6F,MACX7C,KAERm7C,EAAQr7C,KAAKsI,GAGT+yC,EAAQt7C,QAMbQ,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CACRE,OAAQ,kBACRX,IAAK1C,EAAG0C,KAETU,MAAOy6C,EACP/6C,UAAW,WACT9C,GAAI,SAASuD,GACfvD,EAAGE,UAAYF,EAAGE,SAASC,UAC3BH,EAAGI,OACJ,IAED2C,EAAIO,QAlBHxE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,mBAAoB,KAAM,KAAM,EAAG,GAmBvE,EAEAT,cAAgB,WACfT,KAAKgB,MAAQC,KAAKC,GAAG,cAErB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QACb3I,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNM,QAAS,YACTmpC,aAAa,EACbj1B,UAAU,EACVujC,aAAa,EACblvC,QAAS,gBACTC,SAAU,CACT2O,cAAe,gBAEhB5X,MAAO,CACNC,OAAQ,IAETL,KAAM,EACNoqC,aAAa,EACb3rC,OAAQ,MACR8K,QAAS,CACR,CACCC,MAAO,cACPC,aAAc,IAGhB0zC,UAAW,GACXzzC,QAAS,CACR,CACCjJ,KAAM,GACN7B,MAAO,GACPgoB,SAAU,SAAS5U,EAAOgX,EAAUtX,GACnC,GAAIA,EAAO9M,KAAKk4C,QAA4C,SAAlCprC,EAAO9M,KAAKk4C,OAAO,GAAG/vB,SAChD,CACC,IAAIqwB,EAAU1rC,EAAO9M,KAAKk4C,OAAO,GAAGO,aAAaD,SAAW,UAC5D,MAAO,mEAAqEA,EAAU,YAAcA,EAAU,gDAC/G,CACK,OAAI1rC,EAAO9M,KAAKk4C,OAEb,8IAGD,EACR,GAED,CACCr8C,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACX3J,KAAM,EACN6J,OAAQ,CACPC,YAAY,IAGd,CACCrJ,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,cACX3J,KAAM,IAGR2T,WAAY,CACXC,YAAY,GAEbpT,KAAM,CACL,CACCX,MAAO,UACPD,MAAO,CACN,CACCC,MAAO,SACPY,KAAMP,KAAKC,GAAG,qBACdQ,QAAS,WACR,IAIC5B,EAHAg9C,EADQ98C,KACMC,KAAK,mBACnBkB,EAAQ27C,EAAS37C,MACjBkL,EAAMywC,EAASz3C,oBAAoBiU,SAGpC,IAAKxZ,EAAEuM,EAAI1J,OAAO,EAAG7C,GAAI,EAAGA,IAE3BqB,EAAMwV,OAAOtK,EAAI1L,MAAMb,GAEzB,EACA6B,MAAO3B,UAMZ,CACCY,MAAO,WACPy9C,cAAc,EACdj8C,OAAQ,IACRd,KAAM,eACNmI,WAAYxI,KAAKC,GAAG,sBAMxBO,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,WACZ9B,KAAK4Y,OACN,KAIF1Z,IAAImmB,QAAQrjB,WAAWvB,cAAcC,MAAMV,KAAM4L,UAClD;ACpnDD1M,IAAIo/C,UAAYl/C,GAAGC,OAAOD,GAAGE,OAAQ,CAEpCC,OAAO,EACP4C,OAAO,SAEP3C,OAAQ,MAERC,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPC,YAAY,EACZ2J,YAAY,EAEZg1C,cAAe,WACd,IAECz+C,EAEAoL,EAAKwE,EAJFtP,EAAKJ,KACRD,EAAOK,EAAGH,KAAK,mBAEfu+C,EAAap+C,EAAGH,KAAK,qBAUtB,IAPAG,EAAG8f,YAAYu+B,UAAU1+B,OAAShgB,EAAKqG,WACvCrG,EAAOK,EAAGH,KAAK,mBACfG,EAAG8f,YAAYu+B,UAAUrkC,IAAMra,EAAKqG,WACpChG,EAAG8f,YAAYu+B,UAAUC,SAAWt+C,EAAG8f,YAAYu+B,UAAUrkC,IAE7Dha,EAAG8f,YAAYu+B,UAAUh0C,QAAU,GAE9B3K,EAAE,EAAGA,EAAI0+C,EAAWr9C,MAAMwE,KAAKhF,MAAMgC,OAAQ7C,KAGjD4P,GADAxE,EAAMszC,EAAWr9C,MAAMwE,KAAKhF,MAAMb,IAC1B6F,MACNg5C,WAAa,CAAC,EAChBjvC,EAAEivC,WAAWh5C,KAAOuF,EAAItF,IAAI,mBAC5B8J,EAAEivC,WAAWC,cAAgB1zC,EAAItF,IAAI,4BACrC8J,EAAEivC,WAAWE,aAAe3zC,EAAItF,IAAI,2BACpC8J,EAAEivC,WAAWG,UAAY5zC,EAAItF,IAAI,wBAEjCxF,EAAG8f,YAAYu+B,UAAUh0C,QAAQ7H,KAAK8M,EAExC,EAEAqvC,cAAe,WACd,IAAI3+C,EAAKJ,KAETI,EAAGm+C,gBAEHn+C,EAAGE,UAAYF,EAAGE,SAASC,UAE3BH,EAAGI,OACJ,EAEAirC,SAAU,WACT,IAAIrrC,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAKVhD,EAAG8f,YAAYu+B,YAEnBr+C,EAAG8f,YAAYu+B,UAAY,CAAC,GAG7Br+C,EAAGH,KAAK,mBAAmB6D,SAAS1D,EAAG8f,YAAYu+B,UAAUrkC,KAAOha,EAAG8f,YAAYu+B,UAAUC,UAAY,IAEzGv7C,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACwe,QAAS,IACnBve,MAAO,CAAC,GACNpD,EAAIA,EAAG4+C,YAAa,MACxB77C,EAAIO,MACL,EAEAs7C,YAAa,SAASj5B,GACrB,IAAIjmB,EAKSkH,EAJZtC,EAAQxF,IAAIwyB,SAAS3L,EAAM,cAC3B7gB,EAAShG,IAAIyyB,eAAejtB,GAC5Bu6C,EAAWj/C,KAAKC,KAAK,mBACrBi/C,EAAgBl/C,KAAKC,KAAK,wBAC1BU,EAAQ,GAET,IAAKb,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,KAE5BkH,EAAO9H,IAAIigD,aAAaj6C,EAAOpF,KAC1B+F,OAAU7F,KAAKkgB,YAAYu+B,UAAU1+B,QAAU/Y,EAAK1F,KACxC,WAAb0F,EAAK1F,MACRX,EAAMiC,KAAKoE,GAGbi4C,EAAS99C,MAAM0B,SAASlC,GACxBs+C,EAASn7C,SAAS9D,KAAKkgB,YAAYu+B,UAAU1+B,QAC7Cm/B,EAAcp7C,SAAS,OACxB,EAEAs7C,YAAa,WACZ,IAGCn8C,EAHG7C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACNhD,EAAGH,KAAK,qBAGjBG,EAAGm+C,gBAEHt7C,EAAU,CACT8c,OAAQ3f,EAAGH,KAAK,mBAAmBmG,WACnCi5C,OAAQj/C,EAAGH,KAAK,wBAAwBmG,WACxCgU,IAAKha,EAAGH,KAAK,mBAAmBmG,YAGjCjD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAKW,OAAQ,eAC/BD,MAAOP,GACL7C,EAAIA,EAAGk/C,eAAgB,MAC3Bn8C,EAAIO,MACL,EAEA47C,eAAgB,SAASv5B,GACxB,IACCjmB,EAIS0jC,EAGEnS,EACXkuB,EAEOC,EAAOl4C,EATd5C,EAAQxF,IAAIwyB,SAAS3L,EAAM,iBAC3B7gB,EAASR,EAAQxF,IAAIyyB,eAAejtB,GAAS,KAC7CuW,EAAQ/b,IAAIwyB,SAAS3L,EAAM,gBAC3BquB,EAAK,GACLqL,EAAQ,GACRr+C,EAAS,GACTuE,EAAO,GAEP64C,EAAax+C,KAAKC,KAAK,qBAGxB,GAAIiF,EACJ,CACC,IAAKpF,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,IAE5B0jC,EAAMtkC,IAAIigD,aAAaj6C,EAAOpF,IAC9Bs0C,EAAKxxC,KAAK4gC,GAEVpiC,EAAOwB,KAAK,IAAM9C,GAElB2/C,EAAM78C,KAAK,CACVhC,MAAO,aACPG,KAAM,EACNS,KAAMgiC,EAAIt9B,UACV4jB,SAAU,IACVpf,UAAW,IAAM5K,IAInB,GAAImb,EAQH,IANAukC,EAAQtgD,IAAIymB,SAAS1K,EAAO,aAE5BskC,GADAA,EAAUrgD,IAAI4yB,YAAY7W,IACR9J,MAAMquC,GAExBnuB,EAAM,CAAC,EAEFvxB,EAAE,EAAGA,EAAIy/C,EAAQ58C,SAErB2E,EAAIxH,EAAIs0C,EAAKzxC,SACT7C,EAAI,GAAU,GAALwH,IAEZ3B,EAAK/C,KAAKyuB,GACVA,EAAM,CAAC,EAEH1rB,EAAKhD,OAAS,OARU7C,IAY7BuxB,EAAI,IAAM/pB,GAAKi4C,EAAQz/C,EAG1B,CAEA,IAAI4/C,EAAc3hB,IAAI1B,OAAO,sBAAuB,CACnDj7B,OAAQA,IAGTo9C,EAAW9J,YAAYgL,EAAaD,GACpCjB,EAAWr9C,MAAM0B,SAAS8C,EAC3B,EAEAyuB,eAAgB,SAAS7U,GACxB,GAEK,gBAFGA,EAGPvf,KAAKo/C,aAGP,EAEA3+C,cAAgB,WACf,IAAI4U,EAAMrV,KACT8R,EAAM9C,EAAEsrC,UAETjlC,EAAMsqC,UAAY7tC,EAAI1P,SAAW,GACjCiT,EAAMrU,MAAQC,KAAKC,GAAG,aAEtBmU,EAAMrU,MAAQC,KAAKC,GAAG,cAEtB,IAAI0+C,EAAS,CACZh/C,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERwI,QAASpB,IAAIoB,QAEb/H,KAAM,CACL,CACCX,MAAO,WACPU,KAAM,WACN8R,UAAW,QACXC,aAAc,OACdC,WAAY,OACZ7J,WAAYxI,KAAKC,GAAG,gBACpBqS,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,UAIX,CACCR,MAAO,WACPU,KAAM,gBACN8R,UAAW,QACXC,aAAc,OACdC,WAAY,OACZ7J,WAAYxI,KAAKC,GAAG,gBACpBqS,UAAU,EACVC,YAAY,EACZrS,MAAO,CACNC,OAAQ,CACP,OAAQ,QAETuE,KAAM,CACL,CAACoJ,KAAM,YAAazN,KAAM,OAAQgY,SAAU,GAC5C,CAACvK,KAAM,oBAAqBzN,KAAM,aAMtCX,MAAO,CACN,CACCC,MAAO,WACPU,KAAM,WACNmI,WAAYxI,KAAKC,GAAG,eACpBkB,OAAQ,KAET,CACCxB,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,SACPY,KAAMP,KAAKC,GAAG,gBACdvB,MAAO,IACP+B,QAAS,WACR1B,KAAKo0B,eAAe,cACrB,EACAzyB,MAAO3B,MAER,CACCY,MAAO,iBACPjB,MAAO,IAER,CACCiB,MAAO,eACPmS,MAAO,8BACPhS,KAAM,KAIT,CACCH,MAAO,OACPI,MAAOC,KAAKC,GAAG,kBACfI,KAAM,aACNc,OAAQ,IACR0T,UAAU,EACVujC,aAAa,EACbl4C,MAAO,CACNP,MAAO,QACPQ,OAAQ,CACP,OAAQ,YAAa,OAAQ,WAAY,YAAa,kBAAmB,uBAAwB,2BAA4B,0BAA2B,MAAO,UAGjK+pC,aAAa,EACb3rC,OAAQ,MACRiL,QAAS,MAMZszB,IAAIr9B,MAAMV,KAAM,CAEfuJ,YAAY,EAEZ5I,MAAO,CACNi/C,GAGDn+C,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAK++C,eACN,EACAp9C,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAIT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAKyrC,UACN,KAIFvsC,IAAIo/C,UAAUt8C,WAAWvB,cAAcC,MAAMV,KAAM4L,UACpD;ACjVD1M,IAAI8gB,eAAiB5gB,GAAGC,OAAOD,GAAGE,OAAQ,CACzCC,OAAO,EACP4C,OAAQ,SAER3C,OAAQ,MAERC,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IACRmH,YAAY,EAEZoP,YAAa,EAEb1S,SAAU,WACT,IAAI7F,EAAKJ,KAELI,EAAGi3C,aAAaj3C,EAAG8f,eAGvB9f,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,GACnCA,EAAGI,QACJ,EAEA6C,KAAM,WAEE,IAAInE,IAAIkE,MADNpD,KAGN6/C,aAHM7/C,KAGUkgB,YACpB,EAEAoG,cAAe,WACd,IAECrjB,EAFG7C,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAGfH,EAAU,CACT8c,OAAQ3f,EAAG8f,YAAYH,QAGpB3f,EAAGi3C,aAAap0C,KAGpBE,EAAIE,KAAKjD,EACR,CACCkD,IAAK,cACLC,QAAS,CAACT,IAAK1C,EAAG8f,YAAYpd,IAAKW,OAAQ,eAC3CD,MAAOP,EACPC,UAAW,cACT9C,GAAI,SAASuD,GACXA,GAAuB,GAAfA,EAAKhB,QAEhBzD,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,eAAiB,KAAOyC,EAAK,GAAG8G,QAAU9G,EAAK,GAAG8G,QAAQ9H,OAAS,KAAO,YAAa,KAAM,KAAM,EAAG,UAE1I,GAAG,MACJQ,EAAIO,OACL,EAEAjD,cAAgB,WACRT,KAEJgB,MAAQC,KAAKC,GAAG,aAEnB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPU,KAAM,YACN9B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERC,KAAM,EACNwI,YAAY,EACZ5I,MAAO,CACN,CACCC,MAAO,QACPyI,OAAQ,EACR7J,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,eACpBI,KAAM,OACNoI,UAAU,GAEX,CACC9I,MAAO,WACPU,KAAM,MACNmI,WAAYxI,KAAKC,GAAG,eACpBH,KAAM,EACN2I,UAAU,QAQhBjI,QAAS,CACR,CACCD,KAAMP,KAAKC,GAAG,cACdQ,QAAS,WACR1B,KAAKsmB,eACN,EACA3kB,MAAO3B,MAER,KACA,CACCwB,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAKqD,MACN,KAIFnE,IAAI8gB,eAAehe,WAAWvB,cAAcC,MAAMV,KAAM4L,UACzD;ACxID1M,IAAI4gD,YAAc1gD,GAAGC,OAAOH,IAAI2a,MAAO,CAEtCra,OAAQ,MAERsD,IAAK,KAEL6D,eAAgB,KAChB/B,SAAU,KACVL,UAAW,KAEXjE,SAAU,KACVk9C,QAAS,KACTztC,IAAK,EACL4I,YAAazQ,IAAIoB,QAEjB7I,cAAgB,WACf,IAAI4U,EAAQrV,KAEZZ,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNH,MAAO,CACNP,MAAO,QACPQ,OAAQ,CAAC,OAAQ,SAGlBgJ,SAAU2zB,IAAI1B,OAAO0B,IAAIgiB,UAAUC,cAAe,CACjDjnC,cAAe,iBAGhBxX,KAAM,CACL,CACCyI,QAAS,oBACTC,QAAS,eACTvI,QAAS,WACR1B,KAAKigD,aAAa,KACnB,EACAt+C,MAAO3B,MAER,IACA,CACCgK,QAAS,mBACTC,QAAS,WACT+J,QAAQ,EACRtS,QAAS,WACC1B,KACNkgD,iBACJ,EACAv+C,MAAO3B,MAER,CACCgK,QAAS,sBACTC,QAAS,cACT+J,QAAQ,EACRtS,QAAS,WACC1B,KACNmgD,iBACJ,EACAx+C,MAAO3B,OAGTsK,QAAS,CACR,CACCC,MAAO,cACPC,cAAc,IAGhBC,QAAS,CACR,CACC7J,MAAO,aACPY,KAAMP,KAAKC,GAAG,UACdwJ,UAAW,OACX3J,KAAM,EACN6J,OAAQ,CACPC,YAAY,IAGd,CACCjK,MAAO,aACPY,KAAMP,KAAKC,GAAG,kBACdwJ,UAAW,OAEX/K,MAAO,GACPiL,OAAQ,CACPC,YAAY,IAId,CACCjK,MAAO,eACPoT,QAAQ,EACRrU,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,iBACjBQ,QAAS,SAAU2S,EAAMC,EAAUC,EAAUvN,EAAMoE,EAAGqH,GACrD4C,EAAM+qC,aAAa9rC,EAAU7B,EAAQ,OACtC,EACA9Q,MAAO0T,GAER,CACCrL,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,iBACjBQ,QAAS,SAAU2S,EAAMC,EAAUC,EAAUvN,EAAMoE,EAAGqH,GACrD4C,EAAM+qC,aAAa9rC,EAAU7B,EAAQ,SACtC,EACA9Q,MAAO0T,MAKXxT,UAAW,CACV2jC,YAAa,SAASx6B,EAAMgM,GAC3BhM,EAAKlF,IAAI,UAAWkR,EACrB,KAKHipC,aAAc,SAASI,GACtB,IAKCC,EALGjrC,EAAQrV,KACX+lB,EAAO,cAAgB/lB,KAAK8C,IAAM,KAGlC4yB,EAFWrgB,EAAMpV,KAAK,mBACLkB,MACJma,cAGdglC,EAAQjrC,EAAMkrC,kBAAkB7qB,EAAM,MAEtC3P,GAAQ,WAAa7mB,IAAIshD,YAAYnrC,EAAMmoC,QAAS,UAAW,KAAO,KACtEz3B,GAAQ,mBAAqB1Q,EAAMtF,IAAM,cAAgBuwC,EAAQ,iBACjEv6B,GAAQ,UAER,IAAI5iB,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,eACLC,QAAS,CAACT,IAAKuS,EAAMvS,KACrBU,MAAOuiB,GACL1Q,EAAOA,EAAMorC,gBAAiB,KAAMJ,GACxCl9C,EAAIO,MACL,EAEA+8C,gBAAiB,SAAS16B,EAAMs6B,GAC/BrgD,KAAK0gD,UAAUL,EAChB,EAEAK,UAAW,SAASL,GACnB,IAAIhrC,EAAQrV,KACXmD,EAAM,IAAIjE,IAAIkE,MACfD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,GACLC,QAAS,CACRT,IAAKuS,EAAMvS,IACXqB,QAASkR,EAAMmoC,QAAQr5C,QACvBmtB,OAAQ,gBAET9tB,MAAO,CAAC,GACN6R,EAAOA,EAAMsrC,aAAc,KAAMN,GACrCl9C,EAAIO,MACL,EAEAi9C,aAAc,SAAS56B,EAAMs6B,GAGxBA,EAEHA,EAAO7/C,QAIPtB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAE/D,EAEAq/C,kBAAmB,SAASrP,EAAO0P,GAClC,IACC9gD,EAEA6P,EADAkxC,EAAW,GAIZ,IAAK/gD,EAAE,EAAGA,EAAIoxC,EAAMv0B,WAAWha,OAAQ7C,IAMtC+gD,IAJAlxC,EAAQuhC,EAAMv0B,WAAW7c,IAEb8F,IAAI,OAEO,KAAOg7C,EAASA,EAAOh7C,IAAI,OAAS,IAAM,IAAM+J,EAAM/J,IAAI,QAAU,IAEvF+J,EAAMgN,YAAchN,EAAMgN,WAAWha,OAAS,IAEjDk+C,GAAY7gD,KAAKugD,kBAAkB5wC,EAAOA,IAG5C,OAAOkxC,CACR,EAEAC,eAAgB,WACf,IAAIzrC,EAAQrV,KAERmD,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,UACLC,QAAS,CAACT,IAAKuS,EAAMvS,KACrBU,MAAO,CAACC,OAAQ,gBACd4R,EAAOA,EAAM0rC,kBAAmB,MACpC59C,EAAIO,MACL,EAEAq9C,kBAAmB,SAASh7B,GAC3B,IAAI1Q,EAAQrV,KAEX04B,GADQx5B,IAAIwyB,SAAS3L,EAAM,cACnB7mB,IAAIwyB,SAAS3L,EAAM,uBAKxB2S,IAEHrjB,EAAMmoC,QAAUt+C,IAAIigD,aAAazmB,IAG9BrjB,EAAMmoC,SAAWnoC,EAAMmoC,QAAQwD,UAElC3rC,EAAM4rC,eAVG,GAYX,EAEAC,kBAAmB,SAASC,EAAQ9tB,GACnC,IAAK,IAAIvzB,EAAE,EAAGA,EAAIqhD,EAAOx+C,OAAQ7C,IACjC,CACC,IAAIshD,EAASliD,IAAIymB,SAASw7B,EAAOrhD,GAAI,MACjCuhD,EAAWniD,IAAIymB,SAASw7B,EAAOrhD,GAAI,QACnCqf,EAAQnf,KAAKshD,MAAMC,kBAAkBluB,EAAO+tB,EAAQC,GAEpDG,EAAYtiD,IAAIyyB,eAAewvB,EAAOrhD,IACtC0hD,GAAaA,EAAU7+C,OAAS,GAEnC3C,KAAKkhD,kBAAkBM,EAAWriC,EAEpC,CACD,EAEAihC,aAAc,SAASzD,EAAUlqC,EAAQ8M,GAC/Bvf,KACMC,KAAK,mBACFkB,MAEP,UAAPoe,IAEwB,IAAvB9M,EAAO7M,IAAI,SAEd6M,EAAOkE,QAGV,EAEAsqC,eAAgB,SAASt7C,GACxB,IACC0P,EADQrV,KAGDw9C,GADAx9C,KAAKsN,OAFJtN,KAGYw9C,SAErBnoC,EAAM7O,YAAW,GAEjB,IAAIrD,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,GACLC,QAAS,CAACT,IAAKuS,EAAMvS,IAAKk+C,SAAUxD,EAAQwD,SAAU1vB,OAAQ,MAC9D9tB,MAAO,CAACC,OAAQ,aACd4R,EAAOA,EAAMosC,kBAAmB,MACpCt+C,EAAIO,MACL,EAEA+9C,kBAAmB,SAAS17B,GAC3B,IAGa/e,EAEZlH,EAJA4E,EAAQxF,IAAIwyB,SAAS3L,EAAM,cAC3B7gB,EAAUR,EAAQxF,IAAIyyB,eAAejtB,GAAS,KAC9C/D,EAAQ,GACR+gD,EAJQ1hD,KAIMC,KAAK,mBAKpB,IATSD,KAONwG,YAAW,GAET1G,EAAE,EAAGA,EAAIoF,EAAOvC,OAAQ7C,KAE5BkH,EAAO9H,IAAIigD,aAAaj6C,EAAOpF,KAC1BwB,KAAOpC,IAAI4yB,YAAY5sB,EAAOpF,IACnCa,EAAMiC,KAAKoE,GAGZ06C,EAASvgD,MAAM0B,SAASlC,EACzB,EAEAghD,YAAa,SAASh8C,GACrB,IAEC+J,EAFGrH,EAAI,GACPu5C,EAAK,CAAC,EAGP,IAAK9hD,EAAE,EAAGA,EAAI6F,EAAKhD,OAAQ7C,IAE1B8hD,EAAGj8C,EAAK7F,GAAGiQ,KAAOpK,EAAK7F,GACF,MAAjB6F,EAAK7F,GAAGoxC,OAAiB0Q,EAAGj8C,EAAK7F,GAAGoxC,SAEvCxhC,EAAIkyC,EAAGj8C,EAAK7F,GAAGoxC,QACb/1B,MAAO,SACFzL,EAAEsH,QACTrR,EAAK7F,GAAGqb,MAAO,EACfxV,EAAK7F,GAAGkX,SAAU,EAClBtH,EAAEvK,SAAWuK,EAAEvK,UAAY,GAC3BuK,EAAEvK,SAASvC,KAAK+C,EAAK7F,MAIrB6F,EAAK7F,GAAGqb,MAAO,EACfxV,EAAK7F,GAAGkX,SAAU,EAClB3O,EAAEzF,KAAK+C,EAAK7F,KAGd,OAAOuI,CACR,EAEA63C,gBAAiB,WAChB,IAIC2B,EAAYC,EACZz1C,EAAK01C,EAAOjiD,EAAGo0B,EAAiB3O,EAL7BnlB,EAAKJ,KACR0hD,EAAWthD,EAAGH,KAAK,mBAEnBmF,GADQs8C,EAASvgD,MACNugD,EAASr8C,qBAEE28C,EAAO,EAoB9B,IATAH,GAPCx1C,EAFGjH,EAASkU,SAAS3Y,MAAMgC,OAAS,EAE9ByC,EAASkU,SAAS3Y,MAAM,GAIxB+gD,EAASpmC,eAGC1V,IAAI,aACrBk8C,EAAUz1C,EAAIzG,IAAI,UAElByG,EAAIvG,IAAI,YAAa,IACrBuG,EAAIvG,IAAI,SAAU,IAClBuG,EAAIvG,IAAI,QAAQ,GAEhBouB,EAAQ,YAEHp0B,EAAE,EAAGA,EAAIuM,EAAIsQ,WAAWha,OAAQ7C,KAEpCylB,EAAQlZ,EAAIsQ,WAAW7c,GAAG8F,IAAI,SACpBmoB,UAAU,EAAGmG,EAAMvxB,SAAWuxB,IAEvC3O,EAAQA,EAAMwI,UAAUmG,EAAMvxB,QAC9B4iB,EAAQ08B,OAAO18B,GACK,GAAhB28B,MAAM38B,KAETy8B,EAAOjjB,KAAKC,IAAIgjB,EAAMC,OAAO18B,GAAS,KAKzCy8B,EAAOjjB,KAAKC,IAAIgjB,EAAM5hD,EAAG2P,IAAI,GAC7B3P,EAAG2P,IAAMiyC,EAGTD,EAAQ,CACPhyC,IAAKiyC,EACL1gD,KAJD4yB,GAAS8tB,EAKRrxC,OAAQmxC,GAAW,GACnBK,UAAWN,GAAc,GACzB1mC,MAAM,EACNnE,SAAS,GAEV3K,EAAIgS,YAAY0jC,GAChB11C,EAAIkP,QACL,EAEA4kC,gBAAiB,WAChB,IAGCzqB,EAHQ11B,KACMC,KAAK,mBACFkB,MACJma,cAHLtb,KAMNoiD,kBAAkB1sB,EACtB,EAEA0sB,kBAAmB,SAAS1sB,GAC3B,IACC51B,EACAkL,EAED,IAAKlL,EAAE41B,EAAK/Y,WAAWha,OAAO,EAAG7C,GAAG,EAAGA,IAGX,IAD3BkL,EAAO0qB,EAAK/Y,WAAW7c,IACd8F,IAAI,WAEZ8vB,EAAK2sB,YAAYr3C,GAETA,EAAK2R,YAAc3R,EAAK2R,WAAWha,OAAS,GAX7C3C,KAaJoiD,kBAAkBp3C,EAGxB,EAEAnJ,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAK8gD,gBACN,KAIF5hD,IAAI4gD,YAAY99C,WAAWvB,cAAcC,MAAMV,KAChD,IAGDd,IAAIojD,mBAAqBljD,GAAGC,OAAOD,GAAGE,OAAQ,CAE7CC,OAAO,EAEPC,OAAQ,MAERC,UAAU,EACVC,WAAU,EAEVC,MAAO,IACPyC,OAAQ,IAER3B,cAAgB,WACf,IAAIL,EAAKJ,KAETI,EAAGY,MAAQC,KAAKC,GAAG,iBACnBd,EAAGmiD,IAAM,IAAIrjD,IAAI4gD,YAAY,CAC5Bh9C,IAAK1C,EAAG0C,MAET1D,GAAGsB,MAAMV,KAAM,CAEdR,OAAQ,MAERmB,MAAO,CACNX,KAAKuiD,KAGN9gD,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WAED1B,KAAKuiD,IACRtC,aAAajgD,KAClB,EACA2B,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,WACdQ,QAAS,WACR1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAIojD,mBAAmBtgD,WAAWvB,cAAcC,MAAMV,KAAM4L,UAC7D;AC3cD,SAAS42C,cAAcx3C,GACtBhL,KAAKyiD,YAAc,QACnBziD,KAAK8C,IAAM,KACX9C,KAAKsB,KAAO,KACZtB,KAAK0G,SAAW,KAChB1G,KAAK0iD,SAAW,KAEhB1iD,KAAK2iD,aAAe,SAAS58B,GAC5B,IAAI5G,EAAQjgB,IAAIwyB,SAAS3L,EAAM,cAqB/B,GApBA/lB,KAAKsB,KAAOpC,IAAIymB,SAASxG,EAAO,QAChCnf,KAAK0G,SAAWxH,IAAIymB,SAASxG,EAAO,YACpCnf,KAAK8C,IAAM5D,IAAIymB,SAASxG,EAAO,OAC/Bnf,KAAK4iD,WAAY,GAEjBzjC,EAAQjgB,IAAIwyB,SAAS3L,EAAM,yBAG1B/lB,KAAKyiD,YAAcvjD,IAAIymB,SAASxG,EAAO,iBAExCA,EAAQjgB,IAAIwyB,SAAS3L,EAAM,0BAG1B/lB,KAAK0iD,SAAW,CAAC,EACjB1iD,KAAK0iD,SAASphD,KAAOpC,IAAIymB,SAASxG,EAAO,QACzCnf,KAAK0iD,SAAS5/C,IAAM5D,IAAIymB,SAASxG,EAAO,OACxCnf,KAAK0iD,SAASh8C,SAAWxH,IAAIymB,SAASxG,EAAO,YAC7Cnf,KAAK0iD,SAAS99C,SAAW1F,IAAIymB,SAASxG,EAAO,UAE9CA,EAAQjgB,IAAIwyB,SAAS3L,EAAM,wBACW,GAAzB5G,EAAM0jC,gBACnB,CACC,IAAIC,EAAQ5jD,IAAIyyB,eAAexS,GAE/B,IAAKrf,EAAE,EAAGA,EAAIgjD,EAAMngD,OAAQ7C,IAC5B,CACC,IAAI4E,EAAQo+C,EAAMhjD,GACdijD,EAAY7jD,IAAI4yB,YAAYgxB,EAAMhjD,IACtC,GAEK,eAFGZ,IAAIymB,SAASjhB,EAAO,QAG3B1E,KAAK4iD,UAA0B,KAAbG,CAGpB,CACD,CACD,EAEA/iD,KAAKgjD,cAAgB,WACpB,IAAI5iD,EAAKJ,KACRqI,EAAI,CACHvF,IAAK1C,EAAG0C,IACRxB,KAAMlB,EAAGkB,KACToF,SAAUtG,EAAGsG,SACb+7C,YAAariD,EAAGqiD,aAEjBQ,EAAW7iD,EAAGsiD,SAEf,GAEK,UAFGtiD,EAAGqiD,YAGVp6C,EAAExE,UAAY,GACdwE,EAAExE,UAAUjB,KAAK,CAChBE,IAAKmgD,EAASngD,IACd4D,SAAUu8C,EAASv8C,SACnBpF,KAAM2hD,EAAS3hD,KACfT,KAAMoiD,EAASr+C,WAEhByD,EAAEyT,QAAU,GACZzT,EAAEyT,QAAQlZ,KAAK,CACdtB,KAAM,YACNyR,MAAO3S,EAAGwiD,UAAY,IAAM,MAW9B,OAAOv6C,CACR,EAEI2C,GAEHhL,KAAK2iD,aAAa33C,EAEpB,CAvGA9L,IAAIgkD,aAAe,SAAUtc,GAC5BxnC,GAAGsB,MAAMV,KAAM4mC,GAEf1nC,IAAIgkD,aAAalhD,WAAWmhD,YAAYlhD,KAAKjC,KAAM,CAClDuJ,YAAW,EACXuhC,eAAc,EACdrrC,UAAU,EACVkB,MAAO,CACL,CACCsmB,KAAM,uCAIX,EA4FA/nB,IAAIgkD,aAAe9jD,GAAGC,OAAOH,IAAI2a,MAAO,CAEvCta,OAAO,EACP4C,OAAO,SACP3C,OAAQ,OACR4jD,aAAc,CACbtiD,MAAO,WAERrB,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IACRU,IAAK,KACLqB,QAAS,KAETwC,eAAgB,KAChB/B,SAAU,KACVL,UAAW,KAEX8+C,WAAY,KACZC,YAAa,KAEb57C,SAAS,CACR9H,YAAW,GAGZ2jD,6BAA8B,SAASC,GACtCxjD,KAAKqjD,WAAWZ,YAAce,EAC9BxjD,KAAKyjD,gBACN,EAEAC,sBAAuB,SAAS18C,GAC/BhH,KAAKqjD,WAAWX,SAAW17C,EAC3BhH,KAAK2jD,eAAe7/C,SAAS9D,KAAKqjD,WAAWX,SAASh8C,SACvD,EAEAjG,cAAgB,WACf,IAAI4U,EAAQrV,KAEZqV,EAAMrU,MAAQC,KAAKC,GAAG,mBAEtBlB,KAAK2jD,eAAiB,IAAI5lB,IAAI6lB,KAAKC,UAAU,CAC5CviD,KAAM,UACNuJ,YAAY,IAGb7K,KAAK8jD,cAAgB,IAAI/lB,IAAIgmB,UAAU,CACrChjD,KAAM,EACNvB,OAAQ,OACRmB,MAAO,CACN,CACCnB,OAAQ,MACR4jD,aAAc,CACbtiD,MAAO,WAERH,MAAO,CAAC,CACPC,MAAO,iBACP6I,WAAYxI,KAAKC,GAAG,YACpBP,MAAO,CAACX,KAAK2jD,eAAgB,CAC5B/iD,MAAO,SACPoJ,QAAS,sBACTtI,QAAQ,WACP,IAAIkH,EAAa,IAAI1J,IAAI2J,cAAc,CACtCC,SAAU1I,GAAG0I,SACbE,aAAc,CACbC,YAAY,EACZC,QAASmM,EAAMlR,WAGjByE,EAAWtI,SAAW,IAAIpB,IAAIsF,YAAY6Q,EAAOA,EAAMquC,uBACvDxkD,IAAIkK,WAAWpJ,KAAM4I,EACtB,EACAjH,MAAO3B,SAGTgU,QAAQ,GAET,CACCiT,KAAM,sBACNjT,QAAQ,GAET,CACCiT,KAAM,sBACNjT,QAAQ,GAET,CACCiT,KAAM,uBACNjT,QAAQ,MAKZ5U,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCI,KAAM,EACNqB,OAAQ,GACRzB,MAAO,CACN,CACCsmB,KAAM,+CACN5d,QAAQ,EACRxH,UAAW,CACVmiD,YAAa,SAASr4C,GACrBA,EAAGs4C,uBACJ,GAEDC,gBAAgB,EAChBD,sBAAuB,WACtB,GAA2B,GAAvBjkD,KAAKkkD,eACT,CACC,IAAIlpB,EAAYhsB,EAAE,eAAgBqG,EAAMykB,KAAK5f,KAC5CrU,EAASmJ,EAAE,uMAMZnJ,EAAO4N,QAAO,WACb4B,EAAMkuC,6BAA6BthD,KAAKoT,EAAOrV,KAAK+S,MACrD,IAEAlN,EAAOy1B,SAASN,GAChBh7B,KAAKkkD,gBAAiB,EACtB7uC,EAAMiuC,YAAcz9C,CACrB,CACD,KAGA7F,KAAK8jD,eAETviD,KAAM,CACL,CACCyI,QAAS,kBACTC,QAAS,eACTvI,QAAS,WACR1B,KAAKigD,cACN,EACAt+C,MAAO3B,OAITigD,aAAc,WACb,IAAI5qC,EAAQrV,KACR+lB,EAAO1Q,EAAMguC,WAAWL,gBAExB7/C,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,eACLC,QAAS,CAACT,IAAKuS,EAAMvS,KACrBU,MAAOuiB,GACL1Q,EAAOA,EAAMorC,gBAAiB,MAClCt9C,EAAIO,MACL,EAEA+8C,gBAAiB,SAAU16B,GAC1B7mB,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,UAC9D,EAEA4/C,eAAgB,WACf,IAAIzrC,EAAQrV,KAERmD,EAAM,IAAIjE,IAAIkE,MAClBD,EAAIE,KAAKgS,EACR,CACC/R,IAAK,UACLC,QAAS,CAACT,IAAKuS,EAAMvS,KACrBU,MAAO,CAAC,GACN6R,EAAOA,EAAM0rC,kBAAmB,MACpC59C,EAAIO,MACL,EAEAq9C,kBAAmB,SAAUh7B,GAC5B1Q,EAAMguC,WAAa,IAAIb,cAAcz8B,GACrC1Q,EAAMouC,gBACP,EAEAA,eAAgB,WACfzjD,KAAKsjD,YAAY,GAAGvwC,MAAQ/S,KAAKqjD,WAAWZ,YAC5C,IACI0B,EAAS,EACb,OAFenkD,KAAKqjD,WAAWZ,aAI/B,IAAK,QACJ0B,EAAS,EACLnkD,KAAKqjD,WAAWX,UAEnB1iD,KAAK2jD,eAAe7/C,SAAS9D,KAAKqjD,WAAWX,SAASh8C,UAEvD,MACD,IAAK,MACJy9C,EAAS,EACT,MACD,IAAK,MACJA,EAAS,EACT,MACD,IAAK,OACJA,EAAS,EAIV,IAAIC,EAAOpkD,KAAK8jD,cAChB,IAAKhkD,EAAE,EAAGA,EAAIskD,EAAKzjD,MAAMA,MAAMgC,OAAQ7C,IAEtCskD,EAAKzjD,MAAMA,MAAMb,GAAG0N,WAAY1N,GAAKqkD,EAEvC,IAGDjlD,IAAIgkD,aAAalhD,WAAWvB,cAAcC,MAAMV,KAAM4L,UACvD;AC3TD1M,IAAImlD,WAAajlD,GAAGC,OAAOD,GAAGE,OAAQ,CAErCC,OAAO,EACPiZ,UAAU,EACVrW,OAAO,SACP3C,OAAU,CACTqB,KAAM,MACNC,MAAO,WAGRrB,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAER9B,SAAU,KAEVsY,MAAO,WACN,IAAIxY,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MAEXhD,EAAG0C,KAENK,EAAIE,KAAKjD,EACR,CACCkD,IAAK,UACLC,QAAS,CAACT,IAAK9C,KAAK8C,KACpBU,MAAO,CAACC,OAAQ,gBACdrD,EAAIA,EAAGkkD,WAAY,MACvBnhD,EAAIO,QAEItD,EAAGmE,YAEXnE,EAAGkN,OAAS,CAAC,EACblN,EAAGkkD,aAEL,EAEAA,WAAY,SAAS3gD,GACpB,IACC8L,EADGrP,EAAKJ,KAGL2D,IAEHvD,EAAGkN,OAAS3J,EAAKV,UAGlBwM,EAAQrP,EAAGkN,QAELzJ,UAAY4L,EAAM5L,WAAa,GACrC4L,EAAM80C,UAAY90C,EAAM80C,WAAa,GAErCnkD,EAAGH,KAAK,mBAAmB6D,SAAS2L,EAAMnO,MAAQ,IAClDlB,EAAGH,KAAK,sBAAsB6D,SAAS2L,EAAM1L,aAAe,IAE5D,IAAIygD,EAAapkD,EAAGH,KAAK,qBAExBwkD,GADUrkD,EAAGH,KAAK,kBACTG,EAAGH,KAAK,kBACjBykD,EAAYtkD,EAAGH,KAAK,oBACpB0kD,EAAcvkD,EAAGH,KAAK,sBAEvBukD,EAAW1gD,SAAS2L,EAAM5L,UAAUlB,OAAS8M,EAAM5L,UAAU,GAAGvC,KAAO,IACvEmjD,EAAO3gD,SAAS2L,EAAMg1C,QACtBC,EAAU5gD,SAAS2L,EAAMi1C,WACzBC,EAAY7gD,SAAS2L,EAAMk1C,aAC3BvkD,EAAGwkD,gBAAgBn1C,EAAM80C,WACzBnkD,EAAGykD,QACJ,EAEAA,OAAQ,WACP,IAAIzkD,EAAKJ,KAETd,IAAIoF,cAAcrC,KAAK7B,EAAIA,EAAG0C,IAAK1C,EAAGmE,UAAW,IAAIrF,IAAIsF,YAAYpE,GAAI,SAASuD,GACjFvD,EAAG0kD,SAASnhD,EACb,IACD,EAEAmhD,SAAU,SAASnhD,GAClB,IAAIe,EAAQf,GAAQA,EAAKhB,OAASgB,EAAK,GAAK,KAGxCe,IAEH1E,KAAKmE,QAAUO,EAAM5B,IAEvB,EAEAmD,SAAU,WACT,IAAI7F,EAAKJ,KACRsN,EAASlN,EAAGkN,OAEZy3C,EAAU3kD,EAAGH,KAAK,kBAClBwkD,EAASrkD,EAAGH,KAAK,iBACjBykD,EAAYtkD,EAAGH,KAAK,oBAEpBy1B,EADQqvB,EAAQ5jD,MACHma,cAGTpc,IAAImH,YAAYjG,EAAI,CAAC,eAG1BkN,EAAOpK,UAAY,gBACnBoK,EAAOhM,KAAOlB,EAAGH,KAAK,mBAAmBmG,WACzCkH,EAAOvJ,YAAc3D,EAAGH,KAAK,sBAAsBmG,WAEnDkH,EAAOi3C,UAAY,GACnBj3C,EAAOm3C,OAASA,EAAOr+C,WACvBkH,EAAOo3C,UAAYA,EAAUt+C,WAC7BkH,EAAOq3C,YAAcvkD,EAAGH,KAAK,sBAAsBmG,WACnDhG,EAAG4kD,iBAAiBtvB,EAAMpoB,EAAOi3C,WACjCnkD,EAAG6kD,MAAM7kD,EAAG0C,IAAKwK,GAClB,EAEA23C,MAAO,SAASniD,EAAKgP,GACpB,IAAI1R,EAAKJ,KACRmD,EAAM,IAAIjE,IAAIkE,MACfD,EAAIE,KAAKjD,EACR,CACCkD,IAAK,eACLC,QAAS,CAACT,IAAK1C,EAAG0C,IAAK2D,IAAKrG,EAAGmE,UAAWjD,KAAMwQ,EAAIxQ,KAAMyC,YAAa+N,EAAI/N,YAAalD,KAAMT,EAAGwE,SAAU8B,SAAWtG,EAAGuG,eAAiBvG,EAAGuG,eAAiB,IAAMmL,EAAIxQ,KAAO,MAC/KkC,MAAOsO,EACP5O,UAAW,iBACT9C,GAAI,SAASuD,GACfzE,IAAI+I,SAASC,IAAIC,QAASlH,KAAKC,GAAG,WAAY,KAAM,KAAM,EAAG,WAC7Dd,EAAGE,UAAYF,EAAGE,SAASC,QAAQH,EAAGkN,QACtClN,EAAGI,OACJ,GAAG,MACJ2C,EAAIO,MACL,EAEAwhD,WAAY,WACX,IAICrD,EAAYC,EACZz1C,EAAK01C,EAAOjiD,EAAGo0B,EAAiB3O,EAJhCw/B,EADQ/kD,KACKC,KAAK,kBAElBmF,GADQ2/C,EAAQ5jD,MACL4jD,EAAQ1/C,qBAEG28C,EAAO,EAoB9B,IATAH,GAPCx1C,EAFGjH,EAASkU,SAAS3Y,MAAMgC,OAAS,EAE9ByC,EAASkU,SAAS3Y,MAAM,GAIxBokD,EAAQzpC,eAGE1V,IAAI,aACrBk8C,EAAUz1C,EAAIzG,IAAI,UAElByG,EAAIvG,IAAI,YAAa,IACrBuG,EAAIvG,IAAI,SAAU,MAClBuG,EAAIvG,IAAI,QAAQ,GAEhBouB,EAAQ,YAEHp0B,EAAE,EAAGA,EAAIuM,EAAIsQ,WAAWha,OAAQ7C,KAEpCylB,EAAQlZ,EAAIsQ,WAAW7c,GAAG8F,IAAI,SACpBmoB,UAAU,EAAGmG,EAAMvxB,SAAWuxB,IAEvC3O,EAAQA,EAAMwI,UAAUmG,EAAMvxB,QAC9B4iB,EAAQ08B,OAAO18B,GACK,GAAhB28B,MAAM38B,KAETy8B,EAAOjjB,KAAKC,IAAIgjB,EAAMC,OAAO18B,GAAS,KAOzCw8B,EAAQ,CACPzgD,KAHD4yB,GAAS8tB,EAIRrxC,OAAQmxC,GAAW,KACnBK,UAAWN,GAAc,GACzB1mC,MAAM,EACNnE,SAAS,GAEV3K,EAAIgS,YAAY0jC,GAChB11C,EAAIkP,QACL,EAEA4pC,WAAY,WACX,IAGCzvB,EAHQ11B,KACKC,KAAK,kBACFkB,MACHma,cAHLtb,KAMNolD,cAAc1vB,EAClB,EAEAkvB,gBAAiB,SAASj/C,GAEjB3F,KAAKsN,OADb,IAECy3C,EAAU/kD,KAAKC,KAAK,kBACpBolD,EAAW,CACV/jD,KAAM,qBACNoyB,UAAU,EACVvY,MAAM,EACNhW,SAAU,IAPHnF,KAUNslD,WAAWD,EAASlgD,SAAUQ,GAAQ,IACzCo/C,EAAQ5jD,MAAMka,YAAYgqC,GAC1BN,EAAQ5jD,MAAMma,cAAcC,QAC7B,EAEA+pC,WAAY,SAASC,EAAQ5/C,GAC5B,IACC7F,EAAG8lB,EAEH4/B,EACAt6C,EACAi3C,EAED,IAAKriD,EAAE,EAAGA,EAAI6F,EAAKhD,OAAQ7C,IAC3B,CAWC,GATAoL,EAAM,CACLyG,OAFD6zC,EAAU7/C,EAAK7F,IAEC6R,MACf8zC,QAASD,EAAQC,QACjBnkD,KAAMkkD,EAAQlkD,KACdqP,OAAQ60C,EAAQ70C,QAGjBwxC,EAAY,KAEPqD,EAAQrgD,UAAaqgD,EAAQrgD,UAAuC,GAA3BqgD,EAAQrgD,SAASxC,SAE1D6iD,EAAQ70C,QAAU60C,EAAQ70C,OAAOhO,OAEpC,IAAKijB,EAAE,EAAGA,EAAI4/B,EAAQ70C,OAAOhO,OAAQijB,IAIrB,WAFL4/B,EAAQ70C,OAAOiV,GAAG6/B,QAI3BtD,EAAYqD,EAAQ70C,OAAOiV,GAAG5S,KAK9BmvC,IAAcA,EAAY,IAAM,KADzBqD,EAAQ70C,OAAOiV,GAAG7S,OAASyyC,EAAQ70C,OAAOiV,GAAG5S,MAAQ,IAOhE9H,EAAIi3C,UAAYA,EAEZqD,EAAQrgD,UAAYqgD,EAAQrgD,SAASxC,SAExCuI,EAAI/F,SAAW,GA5CRnF,KA6CJslD,WAAWp6C,EAAI/F,SAAUqgD,EAAQrgD,WAGrCogD,EAAO3iD,KAAKsI,EACb,CACD,EAEA85C,iBAAkB,SAAS3xB,EAAOnkB,GACjC,IACCpP,EACAkL,EACA06C,EAGD,IAAK5lD,EAAE,EAAGA,EAAIuzB,EAAM1W,WAAWha,OAAQ7C,IAGtC4lD,EAAO,CACNpkD,MAFD0J,EAAOqoB,EAAM1W,WAAW7c,IAEZ8F,IAAI,QACf+L,MAAQ3G,EAAK2R,YAAc3R,EAAK2R,WAAWha,OAAU,QAAU,YAC/DiO,SAAU,KACVkuC,UAAW9zC,EAAKpF,IAAI,aACpB+K,OAAQ3F,EAAKpF,IAAI,WAElBsJ,EAAItM,KAAK8iD,GACL16C,EAAK2R,YAAc3R,EAAK2R,WAAWha,OAAS,IAE/C+iD,EAAKvgD,SAAW,GAnBTnF,KAoBJglD,iBAAiBh6C,EAAM06C,EAAKvgD,UAGlC,EAEAigD,cAAe,SAAS1vB,GACvB,IACC51B,EACAkL,EAAMkmC,EAAOtM,EAAOzK,EAErB,IAAKr6B,EAAE41B,EAAK/Y,WAAWha,OAAO,EAAG7C,GAAG,EAAGA,IAGX,IAD3BkL,EAAO0qB,EAAK/Y,WAAW7c,IACd8F,IAAI,WAEZ8vB,EAAK2sB,YAAYr3C,GAETA,EAAK2R,YAAc3R,EAAK2R,WAAWha,OAAS,GAX7C3C,KAaJolD,cAAcp6C,GAInB,GAAqB,GAAjB0qB,EAAKhZ,UAA6C,GAAxBgZ,EAAKmtB,gBACnC,CAIC,IAHA3R,EAAQxb,EAAKiwB,WACb/gB,EAAQlP,EAAK9vB,IAAI,QACjBu0B,EAAI,EACCr6B,EAAE,EAAGA,EAAIoxC,EAAMv0B,WAAWha,OAAQ7C,IAEtC,GAAIoxC,EAAMv0B,WAAW7c,IAAM41B,EAC3B,CACCyE,EAAIr6B,EACJ,KACD,CAEDoxC,EAAM0U,YAAYzrB,EAAG,CACpB74B,KAAMsjC,EACNj0B,OAAQ,KACRwxC,UAAW,GACXhnC,MAAM,EACNnE,SAAS,IAEVk6B,EAAMmR,YAAY3sB,GAAM,GAAO,GAAO,EACvC,CACD,EAEAmwB,SAAU,SAAS3/C,GAClB,IAAI9F,EAAKJ,KACR4I,EAAa,IAAI1J,IAAI2J,cAAc,CAClCC,SAAU1I,EAAG0I,SACbmJ,YAA0B,eAAb/L,EAA6B,EAAI,EAC9C6C,aAA2B,WAAb7C,EAAyB,iBAAmB,sDAC1D8C,aAAc,CACbC,YAAY,EACZC,QAAS9I,EAAG+D,SAEb7D,SAAU,IAAIpB,IAAIsF,YAAYpE,GAAI,SAAS4G,GACjChH,KACNsN,OAAOzJ,UAAY,CAACmD,GADdhH,KAENC,KAAK,SAAWiG,EAAY,KAAKpC,SAASkD,EAAK1F,KACnD,GAAG4E,KAELhH,IAAIkK,WAAWhJ,EAAIwI,EACpB,EAEAk9C,cAAe,SAASnJ,EAAUlqC,GACjC,IAAIrS,EAAKJ,KACEI,EAAGH,KAAK,kBACFkB,MAEjB,GAAIf,EAAGkN,QAAUlN,EAAGkN,OAAOzJ,UAAUlB,QAEpC,GAAuB,GAAnB8P,EAAOiK,SACX,CACC,IAAIjQ,EAAQrM,EAAGkN,OAAOzJ,UAAU,GACvB,IAAI3E,IAAI6mD,UAAU,CAC1Bt5C,MAAOA,EACPvB,IAAKuH,EACLnS,SAAU,IAAIpB,IAAIsF,YAAYpE,EAAIA,EAAGuS,cAAe,CAACF,MAGnDG,MACJ,OAIA1T,IAAIqlB,UAAUtjB,KAAKC,GAAG,aAAcd,EAEtC,EAEA4lD,cAAe,WACd,IAAI5lD,EAAKJ,KACLI,EAAGkN,QAAUlN,EAAGkN,OAAOlM,QAK1BlC,IAAIqlB,UAAUtjB,KAAKC,GAAG,aAAcd,EAEtC,EAEAuS,cAAe,SAASs/B,EAAKn/B,GAC5B,IAGC7N,EAIAnF,EAPG2S,EAASK,EAAM,GAElBqvC,EAAY,GAEZtvC,EAAYo/B,EAAI8N,UAChBkG,EAAUhU,EAAIgU,QACdC,EAASjU,EAAIiU,OAEbv1C,EAAS,GAEV,GAAe,GAAXs1C,EAEHxzC,EAAO3M,IAAI,UAAW,WACtB6K,EAAO/N,KAAK,CACXoQ,KAAMkzC,IAGP/D,EAAY+D,OAMZ,IAFAzzC,EAAO3M,IAAI,UAAW,UAEjBhG,EAAE,EAAGA,EAAI+S,EAAUlQ,OAAQ7C,IAE/BmF,EAAI4N,EAAU/S,GAAGkT,MAAQH,EAAU/S,GAAG0B,KACtCmP,EAAO/N,KAAK,CACXoQ,KAAMH,EAAU/S,GAAGkT,KACnBD,MAAOF,EAAU/S,GAAG0B,OAErB2gD,GAAiB,GAAHriD,EAAQmF,EAAI,IAAMA,EAIlCwN,EAAO3M,IAAI,SAAU6K,GACrB8B,EAAO3M,IAAI,YAAaq8C,EACzB,EAEA1hD,cAAgB,WACfT,KAAKgB,MAAQC,KAAKC,GAAG,SAErB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAU,CACTqB,KAAM,OACNC,MAAO,WAGRyI,YAAY,EACZD,QAASpB,IAAIoB,QAEb3I,MAAO,CACN,CACCC,MAAO,WACPI,MAAOC,KAAKC,GAAG,aACf1B,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,WACNkI,MAAO,EACPC,WAAYxI,KAAKC,GAAG,WAErB,CACCN,MAAO,WACPU,KAAM,cACNmI,WAAYxI,KAAKC,GAAG,UACpBkB,OAAQ,MAIX,CACCxB,MAAO,WACPI,MAAOC,KAAKC,GAAG,oBACfP,MAAO,CACN,CACCC,MAAO,iBACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,YACPU,KAAM,aACNwI,UAAW7I,KAAKC,GAAG,cACnBuI,WAAYxI,KAAKC,GAAG,kBAErB,CACCN,MAAO,SACPoJ,QAAS,sBACTC,QAAShJ,KAAKC,GAAG,YACjBQ,QAAQ,WACP1B,KAAK6lD,SAAS,aACf,EACAlkD,MAAO3B,QAIV,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,oBACd8S,QAAQ,EACRtS,QAAS,WACR1B,KAAKgmD,eACN,EACArkD,MAAO3B,MAER,CACCY,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,uBACpBI,KAAM,SACNsI,SAAU3I,KAAKC,GAAG,aAEnB,CACCN,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,gBACpBI,KAAM,YACNsI,SAAU3I,KAAKC,GAAG,aAEnB,CACCN,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,kBACpBI,KAAM,iBAIT,CACCV,MAAO,YACPU,KAAM,UACNH,MAAO,CACNP,MAAO,YACPQ,OAAQ,CACP,QAAS,SAAU,YAAa,QAAS,UAE1Cu0B,YAAY,GAEbF,aAAa,EACbD,aAAa,EACbI,WAAW,EACX4C,aAAa,EACb2tB,cAAc,EACd/jD,OAAQ,IACRgI,SAAU,SACV7I,KAAM,CACL,CACCX,MAAO,SACPY,KAAMP,KAAKC,GAAG,SACdQ,QAAS,WACC1B,KACNklD,YACJ,EACAvjD,MAAO3B,MAER,CACCY,MAAO,SACPY,KAAMP,KAAKC,GAAG,YACdQ,QAAS,WACC1B,KACNmlD,YACJ,EACAxjD,MAAO3B,OAGTsK,QAAS,CACR,CACCC,MAAO,cACPC,cAAc,IAGhBC,QAAS,CACR,CACC7J,MAAO,aACPY,KAAMP,KAAKC,GAAG,gBACdwJ,UAAW,OACX3J,KAAM,EACN6J,OAAQ,CACPC,YAAY,IAGd,CACCrJ,KAAMP,KAAKC,GAAG,YACdH,KAAM,EACN2J,UAAW,aAEZ,CACC9J,MAAO,eACPjB,MAAO,GACPgB,MAAO,CACN,CACCqJ,QAAS,mBACTC,QAAShJ,KAAKC,GAAG,iBACjBQ,QAAS,SAAU2S,EAAMC,EAAUC,EAAUvN,EAAMoE,EAAGqH,GAC5CzS,KACN8lD,cAAcxxC,EAAU7B,EAC5B,EACA9Q,MAAO3B,SAKX6B,UAAW,CACV2jC,YAAa,SAASx6B,EAAMgM,GAC3BhM,EAAKlF,IAAI,UAAWkR,EACrB,EACAovC,aAAc,SAASrkD,EAAMiX,EAAIC,EAAWxG,EAAQ4zC,EAAI/xC,EAAUlJ,EAAGqM,GAEpE,GAAuB,GAAnBhF,EAAOiK,UAA+C,GAA1BjK,EAAOowC,gBACvC,CACC,IAAI9qC,EAAM,IAAI7Y,IAAIonD,aAAa,CAC9Bx9C,SAJO9I,KAIM8I,SACb87B,MAAOnyB,EAAO7M,IAAI,QAClBtF,SAAU,IAAIpB,IAAIsF,YAAYxE,MAAM,SAASsB,GAC5CmR,EAAO3M,IAAI,OAAQxE,EACpB,MAGD,OADApC,IAAIuoC,QAVIznC,KAUQ+X,IACT,CACR,CACD,EACApW,MAAO3B,UAMZyB,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MACL,CACFwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAASC,GACrB,IAAI3B,EAAKJ,KACTsY,YAAW,WACVlY,EAAGwY,OACJ,GAAG,IACJ,KAIF1Z,IAAImlD,WAAWriD,WAAWvB,cAAcC,MAAMV,KAAM4L,UACrD,IAID1M,IAAIonD,aAAelnD,GAAGC,OAAOD,GAAGE,OAAQ,CAEvCkZ,UAAU,EACVrW,OAAO,SACP3C,OAAU,CACTqB,KAAM,MACNC,MAAO,WAGRrB,UAAU,EACVC,WAAU,EACVC,MAAO,IACPC,YAAY,EACZL,OAAO,EAEPe,SAAU,KAEV2F,SAAU,WACT,IAAI7F,EAAKJ,KACR4kC,EAAQxkC,EAAGH,KAAK,gBAAgBmG,WAE5Bw+B,IAGLxkC,EAAGE,UAAYF,EAAGE,SAASC,QAAQqkC,GAEnCxkC,EAAGI,QACJ,EAEAC,cAAgB,WACfT,KAAKgB,MAAQC,KAAKC,GAAG,SAErB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,OACPpB,OAAQ,SACRkI,SAAU,CACTuM,OAAQ,QAETtT,MAAO,CACN,CACCC,MAAO,YACP6I,WAAYxI,KAAKC,GAAG,gBACpB2J,YAAY,EACZvJ,KAAM,SAEP,CACCV,MAAO,eACPmS,MAAO,sCAKXtR,QAAQ,CACP,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,OAGT6B,UAAW,CACVC,YAAa,SAAS6J,GACrB3L,KAAKC,KAAK,gBAAgB6D,SAAS9D,KAAK4kC,OAAS,GAClD,EACAjjC,MAAO3B,QAITd,IAAIonD,aAAatkD,WAAWvB,cAAcC,MAAMV,KAAM4L,UACvD,IAGD1M,IAAI6mD,UAAY3mD,GAAGC,OAAOD,GAAGE,OAAQ,CACpCC,OAAO,EACP4C,OAAO,SACP3C,OAAU,OAEVC,UAAU,EACVC,WAAU,EACVC,MAAO,IACPyC,OAAQ,IAERqK,MAAO,KAEPnM,SAAU,KACV2lD,QAAS,EAEThgD,SAAU,WACT,IAECnG,EAFGM,EAAKJ,KACRumD,EAAW,GAGZ,GAAkB,GAAdnmD,EAAG6lD,SAKN,IAFC3sC,EADWtZ,KAAKC,KAAK,aACJkB,MAAMwE,KAAKhF,QAEb2Y,EAAS3W,OAAS,EAEjC,IAAK7C,EAAE,EAAGA,EAAIwZ,EAAS3W,OAAQ7C,IAE9BymD,EAAS3jD,KAAK0W,EAASxZ,GAAG6F,WAIxB,GAAkB,GAAdvF,EAAG6lD,QACZ,CACC,IAEC3sC,EADAjN,EADUjM,EAAGH,KAAK,uBACPmG,WAGZ,GAAIiG,EAGH,IADAiN,EAAWjN,EAAI8E,MAAM,KAChBrR,EAAE,EAAGA,EAAIwZ,EAAS3W,OAAQ7C,IAE1BwZ,EAASxZ,IAEZymD,EAAS3jD,KAAK,CACboQ,KAAMsG,EAASxZ,GACf0B,KAAM8X,EAASxZ,IAKpB,MACSM,EAAG6lD,QAIZjmD,KAAKM,UAAYN,KAAKM,SAASC,QAAQ,CACtC0lD,QAAS7lD,EAAG6lD,QACZC,OAAQ9lD,EAAGH,KAAK,cAAcmG,WAC9B25C,UAAWwG,IAGZnmD,EAAGI,OACJ,EAEAoY,MAAO,WACN,IAAIxY,EAAKJ,KACRkL,EAAM9K,EAAG8K,IACTs7C,EAAQ,EACRlqC,EAAMlc,EAAGH,KAAK,cAEXiL,GAEuB,WAAtBA,EAAItF,IAAI,aAEX4gD,EAAQ,EACRlqC,EAAIxY,SAASoH,EAAItF,IAAI,YAIvBxF,EAAGqmD,UAAUD,EACd,EAEAC,UAAW,SAASD,GACnB,IAAIpmD,EAAKJ,KAER0P,EADUtP,EAAGH,KAAK,kBACNue,YAGbpe,EAAG6lD,QAAUO,EACb92C,EAAE+O,cAAcre,EAAG6lD,QACpB,EAEAxlD,cAAgB,WACf,IAAIimD,EAAW,IAAIxnD,IAAIynD,SAAS,CAC/BzmC,YAAalgB,KAAKkgB,YAClB0mC,OAAQ5mD,KAAK4mD,OACbn6C,MAAOzM,KAAKyM,QAGbzM,KAAKgB,MAAQC,KAAKC,GAAG,kBAErB9B,GAAGsB,MAAMV,KAAM,CACdW,MAAO,CACN,CACCC,MAAO,QACPpB,OAAQ,OACR8B,KAAM,UACNC,KAAM,CACL,CACCC,KAAMP,KAAKC,GAAG,eACdQ,QAAS,WACC1B,KACNymD,UAAU,EACd,EACA9kD,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,cACdQ,QAAS,WACC1B,KACNymD,UAAU,EACd,EACA9kD,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,aACdQ,QAAS,WACC1B,KACNymD,UAAU,EACd,EACA9kD,MAAO3B,OAGTW,MAAO,CACN+lD,EACA,CACC9lD,MAAO,OACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,eACPmS,MAAO9R,KAAKC,GAAG,gBAEhB,CACCN,MAAO,WACP6I,WAAYxI,KAAKC,GAAG,YACpBI,KAAM,eACNP,KAAM,KAIT,CACCH,MAAO,QACPpB,OAAQ,CACPqB,KAAM,OACNC,MAAO,WAERH,MAAO,CACN,CACCC,MAAO,WACPG,KAAM,EACNO,KAAM,YAOZG,QAAQ,CACP,KACA,CACCD,KAAMP,KAAKC,GAAG,aACdU,QAAS,iBACTF,QAAS,WACR1B,KAAKiG,UACN,EACAtE,MAAO3B,MAER,CACCwB,KAAMP,KAAKC,GAAG,YACdQ,QAAQ,WACP1B,KAAKQ,OACN,EACAmB,MAAO3B,SAKVd,IAAI6mD,UAAU/jD,WAAWvB,cAAcC,MAAMV,KAAM4L,UACpD,EACA/J,UAAW,CACVC,YAAa,SAASC,GACrBA,EAAK6W,OACN","file":"../../../../../../igcn.min.js","sourcesContent":["IG$.$expr = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\tautoHeight: true,\r\n\t\r\n\tinit_view: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tctrl;\r\n\t\t\t\r\n\t\tfor (i=0; i < 10; i++)\r\n\t\t{\r\n\t\t\tctrl = me.down(\"[name=op\" + (i+1) + \"]\");\r\n\t\t\t\r\n\t\t\tif (ctrl)\r\n\t\t\t{\r\n\t\t\t\tctrl.addEventListener(\"click\", function() {\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tcommit_f: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (!me.validate_expression())\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tme.callback && me.callback.execute();\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tvalidate_expression: function() {\r\n\t\tvar r = 0;\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\t$s.apply(this, {\r\n\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"tabpanel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"treepanel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FIELDS\"), // \"Fields\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"treepanel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FUNCTIONS\"), // \"Functions\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\thidezoom: true,\r\n\t\t\t\t\t\t\tname: \"expression\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"+\",\r\n\t\t\t\t\t\t\t\t\tname: \"op1\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"-\",\r\n\t\t\t\t\t\t\t\t\tname: \"op2\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"*\",\r\n\t\t\t\t\t\t\t\t\tname: \"op3\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"/\",\r\n\t\t\t\t\t\t\t\t\tname: \"op4\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"%\",\r\n\t\t\t\t\t\t\t\t\tname: \"op5\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"()\",\r\n\t\t\t\t\t\t\t\t\tname: \"op6\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"//(comment)\",\r\n\t\t\t\t\t\t\t\t\tname: \"op7\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"L_VALIDATE\"), // \"Validate\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.validate_expression();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.commit_f();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\tthis.init_view();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.$expr.superclass.initComponent.call(this);\r\n\t}\r\n});","IG$.datemetric = $s.extend($s.window, {\r\n\tmodal: false,\r\n\tregion:'center',\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tdatediv = me.down(\"[name=datediv]\");\r\n\t\t\r\n\t\tme.setTitle(IRm$.r1('T_DM') + (me.name ? \" (\" + me.name + \")\" : \"\"));\r\n\t\t\r\n\t\tif (!IG$.datemetric._datetypes)\r\n\t\t{\r\n\t\t\tIG$.datemetric._datetypes = [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_YEAR'), \r\n\t\t\t\t\tname: 'YYYY'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_QUARTER'),  \r\n\t\t\t\t\tname: 'QUARTER'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_MONTH'), \r\n\t\t\t\t\tname: 'MM'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_DAY'),  \r\n\t\t\t\t\tname: 'DD'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_WEEKMONTH'),  \r\n\t\t\t\t\tname: 'WM'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_WEEK'),  \r\n\t\t\t\t\tname: 'WEEK'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_AMPM'), \r\n\t\t\t\t\tname: 'AMPM'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_HOUR'),  \r\n\t\t\t\t\tname: 'HH'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_MINUTE'),  \r\n\t\t\t\t\tname: 'MI'\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\t\t\r\n\t\tme.datetypes = [];\r\n\t\t\r\n\t\tfor (i=0; i < IG$.datemetric._datetypes.length; i++)\r\n\t\t{\r\n\t\t\tme.datetypes.push({\r\n\t\t\t\tname: IG$.datemetric._datetypes[i].name,\r\n\t\t\t\tlabel: IG$.datemetric._datetypes[i].label\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tdatediv.store.loadData(me.datetypes);\r\n\t\t\r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.procLoadContent();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.rs_procLoadContent({\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\tmeta_type: \"date_dimension\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tprocLoadContent: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: this.uid},\r\n\t\t\t\tmbody: {option: 'diagnostics'}\r\n\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tmobj,\r\n\t\t\tcbox,\r\n\t\t\trel_items;\r\n\t\t\r\n\t\tme.down(\"[name=itemname]\").setValue(jdoc.name);\r\n\t\tme.down(\"[name=description]\").setValue(jdoc.description);\r\n\t\t\r\n\t\tmobj = me.mobj = jdoc.content;\r\n\t\t\r\n\t\trel_items = mobj.rel_items;\r\n\t\t\r\n\t\tcbox = me.down(\"[name=rg_dateformatting]\");\r\n\t\tcbox.setValue({dateformatting: (mobj.issql ? \"sqlfunc\" : \"formatting\")});\r\n\r\n\t\tme.down(\"[name=dateformat]\").setValue(mobj.dateformat || \"\");\r\n\t\tme.down(\"[name=fieldname]\").setValue(rel_items && rel_items.length ? rel_items[0].name : \"\");\r\n\t\t\r\n\t\tif (!mobj.cubeuid)\r\n\t\t{\r\n\t\t\tme.getCubeInfo();\r\n\t\t}\r\n\t\telse if (me.uid)\r\n\t\t{\r\n\t\t\tme.loadSubCnt();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetCubeInfo: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getCubeInfo(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getCubeInfo: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null;\r\n\t\t\r\n\t\tme.mobj.cubeuid = tnode.uid;\r\n\t\t\r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.loadSubCnt();\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadSubCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: this.uid},\r\n\t\t\t\tmbody: {subfolder: \"T\", itemtype: \"CustomMetric\", readcontent: \"T\"}\r\n\t\t\t}, me, me.rs_loadSubCnt, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadSubCnt: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnodes = jdoc.children || [],\r\n\t\t\ti,\r\n\t\t\tsitem,\r\n\t\t\tdatediv = me.down(\"[name=datediv]\"),\r\n\t\t\tselmodel = datediv.getSelectionModel(),\r\n\t\t\tcustominfo = {},\r\n\t\t\tk, v;\r\n\t\t\r\n\t\tselmodel.clear();\r\n\t\t\r\n\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t{\r\n\t\t\tsmeta = tnodes[i];\r\n\t\t\tsitem = tnodes[i].content;\r\n\t\t\tif (sitem)\r\n\t\t\t{\r\n\t\t\t\tcustominfo[sitem.datedivision] = sitem;\r\n\t\t\t\t\r\n\t\t\t\tif (sitem.datedivision == \"CUSTOM\")\r\n\t\t\t\t{\r\n\t\t\t\t\tme.down(\"[name=customdatetype]\").setValue(sitem.customdatetype);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.custominfo = custominfo;\r\n\t\t\r\n\t\tfor (i=0; i < datediv.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tk = datediv.store.data.items[i];\r\n\t\t\tv = custominfo[k.get(\"name\")];\r\n\t\t\tif (v)\r\n\t\t\t{\r\n\t\t\t\tselmodel.select(k, true);\r\n\t\t\t\tk.set(\"itemname\", v.name);\r\n\t\t\t\tk.set(\"syntax\", v.expression);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t/*\r\n\tlayoutFormItems: function() {\r\n\t\tvar me = this,\r\n\t\t\tmval = me.down(\"[name=dateformatting]\").getGroupValue(),\r\n\t\t\tissql = (mval == \"sqlfunc\" ? true : false),\r\n\t\t\tex_format1 = me.down(\"[name=ex_format1]\"),\r\n\t\t\tex_format2 = me.down(\"[name=ex_format2]\"),\r\n\t\t\ti, item;\r\n\t\t\r\n\t\tfor (i=0; i < ex_format1.menu.items.length; i++)\r\n\t\t{\r\n\t\t\titem = ex_format1.menu.items.items[i]; \r\n\t\t\titem.setVisible(!item.issql || (item.issql == true && issql == true));\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < ex_format2.menu.items.length; i++)\r\n\t\t{\r\n\t\t\titem = ex_format2.menu.items.items[i]; \r\n\t\t\titem.setVisible(!item.issql || (item.issql == true && issql == true));\r\n\t\t}\r\n\t},\r\n\t*/\r\n\t\r\n\tclosedlg: function() {\r\n\t\tthis.close();\r\n\t\tthis.callback && this.callback.execute();\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tfieldname = me.down(\"[name=fieldname]\");\r\n\t\t\r\n\t\tfieldname.clearInvalid();\r\n\t\t\r\n\t\tif (!me.mobj)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!fieldname.getValue())\r\n\t\t{\r\n\t\t\tfieldname.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tme.mobj.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tme.mobj.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tvar i,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdateformatting = me.down(\"[name=dateformatting]\"),\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tmval = dateformatting.getGroupValue(),\r\n\t\t\tissql = (mval == \"sqlfunc\" ? true : false),\r\n\t\t\tmobj = me.mobj;\r\n\t\t\r\n\t\tmobj.issql = issql; \r\n\t\tmobj.dateformat = dateformat.getValue();\r\n\t\tmobj.database_type = \"auto\";\r\n\t\tdateformat.clearInvalid();\r\n\t\t\r\n\t\tif (!issql && !mobj.dateformat)\r\n\t\t{\r\n\t\t\tdateformat.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar req = new IG$._rpc$();\r\n\t\t\r\n\t\tme.setLoading(true);\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: mobj.name, description: mobj.description, type: me.itemtype || mobj.type, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + mobj.name : null)},\r\n\t\t\t\tmbody: mobj,\r\n\t\t\t\tmeta_type: \"date_dimension\"\r\n\t\t\t}, me, me.rs_writeCnt);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_writeCnt: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tdatenames = IG$.majorDateformat,\r\n\t\t\tdatediv = me.down(\"[name=datediv]\"),\r\n\t\t\tdaterecs = {},\r\n\t\t\tdname, dispname, iname,\r\n\t\t\ti,\r\n\t\t\taddr = [],\r\n\t\t\tcnt = [],\r\n\t\t\tn = 0,\r\n\t\t\titem,\r\n\t\t\tmobj = me.mobj,\r\n\t\t\tcustominfo = me.custominfo,\r\n\t\t\tmval = me.down(\"[name=dateformatting]\").getGroupValue(),\r\n\t\t\tissql = (mval == \"sqlfunc\" ? true : false),\r\n\t\t\titem;\r\n\t\t  \r\n\t\tif (!me.uid)\r\n\t\t{\r\n\t\t\tme.uid = jdoc.uid;\r\n\t\t}\r\n\t\tcustominfo = me.custominfo = me.custominfo || {};\r\n\t\t\r\n\t\tfor (i=0; i < datenames.length; i++)\r\n\t\t{\r\n\t\t\tdatenames[i].rname = datenames[i].rname || datenames[i].name;\r\n\t\t\tdatenames[i].dname = IRm$.r1('B_' + datenames[i].rname);\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < datediv.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tdaterecs[datediv.store.data.items[i].get(\"name\")] = datediv.store.data.items[i]; \r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < datenames.length; i++)\r\n\t\t{\r\n\t\t\tdname = datenames[i].name;\r\n\t\t\tdispname = datenames[i].dname || dname;\r\n\t\t\tcdatetype = \"\";\r\n\t\t\tif (daterecs[dname] && daterecs[dname].get(\"checked\"))\r\n\t\t\t{\r\n\t\t\t\titem = custominfo[dname];\r\n\t\t\t\tdispname = daterecs[dname].get(\"itemname\") || (item ? item.name || dispname : dispname);\r\n\t\t\t\t\r\n\t\t\t\tif (dname == \"CUSTOM\")\r\n\t\t\t\t{\r\n\t\t\t\t\tcdatetype = me.down(\"[name=customdatetype]\").getValue();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\taddr.push({\r\n\t\t\t\t\tuid: (item && item.uid ? item.uid : mobj.nodepath + \"/\" + dispname),\r\n\t\t\t\t\tpid: me.uid,\r\n\t\t\t\t\tname: dispname,\r\n\t\t\t\t\ttype: \"CustomMetric\",\r\n\t\t\t\t\tmeta_type: \"custom_dimension\",\r\n\t\t\t\t\toverwrite: \"T\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\titem = {\r\n\t\t\t\t\tuid: (item && item.uid ? item.uid : mobj.nodepath + \"/\" + dispname),\r\n\t\t\t\t\tpid: me.uid,\r\n\t\t\t\t\tname: dispname,\r\n\t\t\t\t\ttype: \"CustomMetric\",\r\n\t\t\t\t\tmeta_type: \"custom_dimension\",\r\n\t\t\t\t\trel_items: []\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tcnt.push(item);\r\n\t\t\t\t\r\n\t\t\t\tif (mobj.rel_items && mobj.rel_items.length)\r\n\t\t\t\t{\r\n\t\t\t\t\titem.rel_items.push({\r\n\t\t\t\t\t\tuid: mobj.rel_items[0].uid,\r\n\t\t\t\t\t\tname: mobj.rel_items[0].name,\r\n\t\t\t\t\t\tnodepath: mobj.rel_items[0].nodepath || \"\",\r\n\t\t\t\t\t\ttype: \"Metric\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\titem.rel_items.push({\r\n\t\t\t\t\t\tuid: mobj.uid,\r\n\t\t\t\t\t\tname: mobj.name,\r\n\t\t\t\t\t\tnodepath: mobj.nodepath,\r\n\t\t\t\t\t\ttype: mobj.type\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$s.defaults(item, {\r\n\t\t\t\t\tdatedivision: dname.toUpperCase(),\r\n\t\t\t\t\tdateformat: mobj.dateformat,\r\n\t\t\t\t\tpredefinetype: (issql == true ? \"DATE\" : \"\"),\r\n\t\t\t\t\tcustom_type: (issql == true ? \"CUSTOM_FIELD\" : \"PREDEFINED_FIELD\"),\r\n\t\t\t\t\tcustomdatetype: cdatetype,\r\n\t\t\t\t\tsorttype: \"NUMBER\",\r\n\t\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tdaterecs[dname].set(\"itemname\", item.name);\r\n\t\t\t\t\r\n\t\t\t\tif (issql)\r\n\t\t\t\t{\r\n\t\t\t\t\titem.expression = me.getCustExpr(dname); // daterecs[dname].get(\"syntax\") ||\r\n\t\t\t\t\tdaterecs[dname].set(\"syntax\", item.expression);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t\telse if (custominfo[dname])\r\n\t\t\t{\r\n\t\t\t\titem = custominfo[dname];\r\n\t\t\t\taddr.push({\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.name,\r\n\t\t\t\t\tnodepath: item.nodepath,\r\n\t\t\t\t\toption: \"delete\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tcnt.push({\r\n\t\t\t\t\t\r\n\t\t\t\t});\t\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (n > 0)\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\tpayload: addr,\r\n\t\t\t\t\tmbody: {\r\n\t\t\t\t\t\titems: cnt\r\n\t\t\t\t\t}\r\n\t\t\t\t}, me, me.rs_updateDateCnt);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.setLoading(false);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_updateDateCnt: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.setLoading(false);\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.mobj);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tgetCustExpr: function(div) {\r\n\t\tvar me = this,\r\n\t\t\tr = \"\",\r\n\t\t\tdname = div.toLowerCase(),\r\n\t\t\tdbformat = IG$.sqlDateFormat,\r\n\t\t\tdateformat = this.down(\"[name=dateformat]\").getValue(),\r\n\t\t\tdfield = \"\";\r\n\t\t\r\n\t\tif (dbformat && dbformat[dname])\r\n\t\t{\r\n\t\t\tr = dbformat[dname];\r\n\t\t\t\r\n\t\t\tdfield = \"[\" + me.mobj.rel_items[0].name + \"]\";\r\n\t\t\t\r\n\t\t\tif (dateformat == \"EPOCH\")\r\n\t\t\t{\r\n\t\t\t\tdfield = \"FROM_UNIXTIME(\" + dfield + \")\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tr = r.replace(/_date_/g, dfield);\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tselectField: function() {\r\n\t\tvar me = this,\r\n\t\t\tmobj = me.mobj;\r\n\t\t\r\n\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\tinstance: me.instance,\r\n\t\t\tvisibleItems: 'folder;metric;table;custommetric;measuregroupdimension',\r\n\t\t\ttree_options: {\r\n\t\t\t\tcubebrowse: true,\r\n\t\t\t\trootuid: mobj.cubeuid\r\n\t\t\t},\r\n\t\t\tcallback: new IG$.callBackObj(me, me.cubeSelectedHandler)\r\n\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(item) {\r\n\t\tvar me = this,\r\n\t\t\tmobj = me.mobj;\r\n\t\t\r\n\t\tmobj.rel_items = [\r\n\t\t\t{\r\n\t\t\t\tuid: item.uid,\r\n\t\t\t\tname: item.name\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tme.down(\"[name=fieldname]\").setValue(item.name);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\t\r\n\t\tme.title = IRm$.r1('T_DM');\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tlayout: \"fit\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_DATE_TYPE\"), // \"Date Type\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"rg_dateformatting\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\tvertical: true,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_DATE_FORMATTING\"), // \"Date Formatting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformatting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputValue: \"formatting\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_SQL_FUNC\"), // \"SQL Functions\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformatting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputValue: \"sqlfunc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tchange: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.layoutFormItems();\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_INPUT_FORMAT\"), // \"Input Format\",\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"fieldname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"btn_search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectField();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql = me.down(\"[name=dateformatting]\").getGroupValue() == \"sqlfunc\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.show_tmpl_hlp(this, \"dateformat\", \"dateformat\", issql);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"ex_format1\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"DATE\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"DATE\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"DATETIME\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"DATETIME\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"TIMESTAMP\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"TIMESTAMP\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"EPOCH time value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EPOCH\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1('L_GROUP_LEVEL'),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"datedivision\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder: 0\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"datediv\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"label\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 230,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"label\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ITEMNAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"syntax\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcellclick: function(view, node, c, rec, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (c == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstance = me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustominfo = me.custominfo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmc;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (custominfo && custominfo[rec.get(\"name\")])\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmc = custominfo[rec.get(\"name\")];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (mc.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar mainpanel = instance.mainPanel,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tctype = mc.type.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (mainpanel && mc.writable)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmainpanel.navigateApp(mc.uid, ctype, mc.name, mc.nodepath, true, mc.writable);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1('B_CUSTOM'),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"customdatetypecontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"customdatetype\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.show_tmpl_hlp(this, \"dateformat\", \"dateformat\", false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"ex_format2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.init_f();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.datemetric.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.customMetricInner = $s.extend($s.formpanel, {\r\n\tbodyBorder: false,\r\n\t\r\n\tlayout: \"fit\",\r\n\t\t\r\n\tloadedItem: {},\r\n\t\r\n\tchangeDateFormat: function() {\r\n\t\tvar me = this,\r\n\t\t\toptdateformat = me.down(\"[name=optdateformat]\"),\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdt = optdateformat.getValue();\r\n\t\t\t\r\n\t\tdateformat.setValue(dt);\r\n\t},\r\n\t\r\n\t_upd_ui: function(sel) {\r\n\t\tvar me = this,\r\n\t\t\tn = 1,\r\n\t\t\ti, ctrl;\r\n\t\t\r\n\t\tif (sel)\r\n\t\t{\r\n\t\t\tswitch (sel)\r\n\t\t\t{\r\n\t\t\tcase \"CUSTOM_FIELD\":\r\n\t\t\t\tn = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"GROUP_FIELD\":\r\n\t\t\t\tn = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"PREDEFINED_FIELD\":\r\n\t\t\t\tn = 3;\r\n\t\t\t\tme.updateDateFormat();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"GEO_FIELD\":\r\n\t\t\t\tn = 4;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"RANGE_FIELD\":\r\n\t\t\t\tn = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"LINK_FIELD\":\r\n\t\t\t\tn = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"PARENT_CHILD_NODES\":\r\n\t\t\t\tn = 7;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"SUB_QUERY\":\r\n\t\t\t\tn = 8;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tfor (i=1; i < 9; i++)\r\n\t\t\t{\r\n\t\t\t\tctrl = me.down(\"[name=pconfig\" + (i) + \"]\");\r\n\t\t\t\tctrl[(i == n || (n==6 && i==1) || (n==8 && i==1)) ? \"show\" : \"hide\"]();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\tdmode = me.dmode,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\toptdateformat = me.down(\"[name=optdateformat]\"),\r\n\t\t\tcustom_type = me.down(\"[name=custom_type]\");\r\n\t\t\t\r\n\t\toptdateformat.on(\"change\", \r\n\t\t\tfunction(field, newvalue, oldvalue, opts) {\r\n\t\t\t\tme.changeDateFormat();\r\n\t\t\t}\r\n\t\t);\r\n\t\t\r\n\t\tcustom_type.on(\"change\", function(field, newvalue, oldvalue) {\r\n\t\t\tvar custom_type = me.down(\"[name=custom_type]\"),\r\n\t\t\t\tsel = custom_type.getValue();\r\n\t\t\t\t\r\n\t\t\tme._upd_ui(sel);\r\n\t\t});\r\n\t\t\r\n\t\tif (dmode)\r\n\t\t{\r\n\t\t\tme.dmode_cnt.meta_type = \"custom_dimension\";\r\n\t\t\tme.rs_procLoadContent({\r\n\t\t\t\tcontent: me.dmode_cnt\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (me.uid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t\telse if (me.parentuid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\tpayload: {uid: me.parentuid},\r\n\t\t\t\t\t\tmbody: {option: \"cube_style_info\"}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tme.rs_procLoadContent({\r\n\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\t\tcubeinfo: jdoc,\r\n\t\t\t\t\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tstyles = [],\r\n\t\t\ti, item = jdoc.content,\r\n\t\t\tcubeinfo = item.cubeinfo,\r\n\t\t\toptsortdir = me.down(\"[name=optsortdir]\"),\r\n\t\t\toptsorttype = me.down(\"[name=optsorttype]\"),\r\n\t\t\toptstyle = me.down(\"[name=optstyle]\");\r\n\t\t\r\n\t\tif (!cubeinfo)\r\n\t\t{\r\n\t\t\tcubeinfo = item.cubeinfo = {\r\n\t\t\t\tapp_style: {\r\n\t\t\t\t\tdefault_styles: [],\r\n\t\t\t\t\tcustom_styles: []\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tme.clItem = item;\r\n\t\t\r\n\t\tme.wd && me.wd.down(\"[name=b_confirm]\") && me.wd.down(\"[name=b_confirm]\").setVisible(item.writable || me.dmode);\r\n\t\t\r\n\t\tme.down(\"[name=itemname]\").setValue(item.name);\r\n\t\tme.down(\"[name=description]\").setValue(item.description);\r\n\t\t\r\n\t\toptsortdir.setValue({cb_sortdir: [(item.sortorder || \"\")]});\r\n\t\toptsorttype.setValue({cb_sorttype: [(item.sorttype || \"\")]});\r\n\t\t\r\n\t\tme.down(\"[name=optremoveblank]\").setValue(item.removeblank);\r\n\t\tme.down(\"[name=isdatetype]\").setValue(item.isdatetype);\r\n\t\tme.down(\"[name=dateformat]\").setValue(item.dateformat);\r\n\t\tme.down(\"[name=opt_dateformat]\").setValue(item.dateformat);\r\n\t\tme.down(\"[name=t_dateformat]\").setValue(item.datecustom);\r\n\t\t\r\n\t\titem.rel_items = item.rel_items || [];\r\n\t\t\r\n\t\titem.grouping = item.grouping || {};\r\n\t\t\r\n\t\titem.link_option = item.link_option || {};\r\n\t\t\r\n\t\t$s.defaults(item.grouping, {\r\n\t\t\tgroupmin: 0,\r\n\t\t\tgroupmax: 0,\r\n\t\t\tstepinterval: 10,\r\n\t\t\tgroupminlabel: \"Under %MIN\",\r\n\t\t\tgroupmaxlabel: \"Over %MAX\",\r\n\t\t\tgrouplabel: \"%MIN - %MAX\",\r\n\t\t\tgroupformat: \"#,###\"\r\n\t\t});\r\n\t\t\r\n\t\t$s.defaults(item.link_option, {\r\n\t\t\tl_tp: \"DRILL\",\r\n\t\t\tl_nm: null,\r\n\t\t\tl_elnk: null,\r\n\t\t\tl_elnk_tgt: null,\r\n\t\t\tl_rpt_name: null,\r\n\t\t\tl_rpt_uid: null,\r\n\t\t\tl_rpt_tmpl: null\r\n\t\t});\r\n\t\t\r\n\t\tstyles.push({disp: \"--- select ---\", name: \"\", type: \"\"});\r\n\t\t\r\n\t\tme.styles = styles;\r\n\t\tcubeinfo = item.cubeinfo;\r\n\t\tdelete item[\"cubeinfo\"];\r\n\t\t\r\n\t\t$.each([\r\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \r\n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\r\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\r\n\t\t], function(n, obj) {\r\n\t\t\tvar i,\r\n\t\t\t\tt,\r\n\t\t\t\tarr = obj.arr;\r\n\t\t\t\r\n\t\t\tif (arr)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < arr.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tt = arr[i];\r\n\t\t\t\t\tstyles.push({\r\n\t\t\t\t\t\tdisp: t.name,\r\n\t\t\t\t\t\tname: t.name,\r\n\t\t\t\t\t\ttype: obj.n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\toptstyle.store.loadData(styles);\r\n\t\toptstyle.setValue(item.stylename || \"\");\r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.getParentCube();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.rs_getParentcube();\r\n\t\t}\r\n\t\t\r\n\t\tif (item.link_option.l_rpt_uid)\r\n\t\t{\r\n\t\t\tme.loadTemplate(item.link_option.l_rpt_uid);\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadTemplate: function(uid) {\r\n\t\tvar me = this,\r\n\t\t\tcitem = me.clItem,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: uid},\r\n\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tenode = jdoc.content && jdoc.content.export_option ? jdoc.content.export_option.otmpl : null,\r\n\t\t\t\t\tenodes, i, p,\r\n\t\t\t\t\tl_rpt_tmpl = me.down(\"[name=l_rpt_tmpl]\"),\r\n\t\t\t\t\tdp = [{disp: \"Select Item\", seq: \"\"}];\r\n\t\t\t\t\r\n\t\t\t\tif (enode)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < enode.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = enode[i];\r\n\t\t\t\t\t\tp.disp = p.name + (p.description ? \"-\" + p.description + \" \" : \" \") + (p.export_type ? \"(\" + p.export_type + \")\" : \"\");\r\n\t\t\t\t\t\tp.seq = \"\" + i;\r\n\t\t\t\t\t\tdp.push(p);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tl_rpt_tmpl.store.loadData(dp);\r\n\t\t\t\tl_rpt_tmpl.setValue(citem && citem.link_option ? citem.link_option.l_rpt_tmpl || \"\" : \"\");\r\n\t\t\t\t\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tupdateDateFormat: function() {\r\n\t\tvar me = this,\r\n\t\t\tfields = (me.clItem) ? me.clItem.fields : null,\r\n\t\t\tcustom_type = me.down(\"[name=custom_type]\"),\r\n\t\t\tsel = custom_type.getValue(),\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\t\r\n\t\tif (fields && fields.length > 0 && sel && sel == \"PREDEFINED_FIELD\")\r\n\t\t{\r\n\t\t\tif (me.loadedItem && me.loadedItem[fields[0].uid])\r\n\t\t\t{\r\n\t\t\t\tme.applyDateFormat(me.loadedItem[fields[0].uid]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: fields[0].uid, type: fields[0].type, nodepath: fields[0].nodepath},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, me, me.rs_updateDateFormat, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_updateDateFormat: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tdateformat,\r\n\t\t\tuid;\r\n\t\t\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tuid = jdoc.uid;\r\n\t\t\tdateformat = jdoc.content.dateformat;\r\n\t\t\tme.loadedItem[uid] = {uid: uid, dateformat: dateformat};\r\n\t\t\t\r\n\t\t\tme.applyDateFormat(me.loadedItem[uid]);\r\n\t\t}\r\n\t},\r\n\t\r\n\tapplyDateFormat: function(df) {\r\n\t\tvar me = this,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tmdf = dateformat.getValue();\r\n\t\t\r\n\t\tif (df.dateformat != \"\" && (mdf == \"\" || mdf != df.dateformat))\r\n\t\t{\r\n\t\t\tdateformat.setValue(df.dateformat);\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetParentCube: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getParentcube(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getParentcube: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null,\r\n\t\t\tcitem = me.clItem, i;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tme.cubeuid = tnode.uid;\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=custom_type]\").setValue(citem.custom_type || \"CUSTOM_FIELD\");\r\n\t\tIG$.setFieldValue(me, \"expression\", \"s\", citem.expression || \"\");\r\n\t\tIG$.setFieldValue(me, \"datagrid\", \"dg\", citem.rel_items);\r\n\t\tIG$.setFieldValue(me, \"groupfielditem\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\tIG$.setFieldValue(me, \"predefinefield\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\tIG$.setFieldValue(me, \"rangefield\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\tIG$.setFieldValue(me, \"dim_child\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\t\r\n\t\tvar dateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\toptdateformat = me.down(\"[name=optdateformat]\"),\r\n\t\t\tdatedivision = me.down(\"[name=datedivision]\"),\r\n\t\t\tcustomdatetype = me.down(\"[name=customdatetype]\"),\r\n\t\t\tothergroupvalue = me.down(\"[name=othergroupvalue]\"),\r\n\t\t\tgroupdatagrid = me.down(\"[name=groupdatagrid]\"),\r\n\t\t\tgitems = [], g;\r\n\t\t\r\n\t\tif (citem.groupfilter && citem.groupfilter.children)\r\n\t\t{\r\n\t\t\tfor (i=0; i < citem.groupfilter.children.length; i++)\r\n\t\t\t{\r\n\t\t\t\tg = citem.groupfilter.children[i];\r\n\t\t\t\tgitems.push({name: g.name, values: g.values, operator: g.operator});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgroupdatagrid.store.loadData(gitems);\r\n\t\t}\r\n\t\t\r\n\t\toptdateformat.setValue(citem.dateformat || \"\");\r\n\t\t\r\n\t\tdateformat.setValue(citem.dateformat || \"\");\r\n\t\tme.down(\"[name=opt_dateformat]\").setValue(citem.dateformat);\r\n\t\tdatedivision.setValue({datediv: citem.datedivision});\r\n\t\tcustomdatetype.setValue(citem.customdatetype || \"\");\r\n\t\tothergroupvalue.setValue(citem.othergroupvalue);\r\n\t\tme.down(\"[name=geolat]\").setValue(citem.geolat ? citem.geolat.name : \"\");\r\n\t\tme.down(\"[name=geolng]\").setValue(citem.geolng ? citem.geolng.name : \"\");\r\n\t\tme.down(\"[name=cmap_disp]\").setValue(citem.cmap_disp || \"\");\r\n\t\tme.down(\"[name=dim_parent]\").setValue(citem.dim_parent ? citem.dim_parent.name : \"\");\r\n\t\tme.down(\"[name=dim_disp]\").setValue(citem.dim_disp ? citem.dim_disp.name : \"\");\r\n\t\tme.f_ = \"groupmin;groupmax;stepinterval;groupminlabel;groupmaxlabel;grouplabel;groupformat\".split(\";\");\r\n\t\t\r\n\t\t$.each(me.f_, function(i, k) {\r\n\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\tctrl.setValue(citem.grouping[k]);\r\n\t\t});\r\n\t\t\r\n\t\tif (citem.link_option)\r\n\t\t{\r\n\t\t\t$.each([\"l_tp\", \"l_nm\", \"l_nm_dim\", \"l_rpt_tmpl\", \"l_elnk\", \"l_elnk_tgt\", \"l_rpt_name\", \"l_rpt_uid\"], function(i, k) {\r\n\t\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\t\tctrl.setValue(citem.link_option[k]);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=l_par_option]\").setValue(citem.l_par_option);\r\n\t\tme.down(\"[name=l_par_disp_option]\").setValue(citem.l_par_disp_option);\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tclItem = me.clItem,\r\n\t\t\ti, groupdatagrid = me.down(\"[name=groupdatagrid]\"),\r\n\t\t\tdatagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\tgroupfilterstore = groupdatagrid.store, \r\n\t\t\tstoreitem, gfilter, \r\n\t\t\td, field;\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\t\r\n\t\tvar optsortdir = me.down(\"[name=cb_sortdir]\"),\r\n\t\t\tsortorder = optsortdir.getGroupValue(),\r\n\t\t\tsorttype = me.down(\"[name=cb_sorttype]\").getGroupValue();\r\n\t\t\r\n\t\tclItem.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tclItem.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tclItem.sortorder = (sortorder == \"\") ? null : sortorder;\r\n\t\tclItem.sorttype = (sorttype == \"\") ? null : sorttype;\r\n\t\t\r\n\t\tclItem.expression = me.down(\"[name=expression]\").getValue();\r\n\t\tclItem.custom_type = me.down(\"[name=custom_type]\").getValue();\r\n\t\tclItem.dateformat = me.down(\"[name=dateformat]\").getValue();\r\n\t\tclItem.datedivision = me.down(\"[name=datedivision]\").getValue().datediv;\r\n\t\tclItem.othergroupvalue = me.down(\"[name=othergroupvalue]\").getValue();\r\n\t\tclItem.customdatetype = me.down(\"[name=customdatetype]\").getValue();\r\n\t\tclItem.stylename = me.down(\"[name=optstyle]\").getValue();\r\n\t\t\r\n\t\tclItem.removeblank = me.down(\"[name=optremoveblank]\").getValue();\r\n\t\tclItem.isdatetype = me.down(\"[name=isdatetype]\").getValue();\r\n\t\t\r\n\t\tif (clItem.custom_type != \"PREDEFINED_FIELD\")\r\n\t\t{\r\n\t\t\tclItem.datecustom = me.down(\"[name=t_dateformat]\").getValue();\r\n\t\t\tclItem.dateformat = me.down(\"[name=opt_dateformat]\").getValue();\r\n\t\t}\r\n\t\t\r\n\t\tclItem.groupfilter = {ftype: \"group\", children: []};\r\n\t\t\r\n\t\tfor (i=0; i < groupfilterstore.data.items.length; i++)\r\n\t\t{\r\n\t\t\tstoreitem = groupfilterstore.data.items[i];\r\n\t\t\tgfilter = {ftype: \"condition\", name: storeitem.get(\"name\"), values: []};\r\n\t\t\tgfilter.operator = storeitem.get(\"operator\");\r\n\t\t\tgfilter.values = storeitem.data.values;\r\n\t\t\tclItem.groupfilter.children.push(gfilter);\r\n\t\t}\r\n\t\t\r\n\t\tif (clItem.custom_type == \"CUSTOM_FIELD\" || clItem.custom_type == \"LINK_FIELD\")\r\n\t\t{\r\n\t\t\tclItem.rel_items = [];\r\n\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\td = datagrid.store.data.items[i].data;\r\n\t\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\r\n\t\t\t\tclItem.rel_items.push(field);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t$.each(me.f_, function(i, k) {\r\n\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\tclItem.grouping[k] = ctrl.getValue();\r\n\t\t});\r\n\t\t\r\n\t\tme.clItem.link_option = me.clItem.link_option || {};\r\n\t\t\r\n\t\t$.each([\"l_tp\", \"l_nm\", \"l_nm_dim\", \"l_rpt_tmpl\", \"l_elnk\", \"l_elnk_tgt\", \"l_rpt_name\", \"l_rpt_uid\"], function(i, k) {\r\n\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\tclItem.link_option[k] = ctrl.getValue();\r\n\t\t});\r\n\t\t\r\n\t\tclItem.l_par_option = me.down(\"[name=l_par_option]\").getValue();\r\n\t\tclItem.l_par_disp_option = me.down(\"[name=l_par_disp_option]\").getValue();\r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.saveContent(me.uid, clItem);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(me.clItem);\r\n\t\t\tme.wd.closedlg();\r\n\t\t}\r\n\t},\r\n\t\r\n\tsaveContent: function(uid, doc) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: doc.name, description: doc.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + doc.name : null)},\r\n\t\t\t\tmbody: doc,\r\n\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t}, me, me.rs_saveContent, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_saveContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.wd.callback && me.wd.callback.execute(me.clItem);\r\n\t\tme.wd.closedlg();\r\n\t},\r\n\t\r\n\tselectItem: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmultiselect: fieldname == \"customfield\" ? 1 : 0,\r\n\t\t\t\tvisibleItems: fieldname == \"codemap\" ? \"folder;codemap\" : \"userdb;table;dataset;inlineview;metric;custommetric\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\trootuid: fieldname == \"codemap\" ? \"/SYS_Lookup\" : me.cubeuid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tselectReport: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmultiselect: 0,\r\n\t\t\t\tvisibleItems: \"folder;report\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\trootuid: null\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(item) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fieldname == \"l_rpt\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.down(\"[name=l_rpt_uid]\").setValue(item.uid);\r\n\t\t\t\t\t\tme.down(\"[name=l_rpt_name]\").setValue(item.name);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.loadTemplate(item.uid);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(items, fieldname) {\r\n\t\tvar me = this,\r\n\t\t\titem = (fieldname == \"customfield\" ? null : items),\r\n\t\t\tcitem = me.clItem;\r\n\t\t\r\n\t\tif (fieldname == \"geolat\" || fieldname == \"geolng\")\r\n\t\t{\r\n\t\t\tif (fieldname == \"geolat\")\r\n\t\t\t{\r\n\t\t\t\tcitem.geolat = {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t};\r\n\t\t\t\tme.down(\"[name=geolat]\").setValue(item.name);\r\n\t\t\t}\r\n\t\t\telse if (fieldname == \"geolng\")\r\n\t\t\t{\r\n\t\t\t\tcitem.geolng = {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t};\r\n\t\t\t\tme.down(\"[name=geolng]\").setValue(item.name);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (fieldname == \"customfield\")\r\n\t\t{\r\n\t\t\tvar datagrid = me.down(\"[name=datagrid]\");\r\n\t\t\t\r\n\t\t\t$.each(items, function(k, item) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tbexist = false;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = datagrid.store.data.items[i];\r\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bexist == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tdatagrid.store.add(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (fieldname == \"codemap\")\r\n\t\t{\r\n\t\t\tcitem.cmap_uid = item.uid;\r\n\t\t\tcitem.cmap_disp = item.name;\r\n\t\t\tme.down(\"[name=cmap_disp]\").setValue(item.name);\r\n\t\t}\r\n\t\telse if (fieldname == \"dim_parent\")\r\n\t\t{\r\n\t\t\tcitem.dim_parent = item;\r\n\t\t\tme.down(\"[name=dim_parent]\").setValue(item.name);\r\n\t\t}\r\n\t\telse if (fieldname == \"dim_disp\")\r\n\t\t{\r\n\t\t\tcitem.dim_disp = item;\r\n\t\t\tme.down(\"[name=dim_disp]\").setValue(item.name);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcitem.rel_items = [item];\r\n\t\t\tIG$.setFieldValue(me, fieldname, \"s\", item.name);\r\n\t\t\tme.updateDateFormat();\r\n\t\t}\r\n\t},\r\n\t\r\n\taddBlankCondition: function() {\r\n\t\tvar me = this,\r\n\t\t\tdfilter = {},\r\n\t\t\tgroupdatagrid = me.down(\"[name=groupdatagrid]\"),\r\n\t\t\tgroupdatagridstore = groupdatagrid.store;\r\n\t\tgroupdatagridstore.add(dfilter);\r\n\t},\r\n\t\r\n\teditFilter: function(filter, record) {\r\n\t\tvar me = this,\r\n\t\t\tcitem = me.clItem;\r\n\t\t\r\n\t\tif (citem.rel_items.length > 0)\r\n\t\t{\r\n\t\t\tvar field = citem.rel_items[0],\r\n\t\t\t\tvs = new IG$.valueSelectWindow({\r\n\t\t\t\t\tfield: field,\r\n\t\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_editFilter, [filter, record])\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\tvs.show();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_editFilter: function(selvalues, param) {\r\n\t\tvar filter = param[0],\r\n\t\t\trecord = param[1],\r\n\t\t\tvalue = \"\",\r\n\t\t\ti;\r\n\t\t\r\n\t\tfilter.values = selvalues;\r\n\t\t\r\n\t\tfor (i=0; i < selvalues.length; i++)\r\n\t\t{\r\n\t\t\tvalue += (i==0) ? (selvalues[i].text || selvalues[i].code) : \", \" + (selvalues[i].text || selvalues[i].code);  \r\n\t\t}\r\n\t\t\r\n\t\trecord.set(\"value\", value);\r\n\t},\r\n\t\r\n\teditorItemName: function(itemname) {\r\n\t\tvar me = this,\r\n\t\t\texpression = me.down(\"[name=expression]\");\r\n\t\tIG$._inpEdt$(expression, itemname);\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: ig$.padding,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"tabpanel\",\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 60,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"custom_type\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_CUSTOM_FIELD\"), value: \"CUSTOM_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_GROUP_FIELD\"), value: \"GROUP_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_PREDEFINED_FIELD\"), value: \"PREDEFINED_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_GEO_FIELD\"), value: \"GEO_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_RANGE_FIELD\"), value: \"RANGE_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LINK_FIELD\"), value: \"LINK_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_PARENT_CHILD_NODES\"), value: \"PARENT_CHILD_NODES\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_SUB_QUERY\"), value: \"SUB_QUERY\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #6\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_LINK_OPTION\"), // \"Link Option\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig6\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_tp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_TP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LNK_DRILL\"), value: \"DRILL\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LNK_DOC\"), value: \"DOC\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LNK_EXT\"), value: \"EXTERNAL\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_tr = me.down(\"[name=l_tr]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk = me.down(\"[name=l_elnk]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk_tgt = me.down(\"[name=l_elnk_tgt]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_rpt_tmpl = me.down(\"[name=l_rpt_tmpl]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttval = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbext = tval == \"EXTERNAL\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_tr.setVisible(!bext);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_rpt_tmpl.setVisible(tval == \"DOC\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk.setVisible(bext);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk_tgt.setVisible(bext);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_nm\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DISP_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_nm_dim\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 140,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_USE_EXPRESSION\"), // \"Use Expression\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuse_expr = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_nm = me.down(\"[name=l_nm]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_nm.setDisabled(use_expr);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TARGET_REPORT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_tr\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_rpt_uid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_rpt_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectReport(\"l_rpt\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_rpt_tmpl\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_TMPL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'seq',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"disp\", \"seq\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_elnk_tgt\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_TGT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_URL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_elnk\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #1\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_CUSTOM_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig1\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfieldDefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"expression\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautowidth: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_CM_DISP_1\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"name\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"type\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"delete\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"nodepath\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"uid\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"memo\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"datagrid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 120,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstripeRows: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypename = (rc) ? rc.get(\"type\") : null, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(me == data.view) ? data.copy = false : data.copy = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? me.panel.store.indexOf(dropRec) : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (typename == \"Metric\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < me.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (item.get(\"uid\") == rc.data.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.store.add(rc.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, event, Option) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editorItemName(record.data.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautowidth: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_CD_DISP_2\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"customfield\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t//panel #2\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_GROUP_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig2\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupfielditem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"groupfielditem\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"operator\", \"opname\", \"value\", \"values\", \"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupdatagrid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickToEdit: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_CONDITION\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"operator\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Like\", value: \"like\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"=\", value: \"eq\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \">\", value: \"gt\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"<\", value: \"lt\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \">=\", value: \"gte\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"<=\", value: \"lte\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"In\", value: \"in\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Except\", value: \"except\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_VALUE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickToEdit: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisvalue: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_REMOVE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_EDIT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editFilter(rec.data, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, ev) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar filter = record.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\top = record.get(\"operator\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (filter && (op == \"in\" || op == \"except\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editFilter(filter, record);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit: function(editor, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd = editor.grid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord = e.record,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti, t, evalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (editor.column == \"value\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord.data.values = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevalue = e.value.split(\",\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < evalue.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt = IG$.trim12(evalue[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord.data.values.push({code: t, text: t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpack: \"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-add\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_ADD_CONDITION\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addBlankCondition();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-moveup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Move Up\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar groupdatagrid = this.down(\"[name=groupdatagrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = groupdatagrid.getSelectionModel().getSelection(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec, ri;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sel && sel.length == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = sel[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tri = groupdatagrid.store.indexOf(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ri > 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupdatagrid.store.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = groupdatagrid.store.insert(ri-1, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-movedown\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Move Down\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar groupdatagrid = this.down(\"[name=groupdatagrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = groupdatagrid.getSelectionModel().getSelection(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec, ri;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sel && sel.length == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = sel[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tri = groupdatagrid.store.indexOf(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ri+1 < groupdatagrid.store.data.items.length)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupdatagrid.store.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = groupdatagrid.store.insert(ri+1, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"othergroupvalue\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OTHER_VALUE\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #3\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_PREDEFINED_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig3\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultType: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"predefinefield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"predefinefield\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optdateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_EX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"B_SELECT\"), value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"2001.07.04 AM 12:08:56\", value: \"yyyy.MM.dd a HH:mm:ss\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"2001-07-04 12:08:56\", value: \"yyyy-MM-dd HH:mm:ss\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"2001-07-04 AM 12:08\", value: \"yyyy-MM-dd a HH:mm\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Wed, Jul 4, '01\", value: \"EEE, MMM d, ''yy\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"20010704120856\", value: \"yyyyMMddHHmmss\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_GROUP_LEVEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"datedivision\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: 3,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$h: 120,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_YEAR\"), name: \"datediv\", inputValue: \"YYYY\", checked: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_QUARTER\"), name: \"datediv\", inputValue: \"QUARTER\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_MONTH\"), name: \"datediv\", inputValue: \"MM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_DAY\"), name: \"datediv\", inputValue: \"DD\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_WEEKMONTH\"), name: \"datediv\", inputValue: \"WM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_WEEK\"), name: \"datediv\", inputValue: \"WEEK\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_AMPM\"), name: \"datediv\", inputValue: \"AMPM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_HOUR\"), name: \"datediv\", inputValue: \"HH\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_MINUTE\"), name: \"datediv\", inputValue: \"MI\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_CUSTOM\"), name: \"datediv\", inputValue: \"CUSTOM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(field, nvalue, ovalue, eOpt) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar datediv = field.getValue().datediv,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetype = this.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetype.setVisible((datediv == \"CUSTOM\" ? true : false));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_CUSTOM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"customdatetype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #4\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig4\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_GEO_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultType: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LATITUDE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolat\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"geolat\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LONGITUDE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolng\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"geolng\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #5\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig5\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"rangefield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"rangefield\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupmin\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_START_MIN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"numberfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminValue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxValue: 100000000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowDecimals: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalPrecision: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupmax\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_END_MAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"numberfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminValue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxValue: 100000000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowDecimals: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalPrecision: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"stepinterval\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_STEP_INT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"numberfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminValue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxValue: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowDecimals: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalPrecision: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupminlabel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_UNDER_MIN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupmaxlabel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OVER_MAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"grouplabel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LABEL_TEXT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"Use keyword %MIN %MAX for range labeling\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_NUMERIC_FORMAT\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #7\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_PARENT_CHILD_OPTIONS\"), // \"Parent Child Options\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig7\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dim_child\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"dim_child\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_PARENT_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dim_parent\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"dim_parent\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dim_disp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"dim_disp\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Clear\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tciitem = me.clItem;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tciitem.dim_disp = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=dim_disp]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_par_option\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_PRIOR_START_WITH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NULL Value\", value: \"NULL\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Parent-Child same value\", value: \"SAME\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_par_disp_option\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DISPLAY_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Indent characters 4\", value: \"INDENT4\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Indent characters 8\", value: \"INDENT8\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Expand Collapse\", value: \"TREE\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Unchanged\", value: \"UNCHANGED\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig8\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SUB_QUERY_OPTIONS\"), // \"Sub Query Options\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_ADVANCED\"),\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SORT_SEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortdir\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_ORD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sortdir\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_ASC\"), name: \"cb_sortdir\", inputValue: \"asc\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DSC\"), name: \"cb_sortdir\", inputValue: \"desc\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsorttype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_TP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sorttype\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_STRING\"), name: \"cb_sorttype\", inputValue: \"VARCHAR\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_NUMERIC\"), name: \"cb_sorttype\", inputValue: \"NUMBER\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_OTHER_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optremoveblank\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_REM_BLK\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"isdatetype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_DATE_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(field, nvalue, ovalue, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisdatetype = field.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format = me.down(\"[name=t_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format = me.down(\"[name=d_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetypecontainer = me.down(\"[name=customdatetypecontainer]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// datediv_CUSTOM = me.down(\"[name=datediv_CUSTOM]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_SRC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"d_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"opt_dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_TGT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"cmap_disp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"codemap\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cmap_disp]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.clItem.objectinfo.cmap_disp = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.clItem.objectinfo.cmap_uid = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optstyle\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"disp\", \"name\", \"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MEASURES\"), // \"Measures\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.dmode,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 160,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"grd_measures\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getMeasures();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.multiMeasure({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid: me.uid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmitem: me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvmode: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, me.reg_measures)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 220,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.edit_customfield(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t})\r\n\t\t\r\n\t\tIG$.customMetricInner.superclass.initComponent.apply(this);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(ui) {\r\n\t\t\tvar panel = this;\r\n\t\t\t\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tpanel.init_f();\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nIG$.custommetric = $s.extend($s.window, {\r\n\t\r\n\tmodal: false,\r\n\tisWindow: true,\r\n\tregion:\"center\",\r\n\tlayout: {\r\n\t\ttype: \"fit\",\r\n\t\talign: \"stretch\"\r\n\t},\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tclosedlg: function() {\r\n\t\tvar me = this;\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\tme.mainpanel._confirm();\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\tme.mainpanel = new IG$.customMetricInner({\r\n\t\t\tinstance: me.instance,\r\n\t\t\tuid: me.uid,\r\n\t\t\tcubeuid: me.cubeuid,\r\n\t\t\tcubepath: me.cubepath,\r\n\t\t\twritable: me.writable,\r\n\t\t\tparentuid: me.parentuid,\r\n\t\t\tparentnodepath: me.parentnodepath,\r\n\t\t\titemtype: me.itemtype,\r\n\t\t\twd: me,\r\n\t\t\tdmode: me.dmode,\r\n\t\t\tdmode_cnt: me.dmode_cnt,\r\n\t\t\tcallback: me.callback\r\n\t\t});\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"T_CUSTOM_METRIC\");\r\n\t\t\t\t \r\n\t\t$s.apply(me, {\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\tme.mainpanel\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\tname: \"b_confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.custommetric.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\n","IG$.p$DbMeta = $s.extend($s.window, {\r\n\tmodal: true,\t\r\n\tclosable: false,\r\n\tresizable: true,\r\n\twidth: 820,\r\n\theight: 520,\r\n\t\r\n\ticonCls: \"icon-doc-table\",\r\n\tlayout: \"fit\",\r\n\tbodyPadding: ig$.padding,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._loadDbMeta(\"F\");\r\n\t},\r\n\t\r\n\t_loadDbMeta: function(refresh) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"userdb\",\r\n\t\t\t\tpayload: {uid: me.uid, option: \"extract_dbmeta\", refresh: refresh || \"T\"},\r\n\t\t\t\tmbody: {},\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ttbsrc = me.down(\"[name=tbsrc]\");\r\n\t\t\t\t\r\n\t\t\t\ttbsrc.store.loadData(jdoc);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"T_BO_EXTRACT_META\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SRC_TABLES\"), // \"Source tables\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tbsrc\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcellclick: function(tobj, td, cellIndex, node, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttbfield = me.down(\"[name=tbfield]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tttbname = me.down(\"[name=ttbname]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttbfield.store.loadData(node.get(\"fields\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tttbname.setValue(node.get(\"name\").toLowerCase());\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\twidth: 5\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FIELD_MAPPING\"), // \"Field Mapping\",\r\n\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TGT_TBL_NAME\"), // \"Target tablename\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"ttbname\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SEARCH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tbfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DB_NAME\"), // \"DB name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"physical_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DATA_TYPE\"), // \"DataType\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"fieldtype\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_LENGTH\"), // \"Length\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"length\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-schedule\",\r\n\t\t\t\t\ttext: IRm$.r1('B_SCHEDULE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tcnt = {},\r\n\t\t\t\t\t\t\tmreq = [],\r\n\t\t\t\t\t\t\treq,\r\n\t\t\t\t\t\t\tgrid = me.down(\"[name=tbsrc]\"),\r\n\t\t\t\t\t\t\tsel = grid.getSelectionModel().selected,\r\n\t\t\t\t\t\t\trec, i, tb,\r\n\t\t\t\t\t\t\topt = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treq = {\r\n\t\t\t\t\t\t\tack: \"userdb\",\r\n\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\tuid: me.uid,\r\n\t\t\t\t\t\t\t\ttarget_folder: me.target_folder.get(\"uid\"),\r\n\t\t\t\t\t\t\t\toption: \"sync_dbmeta\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmbody: {tables: []},\r\n\t\t\t\t\t\t\tjobkey: \"\" + 0,\r\n\t\t\t\t\t\t\tmeta_type: \"metatables\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\topt.name = \"\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\ttb = rec.data;\r\n\t\t\t\t\t\t\treq.mbody.tables.push(tb);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (i < 3)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\topt.name += (i > 0 ? \",\" : \"\") + tb.name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (i == 3)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\topt.name += \" and (\" + sel.length + \")\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmreq.push(req);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tIG$.showScheduler(me, me.uid, me.itemtype, mreq, opt);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.p$DbMeta.superclass.initComponent.call(this);\r\n\t}\r\n});","IG$.tableManager = $s.extend(IG$.v$pnl, {\r\n\ticonCls: \"icon-bobject\",\r\n\tclosable: true,\r\n\tlayout: \"fit\",\r\n\tbodyPadding: ig$.padding,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tmcnt,\r\n\t\t\tt_edit_sql = me.down(\"[name=t_edit_sql]\");\r\n\r\n\t\tIG$._ctxtmn(me.instance, $(t_edit_sql.el.dom), IG$.$snippet.sql, new IG$.callBackObj(me, function(menu) {\r\n\t\t\tIG$._apndT($(\"textarea\", t_edit_sql.el.dom), menu.snippet.join(\"\\n\"));\r\n\t\t}));\r\n\r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.getLCnt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmcnt = {};\r\n\t\t\t\r\n\t\t\tif (me._ds && me._ds.uid)\r\n\t\t\t{\r\n\t\t\t\tmcnt.datasource = {\r\n\t\t\t\t\tuid: me._ds.uid,\r\n\t\t\t\t\tname: me._ds.name\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tme.refLCnt(mcnt);\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetLCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\tmbody: {option: \"content\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (!jdoc.content)\r\n\t\t\t\t{\r\n\t\t\t\t\tjdoc.content = {\r\n\t\t\t\t\t\tname: jdoc.name,\r\n\t\t\t\t\t\tuid: jdoc.uid,\r\n\t\t\t\t\t\tnodepath: jdoc.nodepath,\r\n\t\t\t\t\t\ttype: jdoc.type,\r\n\t\t\t\t\t\tmeta_type: \"business_object\"\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tme.refLCnt(jdoc.content);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trefLCnt: function(content) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._mc = content;\r\n\t\tme._mc.highlight = me._mc.highlight || [];\r\n\t\t\r\n\t\tif (me._mc.datasource)\r\n\t\t{\r\n\t\t\tme.getCnt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.sel_db();\r\n\t\t}\r\n\t\t\r\n\t\tif (me._mc.uid)\r\n\t\t{\r\n\t\t\tme.refRoot();\r\n\t\t}\r\n\t},\r\n\t\r\n\trefRoot: function() {\r\n\t\tvar me = this,\r\n\t\t\t_mc = me._mc,\r\n\t\t\tcube_tree = me.down(\"[name=cube_tree]\"),\r\n\t\t\trnode;\r\n\t\t\r\n\t\trnode = {\r\n\t\t\ttype: \"ROOT\",\r\n\t\t\tname: _mc.name,\r\n\t\t\tuid: _mc.uid,\r\n\t\t\tnodepath: _mc.nodepath,\r\n\t\t\tleaf: false,\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"load\",\r\n\t\t\t\t\tname: \"Loading...\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\tcube_tree.__stagingdb = me.__stagingdb;\r\n\t\tcube_tree.setRootNode(rnode);\r\n\t\t\r\n\t\tsetTimeout(function() {\r\n\t\t\tcube_tree.getRootNode().expand();\r\n\t\t}, 10);\r\n\t},\r\n\t\r\n\tgetCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me._mc.datasource.uid},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.refCnt(jdoc.content);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trefCnt: function(cnt) {\r\n\t\tvar me = this,\r\n\t\t\trnode,\r\n\t\t\tds = me._mc.datasource;\r\n\t\t\r\n\t\tme.dbo = cnt;\r\n\t\tds.uid = cnt.uid;\r\n\t\tds.nodepath = cnt.nodepath;\r\n\t\tds.name = cnt.name;\r\n\t\t\r\n\t\tme.down(\"[name=tbdsname]\").setText(cnt.name + \" (\" + me.dbo.dbtype + \")\");\r\n\t\t\r\n\t\tif (me.dbo.dbtype == \"sforce\" || me.dbo.dbtype == \"pardot\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.sf_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"essbase\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.essbase_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"sapbw\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.sapbw_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"soap\" || me.dbo.dbtype == \"rest\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.ws_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"orafusion\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.ws_targetdb;\r\n\t\t}\r\n\r\n\t\tme.__stagingdb = false;\r\n\t\t\r\n\t\tif (me.targetdb)\r\n\t\t{\r\n\t\t\tme.__stagingdb = me.targetdb.excel_loader == \"T\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.__stagingdb = me.dbo.excel_loader == \"T\";\r\n\t\t}\r\n\t},\r\n\t\r\n\tcustom_click_func: function(record, data) {\r\n\t\tvar me = this,\r\n\t\t\tr = false,\r\n\t\t\tltype = record.get(\"type\");\r\n\t\t\r\n\t\tltype = ltype ? ltype.toLowerCase() : null;\r\n\t\t\r\n\t\tme._s1 = null;\r\n\t\t\r\n\t\tif (ltype == \"folder\" || ltype == \"dataset\" || ltype == \"bobject\" || ltype == \"datemetric\")\r\n\t\t{\r\n\t\t\tme._s1 = record;\r\n\t\t\t\r\n\t\t\tif (!record.get(\"open\"))\r\n\t\t\t{\r\n\t\t\t\trecord.expand();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.load_fields(record);\r\n\t\t}\r\n\t\t\r\n\t\tif (ltype == \"table\" || ltype == \"inlineview\")\r\n\t\t{\r\n\t\t\tme._s1 = record;\r\n\r\n\t\t\tif (!record.get(\"open\"))\r\n\t\t\t{\r\n\t\t\t\trecord.expand();\r\n\t\t\t}\r\n\t\t\tme.load_fields(record);\r\n\t\t\tr = true;\r\n\t\t}\r\n\t\telse if (ltype == \"folder\" && record.get(\"subitem\") == true)\r\n\t\t{\r\n\t\t\tme.load_fields(record);\r\n\t\t\tr = true;\r\n\t\t}\r\n\t\telse if (ltype == \"cubemodel\")\r\n\t\t{\r\n\t\t\tr = me._load_cubemodel(record);\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tcustom_expand_func: function(node) {\r\n\t\tvar me = this,\r\n\t\t\tr = false,\r\n\t\t\tltype = node.get(\"type\");\r\n\t\t\r\n\t\t// me._s1 = null;\r\n\t\t\r\n\t\tif (!node.isRoot())\r\n\t\t{\r\n\t\t\tif (ltype == \"Folder\" || ltype == \"DataSet\")\r\n\t\t\t{\r\n\t\t\t\tif (!me._s1)\r\n\t\t\t\t{\r\n\t\t\t\t\tme._s1 = node;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (ltype == \"Table\" || ltype == \"InlineView\")\r\n\t\t\t{\r\n\t\t\t\tif (node.childNodes.length > 0 && node.childNodes[0].get(\"type\") == \"load\")\r\n\t\t\t\t{\r\n\t\t\t\t\tnode.removeAll();\r\n\t\t\t\t\tif (me._s1 && me._s1.get(\"uid\") == node.get(\"uid\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.load_fields(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// me._s1 = node;\r\n\t\t\t\tr = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (!me._s1)\r\n\t\t\t{\r\n\t\t\t\tme._s1 = node;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\t_load_dataset: function(node) {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.instance,\r\n\t\t\tmpanel = instance.mainPanel,\r\n\t\t\topt = {};\r\n\t\t\r\n\t\tif (mpanel)\r\n\t\t{\r\n\t\t\tif (node)\r\n\t\t\t{\r\n\t\t\t\tmpanel.navigateApp(node.get(\"uid\"), \"dataset\", node.get(\"name\"), node.get(\"nodepath\"), false, node.get(\"writable\"), opt);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t},\r\n\t\r\n\t_load_cubemodel: function(node) {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.instance,\r\n\t\t\tmpanel = instance.mainPanel,\r\n\t\t\topt = {};\r\n\t\t\r\n\t\tif (mpanel)\r\n\t\t{\r\n\t\t\topt = {\r\n\t\t\t\tobj_uid: me.uid,\r\n\t\t\t\tcubemodel: node ? null : new IG$.m$CubeModel(null)\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (node)\r\n\t\t\t{\r\n\t\t\t\tmpanel.navigateApp(node.get(\"uid\"), \"cubemodel\", node.get(\"name\"), node.get(\"nodepath\"), false, node.get(\"writable\"), opt);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmpanel.navigateApp(null, \"cubemodel\", \"new model\", null, false, true, opt);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t},\r\n\t\r\n\tload_fields_grid: function(uitem, refresh, node) {\r\n\t\tvar me = this,\r\n\t\tt_recommend = me.down(\"[name=t_recommend]\"),\r\n\t\tload_fields_grid\r\n\t\t\tutype = uitem.type.toLowerCase(),\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: uitem.uid, nodepath: uitem.nodepath, name: uitem.name, type: uitem.type},\r\n\t\t\t\tmbody: {option: \"folder\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\tfield,\r\n\t\t\t\t\tsnodes,\r\n\t\t\t\t\tdt = [],\r\n\t\t\t\t\tdf = [{name: IRm$.r1(\"B_SELECT\"), value: \"\"}],\r\n\t\t\t\t\tfields = [],\r\n\t\t\t\t\tfile_field = me.down(\"[name=file_field]\"),\r\n\t\t\t\t\tseq_field = me.down(\"[name=seq_field]\"),\r\n\t\t\t\t\tallow_insert = me.down(\"[name=allow_insert]\"),\r\n\t\t\t\t\tgrdfields = me.down(\"[name=grdfields]\");\r\n\r\n\t\t\t\t\tt_recommend.setDisabled(uitem.type == \"Table\" || uitem.type == \"InlineView\" ? false : true);\r\n\t\t\t\t\r\n\t\t\t\tsnodes = jdoc.children || [];\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < snodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tfield = snodes[i];\r\n\t\t\t\t\tfield.iconcls = IG$.get_metatype_icon(field.type.toLowerCase(), field);\r\n\t\t\t\t\tif (field.type == \"Folder\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield.children = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"load\",\r\n\t\t\t\t\t\t\t\tname: \"Loading...\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tfield.subitem = true;\r\n\t\t\t\t\t\tdt.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield.dispname = field.name;\r\n\t\t\t\t\t\tfield.physical_name = field.attributes.attrb3;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (field.type == \"Dimension\" || field.type == \"Metric\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfield.datatype = IG$.get_datatype(field.attributes.attrb4);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfield.iconcls = IG$.get_metatype_icon(field.type ? field.type.toLowerCase() : \"metric\", field);\r\n\t\t\t\t\t\tdf.push({\r\n\t\t\t\t\t\t\tname: field.name,\r\n\t\t\t\t\t\t\tvalue: field.physical_name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tIG$.sortMeta(fields);\r\n\t\t\t\t\r\n\t\t\t\tIG$.sortMeta(dt);\r\n\t\t\t\t\r\n\t\t\t\tif (dt.length && node.childNodes.length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tnode.appendChild(dt);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgrdfields.store.loadData(fields);\r\n\t\t\t\t\r\n\t\t\t\tallow_insert.setValue(uitem.type != \"Table\" ? false : uitem.allow_insert);\r\n\t\t\t\tallow_insert.setDisabled(uitem.type != \"Table\");\r\n\t\t\t\t\r\n\t\t\t\tfile_field.store.loadData(df);\r\n\t\t\t\tfile_field.setValue(uitem.file_field || \"\");\r\n\t\t\t\t\r\n\t\t\t\tseq_field.store.loadData(df);\r\n\t\t\t\tseq_field.setValue(uitem.seq_field || \"\");\r\n\t\t\t}, false);\r\n\t\t\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tload_fields: function(node, refresh) {\r\n\t\tvar me = this,\r\n\t\t\tcube_tree = me.down(\"[name=cube_tree]\"),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tnodetype = node.get(\"type\").toLowerCase(),\r\n\t\t\ttb_info = me.down(\"[name=tb_info]\");\r\n\r\n\t\tme.down(\"[name=mviewer]\").getLayout().setActiveItem(1);\r\n\t\t\r\n\t\tme.down(\"[name=t_btn]\").setVisible((nodetype == \"folder\" || nodetype == \"table\" || nodetype == \"inlineview\")); //ig$.$l_ < 5 && \r\n\t\tme.down(\"[name=t_btn2]\").setVisible((nodetype == \"table\" || nodetype == \"inlineview\")); // ig$.$l_ < 5 && \r\n\t\tme.down(\"[name=t_btn3]\").setVisible((nodetype == \"folder\" || nodetype == \"bobject\")); // ig$.$l_ < 5 && \r\n\t\tme.down(\"[name=t_btn_pv]\").setVisible(nodetype == \"table\" || nodetype == \"inlineview\");\r\n\t\t\r\n\t\tme.down(\"[name=b_opt_4]\").setVisible(nodetype == \"dataset\");\r\n\t\tme.down(\"[name=b_opt_5]\").setVisible(nodetype == \"table\" || nodetype == \"inlineview\");\r\n\t\t\r\n\t\tif (nodetype == \"folder\" || nodetype == \"bobject\")\r\n\t\t{\r\n\t\t\ttb_info.hide();\r\n\t\t\tme.down(\"[name=b_opt_1]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_1a]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_2]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_3]\").hide();\r\n\t\t\tme.load_fields_grid(node.data, refresh, node);\r\n\t\t}\r\n\t\telse if (nodetype == \"dataset\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=b_opt_4]\").setText(IRm$.r1(\"L_EDIT_ITEM\", node.get(\"locale_name\") || node.get(\"name\")));\r\n\t\t\tme.down(\"[name=b_opt_4]\").setDisabled(!node.get(\"writable\"));\r\n\t\t\tme.down(\"[name=b_opt_1]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_1a]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_2]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_3]\").hide();\r\n\t\t\tme.load_fields_grid(node.data, refresh, node);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttb_info.show();\r\n\t\t\t// if (ig$.$l_ < 5)\r\n\t\t\t// {\r\n\t\t\t\tme.down(\"[name=b_opt_1]\").show();\r\n\t\t\t\tme.down(\"[name=b_opt_1a]\").show();\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\tme.down(\"[name=b_opt_2]\").show();\r\n\t\t\tme.down(\"[name=b_opt_3]\").show();\r\n\t\t\t\r\n\t\t\treq.init(cube_tree, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tuid: node.get(\"uid\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t}, cube_tree, function(jdoc) {\r\n\t\t\t\t\tvar content = jdoc && jdoc.content ? jdoc.content : (jdoc.type == \"Folder\" ? jdoc : null)\r\n\t\t\t\t\t\r\n\t\t\t\t\tme._s1c = content;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (content)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (content.type != \"Folder\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tme.down(\"[name=external_name]\").setValue(content.external_name || content.name);\r\n\t\t\t\t\t\t\tme.down(\"[name=schema_name]\").setValue(content.attributes ? content.attributes.attrb2 : \"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.down(\"[name=p_edit_sql]\").setVisible(content.type == \"InlineView\");\r\n\t\t\t\t\t\tme.down(\"[name=t_edit_sql]\").setValue(IG$._decodeVal(content.sql || \"\"));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// if (content.type == \"InlineView\")\r\n\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t// sop = {};\r\n\t\t\t\t\t\t\t// sop.sqloption = {\r\n\t\t\t\t\t\t\t\t// columns: [],\r\n\t\t\t\t\t\t\t\t// prompts: []\r\n\t\t\t\t\t\t\t// };\r\n\t\t\t\t\t\t\t// sop.uid = content.uid;\r\n\t\t\t\t\t\t\t// sop.viewname = content.name;\r\n\t\r\n\t\t\t\t\t\t\t// sop.sqloption.dbpool = content.dbpool;\r\n\t\t\t\t\t\t\t// sop.sqloption.sql = content.sql;\r\n\t\r\n\t\t\t\t\t\t\t// me.cursop = sop;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.load_fields_grid(content, refresh, node);\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\tedit_dimension: function(rec) {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.instance,\r\n\t\t\tmp = instance.mainPanel,\r\n\t\t\tltype = rec.get(\"type\").toLowerCase();\r\n\t\t\r\n\t\tif (ltype == \"link\")\r\n\t\t{\r\n\t\t\tltype = rec.get(\"rawtype\").toLowerCase();\r\n\t\t}\r\n\t\t\r\n\t\tif (mp && ltype != \"folder\" && ltype != \"table\" && ltype != \"inlineview\")\r\n\t\t{\r\n\t\t\tmp.navigateApp(rec.get(\"uid\"), ltype, rec.get(\"name\"), rec.get(\"nodepath\"), true, rec.get(\"writable\") == true, {\r\n\t\t\t\tcubeuid: me.uid,\r\n\t\t\t\tobj_uid: me.uid,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(tobj) {\r\n\t\t\t\t\tif (tobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trec.set(\"name\", tobj.name);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tcreateItem: function(itemtype, b_topfolder) {\r\n\t\tvar me = this,\r\n\t\t\tmtree = me.down(\"[name=mtree]\"),\r\n\t\t\tsnode = me._s1;\r\n\t\t\r\n\t\tif (b_topfolder && !snode)\r\n\t\t{\r\n\t\t\tsnode = me.down(\"[name=cube_tree]\").getRootNode();\r\n\t\t}\r\n\t\t\r\n\t\tif (snode)\r\n\t\t{\r\n\t\t\tIG$._createMetaObject.call(me, itemtype, snode.get(\"uid\"), snode.get(\"nodepath\"), snode, \r\n\t\t\t\tnew IG$.callBackObj(me, function(node, isexpand) {\r\n\t\t\t\t\t// mtree.refreshTree();\r\n\t\t\t\t\tif (me._s1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.load_fields(me._s1);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\t\r\n\ttbarHndlr: function(cmd, opt) {\r\n\t\tvar me = this,\r\n\t\t\tdlg,\r\n\t\t\tinstance = me.instance,\r\n\t\t\tmainpanel = instance.mainPanel,\r\n\t\t\tsop,\r\n\t\t\ts, stype = me._s1 ? me._s1.get(\"type\").toLowerCase() : null;\r\n\t\t\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_save\":\r\n\t\t\tme.saveCnt();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_extract_dbmeta\":\r\n\t\t\tme.extrDbMeta();\r\n\t\t\tbreak;\r\n\t\tcase \"import_object\":\r\n\t\t\ts = me.checkTargetFolder();\r\n\t\t\t\r\n\t\t\tif (!s)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tdlg = new IG$.cube_object_select({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tdbo: me.dbo,\r\n\t\t\t\ttargetdb: (me.targetdb || me.dbo.uid),\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\t\tme.registerSelectedTable(sel);\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_inlineview\":\r\n\t\t\tif (!opt && !me.checkTargetFolder())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsop = opt && opt.type == \"InlineView\" ? opt : {dbpool: me.dbo.uid};\r\n\t\t\t\r\n\t\t\tdlg = new IG$.sqlcube_wizard({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\twmode: \"inlineview\",\r\n\t\t\t\tsheetoption: sop,\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.rsInlineView)\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_dataset\":\r\n\t\t\tif (!opt && !me.checkTargetFolder())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar mp = instance.mainPanel;\r\n\t\t\tmp && mp.navigateApp(null, \"dataset\", \"new dataset\", null, false, true, {\r\n\t\t\t\tbobj_datasource: me._mc.datasource,\r\n\t\t\t\tbobj_uid: me.uid\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_report\":\r\n\t\t\tmainpanel && mainpanel.navigateApp(\r\n\t\t\t\tnull, \"report\", \"New Report\", null, true, true, {\r\n\t\t\t\t\tcubeuid: me.uid\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_export_meta\":\r\n\t\t\tvar dbo = me.dbo,\r\n\t\t\t\tdlg = new IG$.metaExpDlg({\r\n\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\tmeta: {\r\n\t\t\t\t\t\tuid: dbo.uid,\r\n\t\t\t\t\t\tnodepath: dbo.nodepath,\r\n\t\t\t\t\t\tname: dbo.name,\r\n\t\t\t\t\t\ttype: dbo.type\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_build_model\":\r\n\t\t\tme.build_model();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_regmeasures\":\r\n\t\t\tme.reg_measures();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_rename_tool\":\r\n\t\t\tme.rename_tool();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_rel_field\":\r\n\t\t\tif (stype && (stype == \"table\" || stype == \"inlineview\"))\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.relationMgr({\r\n\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\tuid: me._s1.get(\"uid\"),\r\n\t\t\t\t\ttype: me._s1.get(\"type\"),\r\n\t\t\t\t\tisdown: true\r\n\t\t\t\t});\r\n\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_preview\":\r\n\t\t\tif (stype && (stype == \"table\" || stype == \"inlineview\"))\r\n\t\t\t{\r\n\t\t\t\tvar dlg;\r\n\t\t\t\t\r\n\t\t\t\tif (opt && opt.sql)\r\n\t\t\t\t{\r\n\t\t\t\t\tdlg = new IG$.dlgLoadPreview({\r\n\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\tinlineview: opt\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tdlg = new IG$.dlgLoadPreview({\r\n\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\ttable: {\r\n\t\t\t\t\t\t\t_mc: me._s1.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_reglinks\":\r\n\t\t\tme.reg_links();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_change_schema\":\r\n\t\t\tme.batchUpdateSchema();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_save_field\":\r\n\t\t\tme.saveFields();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_refresh_field\":\r\n\t\t\tvar dlg = new IG$.dlg_compare_field({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\t_s1: me._s1,\r\n\t\t\t\tschema: me.down(\"[name=schema_name]\").getValue() || \"none\",\r\n\t\t\t\ttable: me.down(\"[name=external_name]\").getValue() || \"none\",\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(items) {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\t\t\t\tstore = grdfields.store,\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\trec, dval,\r\n\t\t\t\t\t\tdmap = {},\r\n\t\t\t\t\t\trmap = {},\r\n\t\t\t\t\t\tpayloads = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (items && items.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (items[i].status == \"CHANGED\")\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdmap[items[i].uid] = items[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (items[i].status == \"REMOVED\")\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trmap[items[i].uid] = items[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=store.data.items.length-1; i>=0; i--)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trec = store.data.items[i];\r\n\t\t\t\t\t\t\tdval = dmap[rec.get(\"uid\")];\r\n\t\t\t\t\t\t\tif (dval)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trec.set(\"changedprop\", dval.changedprop);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (rmap[rec.get(\"uid\")])\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpayloads.push({\r\n\t\t\t\t\t\t\t\t\tuid: rec.get(\"uid\"),\r\n\t\t\t\t\t\t\t\t\toption: \"delete\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (payloads.length)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\t\t\tpayload: payloads,\r\n\t\t\t\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tif (items[i].status == \"NEW\")\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\titems[i].physical_name = items[i].fieldname;\r\n\t\t\t\t\t\t\t\t\t\t\tstore.add(items[i]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tme.saveFields();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (items[i].status == \"NEW\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\titems[i].physical_name = items[i].fieldname;\r\n\t\t\t\t\t\t\t\t\tstore.add(items[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tme.saveFields();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}) \r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_delete_field\":\r\n\t\t\tme.deleteFields();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_hl_option\":\r\n\t\t\tme.showHighlightOptions();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_sec_filter\":\r\n\t\t\tme.showSecurityFilter();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_add_bobj\":\r\n\t\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tvisibleItems: \"folder;bobject;cubemodel;\",\r\n\t\t\t\ttargetobj: \"cubemodel\",\r\n\t\t\t\tmultiselect: false,\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: false\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(obj) {\r\n\t\t\t\t\tvar oname = obj.name,\r\n\t\t\t\t\t\tp, c,\r\n\t\t\t\t\t\taddress = [],\r\n\t\t\t\t\t\tcontent = {items: []},\r\n\t\t\t\t\t\treq;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (oname.indexOf(\"/\") > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toname = oname.split(\"/\");\r\n\t\t\t\t\t\toname = oname.join(\"&#x2f;\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tp = {\r\n\t\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\t\tname: oname,\r\n\t\t\t\t\t\ttype: \"Link\",\r\n\t\t\t\t\t\tpid: me.uid,\r\n\t\t\t\t\t\taddress: me.nodepath + \"/\" + oname\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tc = {\r\n\t\t\t\t\t\tmeta_type: \"link\",\r\n\t\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\t\tname: oname\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\taddress.push(p);\r\n\t\t\t\t\tcontent.items.push(c);\r\n\t\t\t\t\t\r\n\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\tpayload: address,\r\n\t\t\t\t\t\t\tmbody: content\r\n\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t\t\t}, null);\r\n\t\t\t\t\treq.send();\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_option\":\r\n\t\t\tvar dlg = new IG$.dlg_boopt({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\t_mc: me._mc\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tshowSecurityFilter: function() {\r\n\t\tvar me = this,\r\n\t\t\t_mc = me._mc,\r\n\t\t\tsecurityfilter,\r\n\t\t\tpop;\r\n\t\t\t\r\n\t\t_mc.securityfilter = _mc.securityfilter || [];\r\n\t\tsecurityfilter = _mc.securityfilter;\r\n\t\t\t\r\n\t\tif (securityfilter && securityfilter.length > 0)\r\n\t\t{\r\n\t\t\tpop = new IG$.securityFilter({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tsecurityfilter: securityfilter\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpop = new IG$.mgrUserDuty({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\t\tvar _userAuth = [],\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\titem, authnames = \"\", authuid = \"\";\r\n\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar x = {\r\n\t\t\t\t\t\t\tsid: sel[i].get(\"sid\"),\r\n\t\t\t\t\t\t\tname: sel[i].get(\"name\")\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t_userAuth.push(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (_userAuth.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem = new IG$.clFilterGroup(null);\r\n\t\t\t\t\t\titem.auth = [];\r\n\t\t\t\t\t\tfor (i=0; i < _userAuth.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.auth.push({\r\n\t\t\t\t\t\t\t\tname: _userAuth[i].name,\r\n\t\t\t\t\t\t\t\tsid: _userAuth[i].sid\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\titem.active = true;\r\n\t\t\t\t\t\tme.showSecurityFilterEditor(item, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t},\r\n\t\r\n\tshowSecurityFilterEditor: function(item, isnewitem) {\r\n\t\tvar me = this,\r\n\t\t\tdlg = new IG$.filterEditorWindow({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tsheetoption: {\r\n\t\t\t\t\tmodel: {\r\n\t\t\t\t\t\tfilter: item,\r\n\t\t\t\t\t\tcube_object: {\r\n\t\t\t\t\t\t\tuid: me.uid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\treportoption: {\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sop) {\r\n\t\t\t\t\tif (isnewitem == true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar fitem = sop.model.filter; \r\n\t\t\t\t\t\tfitem && me._mc.securityfilter.push(fitem);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlg);\r\n\t},\r\n\t\r\n\tbatchUpdateSchema: function() {\r\n\t\tvar me = this;\r\n\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_TB_BATCH\"), function(e) {\r\n\t\t\tif (e == \"yes\")\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.dlg_schemaname({\r\n\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\tcallback: new IG$.callBackObj(me, function(topt) {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\t\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\t\t\t\t\tstore = grdfields.store,\r\n\t\t\t\t\t\t\ti, rec,\r\n\t\t\t\t\t\t\tsel = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trec = store.data.items[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (rec.get(\"type\") == \"Table\" && rec.get(\"attributes\").attrb2 == topt.pvalue)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsel.push({\r\n\t\t\t\t\t\t\t\t\tuid: rec.get(\"uid\")\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (sel.length == 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, \"No schema named with \" + topt.pvalue, null, null, 0, \"error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\t\toption: \"rename_schema\",\r\n\t\t\t\t\t\t\t\t\tpvalue: topt.pvalue,\r\n\t\t\t\t\t\t\t\t\tnvalue: topt.nvalue\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmbody: {children: sel},\r\n\t\t\t\t\t\t\t\tmeta_type: \"metrics\"\r\n\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t\r\n\tshowHighlightOptions: function() {\r\n\t\tvar me = this,\r\n\t\t\tdlg = new IG$.$d_hlconfig({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\t_piobj: me,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(dlg) {\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\t\r\n\t\tIG$.checkLogin(me, dlg);\r\n\t},\r\n\t\r\n\tsaveCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(me,\r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: me._mc.uid},\r\n\t\t\t\tmbody: me._mc,\r\n\t\t\t\tmeta_type: \"business_object\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t});\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tsel_db: function() {\r\n\t\tvar me = this,\r\n\t\t\tdlg;\r\n\t\t\r\n\t\tdlg = new IG$.dlg_select_ds({\r\n\t\t\tinstance: me.instance,\r\n\t\t\tsel_mode: 1,\r\n\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\tvar bsave = 0,\r\n\t\t\t\t\tattributes = me._mc.attributes;\r\n\t\t\t\t\t\r\n\t\t\t\tif (!me._mc.datasource || (me._mc.datasource && me._mc.datasource.uid != sel.data.uid))\r\n\t\t\t\t{\r\n\t\t\t\t\tbsave = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme._mc.datasource = {\r\n\t\t\t\t\tuid: sel.data.uid,\r\n\t\t\t\t\tname: sel.data.name\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (attributes)\r\n\t\t\t\t{\r\n\t\t\t\t\tattributes.attrb1 = me._mc.datasource.uid;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bsave)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.saveCnt();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.getCnt();\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\tif (me._mc.datasource && me._mc.datasource.uid)\r\n\t\t{\r\n\t\t\tIG$.confirmMessages(ig$.appname, me._mc.name + \" \" + IRm$.r1(\"M_CONFIRM_DS_CHANGE\"), function(e) {\r\n\t\t\t\tif (e == \"yes\")\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t}\r\n\t},\r\n\t\r\n\tsaveFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tsnode = me._s1,\r\n\t\t\tscontent = me._s1c,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\trec, rdata,\r\n\t\t\tc, changedprop,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\ti;\r\n\t\t\r\n\t\tscontent.schemaname = me.down(\"[name=schema_name]\").getValue();\r\n\t\tscontent.external_name = me.down(\"[name=external_name]\").getValue();\r\n\t\tscontent.attributes.attrb2 = scontent.schemaname;\r\n\t\tscontent.attributes.attrb3 = scontent.external_name;\r\n\t\tscontent.allow_insert = me.down(\"[name=allow_insert]\").getValue();\r\n\t\tscontent.file_field = me.down(\"[name=file_field]\").getValue();\r\n\t\tscontent.seq_field = me.down(\"[name=seq_field]\").getValue();\r\n\t\t\r\n\t\tscontent.columns = [];\r\n\t\t\r\n\t\tfor (i=0; i < grdfields.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = grdfields.store.data.items[i];\r\n\t\t\trdata = rec.data;\r\n\t\t\t\r\n\t\t\tchangedprop = rdata.changedprop;\r\n\t\t\t\r\n\t\t\tif (rec.data.dimension)\r\n\t\t\t{\r\n\t\t\t\tc = rdata.dimension;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tc = {\r\n\t\t\t\t\tuid: rdata.uid,\r\n\t\t\t\t\tname: rdata.name,\r\n\t\t\t\t\tdescription: rdata.description,\r\n\t\t\t\t\tmeta_type: \"dimension\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tc.fieldname = rdata.physical_name;\r\n\t\t\tc.tablename = scontent.external_name;\r\n\t\t\t\r\n\t\t\tc.changedprop = changedprop;\r\n\t\t\t\r\n\t\t\tc.attributes = {\r\n\t\t\t\tattrb1: scontent.external_name,\r\n\t\t\t\tattrb2: scontent.uid,\r\n\t\t\t\tattrb3: rdata.physical_name,\r\n\t\t\t\tattrb4: rdata.db_datatype\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tscontent.columns.push(c);\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuid: scontent.uid,\r\n\t\t\t\t\toption: \"updatetable\"\r\n\t\t\t\t},\r\n\t\t\t\tmbody: scontent,\r\n\t\t\t\tmeta_type: \"table\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme._refresh_grid();\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trsInlineView: function(dlg) {\r\n\t\tvar me = this,\r\n\t\t\tsheetoption = dlg.sheetoption,\r\n\t\t\t_s1 = me._s1,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tuid = sheetoption.uid;\r\n\t\t\r\n\t\tif (!sheetoption.uid)\r\n\t\t{\r\n\t\t\tsheetoption.type = \"InlineView\";\r\n\t\t\tsheetoption.pid = _s1.get(\"uid\");\r\n\t\t\tsheetoption.nodepath = _s1.get(\"nodepath\") + \"/\" + sheetoption.name;\r\n\t\t\tuid = sheetoption.nodepath;\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me,\r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: uid, type: \"InlineView\", name: sheetoption.name},\r\n\t\t\t\tmbody: sheetoption,\r\n\t\t\t\tmeta_type: \"inlineview\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (!sheetoption.uid)\r\n\t\t\t\t{\r\n\t\t\t\t\tsheetoption.uid = jdoc.uid;\r\n\t\t\t\t\tme._updIV(jdoc);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tme.refreshAll();\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_updIV: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\taddress = {\r\n\t\t\t\tuid: jdoc.uid,\r\n\t\t\t\toption: \"updateview\"\r\n\t\t\t};\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: {option: \"updateview\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.refreshAll();\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_refresh_grid: function() {\r\n\t\tvar me = this,\r\n\t\t\trecord = me._s1;\r\n\t\t\r\n\t\tif (record.get(\"type\") == \"DataSet\")\r\n\t\t{\r\n\t\t\tme._load_dataset(record);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.load_fields(record);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdeleteFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tsel = grdfields.getSelectionModel().selected,\r\n\t\t\ti;\r\n\t\t\r\n\t\tif (sel && sel.length)\r\n\t\t{\r\n\t\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_DELETE\"), function(e) {\r\n\t\t\t\tif (e == \"yes\")\r\n\t\t\t\t{\r\n\t\t\t\t\tvar payloads = [],\r\n\t\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpayloads.push({\r\n\t\t\t\t\t\t\tuid: sel.items[i].get(\"uid\"),\r\n\t\t\t\t\t\t\toption: \"delete\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\tpayload: payloads,\r\n\t\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_DELETED\"), null, me, 0, \"success\");\r\n\t\t\t\t\t\t\tme._refresh_grid();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\treq.send();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.ShowError(IRm$.r1(\"M_SELECT_ITEM\"), me);\r\n\t\t}\r\n\t},\r\n\t\r\n\tcheckTargetFolder: function() {\r\n\t\tvar me = this,\r\n\t\t\t_s1 = me._s1;\r\n\t\t\r\n\t\tif (_s1 && _s1.get(\"type\") != \"Folder\" && _s1.get(\"type\") != \"Bobject\")\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_FOLDER\"), null, null, 0, \"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!_s1)\r\n\t\t{\r\n\t\t\tme._s1 = _s1 = me.down(\"[name=cube_tree]\").getRootNode();\r\n\t\t}\r\n\t\t\r\n\t\treturn _s1;\r\n\t},\r\n\t\r\n\textrDbMeta: function() {\r\n\t\tvar me = this,\r\n\t\t\tdlg, s;\r\n\t\t\r\n\t\ts = me.checkTargetFolder();\r\n\t\t\r\n\t\tif (!s)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (me.dbo && me.dbo.uid)\r\n\t\t{\r\n\t\t\tdlg = new IG$.p$DbMeta({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tuid: me.dbo.uid,\r\n\t\t\t\tdbo: me.dbo,\r\n\t\t\t\ttarget_folder: s, \r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t}\r\n\t},\r\n\r\n\treg_links: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[],\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items;\r\n\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath\", \"s\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (items.length)\r\n\t\t{\r\n\t\t\tvar pop = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmode: \"select\",\r\n\t\t\t\ttargetobj: \"folder\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\trootuid: me.uid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(pitem) {\r\n\t\t\t\t\tvar req,\r\n\t\t\t\t\t\taddress = [],\r\n\t\t\t\t\t\tcontent = {items: []},\r\n\t\t\t\t\t\ti, p, c, obj, oname;\r\n\r\n\t\t\t\t\tif (pitem)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tobj = items[i];\r\n\t\t\t\t\t\t\toname = obj.name;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (oname.indexOf(\"/\") > -1)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toname = oname.split(\"/\");\r\n\t\t\t\t\t\t\t\toname = oname.join(\"&#x2f;\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tp = {\r\n\t\t\t\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\t\t\t\tname: oname,\r\n\t\t\t\t\t\t\t\ttype: \"Link\",\r\n\t\t\t\t\t\t\t\tpid: pitem.uid,\r\n\t\t\t\t\t\t\t\taddress: pitem.nodepath + \"/\" + oname\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tc = {\r\n\t\t\t\t\t\t\t\tmeta_type: \"link\",\r\n\t\t\t\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\t\t\t\tname: oname\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\taddress.push(p);\r\n\t\t\t\t\t\t\tcontent.items.push(c);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\t\tpayload: address,\r\n\t\t\t\t\t\t\t\tmbody: content\r\n\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t\t\t\t}, null);\r\n\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\t\r\n\treg_measures: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[], ds,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items;\r\n\t\t\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath\", \"s\");\r\n\t\t\t\titem.formula = IG$.isNumericType(rec.get(\"datatype\")) ? \"SUM\" : \"COUNT\";\r\n\t\t\t\titem.formula_desc = item.formula == \"SUM\" ? \"Total\" : \"Count\";\r\n\t\t\t\t// item.measurename = item.formula_desc + \" \" + rec.get(\"name\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (items.length > 0)\r\n\t\t{\r\n\t\t\tvar pop = new IG$.multiMeasure({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmetaitems: items,\r\n\t\t\t\tmfolder: me.mfolder,\r\n\t\t\t\tpcube: me,\r\n\t\t\t\tnodepath: me._mc.nodepath,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_reg_measures)\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\r\n\trename_tool: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[], ds,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items;\r\n\t\t\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath;physical_name\", \"s\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (items.length > 0)\r\n\t\t{\r\n\t\t\tvar pop = new IG$.multiRename({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmetaitems: items,\r\n\t\t\t\tmfolder: me.mfolder,\r\n\t\t\t\tpcube: me,\r\n\t\t\t\tnodepath: me._mc.nodepath,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t\tme._refresh_grid();\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\r\n\t_recommend: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[], ds,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items,\r\n\t\t\tpop;\r\n\t\t\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath;physical_name;attributes\", \"s\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (items.length > 0)\r\n\t\t{\r\n\t\t\tpop = new IG$.pvRecom({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmetaitems: items,\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveRegMeasures: function(jdoc, param) {\r\n\t\tvar me = this,\r\n\t\t\treq,\r\n\t\t\tdlg = param[0],\r\n\t\t\titems = param[1],\r\n\t\t\taddress,\r\n\t\t\tcontent,\r\n\t\t\tcname, cdiv,\r\n\t\t\ti,\r\n\t\t\tditems = [],\r\n\t\t\tt,\r\n\t\t\taddress,\r\n\t\t\tcontent;\r\n\t\t\t\r\n\t\tfor (i=0; i < items.length; i++)\r\n\t\t{\r\n\t\t\tt = items[i];\r\n\t\t\tif (t.ctype == \"DateMetric\" && tnodes[i])\r\n\t\t\t{\r\n\t\t\t\tt.cuid = IG$.XGetAttr(tnodes[i], \"uid\");\r\n\t\t\t\tditems.push(t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (ditems.length)\r\n\t\t{\r\n\t\t\taddress = [];\r\n\t\t\tcontent = [];\r\n\t\t\t\r\n\t\t\tfor (i=0; i < ditems.length; i++)\r\n\t\t\t{\r\n\t\t\t\t$.each([\r\n\t\t\t\t\t{name: \"YYYY\", rname: \"YEAR\"}, \r\n\t\t\t\t\t{name: \"QUARTER\"}, \r\n\t\t\t\t\t{name: \"MM\"}, \r\n\t\t\t\t\t{name: \"DD\", rname: \"DAY\"}, \r\n\t\t\t\t\t{name: \"WM\", rname: \"WEEKMONTH\"}, \r\n\t\t\t\t\t{name: \"WEEK\"}], function(j, p) {\r\n\t\t\t\t\t\tcname = IRm$.r1(\"B_\" + p.rname + \"\");\r\n\t\t\t\t\t\tcdiv = p.name;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taddress.push({\r\n\t\t\t\t\t\t\tuid: items[i].cloc + \"/\" + ditems[i].measurename + \"/\" + cname,\r\n\t\t\t\t\t\t\tpid: ditems[i].cuid,\r\n\t\t\t\t\t\t\tname: cname,\r\n\t\t\t\t\t\t\ttype: \"CustomMetric\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcontent.push({\r\n\t\t\t\t\t\t\tmeta_type: \"custom_dimension\",\r\n\t\t\t\t\t\t\tuid: items[i].cloc + \"/\" + ditems[i].measurename + \"/\" + cname,\r\n\t\t\t\t\t\t\tpid: ditems[i].cuid,\r\n\t\t\t\t\t\t\tname: cname,\r\n\t\t\t\t\t\t\ttype: \"CustomMetric\",\r\n\t\t\t\t\t\t\trel_items: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tuid: ditems[i].uid,\r\n\t\t\t\t\t\t\t\t\tname: ditems[i].uid,\r\n\t\t\t\t\t\t\t\t\tnodepath: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: \"Metric\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tdatedivision: cdiv,\r\n\t\t\t\t\t\t\tdateformat: \"DATE\",\r\n\t\t\t\t\t\t\tpredefinetype: \"DATE\",\r\n\t\t\t\t\t\t\tcustom_type: \"CUSTOM_FIELD\",\r\n\t\t\t\t\t\t\tcustomdatetype: \"\",\r\n\t\t\t\t\t\t\texpression: \"$DATE_YYYY([\" + ditems[i].name + \"])$\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\tpayload: address,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, me, function(xdoc) {\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t});\r\n\t\t\treq.send();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t}\r\n\t},\r\n\t\r\n\tbuild_model: function() {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.instance,\r\n\t\t\treq, rec, i,\r\n\t\t\tsel,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tsel = grdfields.getSelectionModel().selected,\r\n\t\t\tmbody = {tables: []},\r\n\t\t\trtype;\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\trec = sel.items[i];\r\n\t\t\trtype = rec.get(\"type\").toLowerCase();\r\n\t\t\tif (rtype == \"table\" || rtype == \"inlineview\")\r\n\t\t\t{\r\n\t\t\t\tmbody.tables.push({\r\n\t\t\t\t\tname: rec.get(\"name\"),\r\n\t\t\t\t\tuid: rec.get(\"uid\")\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmbody.pool = [\r\n\t\t\t{\r\n\t\t\t\tuid: me.uid\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"cubecontent\",\r\n\t\t\t\tpayload: {option: \"build_model\"},\r\n\t\t\t\tmbody: mbody,\r\n\t\t\t\tmeta_type: \"tables\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar mp = instance.mainPanel;\r\n\t\t\t\tmp && mp.navigateApp(null, \"cubemodel\".toLowerCase(), \"new model\", null, false, true, {\r\n\t\t\t\t\tobj_uid: me.uid,\r\n\t\t\t\t\t_c$: jdoc\r\n\t\t\t\t});\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tregisterSelectedTable: function(sel) {\r\n\t\tvar me = this,\r\n\t\t\taddress = {option: \"register\"},\r\n\t\t\toption = {tables: []},\r\n\t\t\ti, name,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tnsel = 0,\r\n\t\t\t_s1 = me._s1,\r\n\t\t\ts;\r\n\t\t\r\n\t\tif (sel.length == 0)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\ts = sel[i];\r\n\t\t\toption.tables.push({\r\n\t\t\t\tdbpool: me.targetdb || me.dbo.uid,\r\n\t\t\t\tpid: _s1.get(\"uid\"),\r\n\t\t\t\tname: s.name,\r\n\t\t\t\tschemaname: s.schemaname,\r\n\t\t\t\tproduct_code: s.product_code,\r\n\t\t\t\texternal_name: s.external_name || s.name,\r\n\t\t\t\tobject_type: s.object_type\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (s.product_code)\r\n\t\t\t{\r\n\t\t\t\taddress.product_code = s.product_code;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: option,\r\n\t\t\t\tmeta_type: \"tables\"\r\n\t\t\t}, me, function(xdoc) {\r\n\t\t\t\tme.refreshAll();\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trefreshAll: function() {\r\n\t\tvar me = this,\r\n\t\t\tcube_tree = me.down(\"[name=cube_tree]\");\r\n\t\t\r\n\t\tcube_tree.refreshTree();\r\n\t},\r\n\t\r\n\tvalidateQuery: function(opt, query, callback) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tcontent;\r\n\t\t\t\r\n\t\tcontent = {\r\n\t\t\tdbpool: opt.dbpool,\r\n\t\t\tsql: IG$._encodeVal(query)\r\n\t\t};\r\n\t\t\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"olapservice\",\r\n\t\t\t\tpayload: {uid: opt.uid, option: \"sqlcubemeta\"},\r\n\t\t\t\tmbody: content,\r\n\t\t\t\tmeta_type: \"inlineview\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (jdoc && jdoc.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar jrs = jdoc[0];\r\n\t\t\t\t\tif (callback)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontent.columns = jrs.columns;\r\n\t\t\t\t\t\tcallback.execute(content);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_VALIDATED\") + \"(\" + (jrs.columns ? jrs.columns.length : \"0\") + \" columns)\", null, null, 0, \"success\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\r\n\t_recommend: function() {\r\n\t\tvar me = this,\r\n\t\t\titems = [],\r\n\t\t\tfile_field = me.down(\"[name=grdfields]\"),\r\n\t\t\tm1fstore = file_field.store,\r\n\t\t\trec, i,\r\n\t\t\tpop;\r\n\r\n\t\tfor (i=0; i < m1fstore.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = m1fstore.data.items[i];\r\n\t\t\tif (!rec.data.uid)\r\n\t\t\t\tcontinue;\r\n\t\t\titems.push(rec.data);\r\n\t\t}\r\n\t\t\t\r\n\t\tpop = new IG$.pvRecom({\r\n\t\t\tinstance: me.instance,\r\n\t\t\tmetaitems: items,\r\n\t\t\tuid: me.uid,\r\n\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t});\r\n\t\tIG$.checkLogin(me, pop);\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// ig$.$l_ = ig$.$l_ || 0;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\tborder: 1,\r\n\t\t\t\t\tlayout: \"border\",\r\n\t\t\t\t\tsplit: true,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\tnew IG$.naviTree({\r\n\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\tshowtoolbar: false,\r\n\t\t\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tname: \"cube_tree\",\r\n\t\t\t\t\t\t\trootuid: me.uid,\r\n\t\t\t\t\t\t\tregion: \"west\",\r\n\t\t\t\t\t\t\twidth: 300,\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tsplit: true,\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FOLDER_AND_TABLES\"), // \"Folder and Tables\",\r\n\t\t\t\t\t\t\tvisibleItems: \"folder;table;inlineview;cubemodel;dataset;datemetric;report;\",\r\n\t\t\t\t\t\t\tenabledrag: true,\r\n\t\t\t\t\t\t\t_search: true,\r\n\t\t\t\t\t\t\tcustom_click_func: new IG$.callBackObj(me, me.custom_click_func),\r\n\t\t\t\t\t\t\tcustom_expand_func: new IG$.callBackObj(me, me.custom_expand_func),\r\n\t\t\t\t\t\t\tisdatasource: true,\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\ttoolbar: function(cmd, record, e) {\r\n\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\tme._s1 = record;\r\n\t\t\t\t\t\t\t\t\tme.tbarHndlr(cmd);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tregion: \"center\",\r\n\t\t\t\t\t\t\tname: \"mviewer\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\tlayout: \"card\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\thtml: '<div style=\"padding: 10px\">' + IRm$.r1(\"M_SELECT_ITEM\") + '</div>'\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tb_info\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TABLE_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"schema_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 220\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"external_name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EDIT_SQL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"edit_sql\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!me._s1c)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.tbarHndlr(\"cmd_inlineview\", me._s1c); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_ALLOW_INSERT\"), // Allow Insert\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"allow_insert\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: !me.__stagingdb, // ig$.$l_ > 5 || \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt2 = me.down(\"[name=t2]\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt2.setVisible(tobj.getValue());\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"file_field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILE_FIELD\"), // File Field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"seq_field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_UNIQUE_FIELD\"), // Unique Field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"p_edit_sql\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_edit_sql\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tbbar: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_PREVIEW\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topt = me._s1c,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql = me.down(\"[name=t_edit_sql]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery = t_edit_sql.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tiview = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!query)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.clearInvalid();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.validateQuery(opt, query, new IG$.callBackObj(me, function(iview) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.tbarHndlr(\"cmd_preview\", iview);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_VALIDATE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topt = me._s1c,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql = me.down(\"[name=t_edit_sql]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery = t_edit_sql.getValue();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!query)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.clearInvalid();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.validateQuery(opt, query);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topt = me._s1c,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql = me.down(\"[name=t_edit_sql]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!t_edit_sql.getValue())\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.clearInvalid();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topt.sql = IG$._encodeVal(t_edit_sql.getValue());\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.rsInlineView({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsheetoption: opt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topt = me._s1c,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql = me.down(\"[name=t_edit_sql]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_edit_sql.setValue(IG$._decodeVal(opt.sql));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FIELDS\"), // \"Fields\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"grdfields\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 3,\r\n\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"datatype\", \"datasize\", \"dataprecision\", \"tablename\", \"type\", \"iskey\", \"iconcls\", \"physical_name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrop: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrag: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\thideable: false\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"iconcls\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmenuDisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderer: function(value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn \"<div class='igc_g_icon \" + value + \"'></div>\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"locale_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_PHY_NAME\"),  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"physical_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_DATATYPE\"),  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"datatype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 80 //,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"VARCHAR\", value: \"VARCHAR\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DATE\", value: \"DATE\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NUMERIC\", value: \"NUMERIC\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LOB\", value: \"LOB\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"OTHER\", value: \"OTHER\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_REMOVE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.deleteMetaObject(rec.get(\"uid\"), rec, new IG$.callBackObj(me, function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbeforeedit: function(editor, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled = me.__dbtype == 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIdx = e.colIdx;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (colIdx == 0 && !enabled)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\tedit: function(editor, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd = e.grid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = e.grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = e.record,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIdx = e.colIdx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIdx = e.rowIdx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tovalue = e.originalValue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnvalue = e.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbf = 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tr,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (colIdx == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (i != rowIdx)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue = r.get(\"name\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cvalue.indexOf(ovalue) > -1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbf = 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (bf)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.confirmMessages(IRm$.r1(\"B_CONFIRM\"), IRm$.r1(\"L_TB_BN\"), function(dlg) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (dlg == \"yes\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (i != rowIdx)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue = r.get(\"name\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tn = cvalue.indexOf(ovalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (n > -1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue = cvalue.substring(0, n) + nvalue + cvalue.substring(n + ovalue.length);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr.set(\"name\", cvalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t\tcellclick: function(tobj, td, cellIndex, node, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tltype = node.get(\"type\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (ltype != \"Field\" && cellIndex == 2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.edit_dimension(node);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdockedItems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdock: \"top\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-save\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_SAVE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_1\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_save_field\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-refresh\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_1a\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_refresh_field\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-remove\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_DELETE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_delete_field\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"_filter\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(tobj, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.keyCode == 13 && IG$._dofilter(this, \"grdfields\", [\"name\", \"physical_name\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$._dofilter(this, \"grdfields\", [\"name\", \"physical_name\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn_pv\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-tb-preview\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DATA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Preview\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_preview\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_OPTIONS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_RELATIONS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_rel_field\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-measure\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REG_MEASURES\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_regmeasures\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-link\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REG_LINK\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_3\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_reglinks\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RENAME_TOOL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_5\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_rename_tool\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_6\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RECOMMEND\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._recommend();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn3\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_OPTIONS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_BATCH_UPD_SCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_change_schema\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EDIT_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_4\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (me._s1 && me._s1.get(\"type\") == \"DataSet\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._load_dataset(me._s1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_recommend\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RECOMMEND\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._recommend();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_CREATE_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_FOLDER\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_f_f\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"Folder\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_CUSTOMMETRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_cm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"CustomMetric\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_MEASURE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_ms\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"Measure\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_fm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"FormulaMeasure\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_DATEMETRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_dm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"DateMetric\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_CHARTMEASURE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_cms\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"ChartMeasure\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_HIERARCHY\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_hm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"Hierarchy\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_UDG\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_udg\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"UDG\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-save',\r\n\t\t\t\t\t\t\tname: \"t_save\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1('L_SAVE'),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr('cmd_save');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'-',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_IMP_TB\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"import_object\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_C_INLINEV\"),\r\n\t\t\t\t\t\t\tname: \"b_m2\",\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_inlineview\"); \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DATASET\"),\r\n\t\t\t\t\t\t\thidden: (ig$.features && ig$.features[\"ig_n_dataset\"]), // ig$.$l_ > 5 || \r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_dataset\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: \"icon-toolbar-hl\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_TB_HL\"),\r\n\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_hl_option\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: \"icon-toolbar-filter\",\r\n\t\t\t\t\t\t\ttooltip: \"Security Filter\",\r\n\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_sec_filter\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_OPTION\"),\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OPTION\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_option\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_BUILD_MODEL\"),\r\n\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_build_model\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ticonCls: \"icon-toolbar-addsheet\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_ADD_BOBJ\"),\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DT_MASHING\"),\r\n\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_add_bobj\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EXTRACT_META\"),\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tname: \"btn_extr\",\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_extract_dbmeta\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: \"icon-report\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"M_REPORT\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_report\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EXPORT_META\"),\r\n\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_export_meta\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'-',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SEL_DB\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.sel_db();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbbar: [\r\n\t\t   \t\t\t\t{\r\n\t\t   \t\t\t\t\txtype: \"toolbar\",\r\n\t\t   \t\t\t\t\titems: [\r\n\t\t   \t\t\t\t\t\t{\r\n\t\t   \t\t\t\t\t\t\txtype: \"button\",\r\n\t\t   \t\t\t\t\t\t\ttext: \"\",\r\n\t\t   \t\t\t\t\t\t\tname: \"tbdsname\",\r\n\t\t   \t\t\t\t\t\t\ttooltipType: \"title\",\r\n\t\t   \t\t\t\t\t\t\ttooltip: \"Data Connections\"\r\n\t\t   \t\t\t\t\t\t}\r\n\t\t   \t\t\t\t\t]\r\n\t\t   \t\t\t\t}\r\n\t\t   \t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\ttobj._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.tableManager.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\nIG$.dlg_compare_field = $s.extend($s.window, {\r\n\r\n\twidth: 500,\r\n\theight: 520,\r\n\tlayout: \"fit\",\r\n\tpadding: ig$.padding,\r\n\t\r\n\trefreshFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tsnode = me._s1,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\taddress = {\r\n\t\t\t\tuid: snode.get(\"uid\"),\r\n\t\t\t\toption: \"compare_fields\"\r\n\t\t\t},\r\n\t\t\toption = {\r\n\t\t\t\tschema: me.schema,\r\n\t\t\t\ttable: me.table\r\n\t\t\t};\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: option\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tcolumns,\r\n\t\t\t\t\tr, k,\r\n\t\t\t\t\tmsg;\r\n\t\t\t\t\r\n\t\t\t\tcolumns = jdoc ? jdoc.columns || [] : [];\r\n\t\t\t\tfor (i=0; i < columns.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tr = columns[i];\r\n\t\t\t\t\tif (r.changedprop)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tr.status = r.changedprop.status;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!r.status)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmsg = [];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (k in r.changedprop)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (k != \"status\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmsg.push(k);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (msg.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tr.status = \"CHANGED\";\r\n\t\t\t\t\t\t\t\tr.propdesc = msg.join(\",\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.down(\"[name=dgrid]\").store.loadData(columns);\r\n\t\t\t\t\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\tstore = dgrid.store,\r\n\t\t\tsel = dgrid.selModel.selected,\r\n\t\t\tdp = [],\r\n\t\t\trec,\r\n\t\t\thas_remove,\r\n\t\t\ti;\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\trec = sel.items[i];\r\n\t\t\t\r\n\t\t\tif (rec.data.status == \"CHANGED\" || rec.data.status == \"NEW\" || rec.data.status == \"REMOVED\")\r\n\t\t\t{\r\n\t\t\t\tif (rec.data.status == \"REMOVED\")\r\n\t\t\t\t{\r\n\t\t\t\t\thas_remove = 1;\r\n\t\t\t\t}\r\n\t\t\t\tdp.push(rec.data);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (dp.length == 0)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, \"No item selected\", null, null, 0, \"warning\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (has_remove)\r\n\t\t{\r\n\t\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_DELETE\"), function(dlg) {\r\n\t\t\t\tif (dlg != \"yes\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t\tme.callback && me.callback.execute(dp);\r\n\t\t\t\tme.close();\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(dp);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"L_COL_SYNC\"), // \"Column synchronization\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"dgrid\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_UNDO\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\tsel = dgrid.getSelectionModel().selected;\r\n\t\t\t\t\t\t\t\t\t\t\ti, rec;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif (rec.get(\"status\"))\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"status\", \"IGNORE\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\tname: \"alias_desc\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS_TO_DESC\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\tsel = dgrid.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\ti, rec,\r\n\t\t\t\t\t\t\t\t\t\t\tavalue,\r\n\t\t\t\t\t\t\t\t\t\t\tchangedprop;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\tavalue = rec.get(\"column_comments\");\r\n\t\t\t\t\t\t\t\t\t\t\tif (avalue)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop = rec.data.changedprop;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!changedprop)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trec.data.changedprop = changedprop = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.name = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.description = avalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"description\", avalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"status\", \"CHANGED\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS_TO_NAME\"),\r\n\t\t\t\t\t\t\t\t\tname: \"alias_name\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\tsel = dgrid.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\ti, rec,\r\n\t\t\t\t\t\t\t\t\t\t\tavalue,\r\n\t\t\t\t\t\t\t\t\t\t\tchangedprop;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\tavalue = rec.get(\"column_comments\");\r\n\t\t\t\t\t\t\t\t\t\t\tif (avalue)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop = rec.data.changedprop;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!changedprop)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trec.data.changedprop = changedprop = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.name = avalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.description = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"name\", avalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"status\", \"CHANGED\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_STATUS\"),\r\n\t\t\t\t\t\t\t\t\twidth: 100,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"status\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"propdesc\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"column_comments\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\ttobj.refreshFields();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_compare_field.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\nIG$.dlg_schemaname = $s.extend($s.window, {\r\n\r\n\twidth: 300,\r\n\tautoHeight: true,\r\n\tlayout: \"fit\",\r\n\tpadding: ig$.padding,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\ttopt = {\r\n\t\t\t\tpvalue: me.down(\"[name=toldvalue]\").getValue(),\r\n\t\t\t\tnvalue: me.down(\"[name=tnewvalue]\").getValue()\r\n\t\t\t};\r\n\t\t\r\n\t\tme.callback && me.callback.execute(topt);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"L_CHANGE_SCH_NAME\"), // \"Change schemaname\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SCH_NAME_CHANGE\"), // \"Schema name change\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"toldvalue\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OLD_NAME\") // Old name\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"tnewvalue\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_NEW_NAME\") // New name\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_schemaname.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\nIG$.dlg_boopt = $s.extend($s.window, {\r\n\r\n\twidth: 300,\r\n\tautoHeight: true,\r\n\tlayout: \"fit\",\r\n\tpadding: ig$.padding,\r\n\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (me._mc)\r\n\t\t{\r\n\t\t\tme.down(\"[name=nlp_bo_suggest]\").setValue(me._mc.nlp_bo_suggest);\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (me._mc)\r\n\t\t{\r\n\t\t\tme._mc.nlp_bo_suggest = me.down(\"[name=nlp_bo_suggest]\").getValue();\r\n\t\t}\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"B_OPTION\"), // \"Change schemaname\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"), // \"Schema name change\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\tname: \"nlp_bo_suggest\",\r\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLED\"),\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_NLP_BO\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(obj) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_boopt.superclass.initComponent.call(this);\r\n\t}\r\n});","if (!IG$.dlg_select_ds)\r\n{\r\nIG$.dlg_select_ds = $s.extend($s.window, {\r\n\r\n\twidth: 500,\r\n\theight: 520,\r\n\tlayout: \"fit\",\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tdatasource = me.datasource,\r\n\t\t\tsel;\r\n\t\t\t\r\n\t\tif (datasource)\r\n\t\t{\r\n\t\t\tme.down(\"[name=opt_dbtype]\").setValue(\"db\");\r\n\t\t}\r\n\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"userdb\",\r\n\t\t\t\tpayload: {\"address\": \"/Connections\", option: \"list\"},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tdbs = jdoc.children,\r\n\t\t\t\t\tdsource = me.down(\"[name=dsource]\"),\r\n\t\t\t\t\tdbtype = me.dbtype,\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\trec,\r\n\t\t\t\t\ti;\r\n\t\t\t\t\t\r\n\t\t\t\tif (dbs && dbs.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < dbs.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trec = dbs[i];\r\n\t\t\t\t\t\tif (me.sel_mode == 1 || rec.attributes && rec.attributes.attrb1 == \"T\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (datasource && datasource.uid == rec.uid)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsel = rec;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (dbtype && rec.attributes && rec.attributes.attrb2 != dbtype)\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t\tdp.push(rec);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdsource.store.loadData(dp);\r\n\t\t\t\t\r\n\t\t\t\tif (sel)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar rec = dsource.store._pull[sel.id];\r\n\t\t\t\t\trec && dsource.getSelectionModel().select(rec, true);\r\n\t\t\t\t}\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_confirm: function(rec) {\r\n\t\tvar me = this,\r\n\t\t\tdsource = me.down(\"[name=dsource]\"),\r\n\t\t\topt_dbtype = me.down(\"[name=opt_dbtype]\"),\r\n\t\t\tdbtype_val = opt_dbtype.getValue(),\r\n\t\t\tdbtype = dbtype_val[\"cb_dbtype\"],\r\n\t\t\tsel = !rec ? dsource.getSelectionModel().selected : null;\r\n\t\t\r\n\t\tif (dbtype == \"db\" || me.sel_mode == 1)\r\n\t\t{\r\n\t\t\tif (rec)\r\n\t\t\t{\r\n\t\t\t\tme.callback && me.callback.execute(rec);\r\n\t\t\t\tme.close();\r\n\t\t\t}\r\n\t\t\telse if (sel && sel.length)\r\n\t\t\t{\r\n\t\t\t\tme.callback && me.callback.execute(sel.items[0]);\r\n\t\t\t\tme.close();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tIG$.ShowError(IRm$.r1(\"E_SEL_DC\"), me); // \"Select data connector to continue!\", me);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute();\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"T_SEL_DB\"),\r\n\t\t\tpadding: ig$.padding,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tbodyPadding: ig$.padding,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STORAGE_OPTIONS\"), // \"Storage Options\",\r\n\t\t\t\t\t\t\thidden: me.sel_mode == 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\tname: \"opt_dbtype\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA_STORAGE\"),\r\n\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_USE_TEMP\"), // \"Use Temporary\", \r\n\t\t\t\t\t\t\t\t\t\t\tname: \"cb_dbtype\", \r\n\t\t\t\t\t\t\t\t\t\t\tinputValue: \"h2\", \r\n\t\t\t\t\t\t\t\t\t\t\tchecked: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_USE_STG\"), // \"Staging Database\", \r\n\t\t\t\t\t\t\t\t\t\t\tname: \"cb_dbtype\", \r\n\t\t\t\t\t\t\t\t\t\t\tinputValue: \"db\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tchange: function(tobj, nvalue, ovalue) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmview = me.down(\"[name=mview]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tmview.setDisabled(nvalue && nvalue.cb_dbtype && nvalue.cb_dbtype == \"db\" ? false : true);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\tname: \"mview\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STAGING_DB\"), // \"Staging Databases\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdisabled: me.sel_mode == 1 ? false : true,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"dsource\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tmode: \"SINGLE\",\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"description\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tcellclick: function(view, node, c, rec, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\topt_dbtype = me.down(\"[name=opt_dbtype]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tdbtype_val = opt_dbtype.getValue();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (me.sel_mode == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (c == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dbtype_val && dbtype_val[\"cb_dbtype\"] == \"db\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme._confirm(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.ShowError(IRm$.r1(\"E_CHECK_DTYPE\"), me); // \"Check datatype to staging database!\", me);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\ttobj._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_select_ds.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n}","IG$.relationMgr = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tclosable: false,\r\n\tresizable:true,\r\n\tlayout: \"fit\",\r\n\twidth: 600,\r\n\tautoHeight: true,\r\n\t\r\n\tlayout: {\r\n\t\ttype: 'fit'\r\n\t},\r\n\t\r\n\tbodyPadding: 0,\r\n\t\r\n\tloadRelation: function(uid, type, grd) {\r\n\t\tvar me = this,\r\n\t\t\tlreq = new IG$._rpc$(),\r\n\t\t\tisdown = true,\r\n\t\t\titype = type ? type.toLowerCase() : \"\";\r\n\t\t\t\r\n\t\tif (itype == \"report\")\r\n\t\t{\r\n\t\t\tisdown = false;\r\n\t\t}\r\n\t\t\r\n\t\tlreq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\tpayload: {uid: uid},\r\n\t\t\t\tmbody: {option: \"relations\", isdown: (isdown ? \"T\" : \"F\"), detail: \"info\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tgrd_rel = me.down(\"[name=\" + (grd || \"grd_rel\") + \"]\"),\r\n\t\t\t\t\ttnodes = jdoc && jdoc.children ? jdoc.children : [],\r\n\t\t\t\t\ti, d, dm,\r\n\t\t\t\t\ttxtrel = me.down(\"[name=txtrel]\"),\r\n\t\t\t\t\tdp = [];\r\n\t\t\t\t\r\n\t\t\t\tif (jdoc)\r\n\t\t\t\t{\r\n\t\t\t\t\ttxtrel.setValue(\"Relations : \" + jdoc.name + \"(\" + jdoc.nodepath + \")\");\r\n\t\t\t\t}\r\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\td = tnodes[i];\r\n\t\t\t\t\td.iconcls = IG$.get_metatype_icon(d.type.toLowerCase(), d);\r\n\t\t\t\t\tdp.push(d);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgrd_rel.store.loadData(dp);\r\n\t\t\t}, false);\r\n\t\t\t\r\n\t\tlreq.send();\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"T_Resources\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tbodyPadding: ig$.padding,\r\n\t\t\t\t\tminHeight: 500,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tname: \"txtrel\",\r\n\t\t\t\t\t\t\tvalue: \"Relations\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"grd_rel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"nodepath\", \"uid\", \"type\", \"iconcls\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tmenuDisabled: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tminWidth: 160,\r\n\t\t\t\t\t\t\t\t\ttdCls: \"ig-navi-namecol\",\r\n\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\tvar r = [\r\n\t\t\t\t\t\t\t\t\t\t\t\"<div class='ig-navi-itemicon \" + (record.get(\"iconcls\") || \"\") + \"'></div>\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"<span title='\" + record.get(\"name\") + \"(\" + record.get(\"type\") + \")'>\" + record.get(\"name\") + \"</span>\"\r\n\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn r.join(\"\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// tpl: \"<div class='ig-navi-itemicon {iconcls}'></div><span title='{name} ({type})'>{name}</span>\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tminWidth: 200,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"nodepath\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tcellclick: function(tobj, td, cellIndex, record, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\tpng_rel_sub = me.down(\"[name=png_rel_sub]\"),\r\n\t\t\t\t\t\t\t\t\t\tuid = record.get(\"uid\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (cellIndex == 0)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpng_rel_sub.show();\r\n\t\t\t\t\t\t\t\t\t\tme.loadRelation(uid, record.get(\"type\"), \"grd_rel_sub\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tname: \"png_rel_sub\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\tvalue: \"Sub relations\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tname: \"grd_rel_sub\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"nodepath\", \"uid\", \"type\", \"iconcls\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tmenuDisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tminWidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\ttdCls: \"ig-navi-namecol\",\r\n\t\t\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar r = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"<div class='ig-navi-itemicon \" + (record.get(\"iconcls\") || \"\") + \"'></div>\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"<span title='\" + record.get(\"name\") + \"(\" + record.get(\"type\") + \")'>\" + record.get(\"name\") + \"</span>\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn r.join(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// tpl: \"<div class='ig-navi-itemicon {iconcls}'></div><span title='{name} ({type})'>{name}</span>\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tminWidth: 200,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"nodepath\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.relationMgr.superclass.initComponent.call(this);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(tobj) {\r\n\t\t\tvar me = this;\r\n\t\t\ttobj.loadRelation(me.uid, me.type);\r\n\t\t}\r\n\t}\r\n});","\r\nIG$.measureEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: false,\r\n\tisWindow: true,\r\n\tregion:\"center\",\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\treportoption: null,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\tdmode = me.dmode,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\texptype = me.down(\"[name=expressiontype]\");\r\n\t\t\t\r\n\t\texptype.setValue(\"([field])\");\r\n\t\t\r\n\t\tif (dmode)\r\n\t\t{\r\n\t\t\tme.dmode_cnt.meta_type = \"measure\";\r\n\t\t\tme.rs_procLoadContent({\r\n\t\t\t\tcontent: me.dmode_cnt\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (me.uid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t\telse if (me.parentuid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"cube_style_info\"}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tme.rs_procLoadContent({\r\n\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\t\tcubeinfo: jdoc,\r\n\t\t\t\t\t\t\t\tmeta_type: \"measure\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\texpressionChange: function(field, newvalue, oldvalue) {\r\n\t\tif (newvalue)\r\n\t\t{\r\n\t\t\tthis.down(\"[name=expression]\").setValue(newvalue);\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tthis.clItem = jdoc.content;\r\n\t\t}\r\n\t\t\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcpath,\r\n\t\t\tmpath, j,\r\n\t\t\tcitem = me.clItem,\r\n\t\t\tcubeinfo,\r\n\t\t\tstyles = [],\r\n\t\t\toptstyle = me.down(\"[name=optstyle]\");\r\n\t\t\r\n\t\tcitem.rel_items = citem.rel_items || [];\r\n\t\t\r\n\t\tme.down(\"[name=b_confirm]\").setVisible(citem.writable || me.dmode);\r\n\t\tme.down(\"[name=itemname]\").setValue(citem.name);\r\n\t\tme.down(\"[name=description]\").setValue(citem.description);\r\n\t\t\r\n\t\tcpath = citem.nodepath ? citem.nodepath.split(\"/\") : null;\r\n\t\t\r\n\t\tif (cpath)\r\n\t\t{\r\n\t\t\tfor (i=0; i < citem.rel_items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpath = citem.rel_items[i].nodepath;\r\n\t\t\t\tmpath = (mpath ? mpath.split(\"/\") : null);\r\n\t\t\t\t\r\n\t\t\t\tif (mpath)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=mpath.length-1; j>=0; j--)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (mpath[j] == cpath[j])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmpath.splice(j, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcitem.rel_items[i].cpath = mpath.join(\"/\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstyles.push({disp: \"--- select ---\", name: \"\"});\r\n\t\t\r\n\t\tif (!citem.cubeinfo)\r\n\t\t{\r\n\t\t\tcubeinfo = citem.cubeinfo = {\r\n\t\t\t\tapp_style: {\r\n\t\t\t\t\tdefault_styles: [],\r\n\t\t\t\t\tcustom_styles: []\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tcubeinfo = citem.cubeinfo;\r\n\t\tdelete citem[\"cubeinfo\"];\r\n\t\t\r\n\t\tme.styles = styles;\r\n\t\t\r\n\t\t$.each([\r\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \r\n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\r\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\r\n\t\t], function(n, obj) {\r\n\t\t\tvar i,\r\n\t\t\t\tt,\r\n\t\t\t\tarr = obj.arr;\r\n\t\t\t\r\n\t\t\tif (arr)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < arr.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tt = arr[i];\r\n\t\t\t\t\tstyles.push({\r\n\t\t\t\t\t\tdisp: t.name,\r\n\t\t\t\t\t\tname: t.name,\r\n\t\t\t\t\t\ttype: obj.n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\toptstyle.store.loadData(styles);\r\n\t\toptstyle.setValue(citem.stylename || \"\");\r\n\t\tme.down(\"[name=optdisplay]\").setValue(citem.optdisplay);\r\n\t\t\t\t\r\n\t\tme.datagrid.store.loadData(citem.rel_items);\r\n\t\tme.down(\"[name=expression]\").setValue(citem.expression);\r\n\t\t// if (ig$.$l_ < 5)\r\n\t\tme.down(\"[name=mfilter]\").setValue(citem.measure_filter);\r\n\t\t\r\n\t\tvar exptype = me.down(\"[name=expressiontype]\");\r\n\t\tme.clItem.expressiontype = (citem.expressiontype == \"COUNT\") ? \"COUNT_DISTINCT\" : citem.expressiontype;\r\n\t\texptype.setValue(citem.expressiontype);\r\n\t\texptype.on(\"change\", me.expressionChange, me); \r\n\t\t\r\n\t\t// me.down(\"[name=calcmode]\").setValue(citem.calcmode);\r\n\t\t// IG$.r___.registerTooltip(me.down(\"[name=calcmode]\"), \"calcmode\");\r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.getParentCube();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetParentCube: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getParentcube(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getParentcube: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tme.cubeuid = tnode.uid;\r\n\t\t\tme.cubepath = tnode.nodepath;\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tt,\r\n\t\t\tfield, d, ctrl, \r\n\t\t\ti, datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\tcitem = me.clItem;\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tcitem.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tcitem.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tt = me.down(\"[name=expression]\").getValue();\r\n\t\tcitem.expression = t;\r\n\t\tctrl = me.down(\"[name=expressiontype]\");\r\n\t\tt = ctrl.getValue();\r\n\t\tfor (i=0; i < ctrl.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tif (ctrl.store.data.items[i].data.value == t)\r\n\t\t\t{\r\n\t\t\t\tcitem.expressiontype = ctrl.store.data.items[i].data.name;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// if (ig$.$l_ < 5)\r\n\t\tcitem.measure_filter = me.down(\"[name=mfilter]\").getValue();\r\n\t\tcitem.rel_items = [];\r\n\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\td = datagrid.store.data.items[i].data;\r\n\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\r\n\t\t\tcitem.rel_items.push(field);\r\n\t\t}\r\n\t\t\r\n\t\t// citem.calcmode = me.down(\"[name=calcmode]\").getValue();\r\n\t\t\r\n\t\tcitem.stylename = me.down(\"[name=optstyle]\").getValue();\r\n\t\tcitem.optdisplay = me.down(\"[name=optdisplay]\").getValue();\r\n\t\t\r\n\t\tif (me.dmode)\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(citem);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: citem.name, description: citem.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + citem.name : null)},\r\n\t\t\t\t\tmbody: citem,\r\n\t\t\t\t\tmeta_type: \"measure\"\r\n\t\t\t\t}, me, me.rs_saveContent, null, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.clItem);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\teditorItemName: function(itemname) {\r\n\t\tvar expression = this.down(\"[name=expression]\");\r\n\t\tIG$._inpEdt$(expression, itemname);\r\n\t},\r\n\t\r\n\tselectItem: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tvisibleItems: \"userdb;dataset;table;inlineview;folder;metric;custommetric;measure\",\r\n\t\t\t\tmultiselect: true,\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\trootuid: me.cubeuid\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tdlgitemsel.callback = new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname);\r\n\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(item, fieldname) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (fieldname == \"grid\")\r\n\t\t{\r\n\t\t\tvar datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\t\titems = [];\r\n\t\t\t\r\n\t\t\tif (item.length)\r\n\t\t\t{\r\n\t\t\t\titems = item;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\titems = [item];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$.each(items, function(n, item) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tbexist = false;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = datagrid.store.data.items[i];\r\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bexist == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (me.cubepath)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath.replace(me.cubepath, \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdatagrid.store.add(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"T_MEASURE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: ig$.padding,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tpadding: ig$.padding\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\theight: 50\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"expressiontype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"left\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"label\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"value\", \"label\", \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Custom\", name: \"CUSTOM\", value:\"([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Distinct count\", name: \"COUNT_DISTINCT\", value:\"COUNT(DISTINCT [field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"All count\", name: \"COUNT_ALL\", value:\"COUNT([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Sum\", name: \"SUM\", value:\"SUM([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Average\", name: \"AVERAGE\", value:\"AVG([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Max\", name: \"MAX\", value:\"MAX([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Min\", name: \"MIN\", value:\"MIN([field])\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"calcmode\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_CALC_IN_RESULT\"), // \"Calculate In Result\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true, // ig$.$l_ > 5\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"expression\",\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// ig$.$l_ < 5 ? \r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"mfilter\",\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_M_FILTER\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100\r\n\t\t\t\t\t\t\t\t\t\t}, /* : {\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\theight: 10\r\n\t\t\t\t\t\t\t\t\t\t},*/\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"datagrid\",\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"delete\", \"uid\", \"nodepath\", \"memo\", \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\t\t\theight: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrop: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrag: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar r = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(this == data.view) ? data.copy = false : data.copy = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? this.panel.store.indexOf(dropRec) : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (rc && rc.data.type == \"Metric\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < this.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.store.data.items[i].data.uid == rc.data.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.add(rc.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, event, Option) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editorItemName(record.data.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_ME_DISP1\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"grid\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\r\n\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"optstyle\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"disp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"optdisplay\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DISP_TITLE\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\tname: \"b_confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar panel = this;\r\n\t\t\t\t\tpanel.datagrid = panel.down(\"[name=datagrid]\");\r\n\t\t\t\t\tpanel.init_f();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.measureEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","\r\nIG$.HierarchyEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: false,\r\n\tisWindow: true,\r\n\tregion:\"center\",\r\n\tlayout: {\r\n\t\ttype: \"fit\",\r\n\t\talign: \"stretch\"\r\n\t},\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\treportoption: null,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\tdmode = me.dmode,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tdisptype = me.down(\"[name=disptype]\");\r\n\t\t\t\r\n\t\tdisptype.setValue(\"single\");\r\n\t\t\r\n\t\tif (dmode)\r\n\t\t{\r\n\t\t\tme.rs_procLoadContent();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (me.uid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t\telse if (me.parentuid)\r\n\t\t\t{\r\n\t\t\t\tme.rs_procLoadContent({\r\n\t\t\t\t\tcontent: {}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcpath,\r\n\t\t\tmpath, j,\r\n\t\t\tdp = [],\r\n\t\t\tdisptype;\r\n\t\t\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tcitem = me.clItem = jdoc.content;\r\n\t\t}\r\n\t\t\t\r\n\t\tcpath = citem.nodepath ? citem.nodepath.split(\"/\") : null;\r\n\t\t\r\n\t\tcitem.rel_items = citem.rel_items || [];\r\n\t\tme.down(\"[name=itemname]\").setValue(citem.name);\r\n\t\tme.down(\"[name=description]\").setValue(citem.description);\r\n\t\t\r\n\t\tif (cpath)\r\n\t\t{\r\n\t\t\tfor (i=0; i < citem.rel_items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpath = citem.rel_items[i].nodepath;\r\n\t\t\t\tmpath = (mpath ? mpath.split(\"/\") : null);\r\n\t\t\t\t\r\n\t\t\t\tif (mpath)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=mpath.length-1; j>=0; j--)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (mpath[j] == cpath[j])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmpath.splice(j, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcitem.rel_items[i].cpath = mpath.join(\"/\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.datagrid.store.loadData(citem.rel_items);\r\n\t\t\r\n\t\tdisptype = me.down(\"[name=disptype]\");\r\n\t\tdisptype.setValue(citem.display_type || \"single\"); \r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.getParentCube();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetParentCube: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getParentcube(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getParentcube: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tme.cubeuid = tnode.uid;\r\n\t\t\tme.cubepath = tnode.nodepath;\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tt,\r\n\t\t\tmeta, field, d, ctrl,\r\n\t\t\tcitem = me.clItem,\r\n\t\t\ti, datagrid = me.down(\"[name=datagrid]\");\r\n\t\t\r\n\t\tctrl = me.down(\"[name=disptype]\");\r\n\t\tcitem.display_type = ctrl.getValue();\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tcitem.meta_type = \"hierarchy_dimension\";\r\n\t\tcitem.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tcitem.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tcitem.rel_items = [];\r\n\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\td = datagrid.store.data.items[i].data;\r\n\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\r\n\t\t\tcitem.rel_items.push(field);\r\n\t\t}\r\n\t\t\r\n\t\tif (me.dmode)\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute({citem: citem});\r\n\t\t\tme.close();s\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: citem.name, description: citem.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + citem.name : null)},\r\n\t\t\t\t\tmbody: citem,\r\n\t\t\t\t\tmeta_type: \"hierarchy_dimension\"\r\n\t\t\t\t}, me, me.rs_saveContent, null, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.clItem);\r\n\t\tme.close();\r\n\t},\r\n\t\t\t\r\n\tselectItem: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tvisibleItems: \"folder;metric;table;custommetric;dataset;measure\",\r\n\t\t\t\tmultiselect: 1,\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\trootuid: me.cubeuid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(items, fieldname) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (fieldname == \"grid\")\r\n\t\t{\r\n\t\t\t$.each(items, function(k, item) {\r\n\t\t\t\tvar datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\t\t\ti,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tbexist = false;\r\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = datagrid.store.data.items[i];\r\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bexist == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (me.cubepath)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath.replace(me.cubepath, \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdatagrid.store.add(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tmoveGridSelection: function(grid, direction) {\r\n\t\tvar records = grid.getSelectionModel().getSelection(),\r\n\t\t\trecord = records && records.length ? records[0] : null;\r\n\t\t\t\r\n\t\tif (!record) \r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar index = grid.getStore().indexOf(record);\r\n\t\t\r\n\t\tif (direction < 0) \r\n\t\t{\r\n\t\t\tindex--;\r\n\t\t\tif (index < 0) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} \r\n\t\telse \r\n\t\t{\r\n\t\t\tindex++;\r\n\t\t\tif (index >= grid.getStore().getCount()) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid.getStore().remove(record);\r\n\t\trecord = grid.getStore().insert(index, record);\r\n\t\tgrid.getSelectionModel().select(record, true);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"T_HIERARCHY\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tbodyPadding: ig$.padding\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\theight: 50\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_METRIC_ITEMS\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"disptype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"left\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"value\", \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Compact Layout\", value: \"single\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Outline Layout\", value: \"multi\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"datagrid\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"delete\", \"uid\", \"nodepath\", \"memo\", \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_UP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=datagrid]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.moveGridSelection(grd_data, -1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DOWN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=datagrid]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.moveGridSelection(grd_data, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableDrop: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableDrag: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar r = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t(this == data.view) ? data.copy = false : data.copy = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? this.panel.store.indexOf(dropRec) : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (rc && rc.data.type == \"Metric\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < this.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.store.data.items[i].data.uid == rc.data.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.add(rc.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, event, Option) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.editorItemName(record.data.name);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_ME_DISP1\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"grid\");\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar panel = this;\r\n\t\t\t\t\tpanel.datagrid = panel.down(\"[name=datagrid]\");\r\n\t\t\t\t\tpanel.init_f();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.HierarchyEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.formulaEditor = $s.extend($s.window, {\n\t\n\tmodal: false,\n\n\tregion:\"center\",\n\t\n\tisWindow: true,\n\t\n\tlayout: {\n\t\ttype: \"fit\",\n\t\talign: \"stretch\"\n\t},\n\t\n\tclosable: true,\n\tresizable:false,\n\t\n\twidth: 600,\n\theight: 620,\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tt,\n\t\t\titem = me.clItem,\n\t\t\tfield, d, ctrl,\n\t\t\ti, datagrid = this.down(\"[name=datagrid]\");\n\t\t\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\n\t\t\treturn;\n\t\t\n\t\titem.meta_type = \"formula_measure\";\n\t\titem.name = me.down(\"[name=itemname]\").getValue();\n\t\titem.description = me.down(\"[name=description]\").getValue();\n\t\t\n\t\tt = me.down(\"[name=expression]\").getValue();\n\t\titem.expression = t;\n\n\t\titem.rel_items = [];\n\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\n\t\t{\n\t\t\td = datagrid.store.data.items[i].data;\n\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\n\t\t\titem.rel_items.push(field);\n\t\t}\n\t\t\n\t\titem.stylename = me.down(\"[name=optstyle]\").getValue();\n\t\t\n\t\tif (me.dmode)\n\t\t{\n\t\t\tme.callback && me.callback.execute(item);\n\t\t\tme.close();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar req = new IG$._rpc$();\n\t\t\t\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"writecontent\",\n\t\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: item.name, description: item.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + item.name : null)},\n\t\t\t\t\tmbody: item,\n\t\t\t\t\tmeta_type: \"formula_measure\"\n\t\t\t\t}, me, me.r_confirm, null);\n\t\t\treq.send();\n\t\t}\n\t},\n\t\n\tr_confirm: function(jdoc) {\n\t\tvar me = this;\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\n\t\tme.callback && me.callback.execute(me.clItem);\n\t\tme.close();\n\t},\n\t\n\tselectItem: function(fieldname) {\n\t\tvar me = this,\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\n\t\t\t\tinstance: me.instance,\n\t\t\t\tmultiselect: 1,\n\t\t\t\tvisibleItems: \"folder;metric;dataset;table;inlineview;measuregroupdimension;measure;formulameasure\",\n\t\t\t\ttree_options: {\n\t\t\t\t\tcubebrowse: true,\n\t\t\t\t\trootuid: me.cubeuid\n\t\t\t\t}\n\t\t\t});\n\t\tdlgitemsel.callback = new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname);\n\t\tIG$.checkLogin(me, dlgitemsel);\n\t},\n\t\n\tcubeSelectedHandler: function(items, fieldname) {\n\t\tvar me = this;\n\t\t\n\t\tif (fieldname == \"measure\")\n\t\t{\n\t\t\tvar datagrid = me.down(\"[name=datagrid]\");\n\t\t\t\n\t\t\t$.each(items, function(n, item) {\n\t\t\t\tvar i,\n\t\t\t\t\trec,\n\t\t\t\t\tbexist = false;\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\n\t\t\t\t{\n\t\t\t\t\trec = datagrid.store.data.items[i];\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\n\t\t\t\t\t{\n\t\t\t\t\t\tbexist = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (bexist == false)\n\t\t\t\t{\n\t\t\t\t\tdatagrid.store.add(item);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t},\n\t\n\teditorItemName: function(itemname) {\n\t\tvar expression = this.down(\"[name=expression]\");\n\t\tIG$._inpEdt$(expression, itemname);\n\t},\n\t\n\tinit_f: function() {\n\t\tvar me = this,\n\t\t\treq = new IG$._rpc$();\n\t\t\n\t\tif (me.uid)\n\t\t{\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"content\",\n\t\t\t\t\tpayload: {uid: me.uid},\n\t\t\t\t\tmbody: {option: \"diagnostics\"}\n\t\t\t\t}, me, me.rs_procLoadContent, null);\n\t\t\treq.send();\n\t\t}\n\t\telse if (me.parentuid)\n\t\t{\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"helpcontent\",\n\t\t\t\t\tpayload: {uid: me.parentuid},\n\t\t\t\t\tmbody: {option: \"cube_style_info\"}\n\t\t\t\t}, me, function(jdoc) {\n\t\t\t\t\tme.rs_procLoadContent({\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\tcubeinfo: jdoc\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, null);\n\t\t\treq.send();\n\t\t}\n\t},\n\t\n\trs_procLoadContent: function(jdoc) {\n\t\tvar me = this,\n\t\t\tdatagrid = me.down(\"[name=datagrid]\"),\n\t\t\toptstyle = me.down(\"[name=optstyle]\"),\n\t\t\tstyles = [],\n\t\t\titem;\n\t\t\t\n\t\titem = me.clItem = jdoc.content;\n\t\t\n\t\tme.down(\"[name=itemname]\").setValue(item.name);\n\t\tme.down(\"[name=description]\").setValue(item.description);\n\t\t\n\t\titem.rel_items = item.rel_items || [];\n\t\t\n\t\tdatagrid.store.loadData(item.rel_items);\n\t\tme.down(\"[name=expression]\").setValue(item.expression);\n\t\t\n\t\tstyles.push({disp: \"--- select ---\", name: \"\"});\n\t\t\n\t\tcubeinfo = item.cubeinfo;\n\t\tdelete item[\"cubeinfo\"];\n\t\t\n\t\t$.each([\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\n\t\t], function(n, obj) {\n\t\t\tvar i,\n\t\t\t\tt,\n\t\t\t\tarr = obj.arr;\n\t\t\t\n\t\t\tif (arr)\n\t\t\t{\n\t\t\t\tfor (i=0; i < arr.length; i++)\n\t\t\t\t{\n\t\t\t\t\tt = arr[i];\n\t\t\t\t\tstyles.push({\n\t\t\t\t\t\tdisp: t.name,\n\t\t\t\t\t\tname: t.name,\n\t\t\t\t\t\ttype: obj.n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\toptstyle.store.loadData(styles);\n\t\toptstyle.setValue(item.stylename || \"\");\n\t\t\n\t\tme.getParentCube();\n\t},\n\t\n\tgetParentCube: function() {\n\t\tvar me = this;\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\n\t\t\tme.rs_getParentcube(jdoc);\n\t\t}));\n\t},\n\t\n\trs_getParentcube: function(jdoc) {\n\t\tvar tnode = jdoc && jdoc.length ? jdoc[0] : null;\n\t\t\n\t\tif (tnode)\n\t\t{\n\t\t\tthis.cubeuid = tnode.uid;\n\t\t}\n\t},\n\t\n\tinitComponent : function() {\n\t\tvar me = this;\n\t\t\n\t\t$s.apply(this, {\n\t\t\ttitle: IRm$.r1(\"T_FORMULA_MEASURE\"),\n\t\t\t\n\t\t\tbuttons: [\n\t\t\t\t\"->\",\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t],\n\t\t\t\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: \"container\",\n\t\t\t\t\tpadding: ig$.padding,\n\t\t\t\t\tbodyPadding: ig$.padding,\n\t\t\t\t\tautoScroll: true,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\tname: \"itemname\",\n\t\t\t\t\t\t\t\t\t_fasl: 1,\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\n\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tname: \"description\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SYNTAX_FORMULA\"),\n\t\t\t\t\t\t\tdefaultType: \"textfield\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdefaults: {\n\t\t\t\t\t\t\t\tlabelWidth: 130\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"expression\",\n\t\t\t\t\t\t\t\t\txtype: \"textarea\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_FM_DISP1\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"gridpanel\",\n\t\t\t\t\t\t\tname: \"datagrid\",\n\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"delete\", \"uid\", \"nodepath\", \"memo\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstateful: true,\n\t\t\t\t\t\t\theight: 160,\n\t\t\t\t\t\t\tviewConfig: {\n\t\t\t\t\t\t\t\tstripeRows: true,\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tplugins: {\n\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\n\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction) {\n\t\t\t\t\t\t\t\t\t\tvar r = false,\n\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\n\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t(this == data.view) ? data.copy = false : data.copy = true;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? this.panel.store.indexOf(dropRec) : 0;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (rc && (rc.data.type == \"Measure\" || rc.data.type == \"Metric\" || rc.data.type == \"MeasureGroup\"  || rc.data.type == \"TabDimension\"))\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < this.store.data.items.length; i++)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tif (this.store.data.items[i].data.uid == rc.data.uid)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.store.add(rc.data);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\treturn r;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\n\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\n\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\n\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\n\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\n\t\t\t\t\t\t\t\t\t\t\tstore.remove(store.data.items[rowIndex]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, ev, options) {\n\t\t\t\t\t\t\t\t\tvar name = record.data.name || \"\";\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (name)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.editorItemName(name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"container\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"hbox\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_FM_DISP2\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"measure\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\n\t\t\t\t\t\t\tlayout: \"anchor\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\n\t\t\t\t\t\t\t\t\tname: \"optstyle\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\n\t\t\t\t\t\t\t\t\tqueryMode: 'local',\n\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\n\t\t\t\t\t\t\t\t\tvalueField: 'name',\n\t\t\t\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\t\t\t\tautoSelect: true,\n\t\t\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\t\t\txtype: 'store',\n\t\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"disp\"\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function() {\n\t\t\t\t\tthis.init_f();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tIG$.formulaEditor.superclass.initComponent.apply(this, arguments);\n\t}\n});","IG$.codeMappingPanel = $s.extend($s.panel, {\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"anchor\",\r\n\tdefaults: {\r\n\t\tanchor: \"100%\"\r\n\t},\r\n\t\r\n\tcallback: null,\r\n\tpitem: null,\r\n\t\r\n\t_confirm: function(cmd) {\r\n\t\tvar me = this,\r\n\t\t\t_sel_table = me._sel_table,\r\n\t\t\tcbfield = me.down(\"[name=cbfield]\"),\r\n\t\t\tcbcodefield = me.down(\"[name=cbcodefield]\"),\r\n\t\t\tcbsortfield = me.down(\"[name=cbsortfield]\"),\r\n\t\t\tc_viewmode = me.down(\"[name=viewmode]\"),\r\n\t\t\t\r\n\t\t\trftb1 = me.down(\"[name=rftb1]\"),\r\n\t\t\trftxt1 = me.down(\"[name=rftxt1]\"),\r\n\t\t\trftb2 = me.down(\"[name=rftb2]\"),\r\n\t\t\trftxt2 = me.down(\"[name=rftxt2]\"),\r\n\t\t\trftb3 = me.down(\"[name=rftb3]\"),\r\n\t\t\trftxt3 = me.down(\"[name=rftxt3]\"),\r\n\t\t\trftc1 = me.down(\"[name=rftc1]\"),\r\n\t\t\trftc2 = me.down(\"[name=rftc2]\"),\r\n\t\t\trftc3 = me.down(\"[name=rftc3]\"),\r\n\t\t\trfilter1, rfilter2, rfilter3,\r\n\t\t\tfname = cbfield.getValue(),\r\n\t\t\tfcname = cbcodefield.getValue(),\r\n\t\t\tfsname = cbsortfield.getValue(),\r\n\t\t\tmfields = [\r\n\t\t\t\t\"codetable\", \"codetableuid\", \r\n\t\t\t\t\"codefield\", \"valuefield\", \"sortfield\", \r\n\t\t\t\t\"codefilter1\", \"codefilter2\", \"codefilter3\", \r\n\t\t\t\t\"codemapping\", \"viewmode\"\r\n\t\t\t];\r\n\t\t\r\n\t\ttname = _sel_table ? _sel_table.name : null;\r\n\t\t\r\n\t\trftb1 = rftb1.getValue();\r\n\t\trftb2 = rftb2.getValue();\r\n\t\trftb3 = rftb3.getValue();\r\n\t\t\r\n\t\trfilter1 = rftb1 && rftxt1.getValue() ? rftb1 + \"|\" + rftxt1.getValue() + \"|\" + rftc1.getValue() : null;\r\n\t\trfilter2 = rftb2 && rftxt2.getValue() ? rftb2 + \"|\" + rftxt2.getValue() + \"|\" + rftc2.getValue() : null;\r\n\t\trfilter3 = rftb3 && rftxt3.getValue() ? rftb3 + \"|\" + rftxt3.getValue() + \"|\" + rftc3.getValue() : null;\r\n\t\t\r\n\t\tme.rec.set(\"edited\", true);\r\n\t\tme.rec.set(\"codetable\", _sel_table ? _sel_table.name : null);\r\n\t\tme.rec.set(\"codetableuid\", _sel_table ? _sel_table.uid : null);\r\n\t\tme.rec.set(\"codefield\", fcname);\r\n\t\tme.rec.set(\"valuefield\", fname);\r\n\t\tme.rec.set(\"sortfield\", fsname);\r\n\t\tme.rec.set(\"codefilter1\", rfilter1);\r\n\t\tme.rec.set(\"codefilter2\", rfilter2);\r\n\t\tme.rec.set(\"codefilter3\", rfilter3);\r\n\r\n\t\tme.rec.set(\"viewmode\", c_viewmode.getValue());\r\n\t\t\r\n\t\tif (me.pitem)\r\n\t\t{\r\n\t\t\tme.pitem.edited = true;\r\n\t\t\t\r\n\t\t\t$.each(mfields, function(i, k) {\r\n\t\t\t\tme.pitem[k] = me.rec.get(k);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadContent: function() {\r\n\t\tvar me = this,\r\n\t\t\tdatasource = me.datasource,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\tif (datasource && me.rec && me.rec.codetableuid)\r\n\t\t{\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\tpayload: {uid: me.rec.codetableuid},\r\n\t\t\t\t\tmbody: {option: \"translate\"}\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tif (jdoc && jdoc.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme._sel_table = jdoc[0];\r\n\t\t\t\t\t\tme.down(\"[name=cbtable]\").setValue(me._sel_table.name);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.loadField();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadField: function() {\r\n\t\tvar me=this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\t_sel_table = me._sel_table;\r\n\t\t\r\n\t\tif (!_sel_table)\r\n\t\t\treturn;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: _sel_table.uid},\r\n\t\t\t\tmbody: {option: \"folder\"}\r\n\t\t\t}, me, me.rs_loadField, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadField: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ti, j,\r\n\t\t\ttnode, // tnodes,\r\n\t\t\tfield,\r\n\t\t\tctrlfield = me.down(\"[name=cbfield]\"),\r\n\t\t\tctrlcodefield = me.down(\"[name=cbcodefield]\"),\r\n\t\t\tctrlsortfield = me.down(\"[name=cbsortfield]\"),\r\n\t\t\tc_viewmode = me.down(\"[name=viewmode]\"),\r\n\t\t\t\r\n\t\t\tcf = me.rec.get(\"codefield\"),\r\n\t\t\tcv = me.rec.get(\"valuefield\"),\r\n\t\t\tcs = me.rec.get(\"sortfield\"),\r\n\t\t\tviewmode = me.rec.get(\"viewmode\"),\r\n\t\t\tfields = [],\r\n\t\t\tcf1, cv1, cs1;\r\n\t\t\t\r\n\t\ttnode = jdoc ? jdoc.children : null;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tfor (i=0; i < tnode.length; i++)\r\n\t\t\t{\r\n\t\t\t\tfield = tnode[i];\r\n\t\t\t\tfield.uid = field.uid || i;\r\n\t\t\t\t\r\n\t\t\t\tif (field.uid == cf)\r\n\t\t\t\t{\r\n\t\t\t\t\tcf1 = field.uid;\r\n\t\t\t\t}\r\n\t\t\t\tif (field.uid == cv)\r\n\t\t\t\t{\r\n\t\t\t\t\tcv1 = field.uid;\r\n\t\t\t\t}\r\n\t\t\t\tif (field.uid == cs)\r\n\t\t\t\t{\r\n\t\t\t\t\tcs1 = field.uid;\r\n\t\t\t\t}\r\n\t\t\t\tfields.push(field);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tctrlfield.store.loadData(fields, false);\r\n\t\tctrlcodefield.store.loadData(fields, false);\r\n\t\tctrlcodefield.setValue(cf1);\r\n\t\tctrlfield.setValue(cv1);\r\n\t\t\r\n\t\tctrlsortfield.store.loadData(fields, false);\r\n\t\tctrlsortfield.setValue(cs1);\r\n\t\t\r\n\t\tc_viewmode.setValue(viewmode || \"\");\r\n\t\t\r\n\t\tme.down(\"[name=rftb1]\").store.loadData(fields, false);\r\n\t\tme.down(\"[name=rftb2]\").store.loadData(fields, false);\r\n\t\tme.down(\"[name=rftb3]\").store.loadData(fields, false);\r\n\t\t\r\n\t\tvar mcval,\r\n\t\t\tf,\r\n\t\t\tfval, fpath, fop, ival, iop;\r\n\t\t\r\n\t\tfor (i=1; i < 4; i++)\r\n\t\t{\r\n\t\t\tmcval = me.rec.get(\"codefilter\" + i);\r\n\t\t\tif (mcval)\r\n\t\t\t{\r\n\t\t\t\tf = me.down(\"[name=rftb\" + i + \"]\");\r\n\t\t\t\tfval = me.down(\"[name=rftxt\" + i + \"]\");\r\n\t\t\t\tfop = me.down(\"[name=rftc\" + i + \"]\");\r\n\t\t\t\tif (mcval.indexOf(\"|\") > -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.down(\"[name=rfilter\" + i + \"]\").expand();\r\n\t\t\t\t\tfpath = mcval.substring(0, mcval.indexOf(\"|\"));\r\n\t\t\t\t\tival = mcval.substring(mcval.indexOf(\"|\")+1);\r\n\t\t\t\t\tiop = \"1\";\r\n\t\t\t\t\tif (ival.indexOf(\"|\") > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tiop = ival.substring(ival.indexOf(\"|\")+1);\r\n\t\t\t\t\t\tival = ival.substring(0, ival.indexOf(\"|\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfval.setValue(ival);\r\n\t\t\t\t\tfop.setValue(iop);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (j=0; j < fields.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (fields[j].nodepath == fpath)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tf.setValue(fields[j].uid);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\t\r\n\tinitComponent : function() {\r\n\t\tvar operatordp = [];\r\n\t\t\r\n\t\t$.each(IG$.filteropcodes, function(key, value) {\r\n\t\t\toperatordp.push({value: value.name, name: value.locale});\r\n\t\t});\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tcheckboxToggle: this.d_m == \"cmap\" ? false : true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_LOOKUP\"),\r\n\t\t\t\t\tcollapsed: false,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_TABLE\"),\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"cbtable\",\r\n\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (!me.datasource)\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\tvisibleItems: \"folder;table;inlineview;dataset;bo\",\r\n\t\t\t\t\t\t\t\t\t\t\ttargetobj: \"inlineview;table;\",\r\n\t\t\t\t\t\t\t\t\t\t\ttree_options: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\trootuid: me.datasource\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, function(item) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemtype = item.type.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (itemtype == \"inlineview\" || itemtype == \"table\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cbtable]\").setValue(item.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme._sel_table = item;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme.loadField();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbcodefield\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbfield\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_VALUE_FIELD\"),\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbsortfield\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_FIELD\"),\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_ADV_OPTION\"),\r\n\t\t\t\t\tcollapsed: false,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA_VIEW\"),\r\n\t\t\t\t\t\t\tname: \"viewmode\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t{name: \"Matching Values\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"Show All Codes\", value: \"code\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"Show All Values\", value: \"value\"}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tname: \"rfilter1\",\r\n\t\t\t\t\tcheckboxToggle:true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FILTER1\"), // \"Range Filter 1st\",\r\n\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftb1\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_FIELD\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftc1\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_OP\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: operatordp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"rftxt1\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_VALUE\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcollapse: function(f, eOpts) {\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftb1]\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftxt1]\").setValue(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tname: \"rfilter2\",\r\n\t\t\t\t\tcheckboxToggle:true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FILTER2\"), // \"Range Filter 2nd\",\r\n\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftb2\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_FIELD\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftc2\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_OP\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: operatordp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"rftxt2\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_VALUE\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcollapse: function(f, eOpts) {\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftb2]\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftxt2]\").setValue(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tname: \"rfilter3\",\r\n\t\t\t\t\tcheckboxToggle:true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FILTER3\"), // \"Range Filter 3rd\",\r\n\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftb3\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_FIELD\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftc3\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_OP\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: operatordp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"rftxt3\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_VALUE\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcollapse: function(f, eOpts) {\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftb3]\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftxt3]\").setValue(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.codeMappingPanel.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.metricEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\r\n\tlayout: {\r\n\t\ttype: 'vbox',\r\n\t\talign: 'stretch'\r\n\t},\r\n\t\r\n\tclosable: false,\r\n\tresizable: true,\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\titem = me.item;\r\n\t\t\r\n\t\tif (item)\r\n\t\t{\r\n\t\t\tvar i,\r\n\t\t\t\toptsortdir = me.down(\"[name=cb_sortdir]\"),\r\n\t\t\t\tsortorder = optsortdir.getGroupValue(),\r\n\t\t\t\tcb_sorttype = me.down(\"[name=cb_sorttype]\"),\r\n\t\t\t\tsorttype = me.down(\"[name=cb_sorttype]\").getGroupValue(),\r\n\t\t\t\toptstyle = me.down(\"[name=optstyle]\"),\r\n\t\t\t\toptremoveblank = me.down(\"[name=optremoveblank]\"),\r\n\t\t\t\tisdatetype = me.down(\"[name=isdatetype]\"),\r\n\t\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\t\tusegeocode = me.down(\"[name=usegeocode]\"),\r\n\t\t\t\tdatatype = me.down(\"[name=datatype]\"),\r\n\t\t\t\tdb_datatype = me.down(\"[name=db_datatype]\"),\r\n\t\t\t\tfname = me.down(\"[name=fname]\"),\r\n\t\t\t\tdatenames = IG$.majorDateformat,\r\n\t\t\t\tdatemap = {},\r\n\t\t\t\tndateitems = \"\",\r\n\t\t\t\tditems,\r\n\t\t\t\tditem,\r\n\t\t\t\tcontent = item.content,\r\n\t\t\t\tfields = item.metric ? item.metric.fields : null,\r\n\t\t\t\tnodepath;\r\n\t\t\t\r\n\t\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tcontent.name = me.down(\"[name=itemname]\").getValue();\r\n\t\t\tcontent.description = me.down(\"[name=description]\").getValue();\r\n\t\t\t\r\n\t\t\titem.name = content.name;\r\n\t\t\titem.description = content.description;\r\n\t\t\t\r\n\t\t\tcontent.sortorder = (sortorder == \"\") ? null : sortorder;\r\n\t\t\tcontent.sorttype = (sorttype == \"\") ? null : sorttype;\r\n\t\t\tcontent.removeblank = optremoveblank.getValue();\r\n\t\t\tcontent.stylename = optstyle.getValue();\r\n\t\t\tcontent.isdatetype = isdatetype.getValue() == true;\r\n\t\t\tcontent.dateformat = dateformat.getValue();\r\n\t\t\tcontent.fieldname = fname.getValue();\r\n\t\t\tcontent.datatype = datatype.getValue();\r\n\t\t\tcontent.db_datatype = db_datatype.getValue();\r\n\t\t\t\r\n\t\t\tif (content.attributes)\r\n\t\t\t{\r\n\t\t\t\tcontent.attributes.attrb4 = content.db_datatype;\r\n\t\t\t}\r\n\r\n\t\t\tcontent.enable_geocode = usegeocode.getValue() == true;\r\n\t\t\t\r\n\t\t\tcontent.mask = {\r\n\t\t\t\ttype: me.down(\"[name=masktype]\").getValue(),\r\n\t\t\t\tpattern: me.down(\"[name=mpattern]\").getValue(),\r\n\t\t\t\tpattern_replace: me.down(\"[name=mpattern_rep]\").getValue(),\r\n\t\t\t\taes_pp: me.down(\"[name=aes_passph]\").getValue()\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (fields && fields.length && fname.getValue())\r\n\t\t\t{\r\n\t\t\t\tfields[0].name = fname.getValue();\r\n\t\t\t\tnodepath = fields[0].nodepath;\r\n\t\t\t\tnodepath = nodepath.substring(0, nodepath.lastIndexOf(\"/\")) + \"/\" + fields[0].name;\r\n\t\t\t\tfields[0].nodepath = nodepath;\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\tcontent.dateitems = \"CUSTOM\"; // ndateitems;\r\n\t\t\tcontent.datecustom = me.down(\"[name=t_dateformat]\").getValue();\r\n\t\t}\r\n\t\t\r\n\t\tif (me.rpt_meta_type == \"sql_report\")\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(me.item);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t\telse if (item.writable)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\tcnt = item.content;\r\n\t\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: panel.uid, name: cnt.name, description: cnt.description},\r\n\t\t\t\t\tmbody: cnt,\r\n\t\t\t\t\tmeta_type: \"dimension\"\r\n\t\t\t\t}, panel, panel.rs_saveCnt, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveCnt: function(xdoc) {\r\n\t\tvar me = this;\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.item);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.formulas = [];\r\n\t\t\r\n\t\tif (me.dmode_cnt)\r\n\t\t{\r\n\t\t\tme.dmode_cnt.cubeinfo = {\r\n\t\t\t\tapp_style: {\r\n\t\t\t\t\tdefault_styles: [],\r\n\t\t\t\t\tcustom_styles: []\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tme.rs_loadItemContent({\r\n\t\t\t\tname: me.dmode_cnt.name,\r\n\t\t\t\tdescription: me.dmode_cnt.description,\r\n\t\t\t\tuid: me.dmode_cnt.uid,\r\n\t\t\t\tcontent: me.dmode_cnt,\r\n\t\t\t\twritable: true\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (me.uid)\r\n\t\t{\r\n\t\t\tme.loadItemContent();\r\n\t\t}\r\n\t},\r\n\t\r\n\tapplyItemInfo: function() {\r\n\t\tvar me = this,\r\n\t\t\titem = me.item,\r\n\t\t\t_mc = item.content,\r\n\t\t\ti, t,\r\n\t\t\tsortorder = _mc.sortorder || \"\",\r\n\t\t\toptsortdir = me.down(\"[name=optsortdir]\"),\r\n\t\t\tsorttype = _mc.sorttype || \"\",\r\n\t\t\toptsorttype = me.down(\"[name=optsorttype]\"),\r\n\t\t\toptstyle = me.down(\"[name=optstyle]\"),\r\n\t\t\toptremoveblank = me.down(\"[name=optremoveblank]\"),\r\n\t\t\toptsortitemname = me.down(\"[name=optsortitemname]\"),\r\n\t\t\toptdispitemname = me.down(\"[name=optdispitemname]\"),\r\n\t\t\toptcommentitemname = me.down(\"[name=optcommentitemname]\"),\r\n\t\t\tisdatetype = me.down(\"[name=isdatetype]\"),\r\n\t\t\tdatatype = me.down(\"[name=datatype]\"),\r\n\t\t\tdb_datatype = me.down(\"[name=db_datatype]\"),\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tusegeocode = me.down(\"[name=usegeocode]\"),\r\n\t\t\tcmap_disp = me.down(\"[name=cmap_disp]\"),\r\n\t\t\tfname = me.down(\"[name=fname]\"),\r\n\t\t\tmasktype = me.down(\"[name=masktype]\"),\r\n\t\t\tdatenames = IG$.majorDateformat,\r\n\t\t\tditems, dp = [],\r\n\t\t\tstyles = [],\r\n\t\t\tcubeinfo,\r\n\t\t\tmask = _mc.mask || {};\r\n\t\t\r\n\t\tme.down(\"[name=b_confirm]\").setVisible(item.writable);\r\n\t\tme.down(\"[name=itemname]\").setValue(_mc.name);\r\n\t\tme.down(\"[name=description]\").setValue(_mc.description);\r\n\t\t\r\n\t\toptsortdir.setValue({cb_sortdir: [sortorder]});\r\n\t\toptsorttype.setValue({cb_sorttype: [sorttype]});\r\n\t\toptremoveblank.setValue(_mc.removeblank || false);\r\n\t\tisdatetype.setValue(_mc.isdatetype || false);\r\n\t\tdateformat.setValue(_mc.dateformat || \"\");\r\n\t\tusegeocode.setValue(_mc.enable_geocode);\r\n\t\tcmap_disp.setValue(_mc.cmap_disp || \"\");\r\n\t\tdatatype.setValue(_mc.datatype);\r\n\t\tdb_datatype.setValue(_mc.db_datatype);\r\n\t\tme.down(\"[name=tname]\").setValue(_mc.tablename);\r\n\t\tfname.setValue(_mc.fieldname); // (_mc.tablename ? _mc.tablename + \".\" : \"\") +  (_mc.fieldname || \"\"));\r\n\t\tmasktype.setValue(mask.type);\r\n\t\t\r\n\t\tme.down(\"[name=geolat]\").setValue(_mc.geolat ? _mc.geolat.name : null);\r\n\t\tme.down(\"[name=geolng]\").setValue(_mc.geolng ? _mc.geolng.name : null);\r\n\t\t\r\n\t\tif (_mc.opt_sort_item)\r\n\t\t{\r\n\t\t\toptsortitemname.setValue(_mc.opt_sort_item.name);\r\n\t\t}\r\n\t\t\r\n\t\tif (_mc.opt_disp_item)\r\n\t\t{\r\n\t\t\toptdispitemname.setValue(_mc.opt_disp_item.name);\r\n\t\t}\r\n\t\t\r\n\t\tif (_mc.opt_comment_item)\r\n\t\t{\r\n\t\t\toptcommentitemname.setValue(_mc.opt_comment_item.name);\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=mpattern]\").setValue(mask.pattern);\r\n\t\tme.down(\"[name=mpattern_rep]\").setValue(mask.pattern_replace);\r\n\t\tme.down(\"[name=aes_passph]\").setValue(mask.aes_pp);\r\n\t\t\r\n\t\tdp.push({disp: \"--- select ---\", name: \"\", type: \"\"});\r\n\t\t\r\n\t\tme.styles = styles;\r\n\t\tcubeinfo = _mc.cubeinfo;\r\n\t\tdelete _mc[\"cubeinfo\"];\r\n\t\t\r\n\t\t$.each([\r\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \r\n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\r\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\r\n\t\t], function(n, obj) {\r\n\t\t\tvar i,\r\n\t\t\t\tt,\r\n\t\t\t\tarr = obj.arr;\r\n\t\t\t\r\n\t\t\tif (arr)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < arr.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tt = arr[i];\r\n\t\t\t\t\tstyles.push({\r\n\t\t\t\t\t\tname: t.name,\r\n\t\t\t\t\t\ttype: obj.n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tfor (i=0; i < styles.length; i++)\r\n\t\t{\r\n\t\t\tdp.push({disp: styles[i].name, name: styles[i].name, type: styles[i].type});\r\n\t\t}\r\n\r\n\t\toptstyle.store.loadData(dp);\r\n\t\t\r\n\t\toptstyle.setValue(_mc.stylename || \"\");\r\n\t\t\t\t\r\n\t\tme.down(\"[name=t_dateformat]\").setValue(_mc.datecustom || \"\");\r\n\t},\r\n\t\r\n\tloadItemContent: function() {\r\n\t\tvar panel = this,\r\n\t\t\treq;\r\n\t\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(panel, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\tmbody: {option: 'diagnostics'}\r\n\t\t\t}, panel, panel.rs_loadItemContent, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadItemContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\t\r\n\t\tme.item = jdoc;\r\n\t\t\r\n\t\tme.applyItemInfo();\r\n\t\t\r\n\t\tif (me.rpt_meta_type != \"sql_report\")\r\n\t\t{\r\n\t\t\tme.getMeasures();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetMeasures: function() {\r\n\t\tvar me = this,\r\n\t\t\treq,\r\n\t\t\tgrd_measures = me.down(\"[name=grd_measures]\");\r\n\t\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\tmbody: {option: 'folder'}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tgrd_measures.store.loadData(jdoc.children);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tchangeDateFormat: function() {\r\n\t\tvar me = this,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdt = \"\"; // optdateformat.getValue();\r\n\t\t\t\r\n\t\tdateformat.setValue(dt);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(fname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tfolderItems: fname == \"codemap\" ? \"folder;codemap\" : \"folder;dataset;table;metric;inlineview;measure\",\r\n\t\t\t\tvisibleItems: fname == \"codemap\" ? \"folder;codemap\" : \"folder;dataset;table;metric;inlineview;measure\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\trootuid: fname == \"codemap\" ? \"/SYS_Lookup\" : (me.item.content.cubeuid || me.cubeuid)\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_cubeSelectedHandler, fname)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\trs_cubeSelectedHandler: function(sitem, fname) {\r\n\t\tvar me = this,\r\n\t\t\titem = me.item,\r\n\t\t\tcontent = item.content;\r\n\t\t\r\n\t\tif (fname == \"codemap\")\r\n\t\t{\r\n\t\t\tcontent.cmap_uid = sitem.uid;\r\n\t\t\tcontent.cmap_disp = sitem.name;\r\n\t\t\tme.down(\"[name=cmap_disp]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"optsortitemname\")\r\n\t\t{\r\n\t\t\tcontent.opt_sort_item = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=optsortitemname]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"optdispitemname\")\r\n\t\t{\r\n\t\t\tcontent.opt_disp_item = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=optdispitemname]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"optcommentitemname\")\r\n\t\t{\r\n\t\t\tcontent.opt_comment_item = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=optcommentitemname]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"geolat\")\r\n\t\t{\r\n\t\t\tcontent.geolat = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=geolat]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"geolng\")\r\n\t\t{\r\n\t\t\tcontent.geolng = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=geolng]\").setValue(sitem.name);\r\n\t\t}\r\n\t},\r\n\t\r\n\tedit_customfield: function(rec) {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.instance,\r\n\t\t\tmainpanel = instance.mainPanel,\r\n\t\t\tctype = rec.get(\"type\").toLowerCase();\r\n\t\t\r\n\t\tif (mainpanel && rec.get(\"writable\"))\r\n\t\t{\r\n\t\t\tmainpanel.navigateApp(rec.get(\"uid\"), ctype, rec.get(\"name\"), rec.get(\"nodepath\"), true, rec.get(\"writable\"), {\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(tobj) {\r\n\t\t\t\t\tif (tobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trec.set(\"name\", tobj.name);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar i, \r\n\t\t\tpanel=this,\r\n\t\t\tcustomstyles = [],\r\n\t\t\tstyles = panel.styles,\r\n\t\t\tpitmes = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_EMAIL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tmpattern = me.down(\"[name=mpattern]\"),\r\n\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\");\r\n\t\t\t\t\t\tmpattern.setValue(\"(^[^@]{3}|(?!^)\\\\G)[^@]\");\r\n\t\t\t\t\t\tmpattern_rep.setValue(\"$1*\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_SSN\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tmpattern = me.down(\"[name=mpattern]\"),\r\n\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\");\r\n\t\t\t\t\t\tmpattern.setValue(\"(?:\\\\d{3})-(?:\\\\d{2})-(\\\\d{4})\");\r\n\t\t\t\t\t\tmpattern_rep.setValue(\"XXX-XX-$1*\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tpatterns = ig$.patterns;\r\n\t\t\r\n\t\tif (patterns)\r\n\t\t{\r\n\t\t\t$.each(patterns, function(i, pt) {\r\n\t\t\t\tpitems.push({\r\n\t\t\t\t\ttext: pt.name,\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tmpattern = me.down(\"[name=mpattern]\"),\r\n\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmpattern.setValue(pt.value);\r\n\t\t\t\t\t\tpt.replace && mpattern_rep.setValue(pt.replace);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tpanel.title = IRm$.r1(\"T_METRIC_SETTING\");\r\n\t\tcustomstyles.push({name: \"-Item Default-\", value: \"\"});\r\n\t\t\r\n\t\tif (styles && styles.length > 0)\r\n\t\t{\r\n\t\t\tfor (i=0; i < styles.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcustomstyles.push({name: styles[i].name, value: styles[i].name});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t$s.apply(panel, {\r\n\t\t\tpadding: 0,\r\n\t\t\tborder: 0,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"tabpanel\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tbodyPadding: ig$.padding,\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t},\t\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SORT_SEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortdir\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_ORD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sortdir\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_ASC\"), name: \"cb_sortdir\", inputValue: \"asc\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DSC\"), name: \"cb_sortdir\", inputValue: \"desc\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsorttype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_TP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sorttype\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_STRING\"), name: \"cb_sorttype\", inputValue: \"VARCHAR\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_NUMERIC\"), name: \"cb_sorttype\", inputValue: \"NUMBER\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optdispitem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_F_DISP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\", // || ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optdispitemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"optdispitemname\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.opt_disp_item = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=optdispitemname]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortitem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\", // || ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_F_SORT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortitemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"optsortitemname\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.opt_sort_item = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=optsortitemname]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optcommentitem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_F_COMMENT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\", // || ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optcommentitemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"optcommentitemname\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.opt_comment_item = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=optcommentitemname]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optstyle\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"disp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_OTHER_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optremoveblank\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_REM_BLK\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"isdatetype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_DATE_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(field, nvalue, ovalue, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisdatetype = field.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format = me.down(\"[name=t_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format = me.down(\"[name=d_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetypecontainer = me.down(\"[name=customdatetypecontainer]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// datediv_CUSTOM = me.down(\"[name=datediv_CUSTOM]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_SRC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"d_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fieldLabel: \"Date format\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_TGT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fieldLabel: \"Date format\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"cmap_disp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"codemap\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cmap_disp]\").setValue(null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.cmap_disp = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.cmap_uid = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_ADVANCED\"),\r\n\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\tbodyPadding: ig$.padding,\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TABLE_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tname\",\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FIELD_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"fname\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DATATYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"datatype\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"db_datatype\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: \" \",\r\n\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BIT\", value: \"-7\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TINYINT\", value: \"-6\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"SMALLINT\", value: \"5\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"INTEGER\", value: \"4\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BIGINT\", value: \"-5\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"FLOAT\", value: \"6\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"REAL\", value: \"7\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DOUBLE\", value: \"8\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NUMERIC\", value: \"2\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DECIMAL\", value: \"3\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"CHAR\", value: \"1\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"VARCHAR\", value: \"12\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LONGVARCHAR\", value: \"-1\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DATE\", value: \"91\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIME\", value: \"92\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIMESTAMP\", value: \"93\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BINARY\", value: \"-2\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"VARBINARY\", value: \"-3\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LONGVARBINARY\", value: \"-4\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NULL\", value: \"0\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"OTHER\", value: \"1111\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"JAVA_OBJECT\", value: \"2000\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DISTINCT\", value: \"2001\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"STRUCT\", value: \"2002\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"ARRAY\", value: \"2003\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BLOB\", value: \"2004\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"CLOB\", value: \"2005\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"REF\", value: \"2006\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DATALINK\", value: \"70\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BOOLEAN\", value: \"16\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"ROWID\", value: \"-8\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NCHAR\", value: \"-15\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NVARCHAR\", value: \"-9\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LONGVARCHAR\", value: \"-16\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NCLOB\", value: \"2011\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"SQLXML\", value: \"2009\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"REF_CURSOR\", value: \"2012\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIME_WITH_TIMEZONE\", value: \"2013\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIMESTAMP_WITH_TIMEZONE\", value: \"2014\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MASK_TEXT\"), // \"Mask Text\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"masktype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MASK_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"No Mask\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"RegExp Pattern\", value: \"pattern\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Base64 Encoding\", value: \"base64\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"SHA-1\", value: \"sha1\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"AES\", value: \"aes\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttval = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpb1 = me.down(\"[name=pb1]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taes_passph = me.down(\"[name=aes_passph]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpb1[tval == \"pattern\" ? \"show\" : \"hide\"]();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmpattern_rep[tval == \"pattern\" ? \"show\" : \"hide\"]();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taes_passph[tval == \"aes\" ? \"show\" : \"hide\"]();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MASK_PATTERN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"pb1\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"mpattern\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: pitmes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"mpattern_rep\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_REPLACE_WITH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"aes_passph\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_AES_PASS_PHRASE\") // \"AES Pass Phrase (For decryption)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MEASURES\"), // \"Measures\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 160,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"grd_measures\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getMeasures();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.multiMeasure({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid: me.uid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmitem: me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvmode: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, me.getMeasures)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 220,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.edit_customfield(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (rec.get(\"uid\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_DELETE\"), function(e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e == \"yes\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar req = new IG$._rpc$(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpayloads = [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tack: \"deletecontent\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {uid: rec.get(\"uid\")},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, me, me);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_GEOCODE\"), // \"Geo Code\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\t//hidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_USE_GEOCODE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"usegeocode\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLED\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_LAT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolat\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"geolat\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_LNG\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolng\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"geolng\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_GEOMAPPING\"), // \"GeoMapping\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.geoMapping({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid: me.uid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\tname: \"b_confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis.init_f();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.metricEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.geoMapping = $s.extend($s.window, {\r\n\t// title: 'Geo Mapping',\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\tautoHeight: true,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tseldatas = [],\r\n\t\t\ti;\r\n\t\t\r\n\t\tthis.callback && this.callback.execute(seldatas);\r\n\t\t\r\n\t\tthis.close();\r\n\t},\r\n\t\r\n\tin$t: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tvar georeqtype = me.down(\"[name=georeqtype]\");\r\n\t\t\r\n\t\tif (ig$.geo_encoding && ig$.geo_encoding.length > 0)\r\n\t\t{\r\n\t\t\tgeoreqtype.store.loadData(ig$.geo_encoding);\r\n\t\t}\r\n\t\t\r\n\t\tme.getValueList();\r\n\t},\r\n\t\r\n\tgetValueList: function() {\r\n\t\tif (this.uid)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\tcontent = {},\r\n\t\t\t\tobj,\r\n\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\r\n\t\t\tobj = {uid: this.uid, option: \"valuelist\"};\r\n\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"olapservice\",\r\n\t\t\t\t\tpayload: obj,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, panel, panel.rs_getValueList, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_getValueList: function(xdoc) {\r\n\t\tvar uid = this.uid,\r\n\t\t\tresult = xdoc, // new IG$._ICd/*clValueList*/(xdoc, uid),\r\n\t\t\tgrd_data = this.down(\"[name=grd_data]\");\r\n\t\t\t\r\n\t\tthis.pool = result.pool;\r\n\t\t\t\r\n\t\tgrd_data.store.loadData(result.inline_data);\r\n\t},\r\n\t\r\n\tgeoEncode: function() {\r\n\t\tvar me = this,\r\n\t\t\tgeoreqtype = me.down(\"[name=georeqtype]\").getValue();\r\n\t\t\t\r\n\t\tif (georeqtype)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\tcontent,\r\n\t\t\t\tobj,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\ti,\r\n\t\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\t\trow;\r\n\t\t\t\t\r\n\t\t\tobj = {uid: this.uid, action: \"geoencode\", georeqtype: georeqtype};\r\n\t\t\t\t\r\n\t\t\tcontent = {items: []};\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trow = grd_data.store.data.items[i];\r\n\t\t\t\tif (!row.get(\"lat\") || !row.get(\"lng\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent.items.push({\r\n\t\t\t\t\t\tcode: row.get(\"code\")\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"geoservice\",\r\n\t\t\t\t\tpayload: obj,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, panel, panel.rs_geoEncode, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_geoEncode: function(xdoc) {\r\n\t\tvar me = this,\r\n\t\t\tgeoreqtype = me.down(\"[name=georeqtype]\").getValue(),\r\n\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/results\"),\r\n\t\t\ttnodes = (tnode ? IG$.XGetChildNodes(tnode) : null),\r\n\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\ti, dt = {},\r\n\t\t\taddr, record,\r\n\t\t\tres, geo, g;\r\n\t\t\t\r\n\t\tif (tnodes)\r\n\t\t{\r\n\t\t\tgeo = (IG$.geocoder && IG$.geocoder[georeqtype]) ? IG$.geocoder[georeqtype] : null;\r\n\t\t\t\r\n\t\t\tif (geo)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\taddr = IG$._I19/*getSubNode*/(tnodes[i], \"code\");\r\n\t\t\t\t\taddr = IG$.XGetTextVal(addr);\r\n\t\t\t\t\tres = IG$._I19/*getSubNode*/(tnodes[i], \"result\");\r\n\t\t\t\t\tres = IG$.XGetTextVal(res);\r\n\t\t\t\t\tres = Base64.decode(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tg = geo.getGeoCode(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (g.lat && g.lng)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt[addr] = g;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trecord = grd_data.store.data.items[i];\r\n\t\t\t\tg = dt[record.get(\"code\")];\r\n\t\t\t\tif (g)\r\n\t\t\t\t{\r\n\t\t\t\t\trecord.set(\"lat\", g.lat);\r\n\t\t\t\t\trecord.set(\"lng\", g.lng);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdateGeoData: function() {\r\n\t\tvar me = this,\r\n\t\t\tgeosql = me.down(\"[name=geosql]\").getValue();\r\n\t\t\t\r\n\t\tif (me.uid && geosql && me.pool)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\tcontent = '',\r\n\t\t\t\tobj,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\ti,\r\n\t\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\t\trow;\r\n\t\t\t\t\r\n\t\t\tobj = {uid: this.uid, action: \"geoupdate\", pool: this.pool};\r\n\t\t\t\t\r\n\t\t\tcontent = {\r\n\t\t\t\tsql: geosql,\r\n\t\t\t\titems: []\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trow = grd_data.store.data.items[i];\r\n\t\t\t\tif (row.get(\"lat\") && row.get(\"lng\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent.items.push({\r\n\t\t\t\t\t\tlat: row.get(\"lat\"),\r\n\t\t\t\t\t\tlng: row.get(\"lng\"),\r\n\t\t\t\t\t\tcode: row.get(\"code\")\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"geoservice\",\r\n\t\t\t\t\tpayload: obj,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, panel, panel.rs_geoEncode, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_updateGeoData: function(xdoc) {\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\t\t \r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"L_GEOMAPPING\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \"Address to geo axis values\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"grd_data\",\r\n\t\t\t\t\t\t\theight: 250,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"code\", \"lat\", \"lng\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_GEO_ADDRESS\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"code\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_LAT\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"lat\",\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_LNG\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"lng\",\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: \"Get GeoEncode\",\r\n\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_GEO_REQ_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"georeqtype\",\r\n\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_UPD_GEOCODE\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.geoEncode();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\tname: \"geosql\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_APPLY_DB\") // \"Apply Database\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RUN_SQL\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.updateGeoData();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t'->',\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.in$t();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.geoMapping.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.cubeStyle = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tlayout: \"border\",\r\n\tclosable: false,\r\n\tresizable: true,\r\n\twidth: 720,\r\n\theight: 500,\r\n\t\r\n\treportoption: null,\r\n\t\r\n\tcallback: null,\r\n\tglobalstyle: null,\r\n\tglobalstylemap: null,\r\n\tstyleinfo: null,\r\n\t\r\n\tloadGlobalStyle: function() {\r\n\t\tvar panel = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"appoption\",\r\n\t\t\t\t\tpayload: {address: \"ReportStyle\"},\r\n\t\t\t\t\tmbody: {}\r\n\t\t\t\t}, panel, panel.rs_loadGlobalStyle, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadGlobalStyle: function(jdoc) {\r\n\t\tvar tnode = jdoc.themes[0],\r\n\t\t\ttnodes1,\r\n\t\t\tmnode, cs, key,\r\n\t\t\tbsds = [{\r\n\t\t\t\tname: \"Select Item\",\r\n\t\t\t\tvalue: \"\"\r\n\t\t\t}],\r\n\t\t\ttheme_id = ig$.theme_id,\r\n\t\t\tunode, child, i, j, bs, nodenames = [\"default_styles\", \"custom_styles\"];\r\n\t\t\t\r\n\t\tthis.globalstyle = [];\r\n\t\tthis.globalstylemap = {};\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tfor (i=0; i < nodenames.length; i++) {\r\n\t\t\t\tkey = nodenames[i];\r\n\t\t\t\t\r\n\t\t\t\tmnode = tnode[key];\r\n\t\t\t\t\r\n\t\t\t\tif (mnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=0; j < mnode.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcs = mnode[j];\r\n\t\t\t\t\t\tthis.globalstyle.push(cs);\r\n\t\t\t\t\t\tbsds.push({\r\n\t\t\t\t\t\t\tname: cs.name,\r\n\t\t\t\t\t\t\tvalue: cs.name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.globalstylemap[cs.name] = cs;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (key in this.globalstylemap)\r\n\t\t\t{\r\n\t\t\t\tcs = this.globalstylemap[key];\r\n\t\t\t\t\r\n\t\t\t\tif (cs.basestylename && this.globalstylemap[cs.basestylename])\r\n\t\t\t\t{\r\n\t\t\t\t\tbs = this.globalstylemap[cs.basestylename];\r\n\t\t\t\t\t// cs.applyBaseStylebs);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.down(\"[name=base_style]\").store.loadData(bsds);\r\n\t\tthis.loadLocalStyle();\r\n\t},\r\n\t\r\n\tloadLocalStyle: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, stylename,\r\n\t\t\tcs, bs,\r\n\t\t\tstylelist = me.down(\"[name=stylelist]\"),\r\n\t\t\tltree = [], cstree, unode;\r\n\t\t\t\r\n\t\tme.down(\"[name=c_cset]\").setValue(me.c_cset || \"\");\r\n\t\t\t\r\n\t\tif (me.styleinfo) {\r\n\t\t\tunode = {name: 'LocalStyle', leaf: false, children: []};\r\n\t\t\tltree.push(unode);\r\n\t\t\t\r\n\t\t\tfor (i=0; i < me.styleinfo.length; i++) {\r\n\t\t\t\tcs = me.styleinfo[i];\r\n\t\t\t\tcstree = {name: cs.name, leaf: true, custom: false};\r\n\t\t\t\t\r\n\t\t\t\tif (cs.basestylename && me.globalstylemap[cs.basestylename])\r\n\t\t\t\t{\r\n\t\t\t\t\tbs = me.globalstylemap[cs.basestylename];\r\n\t\t\t\t\t// cs.applyBaseStylebs);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tunode.children.push(cstree);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tstylelist.store.setRootNode({\r\n\t\t\t\texpanded: true,\r\n\t\t\t\ttext: IRm$.r1(\"B_STYLE\"),\r\n\t\t\t\tname: IRm$.r1(\"B_STYLE\"),\r\n\t\t\t\ttitle: IRm$.r1(\"B_STYLE\"),\r\n\t\t\t\tchildren: ltree\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\teditStyleItem: function(stylename) {\r\n\t\tvar i,\r\n\t\t\tme = this,\r\n\t\t\tform_header = me.down(\"[name=form_header]\"),\r\n\t\t\tform_data = me.down(\"[name=form_data]\");\r\n\t\t\t\t\t\r\n\t\tme.commitStyleItem();\r\n\t\t\r\n\t\tfor (i=0; i < me.styleinfo.length; i++)\r\n\t\t{\r\n\t\t\tif (me.styleinfo[i].name == stylename)\r\n\t\t\t{\r\n\t\t\t\tme._edtItem = me.styleinfo[i];\r\n\t\t\t\tme._valForm = 1;\r\n\t\t\t\tme.down(\"[name=sname]\").setValue(me.styleinfo[i].name);\r\n\t\t\t\tme.down(\"[name=base_style]\").setValue(me.styleinfo[i].basestylename || \"\");\r\n\t\t\t\tform_header.loadStyleData(me.styleinfo[i].header);\r\n\t\t\t\tform_data.loadStyleData(me.styleinfo[i].data);\r\n\t\t\t\tme._valForm = 0;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tcommitStyleItem: function() {\r\n\t\tvar me = this,\r\n\t\t\tform_header = me.down(\"[name=form_header]\"),\r\n\t\t\tform_data = me.down(\"[name=form_data]\"),\r\n\t\t\tnname = me.down(\"[name=sname]\").getValue();\r\n\t\t\tnvalue = me.down(\"[name=base_style]\").getValue();\r\n\t\t\t\r\n\t\tif (me._edtItem && nvalue && nname)\r\n\t\t{\r\n\t\t\tme._edtItem.basestylename = nvalue;\r\n\t\t\tme._edtItem.name = nname;\r\n\t\t\tform_data.updateStyleData();\r\n\t\t\tform_header.updateStyleData();\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tbase,\r\n\t\t\tcs;\r\n\t\t\t\r\n\t\tme.commitStyleItem();\r\n\t\t\r\n\t\tfor (i=0; i < me.styleinfo.length; i++)\r\n\t\t{\r\n\t\t\tcs = me.styleinfo[i];\r\n\t\t\t\r\n\t\t\tif (cs.basestylename && me.globalstylemap[cs.basestylename])\r\n\t\t\t{\r\n\t\t\t\tbase = me.globalstylemap[cs.basestylename];\r\n\t\t\t\t// cs.removeBsStyl(base);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.c_cset = me.down(\"[name=c_cset]\").getValue();\r\n\t\tme.callback && me.callback.execute(me);\r\n\t\tme.close();\r\n\t},\r\n\r\n\ttoolbarHandler: function(cmd) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_add_custom\":\r\n\t\t\tvar dlg = new IG$.makeStyle({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tstyleinfo: this.globalstyle,\r\n\t\t\t\tcallback: new IG$.callBackObj(this, this.rs__appendCustomStyle)\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_delete\":\r\n\t\t\tvar i,\r\n\t\t\t\tstylelist = this.down(\"[name=stylelist]\"),\r\n\t\t\t\trec = stylelist.getSelectionModel().selected,\r\n\t\t\t\tsrec = rec && rec.length > 0 ? rec.items[0] : null;\r\n\t\t\t\r\n\t\t\tif (srec)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < me.styleinfo.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (srec.get(\"name\") == me.styleinfo[i].name)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.styleinfo.splice(i, 1);\r\n\t\t\t\t\t\tsrec.remove();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\trs__appendCustomStyle: function(params) {\r\n\t\tvar stylename = params[0], \r\n\t\t\tbasestylename = params[1];\r\n\t\t\t\r\n\t\tif (basestylename && stylename)\r\n\t\t{\r\n\t\t\tvar i,\r\n\t\t\t\tbasestyle;\r\n\t\t\t\r\n\t\t\tbasestyle = this.globalstylemap[basestylename];\r\n\t\t\t\r\n\t\t\tif (basestyle)\r\n\t\t\t{\r\n\t\t\t\tvar stylelist = this.down(\"[name=stylelist]\"),\r\n\t\t\t\t\t// proxy = stylelist.store.getProxy(),\r\n\t\t\t\t\t// reader = proxy.getReader(), \r\n\t\t\t\t\tcs,\r\n\t\t\t\t\trobj, urecord, rootnode = stylelist.store.getRootNode();\r\n\t\t\t\t\t\r\n\t\t\t\turecord = rootnode.childNodes[rootnode.childNodes.length - 1];\r\n\t\t\t\t\r\n\t\t\t\trobj = {name: stylename, leaf: true, custom: true};\r\n\t\t\t\tcs = {}; // new IG$.clStyleObject(null, \"item\", true);\r\n\t\t\t\tcs.name = stylename;\r\n\t\t\t\tcs.nodename = \"ItemStyle\";\r\n\t\t\t\tcs.basestylename = basestylename;\r\n\t\t\t\tcs.header = {}; //new IG$.clStyleItem(null, \"Header\");\r\n\t\t\t\tcs.data = {}; // new IG$.clStyleItem(null, \"Data\");\r\n\t\t\t\tthis.styleinfo.push(cs);\r\n\t\t\t\t\r\n\t\t\t\t// cs.applyBaseStyle(basestyle);\r\n\t\t\t\t\r\n\t\t\t\tvar nrecord = [stylelist.store._record(robj)]; // reader.extractData([robj], true);\r\n\t\t\t\t// stylelist.store.fillNode(urecord, nrecord);\r\n\t\t\t\tstylelist.store._appendNode(nrecord, urecord);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this,\r\n\t\t\tformHeader = new IG$.styleEditor({instance: me.instance, title: IRm$.r1('L_STYLE_TITLE'), name: \"form_header\", htype: \"hd\"}),\r\n\t\t\tformData = new IG$.styleEditor({instance: me.instance, title: IRm$.r1('L_STYLE_DATA'), name: \"form_data\", htype: \"dt\"}),\r\n\t\t\tdp = [{name: IRm$.r1(\"B_DEFAULT\"), value: \"\"}],\r\n\t\t\tcopt = IG$.__chartoption.chartcolors,\r\n\t\t\tk;\r\n\t\t\t\r\n\t\tfor (k in copt)\r\n\t\t{\r\n\t\t\tdp.push({name: k, value: k});\r\n\t\t};\r\n\t\t\r\n\t\tpanel.title = IRm$.r1('T_STYLE_WIZARD');\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"treepanel\",\r\n\t\t\t\t\ttitle: IRm$.r1(\"B_STYLE\"), // \"Style\",\r\n\t\t\t\t\tname: \"stylelist\",\r\n\t\t\t\t\tpreventHeader: true,\r\n\t\t\t\t\tregion: \"west\",\r\n\t\t\t\t\twidth: 160,\r\n\t\t\t\t\tsplit: true,\r\n\t\t\t\t\tborder: false,\r\n\t\t\t\t\trootVisible: false,\r\n\t\t\t\t\thideHeaders: true,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\txtype: \"treestore\",\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"text\", \"type\", \"pname\", \"region\", \"custom\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\troot: {\r\n\t\t\t\t\t\t\texpanded: true,\r\n\t\t\t\t\t\t\tname: \"Style\",\r\n\t\t\t\t\t\t\tchildren: []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfolderSort: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tuseArrows: true,\r\n\t\t\t\t\t\r\n\t\t\t\t\tdockedItems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: 'toolbar',\r\n\t\t\t\t\t\t\tdock: 'top',\r\n\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t\ticonCls: 'icon-toolbar-add',\r\n\t\t\t\t\t\t\t\t\ttooltip: \"Add Custom Style\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_NEW\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.toolbarHandler('cmd_add_custom'); \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_DELETE\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.toolbarHandler('cmd_delete'); \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"treecolumn\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TEXT\"),\r\n\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: 'actioncolumn',\r\n\t\t\t\t\t\t\twidth: 26,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// icon: './images/delete.png',\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\ttooltip: 'Delete item',\r\n\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tgetClass: function(v, metadata, r, rowIndex, colIndex, store) {\r\n\t\t\t\t\t\t\t\t\t\tif (rowIndex == 0 || r.isLeaf() == false || (r.data && r.data.custom == false))\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"idv-hd-val\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tafterrender: function() {\r\n\t\t\t\t\t\t\tvar ctrl = this;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemclick: function(view, record, item, index, e) {\r\n\t\t\t\t\t\t\tvar stylename = record.get(\"name\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (record.isRoot() == false && stylename)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpanel.editStyleItem(stylename);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\tregion: \"center\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: 'vbox',\r\n\t\t\t\t\t\talign: 'stretch'\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"sname\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_INHERIT\"), // Inherit\",\r\n\t\t\t\t\t\t\tname: \"base_style\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tchange: function(tobj, newvalue, oldvalue) {\r\n\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\tbasestylename = me.down(\"[name=base_style]\").getValue(),\r\n\t\t\t\t\t\t\t\t\t\tbs,\r\n\t\t\t\t\t\t\t\t\t\tform_header = me.down(\"[name=form_header]\"),\r\n\t\t\t\t\t\t\t\t\t\tform_data = me.down(\"[name=form_data]\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (me._valForm)\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (basestylename)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tbs = me.globalstylemap[basestylename];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (bs)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tform_header.loadStyleData(bs.header);\r\n\t\t\t\t\t\t\t\t\t\t\tform_data.loadStyleData(bs.data);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CHART_STYLE\"), // Chart Style\",\r\n\t\t\t\t\t\t\tname: \"c_cset\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: dp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: 'tabpanel',\r\n\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t\t\tformHeader\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis.loadGlobalStyle();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.cubeStyle.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.cube_object_select = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: {\r\n\t\ttype: \"vbox\",\r\n\t\talign: \"stretch\"\r\n\t},\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 770,\r\n\theight: 500,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.alias_map = {};\r\n\t\tme._aliasLoaded = false;\r\n\t\tme.curnode = null;\r\n\t\tme.cursop = null;\r\n\t\tme._getDB(me.targetdb || me.dbo.uid);\r\n\t},\r\n\t\r\n\t_getDB: function(uid) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tobj = {uid: uid},\r\n\t\t\tdbo = me.dbo;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: obj,\r\n\t\t\t\tmbody: {option: 'standard'}\r\n\t\t\t}, me, function(jdoc, poolname) {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\ttnode =  jdoc,\r\n\t\t\t\t\tfschema = me.down(\"[name=fschema]\"),\r\n\t\t\t\t\tsnodes, i, node,\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\tsvalue = dbo ? dbo.username.toUpperCase() : null,\r\n\t\t\t\t\tdvalue = \"\";\r\n\t\t\t\t\r\n\t\t\t\tif (tnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < jdoc.schemas.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnode = jdoc.schemas[i];\r\n\t\t\t\t\t\tdp.push(node);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (svalue && node.name.toUpperCase() == svalue)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdvalue = node.name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfschema.store.loadData(dp);\r\n\t\t\t\tfschema.setValue(dvalue);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_isValid: function(foolonly) {\r\n\t\tvar me = this,\r\n\t\t\tfschema = me.down(\"[name=fschema]\")\r\n\t\t\t\r\n\t\tfschema.clearInvalid();\r\n\t\t\r\n\t\tif (!fschema.getValue())\r\n\t\t{\r\n\t\t\tfschema.markInvalid(\"Select Item\");\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn 1;\r\n\t},\r\n\t\r\n\t_searchTb: function() {\r\n\t\tvar me = this,\r\n\t\t\tsrc_keyword = me.down(\"[name=src_keyword]\"),\r\n\t\t\tfschema = me.down(\"[name=fschema]\"),\r\n\t\t\tsname = fschema.getValue(),\r\n\t\t\ti,\r\n\t\t\tnode;\r\n\t\t\r\n\t\tif (!me._isValid())\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < fschema.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tif (fschema.store.data.items[i].get(\"name\") == sname)\r\n\t\t\t{\r\n\t\t\t\tnode = fschema.store.data.items[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme._getTable(node, null, src_keyword.getValue());\r\n\t},\r\n\t\r\n\t_getTable: function(node, option, keyword, params) {\r\n\t\tvar me = this,\r\n\t\t\tdb_uid = node.get(\"db_uid\"),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\topt = {uid: db_uid, option: option, schema: node.get(\"name\"), search: keyword, product_code: node.get(\"product_code\")},\r\n\t\t\tk;\r\n\t\t\r\n\t\tif (params)\r\n\t\t{\r\n\t\t\tfor (k in params)\r\n\t\t\t{\r\n\t\t\t\topt[k] = params[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: opt,\r\n\t\t\t\tmbody: opt\r\n\t\t\t}, me, me.rs__getTable, false, [node, option]);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs__getTable: function(jdoc, param) {\r\n\t\tvar me = this,\r\n\t\t\tnode = param[0],\r\n\t\t\toption = param[1],\r\n\t\t\tsnodes = jdoc.tables || (jdoc.length ? jdoc[0].children : null), \r\n\t\t\ti, tb, tables = [],\r\n\t\t\tb_content = option ? true : false,\r\n\t\t\tgrid = (b_content ? me.down(\"[name=grid_st]\") : me.down(\"[name=grid_sc]\"));\r\n\t\t\r\n\t\tif (snodes && snodes.length)\r\n\t\t{\r\n\t\t\tfor (i=0; i < snodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = b_content ? snodes[i].content : snodes[i];\r\n\t\t\t\ttb.uid = tb.uid || (\"\" + i);\r\n\t\t\t\ttb.product_code = node.get(\"product_code\");\r\n\t\t\t\ttb.allow_insert = tb.allow_insert;\r\n\t\t\t\ttb.allow_insert_desc = tb.allow_insert ? \"Yes\" : \"\";\r\n\t\t\t\ttables.push(tb);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.ShowError(IRm$.r1(\"M_NO_DATA\"), this);\r\n\t\t}\r\n\t\tgrid.store.loadData(tables);\r\n\t},\r\n\t\r\n\t_regTables: function(reverse, lrec) {\r\n\t\tvar me = this,\r\n\t\t\tgrid_sc = me.down(\"[name=grid_sc]\"),\r\n\t\t\tgrid_st = me.down(\"[name=grid_st]\"),\r\n\t\t\ti, sel, name,\r\n\t\t\talias = me.alias_map,\r\n\t\t\tnsel = 0,\r\n\t\t\trmap = {}, rec;\r\n\t\t\r\n\t\tif (reverse && lrec)\r\n\t\t{\r\n\t\t\tsel = {\r\n\t\t\t\tlength: 1,\r\n\t\t\t\titems: [lrec]\r\n\t\t\t};\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tsel = (reverse ? grid_st : grid_sc).getSelectionModel().selected;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif (sel.length == 0 && !reverse)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, \"Search and check table to register.\", null, null, 0, \"error\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!reverse)\r\n\t\t{\r\n\t\t\tfor (i=0; i < grid_st.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trec = grid_st.store.data.items[i];\r\n\t\t\t\trmap[rec.get(\"external_name\")] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\tif (reverse)\r\n\t\t\t{\r\n\t\t\t\tgrid_st.store.remove(sel.items[i]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (!rmap[sel.items[i].get(\"external_name\")])\r\n\t\t\t\t\tgrid_st.store.add(sel.items[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!reverse)\r\n\t\t{\r\n\t\t\tgrid_sc.getSelectionModel().clear();\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"L_IMPORT_TABLES\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: ig$.padding,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SCHEMA\"),\r\n\t\t\t\t\t\t\tname: \"fschema\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"name\",\r\n\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SELECT_ITEM\"),\r\n\t\t\t\t\t\t\ttypeAhead: true,\r\n\t\t\t\t\t\t\tforceSelection: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t// editable: false,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\"name\", \"uid\", \"db_uid\", \"type\"]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"grid_sc\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_AVAILABLE_ITEMS\"),\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_S_S1\"),\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"nodepath\", \"uid\", \"schemaname\", \"dispname\", \"checked\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"src_keyword\",\r\n\t\t\t\t\t\t\t\t\t\t\t// fieldLabel: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(item, e, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.keyCode == 13)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._searchTb();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis._searchTb();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\"->\"\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"object_type\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OBJ_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"external_name\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\titemdblclick: function(component, rec, node, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tme._regTables();\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \">\",\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis._regTables();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \"<\",\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis._regTables(1);\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SELECTED_ITEMS\"),\r\n\t\t\t\t\t\t\t\t\tname: \"grid_st\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_S_S1\"),\r\n\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tgt_keyword\",\r\n\t\t\t\t\t\t\t\t\t\t\t// fieldLabel: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(item, e, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.keyCode == 13 && IG$._dofilter(this, \"grid_st\", [\"name\"], me.down(\"[name=tgt_keyword]\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tIG$._dofilter(this, \"grid_st\", [\"name\"], me.down(\"[name=tgt_keyword]\"));\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"nodepath\", \"uid\", \"schemaname\", \"dispname\", \"checked\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"object_type\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OBJ_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"external_name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_REMOVE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._regTables(1, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\titemdblclick: function(component, rec, node, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tme._regTables(1, rec);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tgrid_st = me.down(\"[name=grid_st]\"),\r\n\t\t\t\t\t\t\ti, data = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < grid_st.store.data.items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.push(grid_st.store.data.items[i].data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!data.length)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, \"Search and check table to register.\", null, null, 0, \"error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.callback && me.callback.execute(data);\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.cube_object_select.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.securityFilter = $s.extend($s.window, {\r\n\t// title: \"Security Filter Management\",\r\n\tmodal: false,\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 400,\r\n\theight: 500,\r\n\tbodyPadding: ig$.padding,\r\n\t\r\n\t_key: 0,\r\n\t\r\n\t_addFilter: function() {\r\n\t\tvar me = this,\r\n\t\t\tpop;\r\n\t\t\r\n\t\tpop = new IG$.mgrUserDuty({\r\n\t\t\tinstance: me.instance,\r\n\t\t\tmodal: false,\r\n\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\tvar _userAuth = [],\r\n\t\t\t\t\ti,\r\n\t\t\t\t\titem,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tauthname = \"\",\r\n\t\t\t\t\tgridduty = this.down(\"[name=gridduty]\");\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar x = {\r\n\t\t\t\t\t\tsid: sel[i].get(\"sid\"),\r\n\t\t\t\t\t\tname: sel[i].get(\"name\")\r\n\t\t\t\t\t};\r\n\t\t\t\t\t_userAuth.push(x);\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif (_userAuth.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\titem = new IG$.clFilterGroup(null);\r\n\t\t\t\t\titem.auth = [];\r\n\t\t\t\t\tfor (i=0; i < _userAuth.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.auth.push({\r\n\t\t\t\t\t\t\tname: _userAuth[i].name,\r\n\t\t\t\t\t\t\tsid: _userAuth[i].sid\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tauthname += (i > 0 ? \",\" : \"\") + _userAuth[i].name;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\titem.active = true;\r\n\t\t\t\t\titem.index = me._key++;\r\n\t\t\t\t\tme.securityfilter.push(item);\r\n\t\t\t\t\trec = gridduty.store.add({\r\n\t\t\t\t\t\tauthname: authname,\r\n\t\t\t\t\t\tactive: item.active,\r\n\t\t\t\t\t\tindex: item.index\r\n\t\t\t\t\t});\r\n\t\t\t\t\tme.authSet(rec, \"edit\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tIG$.checkLogin(me, pop);\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tif (this.callback)\r\n\t\t{\r\n\t\t\tvar i,\r\n\t\t\t\tgridduty = this.down(\"[name=gridduty]\"),\r\n\t\t\t\tseq, seqids = {};\r\n\t\t\t\r\n\t\t\tfor (i=0; i < gridduty.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tseq = gridduty.store.data.items[i].get(\"index\");\r\n\t\t\t\tseqids[seq] = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=panel.securityfilter.length - 1; i>=0; i--)\r\n\t\t\t{\r\n\t\t\t\tseq = panel.securityfilter[i].index;\r\n\t\t\t\tif (!seqids[seq])\r\n\t\t\t\t{\r\n\t\t\t\t\tpanel.securityfilter.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.callback.execute();\r\n\t\t}\r\n\t\tthis.close();\r\n\t},\r\n\t\r\n\tloadSecurityFilter: function() {\r\n\t\tvar panel = this,\r\n\t\t\tdp = [],\r\n\t\t\tgridduty = this.down(\"[name=gridduty]\"),\r\n\t\t\ti, j,\r\n\t\t\tauthname,\r\n\t\t\tfilter;\r\n\t\t\r\n\t\tif (panel.securityfilter)\r\n\t\t{\r\n\t\t\tfor (i=0; i < panel.securityfilter.length; i++)\r\n\t\t\t{\r\n\t\t\t\tfilter = panel.securityfilter[i];\r\n\t\t\t\tfilter.auth = filter.auth || [];\r\n\t\t\t\tfilter.index = panel._key++;\r\n\t\t\t\t\r\n\t\t\t\tauthname = \"\";\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < filter.auth.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tauthname += (j > 0 ? \",\" : \"\") + filter.auth[j].name; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdp.push({\r\n\t\t\t\t\tauthname: authname,\r\n\t\t\t\t\tactive: filter.active,\r\n\t\t\t\t\tindex: filter.index\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgridduty.store.loadData(dp);\r\n\t},\r\n\t\r\n\tauthSet: function(rec, cmd) {\r\n\t\tvar me = this,\r\n\t\t\tgridduty = me.down(\"[name=gridduty]\"),\r\n\t\t\trowIndex,\r\n\t\t\tpop;\r\n\t\t\r\n\t\tvar i, mindex,\r\n\t\t\tseq = rec.get(\"index\"),\r\n\t\t\titem;\r\n\t\t\r\n\t\tfor (i=0; i < this.securityfilter.length; i++)\r\n\t\t{\r\n\t\t\tif (me.securityfilter[i].index == seq)\r\n\t\t\t{\r\n\t\t\t\titem = me.securityfilter[i];\r\n\t\t\t\tmindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (cmd == \"remove\")\r\n\t\t{\r\n\t\t\trowIndex = gridduty.store.indexOf(rec);\r\n\t\t\tme.securityfilter.splice(rowIndex, 1);\r\n\t\t\tgridduty.store.remove(rec);\r\n\t\t}\r\n\t\telse if (cmd == \"auth\")\r\n\t\t{\r\n\t\t\tpop = new IG$.mgrUserDuty({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tsel: item.auth,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\t\tvar _userAuth = [],\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\tauthname = \"\",\r\n\t\t\t\t\t\tgridduty = this.down(\"[name=gridduty]\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar x = {\r\n\t\t\t\t\t\t\tsid: sel[i].get(\"sid\"),\r\n\t\t\t\t\t\t\tname: sel[i].get(\"name\")\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t_userAuth.push(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (_userAuth.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.auth = [];\r\n\t\t\t\t\t\tfor (i=0; i < _userAuth.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.auth.push({\r\n\t\t\t\t\t\t\t\tname: _userAuth[i].name,\r\n\t\t\t\t\t\t\t\tsid: _userAuth[i].sid\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tauthname += (i > 0 ? \",\" : \"\") + _userAuth[i].name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\trec.set(\"authname\", authname);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar dlg = new IG$.filterEditorWindow({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tsheetoption: {\r\n\t\t\t\t\tmodel: {\r\n\t\t\t\t\t\tfilter: item,\r\n\t\t\t\t\t\tcube_object: {\r\n\t\t\t\t\t\t\tuid: me.uid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\treportoption: {\r\n\t\t\t\t\tcubeuid: me.uid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sop) {\r\n\t\t\t\t\tthis.securityfilter[mindex] = sop.model.filter;\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this;\r\n\t\t\r\n\t\tpanel.title = IRm$.r1(\"L_SECURITY_FILTER_MGR\");\r\n\t\t\r\n\t\tvar items = [\r\n\t\t\t{\r\n\t\t\t\txtype: \"form\",\r\n\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\tdefaults: {\r\n\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t},\r\n\t\t\t\tborder: 0,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\tvalue: \"Select user duty from list\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\tname: \"gridduty\",\r\n\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmultiSelect: true,\r\n\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\"authname\", \"active\", \"index\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\theader: \"Auth Name\",\r\n\t\t\t\t\t\t\t\tdataIndex: \"authname\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: 'actioncolumn',\r\n\t\t\t\t\t\t\t\twidth: 70,\r\n\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-add\",\r\n\t\t\t\t\t\t\t\t\t\ttooltip: 'Edit',\r\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\tpanel.authSet(rec, \"edit\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\ttooltip: 'Edit',\r\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\tpanel.authSet(rec, \"auth\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\ttooltip: 'Remove Filtering',\r\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\tpanel.authSet(rec, \"remove\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tvar buttons = [\r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1(\"L_ADD_FILTER\"),\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis._addFilter();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t},\r\n\t\t\t\"->\",\r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis._confirm();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}, \r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\thandler:function() {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: items,\r\n\t\t\tbuttons: buttons\r\n\t\t});\r\n\t\t\r\n\t\tIG$.securityFilter.superclass.initComponent.apply(this, arguments);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(ui) {\r\n\t\t\tthis.loadSecurityFilter();\r\n\t\t}\r\n\t}\r\n});\r\n","IG$.m$CubeModel = function(jdoc) {\r\n\tvar me = this,\r\n\t\tt, i, j, snodes, fnodes,\r\n\t\ttnode = jdoc,\r\n\t\tonode,\r\n\t\ttable, relation, field;\r\n\t\r\n\tme._mc = jdoc = jdoc || {};\r\n\t\r\n\t$s.defaults(jdoc, {\r\n\t\tpool: []\r\n\t})\r\n\t\r\n\tme.zoom = 1.0;\r\n\tme.groupview = false;\r\n\tme.tables = [];\r\n\tme.relations = [];\r\n\tme.highlight = [];\r\n\tme.fixKeyMode = false;\r\n\t\r\n\tonode = jdoc.tables;\r\n\t\r\n\tif (onode)\r\n\t{\r\n\t\tfor (i=0; i < onode.length; i++)\r\n\t\t{\r\n\t\t\ttable = new IG$.m$TblObj(onode[i]);\r\n\t\t\ttable.fields = [];\r\n\t\t\t\r\n\t\t\tfnodes = table.columns;\r\n\t\t\t\r\n\t\t\tif (fnodes)\r\n\t\t\t{\r\n\t\t\t\tfor (j=0; j < fnodes.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tfield = fnodes[j];\r\n\t\t\t\t\tfield.seq = table.seq;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tme.tables.push(table);\r\n\t\t}\r\n\t}\r\n\t\r\n\tonode = jdoc.joins;\r\n\t\r\n\tif (onode)\r\n\t{\r\n\t\tfor (i=0; i < onode.length; i++)\r\n\t\t{\r\n\t\t\tt = onode[i];\r\n\t\t\t\r\n\t\t\tt.source.seq = t.source.seq || 0;\r\n\t\t\tt.target.seq = t.target.seq || 0;\r\n\r\n\t\t\tme.relations.push(t);\r\n\t\t}\r\n\t}\r\n\t\r\n\tonode = jdoc.securityfilter;\r\n\t\r\n\tme.securityfilter = [];\r\n\t\r\n\tif (onode)\r\n\t{\r\n\t\tfor (i=0; i < onode.length; i++)\r\n\t\t{\r\n\t\t\tt = onode[i];\r\n\t\t\tme.securityfilter.push(t);\r\n\t\t}\r\n\t}\r\n\t\r\n\tme.highlight = jdoc.highlight;\r\n}\r\n\r\nIG$.m$TblObj = function(onode) {\r\n\tvar me = this,\r\n\t\ttbinfo;\r\n\t\r\n\tme._mc = onode;\r\n\tme.ranged = false;\r\n}\r\n\r\nIG$.m$TblObj.prototype = {\r\n\tstageX: function() {\r\n\t\tvar me = this,\r\n\t\t\tr = 0,\r\n\t\t\tbbox = me.bbox,\r\n\t\t\tmdom;\r\n\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t//if (!bbox)\r\n\t\t\t{\r\n\t\t\t\tme.bbox = {\r\n\t\t\t\t\tleft: me.box.pobj.scrollPanel.offset().left,\r\n\t\t\t\t\ttop: me.box.pobj.scrollPanel.offset().top\r\n\t\t\t\t};\r\n\t\t\t\tbbox = me.bbox;\r\n\t\t\t}\r\n\t\t\t// r = me.box.innerbox.offset().left - bbox.left;\r\n\t\t\tmdom = $(me.box.innerGrid.body.dom);\r\n\t\t\tr = mdom.offset().left - bbox.left;\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\tstageY: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tr = 0,\r\n\t\t\tbbox = me.bbox,\r\n\t\t\ti,\r\n\t\t\tbdom,\r\n\t\t\tsobj, skey;\r\n\t\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t//if (!bbox)\r\n\t\t\t{\r\n\t\t\t\tme.bbox = {\r\n\t\t\t\t\tleft: me.box.pobj.scrollPanel.offset().left,\r\n\t\t\t\t\ttop: me.box.pobj.scrollPanel.offset().top\r\n\t\t\t\t};\r\n\t\t\t\tbbox = me.bbox;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// r = me.box.innerbox.offset().top - bbox.top;\r\n\t\t\tbdom = $(me.box.innerGrid.body.dom);\r\n\t\t\tsobj = me.box.innerGrid.down(\"[name=skey]\");\r\n\t\t\tskey = sobj && sobj.body ? $(sobj.body.dom) : null;\r\n\t\t\t\r\n\t\t\tr = bdom.offset().top - bbox.top + (skey ? skey.height() || 0 : 0);\r\n\t\t\t\r\n\t\t\tif (fieldname != null)\r\n\t\t\t{\r\n\t\t\t\tvar grid = me.box.innerGrid,\r\n\t\t\t\t\thnode = null,\r\n\t\t\t\t\tm;\r\n\t\t\t\t\r\n\t\t\t\tm = grid.getHeight(fieldname);\r\n\t\t\t\t\r\n\t\t\t\tr += m.d;\r\n\t\t\t\tme.ranged = m.ranged;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\tbodyWidth: function() {\r\n\t\tvar me = this,\r\n\t\t\tr = 0;\r\n\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t// r = me.box.outerbox.width();\r\n\t\t\tr = me.box.innerGrid.getWidth();\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\tbodyHeight: function() {\r\n\t\tvar me = this,\r\n\t\t\tr = 0;\r\n\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t// r = (me.box.collapsed == true) ? me.box.theight : me.box.outerbox.height();\r\n\t\t\tr = me.box.innerGrid.getHeight();\r\n\t\t\t\r\n\t\t\tif (!r.ranged)\r\n\t\t\t{\r\n\t\t\t\tr = r.d;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t}\r\n}\r\n\r\nIG$.m$CubeModel.prototype = {\r\n\tgetXML: function() {\r\n\t\tvar me = this;\r\n\t\treturn me._mc;\r\n\t}\r\n}","IG$.cubeModelViewer = function(viewer, sobj) {\r\n\tvar me = this;\r\n\tme.sobj = sobj;\r\n\tme.instance = sobj.instance;\r\n\tme.viewer = viewer;\r\n\tme.dialog = [];\r\n\tme.links = [];\r\n\tme.zoomRatio = 1;\r\n\tme.lineMode = \"2\";\r\n}\r\n\r\nIG$.cubeModelViewer.prototype = {\r\n\tinit: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._mouseActionPoint = null;\r\n\t\t\r\n\t\tme.container = $(\"<div class='igc-cubemodelviewer'></div>\").css({position: \"absolute\", top: 0, bottom: 0, left: 0, right: 0, overflow: \"auto\"}).appendTo(me.viewer);\r\n\t\tme.paint = $(\"<div></div>\");\r\n\t\tme.paint.appendTo(me.container);\r\n\t\t\r\n\t\tme.scrollPanel = $(\"<div></div>\").css({\r\n\t\t\tposition: \"absolute\", \r\n\t\t\ttop: 0, \r\n\t\t\tbottom: 0, \r\n\t\t\twidth: IG$.j$ext._w(me.container), \r\n\t\t\theight: IG$.j$ext._h(me.container), \r\n\t\t\tbackgroundColor: \"none\"\r\n\t\t}).appendTo(me.container);\r\n\t\tme.appendScrollBar();\r\n\t\tme.container.droppable({\r\n\t\t\tdrop: function( event, ui ) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tme.allowDrop(me.scrollPanel[0]);\r\n\t\t\r\n\t\tme.container.bind(\"resize\", function(ev) {\r\n\t\t\tme.validateSize();\r\n\t\t});\r\n\t},\r\n\t\r\n\tzoom: function(level) {\r\n\t\tvar me = this,\r\n\t\t\tnzoom = me.zoomRatio + level;\r\n\t\t\r\n\t\tif (nzoom > 0.3 && nzoom < 5)\r\n\t\t{\r\n\t\t\tme.zoomRatio = nzoom;\r\n\t\t\t\r\n\t\t\t// $(me.viewer).animate({'zoom': me.zoomRatio}, 400);\r\n\t\t\t$(me.scrollPanel).css({\"transform\": \"scale(\" + nzoom + \",\" + nzoom + \")\", \"transform-origin\": \"0px 0px\"});\r\n\t\t}\r\n\t},\r\n\t\r\n\tallowDrop: function(el) {\r\n\t\tvar grid = this,\r\n\t\t\tme = this;\r\n\t\t\r\n\t\tme.dropZone = $s.create($s.dropzone, el, {\r\n\t\t\tddGroup: 'CubeModelDDGroup',\r\n\t\t\t\r\n\t\t\tnodeouttimer: -1,\r\n\t\t\t\r\n\t\t\tgetTargetFromEvent: function(e) {\r\n\t\t\t\tvar px = e.browserEvent.pageX || e.browserEvent.clientX,\r\n\t\t\t\t\tpy = e.browserEvent.pageY || e.browserEvent.clientY,\r\n\t\t\t\t\trenderer = grid.getRendererByPoint(px, py);\r\n\t\t\t\t\r\n\t\t\t\tif (renderer == null)\r\n\t\t\t\t{\r\n\t\t\t\t\trenderer = el;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn renderer;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tnotifyOut : function(dd, e, data){\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tif(me.lastOverNode){\r\n\t\t\t\t\tme.onNodeOut(me.lastOverNode, dd, e, data);\r\n\t\t\t\t\tme.lastOverNode = null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgrid.isDragging = false;\r\n\t\t\t\tif (!grid.hideDropFeedback)\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t\tgrid.hideDropFeedback(e);\r\n\t\t\t\t\r\n\t\t\t\tif (me.accept == true && me.pivotmove == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (grid.sheetobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (me.nodeouttimer > -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclearTimeout(me.nodeouttimer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.nodeouttimer = setTimeout(function() {\r\n\t\t\t\t\t\t\tgrid.hideDropFeedback(e);\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t// grid.sheetobj.procUpdateReport();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tonNodeEnter : function(target, dd, e, data){\r\n\t\t\t\tgrid.isDragging = true;\r\n\t\t\t\t\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tdt, dttype,\r\n\t\t\t\t\thasitem = false,\r\n\t\t\t\t\taccept = false;\r\n\t\t\t\t\t\r\n\t\t\t\tif (data.records && data.records.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdt = data.records[0].get(\"type\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (dt == \"Table\" || dt == \"InlineView\" || dt == \"CubeModel\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taccept = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (data.cellData)\r\n\t\t\t\t{\r\n\t\t\t\t\tdt = data.cellData;\r\n\t\t\t\t\taccept = true;\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tme.accept = accept;\r\n\t\t\t},\r\n\t\t\tonNodeOut : function(target, dd, e, data){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tonNodeOver : function(target, dd, e, data){\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tdt,\r\n\t\t\t\t\tret;\r\n\t\t\t\t\r\n\t\t\t\tif (window.Ext)\r\n\t\t\t\t{\t\r\n\t\t\t\t\t ret = ((me.accept == true) ? Ext.dd.DropZone.prototype.dropAllowed : Ext.dd.DropZone.prototype.dropNotAllowed);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tret =me.accept;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (me.accept == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (data.records && data.records.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.records[0].data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.cellData;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\tonNodeDrop : function(target, dd, e, data){\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tdt;\r\n\t\t\t\tif (me.accept == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (data.records && data.records.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.records[0].data;\r\n\t\t\t\t\t\tgrid.sobj.onDropRecord(e, dt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.cellData;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.accept = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t\r\n\tfocusTable: function(tb) {\r\n\t\tvar me = this,\r\n\t\t\tcontainer = me.container,\r\n\t\t\tbox = tb.box.innerGrid,\r\n\t\t\tviewer = me.viewer,\r\n\t\t\tboff, doff, dom;\r\n\t\t\t\r\n\t\tif (box)\r\n\t\t{\r\n\t\t\tdoff = container.offset();\r\n\t\t\tif (box.$ex)\r\n\t\t\t{\r\n\t\t\t\t// for webix\r\n\t\t\t\tif (me._psel && me._psel.box)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(me._psel.box.innerGrid.$ex.$view).removeClass(\"igc-f-table\");\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tdom = $(box.$ex.$view);\r\n\t\t\t\t\r\n\t\t\t\tboff = dom.offset();\r\n\t\t\t\tdom.addClass(\"igc-f-table\");\r\n\t\t\t\tcontainer.animate({\r\n\t\t\t\t\tscrollTop: Math.max(boff.top - doff.top + container.scrollTop() - (viewer.height() - dom.height()) / 2, 0),\r\n\t\t\t\t\tscrollLeft: Math.max(boff.left - doff.left + container.scrollLeft() - (viewer.width() - dom.width()) / 2, 0)\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t\telse if (box.el && box.el.dom)\r\n\t\t\t{\r\n\t\t\t\t// for sencha\r\n\t\t\t\tif (me._psel && me._psel.box)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(me._psel.box.innerGrid.el.dom).removeClass(\"igc-f-table\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdom = $(box.el.dom);\r\n\t\t\t\t\r\n\t\t\t\tboff = dom.offset();\r\n\t\t\t\tdom.addClass(\"igc-f-table\");\r\n\t\t\t\tcontainer.animate({\r\n\t\t\t\t\tscrollTop: Math.max(boff.top - doff.top + container.scrollTop() - (viewer.height() - dom.height()) / 2, 0),\r\n\t\t\t\t\tscrollLeft: Math.max(boff.left - doff.left + container.scrollLeft() - (viewer.width() - dom.width()) / 2, 0)\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t\tme._psel = tb;\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetRendererByPoint: function() {\r\n\t\treturn null;\r\n\t},\r\n\t\r\n\tappendScrollBar: function() {\r\n\t\tvar me = this,\r\n\t\t\tviewer = this;\r\n\t\t\r\n\t\tme.scrollbar = $(\"<div></div>\").css({\r\n\t\t\tposition: \"absolute\", \r\n\t\t\ttop: 0, bottom: 0, \r\n\t\t\twidth: IG$.j$ext._w(me.container), \r\n\t\t\theight: IG$.j$ext._h(me.container), \r\n\t\t\tbackgroundColor: \"none\"\r\n\t\t}).appendTo(me.scrollPanel);\r\n\t\tme.rcanvas = Raphael(me.scrollbar[0], 0, 0, \"100%\", \"100%\");\r\n\t\tme._ca = [];\r\n\t},\r\n\t\r\n\tscrollHandler: function(ctype, ev) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tswitch (ctype)\r\n\t\t{\r\n\t\tcase \"down\":\r\n\t\t\tme._mouseActionPoint = {x: ev.pageX, y:ev.pageY};\r\n\t\t\tbreak;\r\n\t\tcase \"up\":\r\n\t\t\tme._mouseActionPoint = null;\r\n\t\t\tbreak;\r\n\t\tcase \"move\":\r\n\t\t\tvar w_o6 = IG$.j$ext._w(container),\r\n\t\t\t\tw_o5 = IG$.j$ext._w(scrollPanel),\r\n\t\t\t\th_o6 = IG$.j$ext._h(container),\r\n\t\t\t\th_o5 = IG$.j$ext._h(scrollPanel);\r\n\t\t\t\t\r\n\t\t\tif (me._mouseActionPoint != null && (w_o6 < w_o5 || h_container < h_scrollPanel))\r\n\t\t\t{\r\n\t\t\t\tvar paint = me.paint,\r\n\t\t\t\t\tscrollpanel = me.scrollPanel,\r\n\t\t\t\t\tscrollbar = me.scrollbar,\r\n\t\t\t\t\tm = me.container.offset(),\r\n\t\t\t\t\toffset = scrollpanel.offset(),\r\n\t\t\t\t\tdx = ev.pageX - me._mouseActionPoint.x,\r\n\t\t\t\t\tdy = ev.pageY - me._mouseActionPoint.y,\r\n\t\t\t\t\ta;\r\n\t\t\t\t\r\n\t\t\t\t// offset.top -= m.top;\r\n\t\t\t\t// offset.left -= m.left;\r\n\t\t\t\t\r\n\t\t\t\ta = {top: offset.top + dy, left: offset.left + dx};\r\n\t\t\t\t\r\n\t\t\t\tme._mouseActionPoint = {x: ev.pageX, y: ev.pageY};\r\n\t\t\t\t\r\n\t\t\t\tif (a.top < h_o6 - h_o5 || a.left < w_o6 - w_o5 || a.top - m.top> 0 || a.left - m.left> 0)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tscrollbar.offset(a);\r\n\t\t\t\tscrollpanel.offset(a);\r\n\t\t\t\tpaint.offset(a);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tclearAll: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.dialog = [];\r\n\t\tme.links = [];\r\n\t\tme.rcanvas.clear();\r\n\t\t$.each(me._ca, function(i, c) {\r\n\t\t\tc.remove();\r\n\t\t});\r\n\t\tme._ca = [];\r\n\t\tme.scrollPanel.empty();\r\n\t\tme.appendScrollBar();\r\n\t},\r\n\t\r\n\tvalidateTimer: -1,\r\n\t\r\n\tvalidateSize: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.validateTimer)\r\n\t\t{\r\n\t\t\tclearTimeout(me.validateTimer);\r\n\t\t}\r\n\t\t\r\n\t\tme.validateTimer = setTimeout(function() {\r\n\t\t\tme.validateSizeProc();\r\n\t\t}, 100);\r\n\t},\r\n\t\r\n\tvalidateSizeProc: function() {\r\n\t\tvar viewer = this,\r\n\t\t\to = viewer.container.offset(),\r\n\t\t\tw = IG$.j$ext._w(viewer.container),\r\n\t\t\th = IG$.j$ext._h(viewer.container),\r\n\t\t\ti;\r\n\t\t\r\n\t\tfor (i=0; i < viewer.dialog.length; i++)\r\n\t\t{\r\n\t\t\tw = Math.max(w, viewer.dialog[i].table.stageX() + viewer.dialog[i].table.bodyWidth() + 100);\r\n\t\t\th = Math.max(h, viewer.dialog[i].table.stageY() + viewer.dialog[i].table.bodyHeight() + 100);\r\n\t\t}\r\n\t\t\r\n\t\tIG$.j$ext._w(viewer.scrollPanel, w);\r\n\t\tIG$.j$ext._h(viewer.scrollPanel, h);\r\n\t\tIG$.j$ext._w(viewer.scrollbar, w);\r\n\t\tIG$.j$ext._h(viewer.scrollbar, h);\r\n\t\tIG$.j$ext._w(viewer.paint, w);\r\n\t\tIG$.j$ext._h(viewer.paint, h);\r\n\t\t\r\n\t\tviewer.rcanvas.setViewBox(0, 0, w, h, true);\r\n\t\tviewer.rcanvas.setSize(w, h);\r\n\t\t\r\n\t\tviewer.validateLinks();\r\n\t},\r\n\t\r\n\tvalidateLinks: function() {\r\n\t\tvar me = this,\r\n\t\t\ti;\r\n\t\t\r\n\t\tme.rcanvas.clear();\r\n\t\t\r\n\t\t$.each(me._ca, function(i, c) {\r\n\t\t\tc.remove();\r\n\t\t});\r\n\t\tme._ca = [];\r\n\t\t\r\n\t\tfor (i=0; i < me.links.length; i++)\r\n\t\t{\r\n\t\t\tme.links[i].refresh(i, me.sobj.cubemodel.groupview == true);\r\n\t\t}\r\n\t},\r\n\t\r\n\taddBox: function(x, y, width, height, tb, main) {\r\n\t\tvar me = this,\r\n\t\t\tb = new IG$.tableBox(me, x, y, width, height, tb);\r\n\t\tb.main = main;\r\n\t\tb.collapsePanel();\r\n\t\tb.innerGrid.fixKeyMode(tb._mcfixKeyMode);\r\n\t\tme.dialog.push(b);\r\n\t\treturn b;\r\n\t},\r\n\t\r\n\taddLink: function(fobj, tobj, link, relations) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tb,\r\n\t\t\tl;\r\n\t\t\r\n\t\tme.relations = relations;\r\n\t\t\r\n\t\tfor (i=0; i < me.links.length; i++)\r\n\t\t{\r\n\t\t\tl = me.links[i];\r\n\t\t\t\r\n\t\t\tif (!l)\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tif ((l.fromobj._mc.uid == fobj._mc.uid && l.toobj._mc.uid == tobj._mc.uid && l.fromobj._mc.seq == fobj._mc.seq && l.toobj._mc.seq == tobj._mc.seq) || \r\n\t\t\t\t(l.fromobj._mc.uid == tobj._mc.uid && l.toobj._mc.uid == fobj._mc.uid && l.fromobj._mc.seq == tobj._mc.seq && l.toobj._mc.seq == fobj._mc.seq))\r\n\t\t\t{\r\n\t\t\t\tb = l;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (b)\r\n\t\t{\r\n\t\t\tb.links.push(link);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tb = new IG$.LinkField(me, fobj, tobj, link, relations);\r\n\t\t\tme.links.push(b);\r\n\t\t}\r\n\t\treturn b;\r\n\t},\r\n\t\r\n\tremoveTbl: function(tobj) {\r\n\t\tvar me = this,\r\n\t\t\tsobj = me.sobj,\r\n\t\t\tc1 = sobj.cubemodel,\r\n\t\t\ti, j,\r\n\t\t\tdialog = me.dialog,\r\n\t\t\tlinks = me.links,\r\n\t\t\tr;\r\n\t\t\r\n\t\tfor (i=0; i < c1.tables.length; i++)\r\n\t\t{\r\n\t\t\tif (tobj.table == c1.tables[i])\r\n\t\t\t{\r\n\t\t\t\tc1.tables.splice(i, 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < dialog.length; i++)\r\n\t\t{\r\n\t\t\tif (dialog[i] == tobj)\r\n\t\t\t{\r\n\t\t\t\tdialog.splice(i, 1);\r\n\t\t\t\t// tobj.outerbox.remove();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=links.length-1; i >=0; i--) \r\n\t\t{\r\n\t\t\tif (links[i].fromobj == tobj.table || links[i].toobj == tobj.table)\r\n\t\t\t{\r\n\t\t\t\tr = links[i];\r\n\t\t\t\tfor (j=c1.relations.length-1; j>=0; j--)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (c1.relations[j].bl == r)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc1.relations.splice(j, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlinks.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tsobj.updateUsedTable();\r\n\t\tsobj.validateTables();\r\n\t\tsobj.validateJoins();\r\n\t}\r\n};\r\n\r\nIG$.tableBox = function(pobj, x, y, width, height, table) {\r\n\tvar tbbox = this,\r\n\t\tme = this,\r\n\t\towner = pobj,\r\n\t\tibox, \r\n\t\tdval = table._mc.name;\r\n\t\r\n\tme.instance = pobj.instance;\r\n\tme.pobj = pobj;\r\n\tme.table = table;\r\n\t\r\n\ttable._mc.theight = table._mc.theight || height;\r\n\t\r\n\tif (table._mc.seq && table._mc.seq > 0)\r\n\t{\r\n\t\tdval += \"(\" + table._mc.seq + \")\";\r\n\t}\r\n\t\r\n\tme.innerGrid = new $s.panel({\r\n\t\tinstance: me.instance,\r\n\t\trenderTo: this.pobj.scrollPanel[0], //ibox[0],\r\n\t\ttable: table,\r\n\t\tautoScroll: false,\r\n\t\tstateful: false,\r\n\t\t// resize: true,\r\n\t\tdraggable: true,\r\n\t\t// floating: true,\r\n\t\t// baseCls: $s.baseCSSPrefix + 'window',\r\n\t\tplain: false,\r\n\t\tminimizable: false,\r\n\t\talwaysFramed: true,\r\n\t\tclosable: true,\r\n\t\tmove: true,\r\n\t\tcpa: owner,\r\n\t\ttitle: dval,\r\n\t\tx: x,\r\n\t\tborder: 1,\r\n\t\ty: y,\r\n\t\twidth: width,\r\n\t\theight: ((table._mc.theight || 100) < 100 ? 100 : table._mc.theight), //ibox.height(),\r\n\t\tviewmode: \"physical\",\r\n\t\tfixKeyVal: false,\r\n\t\tfixKeyMode: function(status) {\r\n\t\t\tvar me = this;\r\n\t\t\tme.fixKeyVal = status;\r\n\t\t\tme.g_key.setVisible(status);\r\n\t\t\t\r\n\t\t\tme.loadData();\r\n\t\t},\r\n\t\tlayout: {\r\n\t\t\ttype: \"vbox\",\r\n\t\t\talign: \"stretch\"\r\n\t\t},\r\n\t\theaderButtons: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"close\",\r\n\t\t\t\tname: \"b_csch\",\r\n\t\t\t\ttooltip: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\thandler: function(event, toolel, pheader) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme.doSearch();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t],\r\n\t\t_loadModel: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\ttb = me.table._mc,\r\n\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\r\n\t\t\tif (tb.uid && tb.type.toLowerCase() == \"cubemodel\")\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tuid: tb.uid,\r\n\t\t\t\t\t\t\ttype: tb.type\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tvar mc = jdoc.content,\r\n\t\t\t\t\t\t\ttb = mc.tables,\r\n\t\t\t\t\t\t\tstables = me.down(\"[name=stables]\"),\r\n\t\t\t\t\t\t\ttables = [],\r\n\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\tmtb;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < tb.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmtb = {\r\n\t\t\t\t\t\t\t\tuid: tb[i].uid,\r\n\t\t\t\t\t\t\t\ttype: tb[i].type,\r\n\t\t\t\t\t\t\t\tname: tb[i].name,\r\n\t\t\t\t\t\t\t\tnodepath: tb[i].nodepath\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttables.push(mtb);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstables.store.loadData(tables);\r\n\t\t\t\t\t});\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_loadField: function(uid) {\r\n\t\t\tvar me = this,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\ttbl = me.table._mc,\r\n\t\t\t\t_tables = me.table._tables;\r\n\t\t\t\r\n\t\t\tme.table._sel_table = uid;\r\n\t\t\t\r\n\t\t\tif (_tables[uid])\r\n\t\t\t{\r\n\t\t\t\tvar cpa = me.cpa.sobj;\r\n\t\t\t\tcpa.validateTables();\r\n\t\t\t\tcpa.validateJoins();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\t\t\tpayload: {uid: uid, option: \"StoredContent\"},\r\n\t\t\t\t\t\tmbody: {option: \"folder\", readcontent: \"T\"}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tvar m = this,\r\n\t\t\t\t\t\t\tjnode = jdoc.length ? jdoc[0] : null,\r\n\t\t\t\t\t\t\ttnode = jnode ? jnode.content : null, \r\n\t\t\t\t\t\t\ttnodes,\r\n\t\t\t\t\t\t\tfields = [], field,\r\n\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\tcpa = m.cpa.sobj;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t_tables[uid] = {columns: []};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (jnode && jnode.children)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttnodes = jnode.children;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfield = tnodes[i].content;\r\n\t\t\t\t\t\t\t\tfield.model = tbl.uid;\r\n\t\t\t\t\t\t\t\tfield.tablename = jnode.name || field.tablename;\r\n\t\t\t\t\t\t\t\tfield.alias = field.alias || field.name;\r\n\t\t\t\t\t\t\t\tfield.iskey = field.iskey;\r\n\t\t\t\t\t\t\t\tfield.leaf = true;\r\n\t\t\t\t\t\t\t\tfield.dispname = field.name;\r\n\t\t\t\t\t\t\t\tfield.allowDrag = true;\r\n\t\t\t\t\t\t\t\tfield.seq = table._mc.seq;\r\n\t\t\t\t\t\t\t\tfield.tableuid = jnode.uid;\r\n\t\t\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_tables[uid].columns = fields;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcpa.validateTables();\r\n\t\t\t\t\t\tcpa.validateJoins();\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t},\r\n\t\tloadData: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\tgfields = [],\r\n\t\t\t\tgkeys = [],\r\n\t\t\t\ti,\r\n\t\t\t\ttbl = me.table,\r\n\t\t\t\ttb = me.table._mc,\r\n\t\t\t\tcolumns = tb.columns,\r\n\t\t\t\tcol;\r\n\t\t\t\r\n\t\t\tif (tb.type.toLowerCase() == \"cubemodel\")\r\n\t\t\t{\r\n\t\t\t\tif (tbl._sel_table && tbl._tables[tbl._sel_table])\r\n\t\t\t\t{\r\n\t\t\t\t\tcolumns = tbl._tables[tbl._sel_table].columns;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tme._loadModel();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (columns)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < columns.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tcol = columns[i];\r\n\t\t\t\t\tif (me.fixKeyVal && (col.iskey == true || col.hasjoin == true))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgkeys.push(col);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgfields.push(col);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.g_key.store.loadData(gkeys);\r\n\t\t\tme.g_fields.store.loadData(gfields);\r\n\t\t},\r\n\t\tgetHeight: function(fieldname) {\r\n\t\t\tvar me = this,\r\n\t\t\t\tr = {\r\n\t\t\t\t\td: 0,\r\n\t\t\t\t\tranged: false\r\n\t\t\t\t}, i, hnode,\r\n\t\t\t\tranged = false,\r\n\t\t\t\tgrid, bf = false,\r\n\t\t\t\tm, gh;\r\n\t\t\t\r\n\t\t\tif (me.fixKeyVal)\r\n\t\t\t{\r\n\t\t\t\tgrid = me.g_key;\r\n\t\t\t\t\r\n\t\t\t\tgh = grid.getHeight();\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < grid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (grid.store.data.items[i].get(\"name\") == fieldname)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thnode = grid.getView().getNode(i);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (hnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tbf = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tm = $(hnode).offset().top - $(grid.el.dom).offset().top + $(hnode).height() / 2;\r\n\t\t\t\t\tif (m > -1 && m < gh)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tranged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tm = (m < 0) ? 0 : m;\r\n\t\t\t\t\t\tm = Math.min(m, gh);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (bf == false)\r\n\t\t\t{\r\n\t\t\t\tgrid = me.g_fields;\r\n\t\t\t\tgh = grid.getHeight();\r\n\t\t\t\t\r\n\t\t\t\tif (fieldname)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < grid.store.data.items.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (grid.store.data.items[i].get(\"name\") == fieldname)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thnode = grid.getView().getNode(i);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tm = gh;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (hnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tm = $(hnode).offset().top - $(grid.el.dom).offset().top + $(hnode).height() / 2;\r\n\t\t\t\t\tif (m > -1 && m < gh)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tranged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tm = (m < 0) ? 0 : m;\r\n\t\t\t\t\t\tm = Math.min(m, gh);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (m)\r\n\t\t\t{\r\n\t\t\t\tr.d = m;\r\n\t\t\t}\r\n\t\t\tr.ranged = ranged;\r\n\t\t\t\r\n\t\t\treturn r;\r\n\t\t},\r\n\t\tadjHeight: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\tn, th = 22, mh,\r\n\t\t\t\theight = me.getHeight();\r\n\t\t\t\r\n\t\t\tif (me.fixKeyVal)\r\n\t\t\t{\r\n\t\t\t\tn = me.g_key.store.data.items.length;\r\n\t\t\t\tif (n == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.g_key.setVisible(false);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tme.g_key.setVisible(true);\r\n\t\t\t\t\tmh = Math.min(th * n+2, height * 0.4);\r\n\t\t\t\t\tme.g_key.setHeight(mh);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.cpa.validateLinks();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tsearchField: function() {\r\n\t\t\tvar me = this;\r\n\t\t\t\r\n\t\t\tme.__s && clearTimeout(me.__s);\r\n\t\t\t\r\n\t\t\tme.__s = setTimeout(function() {\r\n\t\t\t\tme.searchFlt();\r\n\t\t\t}, 40);\r\n\t\t},\r\n\t\t\r\n\t\tsearchFlt: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\tg_fields = me.down(\"[name=g_fields]\"),\r\n\t\t\t\tgs = g_fields.store,\r\n\t\t\t\tskey = me.down(\"[name=skey]\").getValue();\r\n\t\t\t\r\n\t\t\tif (skey)\r\n\t\t\t{\r\n\t\t\t\tskey = skey.toLowerCase();\r\n\t\t\t\tgs.clearFilter(true);\r\n\t\t\t\tgs.filterBy(function(record) {\r\n\t\t\t\t\tvar r = true,\r\n\t\t\t\t\t\tgname = record.get(\"name\").toLowerCase(),\r\n\t\t\t\t\t\tfieldname = record.get(\"fieldname\") || \"\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tfieldname = fieldname.toLowerCase();\r\n\t\t\t\t\tr = gname.indexOf(skey) > -1 || fieldname.indexOf(skey) > -1;\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tgs.clearFilter(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\titems: [\r\n\t\t\t{\r\n\t\t\t\txtype: \"container\",\r\n\t\t\t\thidden: me.table._mc.type != \"CubeModel\",\r\n\t\t\t\tlayout: {\r\n\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t},\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\tname: \"stables\",\r\n\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\tif (tobj.getValue())\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tme.innerGrid.table._tables = me.innerGrid.table._tables || {}; \r\n\t\t\t\t\t\t\t\t\tme.innerGrid._loadField(tobj.getValue());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\ticonCls: \"icon-refresh\",\r\n\t\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\thandler: {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"textfield\",\r\n\t\t\t\tname: \"skey\",\r\n\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_ITEM\"),\r\n\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tkeyup: function(tobj, e, eOpts) {\r\n\t\t\t\t\t\ttobj.ownerCt.searchField();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\tname: \"g_key\",\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tscroll: \"vertical\",\r\n\t\t\t\tautoScroll: true,\r\n\t\t\t\tenableDragDrop: true,\r\n\t\t\t\tenableDD: true,\r\n\t\t\t\tuseArrows: true,\r\n\t\t\t\theader: false,\r\n\t\t\t\thideHeaders: true,\r\n\t\t\t\thidden: true,\r\n\t\t\t\tcpa: owner,\r\n\t\t\t\tddGroup: \"CubeModelFieldDDGroup\",\r\n\t\t\t\tviewConfig: {\r\n\t\t\t\t\temptyText: IRm$.r1(\"L_P_RELOAD\"),\r\n\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\tddGroup: \"CubeModelFieldDDGroup\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar ffield = data.records[0],\r\n\t\t\t\t\t\t\t\ttfield = dropRec;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (ffield && tfield)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\towner.sobj.onDropField(ffield, tfield);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tstore: {\r\n\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\"name\", \"nodepath\", \"datasize\", \"datatype\", \"tablename\", \"type\", \"selected\", \"seq\", \"alias\", \"tableuid\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tafterScroll: function() {\r\n\t\t\t\t\tthis.cpa.validateLinks();\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"checkcolumn\",\r\n\t\t\t\t\t\tdataIndex: \"selected\",\r\n\t\t\t\t\t\tenableColumnHide: false,\r\n\t\t\t\t\t\tcheckedAll: false,\r\n\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\tcls: \"x-grid-checkheader-editor\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\tcheckchange: function(column, rowIndex, checked, eOpts) {\r\n\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\tgrid = tbbox.innerGrid.g_fields,\r\n\t\t\t\t\t\t\t\t\tdata = grid.store.data.items[rowIndex],\r\n\t\t\t\t\t\t\t\t\tnodepath = data.get(\"nodepath\"),\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table, i;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (table.fields[i].nodepath == nodepath)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = checked;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theaderclick: function(ct, column, e, t, eOpts) {\r\n\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\tgrd = ct.ownerCt,\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table;\r\n\t\t\t\t\t\t\t\tif (column.xtype == \"checkcolumn\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolumn.checkedAll = ! column.checkedAll;\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < grd.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tgrd.store.data.items[i].set(\"selected\", column.checkedAll);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = column.checkedAll;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),  \r\n\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theader: IRm$.r1(\"B_ALIAS\"),\r\n\t\t\t\t\t\tdataIndex: \"fieldname\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\t\tvar view = this.getView();\r\n\t\t\t\t\t\tview.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscrollershow: function(scroller, orientation, eOpts ) {\r\n\t\t\t\t\t\t// scroller.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\tname: \"g_fields\",\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tscroll: \"vertical\",\r\n\t\t\t\tautoScroll: true,\r\n\t\t\t\tenableDragDrop: true,\r\n\t\t\t\tenableDD: true,\r\n\t\t\t\tuseArrows: true,\r\n\t\t\t\theader: false,\r\n\t\t\t\thideHeaders: true,\r\n\t\t\t\tflex: 1,\r\n\t\t\t\tcpa: owner,\r\n\t\t\t\tddGroup: \"CubeModelFieldDDGroup\",\r\n\t\t\t\tviewConfig: {\r\n\t\t\t\t\temptyText: IRm$.r1(\"L_P_RELOAD\"),\r\n\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\tddGroup: \"CubeModelFieldDDGroup\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar ffield = data.records[0],\r\n\t\t\t\t\t\t\t\ttfield = dropRec;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (ffield && tfield)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\towner.sobj.onDropField(ffield, tfield);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tstore: {\r\n\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\"name\", \"nodepath\", \"datasize\", \"datatype\", \"tablename\", \"type\", \"selected\", \"seq\", \"alias\", \"tableuid\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tafterScroll: function() {\r\n\t\t\t\t\tthis.cpa.validateLinks();\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"checkcolumn\",\r\n\t\t\t\t\t\tdataIndex: \"selected\",\r\n\t\t\t\t\t\tenableColumnHide: false,\r\n\t\t\t\t\t\tcheckedAll: false,\r\n\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\tcls: \"x-grid-checkheader-editor\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\tcheckchange: function(column, rowIndex, checked, eOpts) {\r\n\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\tgrid = tbbox.innerGrid.g_fields,\r\n\t\t\t\t\t\t\t\t\tdata = grid.store.data.items[rowIndex],\r\n\t\t\t\t\t\t\t\t\tnodepath = data.get(\"nodepath\"),\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table, i;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (table.fields[i].nodepath == nodepath)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = checked;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theaderclick: function(ct, column, e, t, eOpts) {\r\n\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\tgrd = ct.ownerCt,\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table;\r\n\t\t\t\t\t\t\t\tif (column.xtype == \"checkcolumn\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolumn.checkedAll = ! column.checkedAll;\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < grd.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tgrd.store.data.items[i].set(\"selected\", column.checkedAll);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = column.checkedAll;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),  \r\n\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theader: IRm$.r1(\"B_ALIAS\"),\r\n\t\t\t\t\t\tdataIndex: \"fieldname\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\t\tvar view = this.getView();\r\n\t\t\t\t\t\tview.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscrollershow: function(scroller, orientation, eOpts ) {\r\n\t\t\t\t\t\t// scroller.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\tbbar: [\r\n\t\t\t{\r\n\t\t\t\txtype: \"button\",\r\n\t\t\t\ticonCls: \"icon-tb-alias\",\r\n\t\t\t\ttooltip: \"Alias\",\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tvar me = this.innerGrid,\r\n\t\t\t\t\t\tgrid1 = this.innerGrid.g_key,\r\n\t\t\t\t\t\tgrid = this.innerGrid.g_fields,\r\n\t\t\t\t\t\tc = grid.columns,\r\n\t\t\t\t\t\tc1 = grid1.columns;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.viewmode == \"physical\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.viewmode = \"logical\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (me.viewmode == \"logical\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.viewmode = \"both\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.viewmode = \"physical\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tswitch (me.viewmode)\r\n\t\t\t\t\t{\r\n\t\t\t\t\tcase \"physical\":\r\n\t\t\t\t\t\tc[1].show();\r\n\t\t\t\t\t\tc[2].hide();\r\n\t\t\t\t\t\tc1[1].show();\r\n\t\t\t\t\t\tc1[2].hide();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"logical\":\r\n\t\t\t\t\t\tc[1].hide();\r\n\t\t\t\t\t\tc[2].show();\r\n\t\t\t\t\t\tc1[1].hide();\r\n\t\t\t\t\t\tc1[2].show();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tc[1].show();\r\n\t\t\t\t\t\tc[2].show();\r\n\t\t\t\t\t\tc1[1].show();\r\n\t\t\t\t\t\tc1[2].show();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: tbbox\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"button\",\r\n\t\t\t\ticonCls: \"icon-tb-refresh\",\r\n\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tgrid = me.innerGrid.g_fields;\r\n\t\t\t\t\tif (me.table._mc.type.toLowerCase() == \"cubemodel\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar stables = me.innerGrid.down(\"[name=stables]\");\r\n\t\t\t\t\t\tif (stables.getValue())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tme.table._tables = me.table._tables || {};\r\n\t\t\t\t\t\t\tme.innerGrid._loadField(stables.getValue());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.main.loadTableContent(me.table);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: tbbox\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"button\",\r\n\t\t\t\ticonCls: \"icon-tb-preview\",\r\n\t\t\t\ttooltip: \"Preview\",\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis.main.previewSQL(this.table);\r\n\t\t\t\t},\r\n\t\t\t\tscope: tbbox\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\tname: \"m_disp\"\r\n\t\t\t}\r\n\t\t],\r\n\t\tlisteners: {\r\n\t\t\tafterrender: function(ui) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tme.fixKeyVal = me.cpa.sobj.fixKeyMode;\r\n\t\t\t\tme.g_key = me.down(\"[name=g_key]\");\r\n\t\t\t\tme.g_fields = me.down(\"[name=g_fields]\");\r\n\t\t\t\tme.m_disp = me.down(\"[name=m_disp]\");\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar tdiv = $(me.$ex.$view);\r\n\t\t\t\t\tvar tbutton = $(\"<div class='igc-table-remove'><span class='webix_icon fa- icon-c-fix fa fa-times'></span></div>\").appendTo($(\".webix_win_head\", tdiv));\r\n\r\n\t\t\t\t\ttbutton.bind(\"click\", function(e) {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\tme.close();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\ttdiv.resizable({\r\n\t\t\t\t\t\tminWidth: 180,\r\n\t\t\t\t\t\tminHeight: 200,\r\n\t\t\t\t\t\tstart: function(ev, ui) {\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstop: function(ev, ui) {\r\n\t\t\t\t\t\t\tme.setSize(ui.size.width, ui.size.height);\r\n\t\t\t\t\t\t\tpobj.validateSize();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 10);\r\n\t\t\t\t\r\n\t\t\t\tme.loadData();\r\n\t\t\t},\r\n\t\t\tscrollershow: function(scroller, orientation, eOpts ) {\r\n\t\t\t\t// scroller.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t},\r\n\t\t\tresize: function(tobj, width, height, owidth, oheight, eopts) {\r\n\t\t\t\t// tobj.adjHeight();\r\n\t\t\t\tpobj.validateSize();\r\n\t\t\t},\r\n\t\t\tstartmove: function(tobj) {\r\n\t\t\t\tif (tobj.$ex)\r\n\t\t\t\t{\r\n\t\t\t\t\ttobj.$ex.config.zoomRatio = pobj.zoomRatio;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmove: function(tobj, x, y, eOpts) {\r\n\t\t\t\tif (x < 0 || y < 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setPosition(x < 0 ? 0 : x, y < 0 ? 0 : y);\r\n\t\t\t\t}\r\n\t\t\t\tpobj.validateSize();\r\n\t\t\t},\r\n\t\t\tclose: function(panel, eOpts) {\r\n\t\t\t\towner.removeTbl(tbbox);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\t// this.pobj.scrollPanel[0]\r\n\t// this.innerGrid.show(this.pobj.scrollPanel[0]);\r\n}\r\n\r\nIG$.tableBox.prototype = {\r\n\tfixKeyMode: function(status) {\r\n\t\tif (this.table.fixKeyMode == status)\r\n\t\t\treturn;\r\n\t\t\t\r\n\t\tthis.table.fixKeyMode = status;\r\n\t\t\r\n\t\tthis.innerGrid.fixKeyMode(status);\r\n\t},\r\n\t\r\n\tcollapsePanel: function(status) {\r\n\t\tvar me = this,\r\n\t\t\towner = me.pobj,\r\n\t\t\tbom, bel,\r\n\t\t\th;\r\n\t\t\t\r\n\t\tvar w = me.table._mc.width, // tbbox.innerbox.width(),\r\n\t\t\th = me.table._mc.theight; // tbbox.innerbox.height();\r\n\t\t\r\n\t\th = ((h || 100) < 100) ? 100 : h;\r\n\t\t\r\n\t\t// me.innerGrid.setHeight(h);\r\n\t\t\t\t\r\n\t\tme.innerGrid.setVisible(true);\r\n\t\t// me.innerGrid.setSize(w, h);\r\n\t\t\r\n\t\t// tbbox.table.width = w;\r\n\t\t// tbbox.table.height = h;\r\n\r\n\t\t// me.innerGrid.setWidth(w);\r\n\t\t// me.innerGrid.setHeight(h);\r\n\t\t\r\n//\t\t\tme.outerbox.resizable({\r\n//\t\t\t\tstart: function(event, ui) {\r\n//\t\t\t\t\ttbbox.innerGrid.setVisible(false);\r\n//\t\t\t\t},\r\n//\t\t\t\tstop: function(event, ui) {\r\n//\t\t\t\t\towner.validateSize();\r\n//\t\t\t\t\towner.validateLinks();\r\n//\t\t\t\t\tvar w = tbbox.innerbox.width(),\r\n//\t\t\t\t\t\th = tbbox.innerbox.height();\r\n//\t\t\t\t\t\r\n//\t\t\t\t\ttbbox.innerGrid.setVisible(true);\r\n//\t\t\t\t\ttbbox.innerGrid.setSize(w, h);\r\n//\t\t\t\t\ttbbox.table.width = w;\r\n//\t\t\t\t\ttbbox.table.height = h;\r\n//\t\t\t\t}\r\n//\t\t\t});\r\n\t\t// mobj.removeClass(\"idv-cm-tb-exp\");\r\n\t\t\r\n\t\towner.validateSize();\r\n\t\towner.validateLinks();\r\n\t}\r\n};\r\n\r\nIG$.LinkField = function(pobj, fromobj, toobj, link, relations) {\r\n\tvar me = this;\r\n\t\r\n\tme.pobj = pobj;\r\n\tme.fromobj = fromobj;\r\n\tme.toobj = toobj;\r\n\tme.links = [link];\r\n\tme.relations = relations;\r\n\t\r\n\tme._fromDir = \"\";\r\n\tme._toDir = \"\";\r\n\t\r\n\tme.lineMode = pobj.lineMode;\r\n}\r\n\r\nIG$.LinkField.prototype = {\r\n\tvalidateDirection: function(z) {\r\n\t\tvar iz = 1/z,\r\n\t\t\tfo = $(this.fromobj.box.innerGrid.body.dom), //this.fromobj.box.outerbox,\r\n\t\t\tf = fo.offset(),\r\n\t\t\tto = $(this.toobj.box.innerGrid.body.dom), // this.toobj.box.outerbox,\r\n\t\t\tt = to.offset(),\r\n\t\t\tfow = IG$.j$ext._w(fo) * z,\r\n\t\t\ttow = IG$.j$ext._w(to) * z;\r\n\t\t\r\n\t\tif (f.left + fow < t.left)\r\n\t\t{\r\n\t\t\tthis._fromDir = \"right\";\r\n\t\t\tthis._toDir = \"left\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (t.left + tow < f.left)\r\n\t\t\t{\r\n\t\t\t\tthis._fromDir = \"left\";\r\n\t\t\t\tthis._toDir = \"right\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (f.left > t.left)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._fromDir = \"right\";  // \"left\"\r\n\t\t\t\t\tthis._toDir = \"right\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._fromDir = \"right\";\r\n\t\t\t\t\tthis._toDir = \"right\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tshowLinkEditor: function(link, links) {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.pobj.instance,\r\n\t\t\tdlg = new IG$.linkEditor({\r\n\t\t\t\tinstance: instance,\r\n\t\t\t\tpobj: this.pobj,\r\n\t\t\t\tlink: link,\r\n\t\t\t\tlinks: links,\r\n\t\t\t\trelations: this.relations,\r\n\t\t\t\tcallback: new IG$.callBackObj(this, this.rs_showLinkEditor)\r\n\t\t\t});\r\n\t\t\r\n\t\tIG$.showDlg(me, dlg);\r\n\t},\r\n\trs_showLinkEditor: function(params) {\r\n\t\tvar me = this,\r\n\t\t\tpobj = me.pobj,\r\n\t\t\tsobj = pobj.sobj,\r\n\t\t\tlinks = params[0],\r\n\t\t\tmode = params[1],\r\n\t\t\ti;\r\n\t\tswitch (mode)\r\n\t\t{\r\n\t\tcase \"remove\":\r\n\t\t\tsobj.updateJoinFields();\r\n\t\t\tsobj.validateLinks();\r\n\t\t\tpobj.validateLinks();\r\n\t\t\tbreak;\r\n\t\tcase \"confirm\":\r\n\t\t\tfor (i=0; i < me.links.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (me.links[i] != links[0])\r\n\t\t\t\t{\r\n\t\t\t\t\tme.links[i].join = links[0].join;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpobj.validateLinks();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\trefresh: function(_i, groupview) {\r\n\t\tvar i,\r\n\t\t\towner = this,\r\n\t\t\tthickness = 1,\r\n\t\t\tp1, p2, p3, p4,\r\n\t\t\tfromobj = owner.fromobj,\r\n\t\t\ttoobj = owner.toobj,\r\n\t\t\tlinks = owner.links,\r\n\t\t\tcgap = 10, lp1, lp2, _cp,\r\n\t\t\tlgap = 5,\r\n\t\t\tcdist = 10, // + _i * 3,\r\n\t\t\tg = owner.pobj.rcanvas,\r\n\t\t\tltype = {stroke: \"#8d8d8d\", \"stroke-width\": 1, fill: \"none\", opacity: 1},\r\n\t\t\tbtype = {stroke: \"#8d8d8d\", fill: \"#8d8d8d\", opacity: 1},\r\n\t\t\t_index = 0,\r\n\t\t\tpvalue, link,\r\n\t\t\tranged, nlinks = [],\r\n\t\t\tlineMode = \"0\", // owner.lineMode,\r\n\t\t\tz = owner.pobj.zoomRatio,\r\n\t\t\tiz = 1 / z,\r\n\t\t\t_ca,\r\n\t\t\t_cpx;\r\n\t\t\t\r\n\t\tif (owner.links && owner.links.length > 1 && groupview == true)\r\n\t\t{\r\n\t\t\tthickness = owner.links.length * 1.5;\r\n\t\t}\r\n\t\t\r\n\t\towner.validateDirection(z);\r\n\t\t\r\n\t\tnlinks = (groupview == true && links.length > 0) ? [links[0]] : links;\r\n\t\t\r\n\t\t$.each(nlinks, function(i, link) {\r\n\t\t\tvar pt;\r\n\t\t\t\r\n\t\t\tif (!link)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tvar fromdirection = owner._fromDir,\r\n\t\t\t\ttodirection = owner._toDir;\r\n\t\t\t\r\n\t\t\tlink.p1dist = (typeof(link.p1dist) == \"undefined\") ? null : link.p1dist;\r\n\t\t\t// cdist += i * 2;\r\n\t\t\t\r\n\t\t\tif (link.source.tablename == toobj._mc.name && link.target.tablename == fromobj._mc.name && link.source.seq == toobj._mc.seq && link.target.seq == fromobj._mc.seq)\r\n\t\t\t{\r\n\t\t\t\tfromobj = owner.toobj;\r\n\t\t\t\ttoobj = owner.fromobj;\r\n\t\t\t\tif (fromdirection != todirection)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t\t\tfromdirection = \"left\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tfromdirection = \"right\";\r\n\t\t\t\t\tif (todirection == \"right\")\r\n\t\t\t\t\t\ttodirection = \"left\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ttodirection = \"right\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tfromobj = owner.fromobj;\r\n\t\t\t\ttoobj = owner.toobj;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpvalue = (links.length == 1 || groupview == false) ? links[i].source.name : null;\r\n\t\t\tp1 = {x: fromobj.stageX() * iz, y: fromobj.stageY(pvalue) * iz};\r\n\t\t\tpvalue = (links.length == 1 || groupview == false) ? links[i].target.name : null;\r\n\t\t\tp4 = {x: toobj.stageX() * iz, y: toobj.stageY(pvalue) * iz};\r\n\t\t\t\r\n\t\t\tif (fromobj.ranged == true && toobj.ranged == true)\r\n\t\t\t{\r\n\t\t\t\tranged = true;\r\n\t\t\t\tltype.stroke = \"#000000\";\r\n\t\t\t\tltype[\"stroke-width\"] = thickness;\r\n\t\t\t\tbtype.stroke = \"#000000\";\r\n\t\t\t\tbtype.fill = \"#000000\";\r\n\t\t\t}\r\n\t\t\telse if (thickness > 1)\r\n\t\t\t{\r\n\t\t\t\tranged = false;\r\n\t\t\t\tltype.stroke = \"#000000\";\r\n\t\t\t\tltype[\"stroke-width\"] = thickness;\r\n\t\t\t\tbtype.stroke = \"#000000\";\r\n\t\t\t\tbtype.fill = \"#000000\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tranged = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (fromdirection == \"right\")\r\n\t\t\t{\r\n\t\t\t\tp1.x += fromobj.bodyWidth();\r\n\t\t\t\tp2 = {x: p1.x + cdist, y: p1.y};\r\n\t\t\t}\r\n\t\t\telse if (fromdirection == \"left\")\r\n\t\t\t{\r\n\t\t\t\tp2 = {x: p1.x - cdist, y: p1.y};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (todirection == \"right\")\r\n\t\t\t{\r\n\t\t\t\tp4.x += toobj.bodyWidth();\r\n\t\t\t\tp3 = {x: p4.x + cdist, y: p4.y};\r\n\t\t\t}\r\n\t\t\telse if (todirection == \"left\")\r\n\t\t\t{\r\n\t\t\t\tp3 = {x: p4.x - cdist, y: p4.y};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (lineMode == \"2\")\r\n\t\t\t{\r\n\t\t\t\tif (fromdirection == todirection && todirection == \"right\")\r\n\t\t\t\t{\r\n\t\t\t\t\tp2 = {x: Math.max(p1.x, p4.x) + cdist, y: p1.y};\r\n\t\t\t\t\tp3 = {x: Math.max(p1.x, p4.x) + cdist, y: p4.y};\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpt = p1.x + link.p1dist;\r\n\t\t\t\t\t\tif (pt < Math.max(p1.x, p4.x) + cdist)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (fromdirection == todirection && todirection == \"left\")\r\n\t\t\t\t{\r\n\t\t\t\t\tp2 = {x: Math.min(p1.x, p4.x) - cdist, y: p1.y};\r\n\t\t\t\t\tp3 = {x: Math.min(p1.x, p4.x) - cdist, y: p4.y};\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpt = p1.x + link.p1dist;\r\n\t\t\t\t\t\tif (pt > Math.min(p1.x, p4.x) - cdist)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t_cpx = (p1.x + p4.x) / 2;\r\n\t\t\t\t\tp2 = {x: _cpx, y: p1.y};\r\n\t\t\t\t\tp3 = {x: _cpx, y: p4.y};\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpt = p1.x + link.p1dist;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (pt < p1.x + cdist || pt > p4.x - cdist)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (pt > p1.x - cdist || pt < p4.x + cdist)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tp2.x = p1.x + link.p1dist;\r\n\t\t\t\t\tp3.x = p2.x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t_cp = IG$.lineInterpolate(p2, p3, 3);\r\n\t\t\t_cp = _cp.length > 0 ? _cp[1] : null;\r\n\t\t\t\r\n\t\t\tif (links && links.length > 0 && links[0].join == \"RIGHT OUTER\")\r\n\t\t\t{\r\n\t\t\t\tif (todirection == \"right\")\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + p4.x + \" \" + (p4.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p4.x + cgap) + \" \" + p4.y + \r\n\t\t\t\t\t\t   \"L\" + p4.x + \" \" + (p4.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + p4.x + \" \" + (p4.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p4.x - cgap) + \" \" + p4.y + \r\n\t\t\t\t\t\t   \"L\" + p4.x + \" \" + (p4.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (links && links.length > 0 && links[0].join == \"LEFT OUTER\")\r\n\t\t\t{\r\n\t\t\t\t// n:1\r\n\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + p1.x + \" \" + (p1.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p1.x + cgap) + \" \" + p1.y + \r\n\t\t\t\t\t\t   \"L\" + p1.x + \" \" + (p1.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + (p1.x) + \" \" + (p1.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p1.x-cgap) + \" \" + p1.y + \r\n\t\t\t\t\t\t   \"L\" + (p1.x) + \" \" + (p1.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tg.path(\"M\" + p1.x + \" \" + p1.y + \r\n\t\t\t\t   \"L\" + p2.x + \" \" + p2.y + \r\n\t\t\t\t   \"L\" + p3.x + \" \" + p3.y +\r\n\t\t\t\t   \"L\" + p4.x + \" \" + p4.y).attr(ltype);\r\n\t\t\t\r\n\t\t\tvar bobj = (links.length == 1 || groupview == true) ? links : [links[i]];\r\n\t\t\tvar c = $(\"<div class='igc-cm-join'><span></span></div>\").appendTo(owner.pobj.scrollbar),\r\n\t\t\t\tldesc = \"\",\r\n\t\t\t\tcspan = $(\"span\", c),\r\n\t\t\t\tgap;\r\n\t\t\t\r\n\t\t\tif (groupview == true)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < links.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (i > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tldesc += \"\\n\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tldesc += links[i].source.name;\r\n\t\t\t\t\tif (links[i].source.name != links[i].target.name)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tldesc += \" - \" + links[i].target.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tldesc = link.source.name + \" - \" + link.target.name;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcspan.html(ldesc);\r\n\t\t\tc.attr(\"title\", ldesc);\r\n\t\t\t\r\n\t\t\tgap = Math.min(cspan.width() / 2 || 30, 20)\r\n\t\t\t\t\r\n\t\t\tc.css({left: _cp.x - gap, top: _cp.y});\r\n\t\t\tc.bind(\"click\", function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\t\r\n\t\t\t\towner.showLinkEditor(bobj, links);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\towner.pobj._ca.push(c);\r\n//\t\t\tvar c = g.circle(_cp.x, _cp.y, 4).attr(btype).data(\"owner\", owner).data(\"link\", bobj).click(\r\n//\t\t\t\tfunction() {\r\n//\t\t\t\t\towner.showLinkEditor(bobj, links);\r\n//\t\t\t\t}\r\n//\t\t\t);\r\n\t\t\t\r\n\t\t\tif (lineMode == \"2\")\r\n\t\t\t{\r\n\t\t\t\tvar lx = 0,\r\n\t\t\t\t\tly = 0,\r\n\t\t\t\t\tox = 0,\r\n\t\t\t\t\toy = 0,\r\n\t\t\t\t\tcx = 0,\r\n\t\t\t\t\tsx = _cp.x,\r\n\t\t\t\t\tsy = _cp.y;\r\n\t\t\t\t\t\r\n\t\t\t\tvar mv = function(dx, dy) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tlx = dx + ox;\r\n\t\t\t\t\tcx = _cp.x + lx;\r\n\t\t\t\t\tly = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fromdirection == todirection && fromdirection == \"right\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (cx < Math.max(p1.x, p4.x) + cgap)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlx = Math.max(p1.x, p4.x) + cgap - _cp.x;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (cx > Math.max(p1.x, p4.x) + 500)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlx = Math.max(p1.x, p4.x) + 500 - _cp.x;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx < p1.x + cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p1.x + cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx > p1.x - cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p1.x - cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (todirection == \"left\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx > p4.x - cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p4.x - cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx < p4.x + cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p4.x + cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tme.transform('t' + lx + ',' + ly);\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tvar st = function(e) {\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tvar ed = function(e) {\r\n\t\t\t\t\t// e.stopPropagation();\r\n\t\t\t\t\tox = lx;\r\n\t\t\t\t\toy = ly;\r\n\t\t\t\t\tif (Math.abs(lx) < 2 && Math.abs(ly) < 2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\towner.showLinkEditor(bobj, links);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlink.p1dist = _cp.x + lx - p1.x;\r\n\t\t\t\t\t\towner.pobj.validateLinks();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tc.drag(mv, st, ed);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n","IG$.linkFieldEditor = $s.extend($s.window, {\r\n\t// title: \"Join (Relation) Custom Field\",\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 420,\r\n\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\ttarget = me._target;\r\n\r\n\t\tif (target)\r\n\t\t{\r\n\t\t\tme.down(\"[name=t_disp]\").setValue(target.name);\r\n\t\t\tme.down(\"[name=t_value]\").setValue(me.joinobj[me.fieldname]);\r\n\t\t}\r\n\t},\r\n\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\ttarget = me._target;\r\n\r\n\t\tif (target)\r\n\t\t{\r\n\t\t\tme.joinobj[me.fieldname] = me.down(\"[name=t_value]\").getValue();\r\n\t\t}\r\n\r\n\t\tme.callback && me.callback.execute();\r\n\t\tme.close();\r\n\t},\r\n\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.title = IRm$.r1(\"L_JOIN_REL_CUSTOM_FIELD\");\r\n\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: ig$.padding,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tname: \"t_disp\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\tname: \"t_value\",\r\n\t\t\t\t\t\t\theight: 120\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \"Field in formula, Use {FIELD}. Ex: SUBSTR({FIELD}, 1, 6)\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.linkFieldEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\nIG$.linkEditor = $s.extend($s.window, {\r\n\t// title: \"Join (Relation) Editor\",\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 420,\r\n\tautoHeight: true,\r\n\t\r\n\tcallback: null,\r\n\t_curLink: null,\r\n\t\r\n\t_init: function() {\r\n\t\tthis._curLink = null;\r\n\t\t\r\n\t\tif (this.link && this.link.length > 0)\r\n\t\t{\r\n\t\t\tvar selR = this.down(\"[name=selR]\"),\r\n\t\t\t\tbtn_upd = this.down(\"[name=btn_upd]\"), \r\n\t\t\t\tdp = [], i, svalue,\r\n\t\t\t\tl;\r\n\t\t\t\t\r\n\t\t\tif (this.link.length > 1)\r\n\t\t\t{\r\n\t\t\t\tselR.setVisible(true);\r\n\t\t\t\tbtn_upd.setVisible(true);\r\n\t\t\t\tfor (i=0; i < this.link.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tl = this.link[i];\r\n\t\t\t\t\tdp.push({\r\n\t\t\t\t\t\tname: l.source.tablename + \".\" + l.source.name + \" - \" + l.target.tablename + \".\" + l.target.name,\r\n\t\t\t\t\t\t__i: i\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tselR.store.loadData(dp);\r\n\t\t\t\tselR.setValue(0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setFieldValue(this.link[0]);\r\n\t\t}\r\n\t},\r\n\t\r\n\tsetFieldValue: function(link) {\r\n\t\tvar me = this,\r\n\t\t\tsfield = me.down(\"[name=sfield]\"),\r\n\t\t\ttfield = me.down(\"[name=tfield]\"),\r\n\t\t\toprel = me.down(\"[name=oprel]\");\r\n\t\t\r\n\t\tif (link)\r\n\t\t{\r\n\t\t\tme._curLink = link;\r\n\t\t\t\r\n\t\t\tsfield.setValue(me.getDispName(link.source));\r\n\t\t\ttfield.setValue(me.getDispName(link.target));\r\n\t\t\t// tfield.setValue(link.target.tablename + \".\" + link.target.name);\r\n\t\t\t\r\n\t\t\toprel.setValue(link.join);\r\n\t\t}\r\n\t},\r\n\r\n\tgetDispName: function(m) {\r\n\t\tvar r = \"\";\r\n\t\tif (m.formula)\r\n\t\t{\r\n\t\t\tr = m.formula;\r\n\t\t\tr = r.replace(\"{FIELD}\", m.name);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tr = m.tablename + \".\" + m.name\r\n\t\t}\r\n\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tremoveLink: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, j, bfound = 0, mfound,\r\n\t\t\tselR = me.down(\"[name=selR]\"),\r\n\t\t\tlinks = me.link,\r\n\t\t\trelations = me.relations,\r\n\t\t\tcurLink = me._curLink,\r\n\t\t\tpobj = me.pobj,\r\n\t\t\tplinks = pobj.links;\r\n\t\t\r\n\t\tif (links.length > 1)\r\n\t\t{\r\n\t\t\tfor (i=0; i < relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (relations[i] == curLink)\r\n\t\t\t\t{\r\n\t\t\t\t\trelations.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < links.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (links[i] == curLink)\r\n\t\t\t\t{\r\n\t\t\t\t\tlinks.splice(i, 1);\r\n\t\t\t\t\tbfound = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < plinks.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmfound = 0;\r\n\t\t\t\tfor (j=0; j < plinks[i].links.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].links[j] == curLink)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// this.pobj.links.splice(i, 1);\r\n\t\t\t\t\t\tplinks[i].links.splice(j, 1);\r\n\t\t\t\t\t\tmfound = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (mfound)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].length == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tplinks.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (bfound)\r\n\t\t\t{\r\n\t\t\t\tvar t = selR.getValue();\r\n\t\t\t\tfor (i=0; i < selR.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (selR.store.data.items[i].get(\"__i\") == t)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselR.store.removeAt(i);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (selR.store.data.items.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tselR.hide();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (selR.store.data.items.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tselR.setValue(selR.store.data.items[0].get(\"__i\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < selR.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tselR.store.data.items[i].set(\"__i\", i);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.callback && me.callback.execute([links, \"remove\"]);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (i=0; i < relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (relations[i] == curLink)\r\n\t\t\t\t{\r\n\t\t\t\t\trelations.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < plinks.length; i++)\r\n\t\t\t{\r\n\t\t\t\tbfound = 0;\r\n\t\t\t\tfor (j=0; j < plinks[i].links.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].links[j] == curLink)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// this.pobj.links.splice(i, 1);\r\n\t\t\t\t\t\tplinks[i].links.splice(j, 1);\r\n\t\t\t\t\t\tbfound = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bfound)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].length == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tplinks.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.callback && me.callback.execute([links, \"remove\"]);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\tconfirmChanges: function() {\r\n\t\tvar me = this,\r\n\t\t\toprel = me.down(\"[name=oprel]\"),\r\n\t\t\tcurLink = me._curLink;\r\n\t\t\r\n\t\tif (curLink)\r\n\t\t{\r\n\t\t\tcurLink.join = oprel.getValue();\r\n\t\t\tcurLink.operator = \"=\";\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.confirmChanges();\r\n\t\tme.callback && me.callback.execute([me.link, \"confirm\"]);\r\n\t\tme.close();\r\n\t},\r\n\r\n\teditField: function(issource) {\r\n\t\tvar me = this,\r\n\t\t\tl = me._curLink,\r\n\t\t\tffield = me.down(\"[name=\" + (issource ? \"s\" : \"t\") + \"field]\"),\r\n\t\t\tfield = issource ? l.source : l.target,\r\n\t\t\tfieldname = (issource ? \"source\" : \"target\") + \"_field_formula\",\r\n\t\t\tdlg;\r\n\r\n\t\tif (field)\r\n\t\t{\r\n\t\t\tdlg = new IG$.linkFieldEditor({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tjoinobj: l,\r\n\t\t\t\t_target: field,\r\n\t\t\t\tfieldname: fieldname,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t\tffield.setValue(this.getDispName(field));\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: ig$.padding,\r\n\t\t\ttitle: IRm$.r1(\"L_JOIN_REL_EDITOR\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_RELATION\"),\r\n\t\t\t\t\t\t\tname: \"selR\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tlabelField: \"name\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"__i\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"__i\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tchange: function(field, newValue, oldValue, eOpts) {\r\n\t\t\t\t\t\t\t\t\tvar p = field.getValue();\r\n\t\t\t\t\t\t\t\t\tthis.setFieldValue(this.link[p]);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tname: \"sfield_cnt\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"sfield\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SOURCE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.editField(true);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tname: \"tfield_cnt\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"tfield\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TARGET_FIELD\"),\r\n\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.editField(false);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\tlabelWidth: 150\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_OPTIONS\"), //\"Options\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\tname: \"oprel\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SRC_TO_TGT_IS\"),\r\n\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\tvalueField: \"op\",\r\n\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\tlabelField: \"name\",\r\n\t\t\t\t\t\t\t\t\t$w: 390,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"op\", \"desc\"\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Inner equal\", op: \"INNER JOIN\", desc: \"Show only match values\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Left outer\", op: \"LEFT OUTER\", desc: \"Show all source values even not match\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Right outer\", op: \"RIGHT OUTER\", desc: \"Show all target values even not match\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Auto natural\", op: \"NATURAL\", desc: \"Automatic join with column foreign key\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Full outer\", op: \"FULL OUTER\", desc: \"Show all source and target values\"}\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tchange: function(cobj) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec,\r\n\t\t\t\t\t\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\t\t\t\t\t\tr,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcval = cobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\top_desc = this.down(\"[name=op_desc]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < cobj.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tr = cobj.store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (r.get(\"op\") == cval)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trec = r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (rec)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\top_desc.setValue(\"* \" + rec.get(\"desc\"));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"op_desc\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"right\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\tname: \"btn_upd\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_CONFIRM_CURRENT\"), // \"Confirm current\",\r\n\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.confirmChanges();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_RELATION\"), // \"Remove Relation\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.removeLink();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.linkEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.CubeModel = $s.extend(IG$.v$pnl, {\r\n\tcollapseFirst:false,\r\n\tbodyBorder: false,\r\n\tlayout: \"fit\",\r\n\tdefaults: {\r\n\t\tcollapsible: false,\r\n\t\tsplit: false,\r\n\t\tanimFloat: false,\r\n\t\tautoHide: false,\r\n\t\tuseSplitTips: true\r\n\t},\r\n\t\r\n\tinitialized: false,\r\n\tclosable: true,\r\n\t\r\n\toverflowX: \"hidden\",\r\n\toverflowY: \"hidden\",\r\n\t\r\n\ticonCls: \"icon-cubemodel\",\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tcontainer = me.down(\"[name=mcontainer]\");\r\n\t\t\r\n\t\tme.m = new IG$.cubeModelViewer($(container.body.dom), me);\r\n\t\tme.m.init();\r\n\t\t \r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.load_content();\r\n\t\t\t\r\n\t\t\tme.down(\"[name=t_save]\").setVisible(me.writable);\r\n\t\t\t \r\n\t\t\tif (me.writable)\r\n\t\t\t{\r\n\t\t\t\tIG$.checkLock(me, function(cmd) {\r\n\t\t\t\t\tif (cmd != \"unlock\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.writable = false;\r\n\t\t\t\t\t\tme.down(\"[name=t_save]\").hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (me._c$)\r\n\t\t{\r\n\t\t\tme.rs_load_content(me._c$);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.cubemodel = new IG$.m$CubeModel(null);\r\n\t\t\tme.loadPool();\r\n\t\t}\r\n\t},\r\n\t\r\n\tload_content: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {address: me.uid},\r\n\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t}, me, me.rs_load_content, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_load_content: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\trnode,\r\n\t\t\t_mc,\r\n\t\t\ttboname = me.down(\"[name=tboname]\");\r\n\t\t\r\n\t\tme.cubemodel = new IG$.m$CubeModel(jdoc.content);\r\n\t\t_mc = me.cubemodel._mc;\r\n\t\t\r\n\t\tif (!_mc.datasource && me.obj_uid)\r\n\t\t{\r\n\t\t\t_mc.datasource = {\r\n\t\t\t\tuid: me.obj_uid\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if (me.obj_uid)\r\n\t\t{\r\n\t\t\t_mc.datasource.uid = me.obj_uid;\r\n\t\t}\r\n\t\t\r\n\t\tme.obj_uid = _mc.datasource.uid;\r\n\t\t\r\n\t\tme.cubemodel.datasource = {\r\n\t\t\tuid: _mc.datasource.uid || me.obj_uid\r\n\t\t};\r\n\r\n\t\tlet boname = \"-\";\r\n\r\n\t\tif (me.obj_uid)\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\treq.init(me,\r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\tpayload: {uid: me.obj_uid},\r\n\t\t\t\t\tmbody: {option: \"translate\"}\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tif (jdoc && jdoc.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme._$bo = jdoc[0];\r\n\t\t\t\t\t\tboname = jdoc[0].name;\r\n\t\t\t\t\t\ttboname.setText(boname);\r\n\t\t\t\t\t\ttboname.setTooltip(\"BO ON : \" + jdoc[0].nodepath + \"\\nClick to refresh data!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}, false);\r\n\t\t\treq.send();\r\n\t\t}\r\n\r\n\t\ttboname.setText(boname);\r\n\t\ttboname.setTooltip(\"\");\r\n\t\t\r\n\t\trnode = {\r\n\t\t\ttype: \"ROOT\",\r\n\t\t\tname: \"DataSource\",\r\n\t\t\tuid: me.obj_uid,\r\n\t\t\tleaf: false,\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"load\",\r\n\t\t\t\t\tname: \"Loading...\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\trnode = me.down(\"[name=mtree]\").setRootNode(rnode);\r\n\t\trnode.expand();\r\n\t\t\r\n\t\tme.loadPool();\r\n\t},\r\n\t\r\n\tloadPool: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.validateTables();\r\n\t\tme.validateJoins();\r\n\t},\r\n\t\r\n\tupdatePoolInfo: function(jdoc, tarr) {\r\n\t\tvar i, j,\r\n\t\t\titem,\r\n\t\t\tmnodes,\r\n\t\t\tdb;\r\n\t\tfor (i=0; i < jdoc.length; i++)\r\n\t\t{\r\n\t\t\tdb = jdoc[i];\r\n\t\t\tdb.dispname = db.name;\r\n\t\t\tif (db.dispname.length > 17 && db.dispname.charAt(17) == \"_\")\r\n\t\t\t{\r\n\t\t\t\tdb.dispname = db.dispname.substring(18);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (db.children)\r\n\t\t\t{\r\n\t\t\t\tmnodes = db.children;\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < mnodes.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\t item = mnodes[j];\r\n\t\t\t\t\t tarr.push({\r\n\t\t\t\t\t\t value: item.uid,\r\n\t\t\t\t\t\t name: db.dispname + \"-\" + item.name\r\n\t\t\t\t\t });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttarr.push({\r\n\t\t\t\t\t value: \"\",\r\n\t\t\t\t\t name: db.dispname + \"-ERROR(No Schema)\"\r\n\t\t\t\t });\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdateUsedTable: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrid_st = me.down(\"[name=grid_st]\"),\r\n\t\t\ti, store = grid_st.store,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ttbnames = {};\r\n\t\t\t\r\n\t\tif (store.data.items.length)\r\n\t\t{\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttbnames[cubemodel.tables[i]._mc.uid] = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tstore.data.items[i].set(\"used\", tbnames[store.data.items[i].get(\"uid\")] ? \"*\" : \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadTableContent: function(table, b_onload, b_last) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tm = table._mc;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {uid: m.uid, nodepath: m.nodepath, name: m.name, option: \"StoredContent\"},\r\n\t\t\t\tmbody: {option: \"folder\", readcontent: \"T\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar m = this,\r\n\t\t\t\t\tjnode = jdoc.length ? jdoc[0] : null,\r\n\t\t\t\t\ttnode = jnode ? jnode.content : null, \r\n\t\t\t\t\ttnodes,\r\n\t\t\t\t\tfields = [], field,\r\n\t\t\t\t\ti;\r\n\t\t\t\t\r\n\t\t\t\tif (jnode && jnode.children)\r\n\t\t\t\t{\r\n\t\t\t\t\ttnodes = jnode.children;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield = tnodes[i].content;\r\n\t\t\t\t\t\tfield.tablename = table._mc.name || field.tablename;\r\n\t\t\t\t\t\tfield.fieldname = field.fieldname || field.name;\r\n\t\t\t\t\t\tfield.iskey = field.iskey;\r\n\t\t\t\t\t\tfield.leaf = true;\r\n\t\t\t\t\t\tfield.dispname = field.name;\r\n\t\t\t\t\t\tfield.allowDrag = true;\r\n\t\t\t\t\t\tfield.seq = table._mc.seq;\r\n\t\t\t\t\t\tfield.tableuid = table._mc.uid;\r\n\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttable._mc.columns = fields;\r\n\t\t\t\t\r\n\t\t\t\tif (!b_onload || (b_onload && b_last))\r\n\t\t\t\t{\r\n\t\t\t\t\tm.validateTables();\r\n\t\t\t\t\tm.validateJoins();\r\n\t\t\t\t}\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tpreviewSQL: function(table) {\r\n\t\tvar me = this,\r\n\t\t\tdlg = new IG$.dlgLoadPreview({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\ttable: table\r\n\t\t\t});\r\n\t\t\r\n\t\tIG$.checkLogin(this, dlg);\r\n\t},\r\n\t\r\n\tupdateJoinFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ti, o, t, tmc, n, r, nsname, ntname, nfield;\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t{\r\n\t\t\tt = cubemodel.tables[i]; // cubemodel.tables[i];\r\n\t\t\ttmc = t._mc;\r\n\t\t\ttname = tmc.name + \"_\" + tmc.seq;\r\n\t\t\t\r\n\t\t\ttmc.columns = tmc.columns || [];\r\n\t\t\t\r\n\t\t\tfor (o=0; o < tmc.columns.length; o++)\r\n\t\t\t{\r\n\t\t\t\ttmc.columns[o].hasjoin = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (n=0; n < cubemodel.relations.length; n++)\r\n\t\t\t{\r\n\t\t\t\tr = cubemodel.relations[n];\r\n\t\t\t\tnsname = r.source.tablename + \"_\" + r.source.seq;\r\n\t\t\t\tntname = r.target.tablename + \"_\" + r.target.seq;\r\n\t\t\t\tnfield = (nsname == tname) ? r.source.name : ((ntname == tname) ? r.target.name : null);\r\n\t\t\t\tif (nfield)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (o=0; o < tmc.columns.length; o++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (tmc.columns[o].name == nfield)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttmc.columns[o].hasjoin = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (t.box && t.fixKeyMode)\r\n\t\t\t{\r\n\t\t\t\tt.box.innerGrid.loadData();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t/* drawing functions */\r\n\tvalidateTables: function(b_onload) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tt, mbox,\r\n\t\t\tm = me.m, px, py, pw, ph, pth;\r\n\t\t\r\n\t\tme.tablemap = me.tablemap || {};\r\n\t\tme.updateJoinFields();\r\n\t\t\r\n\t\t// for (i=0; i < cubemodel.tables.length; i++)\r\n\t\t$.each(cubemodel.tables, function(i, table)\r\n\t\t{\r\n\t\t\tvar _mc = table._mc,\r\n\t\t\t\tn, o, r,\r\n\t\t\t\tnsname,\r\n\t\t\t\tntname,\r\n\t\t\t\ttname,\r\n\t\t\t\tnfield;\r\n\r\n\t\t\tpx = _mc.x;\r\n\t\t\tpy = _mc.y;\r\n\t\t\tpw = _mc.width;\r\n\t\t\tph = _mc.height;\r\n\t\t\tpth = _mc.theight || _mc.height;\r\n\t\t\t\r\n\t\t\ttname = _mc.uid + \"_\" + _mc.seq;\r\n\t\t\t\r\n\t\t\tif (table.box)\r\n\t\t\t{\r\n\t\t\t\ttable.box.innerGrid.loadData();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmbox = m.addBox(px, py, pw, ph, table, me);\r\n\t\t\t\ttable.box = mbox;\r\n\t\t\t\t\r\n\t\t\t\tif (b_onload)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.loadTableContent(table, b_onload, i == cubemodel.tables.length-1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.tablemap[tname] = table;\r\n\t\t});\r\n\t\t\r\n\t\tm.validateSize();\r\n\t},\r\n\t\r\n\tvalidateJoins: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tr, fobj, tobj,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tm = me.m,\r\n\t\t\tbl;\r\n\t\t\r\n\t\tfor (i=cubemodel.relations.length-1; i>=0; i--)\r\n\t\t{\r\n\t\t\tr = cubemodel.relations[i];\r\n\t\t\tfobj = me.tablemap[(r.source.model || r.source.tableuid) + \"_\" + r.source.seq];\r\n\t\t\ttobj = me.tablemap[(r.target.model || r.target.tableuid) + \"_\" + r.target.seq];\r\n\t\t\t\r\n\t\t\tif (!fobj || !tobj)\r\n\t\t\t{\r\n\t\t\t\tcubemodel.relations.splice(i, 1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (!r.bl)\r\n\t\t\t\t{\r\n\t\t\t\t\tr.bl = m.addLink(fobj, tobj, r, cubemodel.relations);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.updateJoinFields();\r\n\t\tme.validateLinks();\r\n\t\tm.validateLinks();\r\n\t},\r\n\t\r\n\tvalidateLinks: function() {\r\n\t\t// update join relation grid\r\n\t\tvar me = this,\r\n\t\t\tmRel = me.down(\"[name=mRel]\"),\r\n\t\t\tdp = [],\r\n\t\t\tm = me.m,\r\n\t\t\ti,\r\n\t\t\tlinks = m.relations || [],\r\n\t\t\tlink, s, t;\r\n\t\t\r\n\t\t// generates data\r\n\t\tfor (i=0; i < links.length; i++)\r\n\t\t{\r\n\t\t\tlink = links[i];\r\n\t\t\t\r\n\t\t\ts = link.source;\r\n\t\t\tt = link.target;\r\n\t\t\t\r\n\t\t\tif (s && t)\r\n\t\t\t{\r\n\t\t\t\tdp.push({\r\n\t\t\t\t\ts0: s.tablename,\r\n\t\t\t\t\tt0: t.tablename,\r\n\t\t\t\t\ts1: s.seq,\r\n\t\t\t\t\tt1: t.seq,\r\n\t\t\t\t\ts2: s.name,\r\n\t\t\t\t\tt2: t.name,\r\n\t\t\t\t\tr0: link.join,\r\n\t\t\t\t\tsdesc: s.tablename + \".\" + s.name,\r\n\t\t\t\t\ttdesc: t.tablename + \".\" + t.name,\r\n\t\t\t\t\tl: link\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// update data\r\n\t\tmRel.store.loadData(dp);\r\n\t},\r\n\t/* end drawing functions */\r\n\t\r\n\tonDropRecord: function(ev, et) {\r\n\t\tvar m = this,\r\n\t\t\ttb = et,\r\n\t\t\ttable,\r\n\t\t\tcubemodel = m.cubemodel,\r\n\t\t\toffset = m.m.viewer.offset(), \r\n\t\t\ti, _mc;\r\n\t\t\r\n\t\ttable = new IG$.m$TblObj(null);\r\n\t\t_mc = table._mc = {};\r\n\t\tIG$.CopyObject(tb, table._mc, \"nodepath;name;type;uid;memo;schemaname;alias\");\r\n\t\t_mc.x = ev.getX() - offset.left;\r\n\t\t_mc.y = ev.getY() - offset.top;\r\n\t\t_mc.width = 180;\r\n\t\t_mc.height = 200;\r\n\t\t_mc.seq = 0;\r\n\t\t\r\n\t\ttable.fields = [];\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t{\r\n\t\t\tif (cubemodel.tables[i]._mc.uid == _mc.uid)\r\n\t\t\t{\r\n\t\t\t\t_mc.seq = Math.max(_mc.seq, cubemodel.tables[i]._mc.seq+1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tcubemodel.tables.push(table);\r\n\t\t\r\n\t\tm.updateUsedTable();\r\n\t\t\r\n\t\tm.loadTableContent(table);\r\n\t},\r\n\t\r\n\tupdateModel: function() {\r\n\t\tvar me = this,\r\n\t\t\tm = me.m,\r\n\t\t\ti, j, table, bbox, tboffset,\r\n\t\t\tbdom,\r\n\t\t\tmainoffset = m.scrollPanel.offset(),\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\t_mc = cubemodel._mc,\r\n\t\t\t_tmc, _smc, rel, r1,\r\n\t\t\tjoinkeys = {},\r\n\t\t\tz = m.zoomRatio,\r\n\t\t\tiz = 1 / z;\r\n\t\t\r\n\t\t_mc.tables = [];\r\n\t\t_mc.joins = [];\r\n\t\t_mc.securityfilter = [];\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.relations.length; i++)\r\n\t\t{\r\n\t\t\tr1 = cubemodel.relations[i];\r\n\t\t\trel = {\r\n\t\t\t\tjoin: r1.join,\r\n\t\t\t\toperator: r1.operator,\r\n\t\t\t\tsource: r1.source,\r\n\t\t\t\ttarget: r1.target,\r\n\t\t\t\tsource_field_formula: r1.source_field_formula,\r\n\t\t\t\ttarget_field_formula: r1.target_field_formula\r\n\t\t\t};\r\n\t\t\tjoinkeys[r1.source.uid] = 1;\r\n\t\t\tjoinkeys[r1.target.uid] = 1;\r\n\t\t\t_mc.joins.push(rel);\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t{\r\n\t\t\ttable = cubemodel.tables[i];\r\n\t\t\t_smc = table._mc;\r\n\t\t\t_tmc = IG$.copyObject(_smc);\r\n\t\t\t_tmc.columns = [];\r\n\t\t\tbbox = table.box.innerGrid; //outerbox;\r\n\t\t\tbdom = $(bbox.$ex.$view);\r\n\t\t\t\r\n\t\t\ttboffset = bdom.offset();\r\n\t\t\t_tmc.x = (tboffset.left - mainoffset.left) * iz;\r\n\t\t\t_tmc.y = (tboffset.top - mainoffset.top) * iz;\r\n\t\t\t_tmc.width = bdom.width();\r\n\t\t\t_tmc.height = bdom.height();\r\n\t\t\t\r\n\t\t\t_tmc.theight = _tmc.height;\r\n\t\t\t\r\n\t\t\tif (_smc.columns)\r\n\t\t\t{\r\n\t\t\t\tfor (j=_smc.columns.length-1; j>=0; j--)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (_smc.columns[j].iskey || joinkeys[_smc.columns[j].uid])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_tmc.columns.push(_smc.columns[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t_mc.tables.push(_tmc);\r\n\t\t}\r\n\t\t\r\n\t\tif (cubemodel.securityfilter)\r\n\t\t{\r\n\t\t\tfor (i=0; i < cubemodel.securityfilter.length; i++)\r\n\t\t\t{\r\n\t\t\t\t_mc.securityfilter.push(cubemodel.securityfilter[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tsaveContent: function(newitem) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.updateModel();\r\n\t\t\r\n\t\tme.fireEvent(\"_model_updated\");\r\n\t\t\r\n\t\tvar i, cubemodel = me.cubemodel,\r\n\t\t\tcontent = cubemodel.getXML(),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tobj;\r\n\t\t\r\n\t\tif (newitem)\r\n\t\t{\r\n\t\t\tobj = {pid: cubemodel.item.pid, address: cubemodel.item.address, name: cubemodel.item.name, type: \"CubeModel\"};\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tobj = {uid: me.uid};\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: obj,\r\n\t\t\t\tmbody: content,\r\n\t\t\t\tmeta_type: \"cubemodel\"\r\n\t\t}, me, function(jdoc) {\r\n\t\t\tvar me = this;\r\n\t\t\t\r\n\t\t\tme.uid = jdoc.uid;\r\n\t\t\tme.setTitle(jdoc.name);\r\n\t\t\t\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tonDropField: function(fnode, tnode) {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tm = me.m,\r\n\t\t\tr = {join: \"inner\", operator: \"=\"},\r\n\t\t\tsrc, tgt;\r\n\t\t\r\n\t\tr.source = fnode.data;\r\n\t\tr.target = tnode.data;\r\n\t\t\r\n\t\tcubemodel.relations.push(r);\r\n\t\tme.updateJoinFields();\r\n\t\tsrc = me.tablemap[(r.source.model || r.source.tableuid) + \"_\" + r.source.seq];\r\n\t\ttgt = me.tablemap[(r.target.model || r.target.tableuid) + \"_\" + r.target.seq];\r\n\t\t\r\n\t\tif (src && tgt)\r\n\t\t{\r\n\t\t\tr.bl = m.addLink(src, tgt, r, cubemodel.relations);\r\n\t\t\tme.validateLinks();\r\n\t\t\tm.validateLinks();\r\n\t\t}\r\n\t},\r\n\t\r\n\ttoolbarHandler: function(cmd) {\r\n\t\tvar me = this,\r\n\t\t\tm = me.m,\r\n\t\t\ti;\r\n\t\t\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_save\":\r\n\t\t\tif (!me.uid)\r\n\t\t\t{\r\n\t\t\t\tme.saveAsContent(false);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tme.saveContent();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_saveas\":\r\n\t\t\tme.saveAsContent(false);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_simple_view\":\r\n\t\t\tme.cubemodel.groupview = !me.cubemodel.groupview;\r\n\t\t\tm.validateLinks();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_fix_key\":\r\n\t\t\tvar cubemodel = me.cubemodel;\r\n\t\t\tcubemodel.fixKeyMode = !cubemodel.fixKeyMode;\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcubemodel.tables[i].box.fixKeyMode(cubemodel.fixKeyMode);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_autojoin\":\r\n\t\t\tme.auto_join();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_load_fields\":\r\n\t\t\tme.load_fields();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_beutify\":\r\n\t\t\tme.beutify_diagram();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_table_order\":\r\n\t\t\tvar dlg = new IG$.dlgTableOrder({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tcubemodel: me.cubemodel\r\n\t\t\t});\r\n\t\t\tIG$.showDlg(me, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_refresh_table\":\r\n\t\t\tvar grid_st = me.down(\"[name=grid_st]\");\r\n\t\t\t\r\n\t\t\tgrid_st.store.loadData([]);\r\n\t\t\t\r\n\t\t\tif (me._s1)\r\n\t\t\t{\r\n\t\t\t\tme.loadDatabaseTable(me._s1, \"StoredContent\", null, {readcontent: \"T\"});\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tload_fields: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tnjoins = [], tb,\r\n\t\t\trel, key1, key2;\r\n\t\t\r\n\t\tif (cubemodel.tables.length)\r\n\t\t{\r\n\t\t\t$.each(cubemodel.tables, function(i, tb) {\r\n\t\t\t\tme.loadTableContent(tb);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tauto_join: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ti, j, relations = {},\r\n\t\t\tnjoins = [], tb,\r\n\t\t\trel, key1, key2;\r\n\t\t\r\n\t\tif (cubemodel.tables.length > 1)\r\n\t\t{\r\n\t\t\tfor (i=0; i < cubemodel.relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\trel = cubemodel.relations[i];\r\n\t\t\t\t\r\n\t\t\t\tkey1 = rel.source.tableuid + \"_\" + rel.source.fieldname;\r\n\t\t\t\tkey2 = rel.target.tableuid + \"_\" + rel.target.fieldname;\r\n\t\t\t\t\r\n\t\t\t\trelations[key1 + \":\" + key2] = 1;\r\n\t\t\t\trelations[key2 + \":\" + key1] = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\ttb._cnames = {};\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < tb._mc.columns.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\ttb._cnames[tb._mc.columns[j].fieldname] = tb._mc.columns[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\tme.get_auto_join(cubemodel.tables, relations, njoins, tb);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (njoins.length > 0)\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.JoinRec({\r\n\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\tjoins: njoins,\r\n\t\t\t\t\tcallback: new IG$.callBackObj(me, function(joins) {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tm = me.m,\r\n\t\t\t\t\t\t\tr, i,\r\n\t\t\t\t\t\t\tsrc, tgt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < joins.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tr = joins[i];\r\n\t\t\t\t\t\t\tcubemodel.relations.push(r);\r\n\t\t\t\t\t\t\t// me.updateJoinFields();\r\n\t\t\t\t\t\t\tsrc = me.tablemap[(r.source.model || r.source.tableuid) + \"_\" + r.source.seq];\r\n\t\t\t\t\t\t\ttgt = me.tablemap[(r.target.model || r.target.tableuid) + \"_\" + r.target.seq];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (src && tgt)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tr.bl = m.addLink(src, tgt, r, cubemodel.relations);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.validateLinks();\r\n\t\t\t\t\t\tm.validateLinks();\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tIG$.showDlg(me, dlg);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tIG$.alertmsg(ig$.appname, \"No join suggestions on this model\", null, null, 0, \"success\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tget_auto_join: function(tables, relations, njoins, tb) {\r\n\t\tvar me = this,\r\n\t\t\ti, j,\r\n\t\t\ttarget_tb,\r\n\t\t\tkey1, key2, k1, k2, fname,\r\n\t\t\tsjoin, mjoin,\r\n\t\t\tclength,\r\n\t\t\thas_id_field,\r\n\t\t\ttbmc = tb._mc,\r\n\t\t\ttargetmc;\r\n\t\t\r\n\t\tk1 = tbmc.uid + \"_\";\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\ttarget_tb = tables[i];\r\n\t\t\ttargetmc = target_tb._mc;\r\n\t\t\t\r\n\t\t\tif (tbmc.uid != targetmc.uid && (!tbmc.external_name || (tbmc.external_name && tbmc.external_name != targetmc.external_name)))\r\n\t\t\t{\r\n\t\t\t\tk2 = targetmc.uid + \"_\";\r\n\t\t\t\tsjoin = [];\r\n\t\t\t\tmjoin = [];\r\n\t\t\t\tclength = targetmc.columns.length;\r\n\t\t\t\thas_id_field = false;\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < clength; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tfname = targetmc.columns[j].fieldname;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (tb._cnames[fname])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey1 = k1 + fname;\r\n\t\t\t\t\t\tkey2 = k2 + fname;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (fname.indexOf(\"id\") > -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thas_id_field = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!relations[key1 + \":\" + key2])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsjoin.push({\r\n\t\t\t\t\t\t\t\tjoin: \"inner\", \r\n\t\t\t\t\t\t\t\toperator: \"=\",\r\n\t\t\t\t\t\t\t\tsource: tb._cnames[fname],\r\n\t\t\t\t\t\t\t\ttarget: targetmc.columns[j]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\trelations[key1 + \":\" + key2] = 1;\r\n\t\t\t\t\t\t\trelations[key2 + \":\" + key1] = 1;\r\n\t\t\t\t\t\t\tmjoin.push(fname);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmjoin.push(fname);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ((mjoin.length > 5 && clength > 5) || (mjoin.length == clength)) \r\n\t\t\t\t{\r\n\t\t\t\t\tif (has_id_field)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (j=sjoin.length-1; j>=0; j--)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (sjoin[j].source.fieldname.indexOf(\"id\") < 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsjoin.splice(j, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < sjoin.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tnjoins.push(sjoin[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tbeutify_diagram: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ti, trees = [], isolated_tbs = [],\r\n\t\t\ttreeitem, tablesmap = {},\r\n\t\t\trelations = {},\r\n\t\t\trelation,\r\n\t\t\ttables = [],\r\n\t\t\trel, tb,\r\n\t\t\tkey;\r\n\t\t\r\n\t\tif (cubemodel.tables.length > 1 && cubemodel.relations.length > 1)\r\n\t\t{\r\n\t\t\t// grouping in tree items\r\n\t\t\tfor (i=0; i < cubemodel.relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\trel = cubemodel.relations[i];\r\n\t\t\t\trelations[rel.source.tableuid] = relations[rel.source.tableuid] || [];\r\n\t\t\t\trelations[rel.source.tableuid].push(rel);\r\n\t\t\t\t\r\n\t\t\t\trelations[rel.target.tableuid] = relations[rel.target.tableuid] || [];\r\n\t\t\t\trelations[rel.target.tableuid].push(rel);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// copy table array\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\ttb.parent = null;\r\n\t\t\t\ttb.childnodes = [];\r\n\t\t\t\ttb.jointable = [];\r\n\t\t\t\ttablesmap[tb._mc.uid] = tb;\r\n\t\t\t\ttables.push(tb);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twhile (tables.length > 0)\r\n\t\t\t{\r\n\t\t\t\ttb = tables[0]; \r\n\t\t\t\tif (relations[tb._mc.uid])\r\n\t\t\t\t{\r\n\t\t\t\t\ttreeitem = {\r\n\t\t\t\t\t\tfact_table: null,\r\n\t\t\t\t\t\ttables: []\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\trelation = relations[tb._mc.uid];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < relation.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttreeitem.tables.push(tb);\r\n\t\t\t\t\t\ttrees.push(treeitem);\r\n\t\t\t\t\t\ttables.splice(0, 1);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.gather_join_tables(tables, relations, tablesmap, relation[i], treeitem, tb);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// no joins\r\n\t\t\t\t\tisolated_tbs.push(tb);\r\n\t\t\t\t\ttables.splice(0, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (trees.length > 0)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < trees.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.update_table_hierarchy(tablesmap, trees[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar x = 10, \r\n\t\t\t\ty = 10,\r\n\t\t\t\tmpos, max_h = 0,\r\n\t\t\t\tgap = 10;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < isolated_tbs.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpos = me.update_position(x, y, gap, isolated_tbs[i]);\r\n\t\t\t\tx += mpos.x;\r\n\t\t\t\tmax_h = Math.max(max_h, mpos.y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ty += max_h + gap;\r\n\t\t\t\r\n\t\t\tx = 10;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < trees.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpos = me.update_position(x, y, gap, trees[i].fact_table);\r\n\t\t\t\t\r\n\t\t\t\ty = mpos.y;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdate_table_hierarchy: function(tablesmap, tree) {\r\n\t\tvar me = this,\r\n\t\t\ti, pmap = {};\r\n\t\t\r\n\t\ttree.tables.sort(function(a, b) {\r\n\t\t\tvar n1 = a.jointable.length,\r\n\t\t\t\tn2 = b.jointable.length;\r\n\t\t\t\r\n\t\t\treturn n2 - n1;\r\n\t\t});\r\n\t\t\r\n\t\ttree.fact_table = tree.tables[0];\r\n\t\tpmap[tree.fact_table._mc.uid] = 1;\r\n\t\tme.update_linklist(tablesmap, tree.fact_table, pmap);\r\n\t},\r\n\t\r\n\tupdate_linklist: function(tablesmap, tb, pmap) {\r\n\t\tvar me = this,\r\n\t\t\ti, jtable;\r\n\t\t\r\n\t\tfor (i=0; i < tb.jointable.length; i++)\r\n\t\t{\r\n\t\t\tjtable = tb.jointable[i];\r\n\t\t\t\r\n\t\t\tif (!pmap[jtable._mc.uid])\r\n\t\t\t{\r\n\t\t\t\tpmap[jtable._mc.uid] = 1;\r\n\t\t\t\t\r\n\t\t\t\ttb.childnodes.push(jtable);\r\n\t\t\t\ttb.jointable[i].parent = tb;\r\n\t\t\t\t\r\n\t\t\t\tme.update_linklist(tablesmap, jtable, pmap);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdate_position: function(x, y, gap, pnode) {\r\n\t\tvar me = this,\r\n\t\t\tmx = x,\r\n\t\t\tmy = y,\r\n\t\t\tmax_h = 0,\r\n\t\t\th = 0,\r\n\t\t\ti,\r\n\t\t\tinnergrid;\r\n\t\t\r\n\t\tinnergrid = pnode.box.innerGrid;\r\n\t\tinnergrid.setPosition(x, y);\r\n\t\t\r\n\t\tmy += pnode._mc.height;\r\n\t\t\r\n\t\tif (pnode.childnodes && pnode.childnodes.length)\r\n\t\t{\r\n\t\t\tmy += gap;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < pnode.childnodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\tme.update_position(mx, my, gap, pnode.childnodes[i]);\r\n\t\t\t\tmx += pnode._mc.width + gap;\r\n\t\t\t\tmax_h = Math.max(max_h, pnode._mc.height);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmy += max_h;\r\n\t\t}\r\n\t\t\r\n\t\treturn {x: mx, y: my};\r\n\t},\r\n\t\r\n\tgather_join_tables: function(tables, relations, tablesmap, relation, treeitem, tb){\r\n\t\tvar me = this,\r\n\t\t\ti, j,\r\n\t\t\tmtable,\r\n\t\t\tsrelation,\r\n\t\t\tstable;\r\n\t\t\r\n\t\tif (relation.source.tableuid == tb._mc.uid)\r\n\t\t{\r\n\t\t\tmtable = relation.target;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmtable = relation.source;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\tif (tables[i]._mc.uid == mtable.tableuid)\r\n\t\t\t{\r\n\t\t\t\tstable = tables[i];\r\n\t\t\t\ttreeitem.tables.push(stable);\r\n\t\t\t\ttables.splice(i, 1);\r\n\t\t\t\ttb.jointable.push(stable);\r\n\t\t\t\tstable.jointable.push(tb);\r\n\t\t\t\t\r\n\t\t\t\tsrelation = relations[stable._mc.uid]; \r\n\t\t\t\t\r\n\t\t\t\tif (srelation)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=0; j < srelation.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.gather_join_tables(tables, relations, tablesmap, srelation[j], treeitem, stable);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadDatabaseTable: function(node, option, keyword, params) {\r\n\t\tvar me = this,\r\n\t\t\tnodepath = node.get(\"nodepath\"),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\topt = {address: nodepath, option: option, search: keyword, uid: node.get(\"uid\")},\r\n\t\t\tk;\r\n\t\t\r\n\t\tif (params)\r\n\t\t{\r\n\t\t\tfor (k in params)\r\n\t\t\t{\r\n\t\t\t\topt[k] = params[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!opt.uid && !opt.address)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\topt.subfolder = \"T\";\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: opt,\r\n\t\t\t\tmbody: opt\r\n\t\t\t}, me, me.rs_loadDatabaseTable, false, [node, option]);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadDatabaseTable: function(jdoc, param) {\r\n\t\tvar me = this,\r\n\t\t\tnode = param[0],\r\n\t\t\toption = param[1],\r\n\t\t\tsnodes = jdoc.children || [], \r\n\t\t\ti, tb, tables = [],\r\n\t\t\tb_content = option ? true : false,\r\n\t\t\tgrid = me.down(\"[name=grid_st]\"),\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tltype,\r\n\t\t\ttbnames = {};\r\n\t\t\t\t\r\n\t\tif (snodes)\r\n\t\t{\r\n\t\t\tcubemodel.tables = cubemodel.tables || []; \r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttbnames[cubemodel.tables[i]._mc.uid] = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < snodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = b_content ? snodes[i].content : snodes[i];\r\n\t\t\t\tltype = tb.type.toLowerCase();\r\n\t\t\t\ttb.uid = tb.uid || (\"\" + i);\r\n\t\t\t\t\r\n\t\t\t\tif (tb.uid == me.uid)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\tif (tbnames[tb.uid])\r\n\t\t\t\t{\r\n\t\t\t\t\ttb.used = \"*\";\r\n\t\t\t\t}\r\n\t\t\t\tif (ltype != \"cubemodel\")\r\n\t\t\t\t{\r\n\t\t\t\t\ttb.fieldname = tb.attributes.attrb3;\r\n\t\t\t\t}\r\n\t\t\t\ttb.iconcls = IG$.get_metatype_icon(ltype);\r\n\t\t\t\ttables.push(tb);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid.store.loadData(tables);\r\n\t},\r\n\t\r\n\tsaveAsContent: function(afterclose) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tmode: \"newitem\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\trootuid: me.obj_uid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.saveNewContent, afterclose)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tsaveNewContent: function(item, afterclose) {\r\n\t\tvar me = this;\r\n\t\tme.cubemodel.item = {\r\n\t\t\tname: item.name,\r\n\t\t\taddress: item.nodepath + \"/\" + item.name,\r\n\t\t\tpid: item.uid\r\n\t\t};\r\n\t\t// me.uid = item.uid;\r\n\t\tme.saveContent(true);\r\n\t},\r\n\t\r\n\t_r_join: function(l) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcmodel = me.cubemodel,\r\n\t\t\tm = me.m,\r\n\t\t\trels = cmodel.relations,\r\n\t\t\tbfound;\r\n\t\tfor (i=0; i < rels.length; i++)\r\n\t\t{\r\n\t\t\tif (rels[i] == l)\r\n\t\t\t{\r\n\t\t\t\trels.splice(i, 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < m.links.length; i++)\r\n\t\t{\r\n\t\t\tbfound = false;\r\n\t\t\tfor (j=0; j < m.links[i].links.length; j++)\r\n\t\t\t{\r\n\t\t\t\tif (m.links[i].links[j] == l)\r\n\t\t\t\t{\r\n\t\t\t\t\tm.links[i].links.splice(j, 1);\r\n\t\t\t\t\tbfound = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (bfound == true)\r\n\t\t\t{\r\n\t\t\t\tif (m.links[i].length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tm.links.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.updateJoinFields();\r\n\t\tme.validateLinks();\r\n\t\tm.validateLinks();\r\n\t},\r\n\t\r\n\tsearchRelationship: function() {\r\n\t\tvar me = this,\r\n\t\t\ttxt_rel = me.down(\"[name=txt_rel]\").getValue(),\r\n\t\t\tmRel = me.down(\"[name=mRel]\"),\r\n\t\t\tstore = mRel.store;\r\n\t\t\t\r\n\t\tstore.clearFilter();\r\n\t\t\r\n\t\tif (txt_rel)\r\n\t\t{\r\n\t\t\ttxt_rel = txt_rel.toLowerCase();\r\n\t\t\tstore.filterBy(function(val) {\r\n\t\t\t\tvar dt = [val.get(\"s0\"), val.get(\"s2\"), val.get(\"t0\"), val.get(\"t2\")],\r\n\t\t\t\t\tb = false, i;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < dt.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (dt[i] && dt[i].toLowerCase().indexOf(txt_rel) > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tb = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn b;\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_custom_click_func: function(node, isexpand, isclick) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._s1 = node;\r\n\t\tme.toolbarHandler(\"cmd_refresh_table\");\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"border\",\r\n\t\t\t\t\tsplit: true,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tregion: \"west\",\r\n\t\t\t\t\t\t\twidth: 250,\r\n\t\t\t\t\t\t\thideHeaders: true,\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_TABLE_LIST\"), // \"Table Lists\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\tnew IG$.n$navTreeCom({\r\n\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\tname: \"mtree\",\r\n\t\t\t\t\t\t\t\t\trootuid: this.obj_uid,\r\n\t\t\t\t\t\t\t\t\tvisibleItems: \"folder;dataset;\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tshowCustomMenu: function(rec) {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tmenu = me.customMenu,\r\n\t\t\t\t\t\t\t\t\t\t\ttypename = rec.get(\"type\").toLowerCase(),\r\n\t\t\t\t\t\t\t\t\t\t\titemname = rec.get(\"name\"),\r\n\t\t\t\t\t\t\t\t\t\t\titemaddr = rec.get(\"nodepath\"),\r\n\t\t\t\t\t\t\t\t\t\t\titemuid = rec.get(\"uid\"),\r\n\t\t\t\t\t\t\t\t\t\t\titemtype = rec.get(\"type\"),\r\n\t\t\t\t\t\t\t\t\t\t\twritable = (rec.get(\"writable\") == true || rec.get(\"manage\") == true) ? true : false,\r\n\t\t\t\t\t\t\t\t\t\t\tmanageable = (rec.get(\"manage\") == true) ? true : false,\r\n\t\t\t\t\t\t\t\t\t\t\tr = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tmenu.removeAll();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (writable || manageable)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tr = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (typename == \"folder\")\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenu.add({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FOLDER\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_f_f\"] !== false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._createMetaObject(\"Folder\", itemuid, itemaddr, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tmenu.add({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RENAME_ITEM\", IG$._gitemname(itemname)),\r\n\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_ren\"] !== false,\r\n\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis._renameMetaObject(itemname, itemuid, itemaddr, record);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tmenu.add({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DELETE_ITEM\", IG$._gitemname(itemname)),\r\n\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_del\"] !== false,\r\n\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteMetaObject(itemuid, record);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcustom_expand_func: new IG$.callBackObj(me, function(node) {\r\n\t\t\t\t\t\t\t\t\t\tthis.rs_custom_click_func(node, 1, 0);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tcustom_click_func: new IG$.callBackObj(me, function(node, data) {\r\n\t\t\t\t\t\t\t\t\t\tthis.rs_custom_click_func(node, 0, 1);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"grid_st\",\r\n\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_REGISTERED_TABLE\"), // \"Registered Table\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_S_S2\"),\r\n\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tshowcheckselect: true,\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"uid\", \"nodepath\", \"dispname\", \"checked\", \"allow_insert\", \"allow_insert_desc\", \"iconcls\", \"physical_name\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tenableDragDrop: true,\r\n\t\t\t\t\t\t\t\t\tenableDD: true,\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 20,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"used\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\",\r\n\t\t\t\t\t\t\t\t\t\t\ttpl: \"<div class='ig-navi-itemicon-p'><div class='ig-navi-itemicon {iconcls}'></div></div><span class='ig-navi-text' title='{name} ({type})'>{name} </span>\",\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdockedItems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\tdock: \"top\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: 'icon-refresh',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.toolbarHandler(\"cmd_refresh_table\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"_filter\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(tobj, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.keyCode == 13 && IG$._dofilter(this, \"grid_st\", [\"name\", \"alias\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$._dofilter(this, \"grid_st\", [\"name\", \"alias\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tcellclick: function(grid, node, cellIndex, record, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\trec = grid.store.getAt(rowIndex),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcubemodel = me.cubemodel,\r\n\t\t\t\t\t\t\t\t\t\t\t\ti, tb;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (rec.get(\"used\") == \"*\")\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (cubemodel.tables[i]._mc.uid == rec.get(\"uid\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\ttb && me.m.focusTable(tb);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \"panel\",\r\n\t\t\t\t\t\t\thtml: \"\",\r\n\t\t\t\t\t\t\tsplit: true,\r\n\t\t\t\t\t\t\toverflowX: \"hidden\",\r\n\t\t\t\t\t\t\toverflowY: \"hidden\",\r\n\t\t\t\t\t\t\tname: \"mcontainer\",\r\n\t\t\t\t\t\t\tregion: \"center\",\r\n\t\t\t\t\t\t\tborder: 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tsplit: true,\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_RELATIONS\"), // \"Relations\",\r\n\t\t\t\t\t\t\tregion: \"east\",\r\n\t\t\t\t\t\t\tname: \"p_joins\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\ttools: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: \"collapse\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\twidth: 320,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"txt_rel\",\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 40,\r\n\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: !0,\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(obj, e, eopt) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.keyCode == 13)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.searchRelationship();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.searchRelationship();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"mRel\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"s0\", \"s1\", \"s2\", \"t0\", \"t1\", \"t2\", \"r0\", \"sdesc\", \"tdesc\", \"l\"]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_I_FROM\"), // \"From\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"sdesc\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_I_TO\"), // \"To\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"tdesc\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 45,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Config item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel = rec.get(\"l\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlink;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (rel && rel.bl)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlink = rel.bl;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlink.showLinkEditor([link.links[0]], link.links);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._r_join(rec.get(\"l\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\ttbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-save\",\r\n\t\t\t\t\tname: \"t_save\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_SAVE\"), // \"Save\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_SAVE_REPORT\"),\r\n\t\t\t\t\thandler: function() {this.toolbarHandler(\"cmd_save\"); },\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-simple-view\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_SIMPLE_REL_VIEW\"), // \"Simple Relation View\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_simple_view\"); \r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-table-order\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_TABLE_ORDER\"), // \"Table order\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_table_order\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-fixkey\",\r\n\t\t\t\t\ttext: IRm$.r1(\"L_FIX_KEY\"), // \"Fix key\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_FIX_KEY\"), // \"Fix Key columns\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_fix_key\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-autojoin\",\r\n\t\t\t\t\ttext: IRm$.r1(\"L_AUTO_JOIN\"),\r\n\t\t\t\t\ttooltip: \"Auto Join\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_autojoin\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-tablesort\",\r\n\t\t\t\t\ttext: IRm$.r1(\"L_JOIN_BEUTIFY\"),\r\n\t\t\t\t\ttooltip: \"sort\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_beutify\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-refresh\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_load_fields\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-export\",\r\n\t\t\t\t\ttooltip: \"Print\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_print\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttooltip: \"Zoom In\",\r\n\t\t\t\t\ticonCls: \"icon-toolbar-zoomin\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar m = this.m;\r\n\t\t\t\t\t\tm.zoom(0.1);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttooltip: \"Zoom Out\",\r\n\t\t\t\t\ticonCls: \"icon-toolbar-zoomout\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar m = this.m;\r\n\t\t\t\t\t\tm.zoom(-0.1);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-joins\",\r\n\t\t\t\t\ttooltip: \"Joins\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar p_joins = this.down(\"[name=p_joins]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (p_joins.isVisible())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tp_joins.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tp_joins.show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\t\t\tname: \"tboname\",\r\n\t\t\t\t\t\t\ttooltipType: \"title\",\r\n\t\t\t\t\t\t\ttooltip: \"Related Business Object\",\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\tbo = me._$bo,\r\n\t\t\t\t\t\t\t\t\tinstance = me.instance,\r\n\t\t\t\t\t\t\t\t\tapi = instance.m_explorer;\r\n\t\r\n\t\t\t\t\t\t\t\tif (bo && bo.nodepath && instance.mainPanel && api)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (api.vmode != \"tree\")\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tIG$.changeApp(instance, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tapi.navigateTree({\r\n\t\t\t\t\t\t\t\t\t\tname: bo.name,\r\n\t\t\t\t\t\t\t\t\t\tnodepath: bo.nodepath,\r\n\t\t\t\t\t\t\t\t\t\tuid: bo.uid\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: me\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t},\r\n\t\t\t\tresize: function(ui) {\r\n\t\t\t\t\tvar m = this.m;\r\n\t\t\t\t\tm.validateSize();\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tbeforeclose: function(panel, opt) {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tr = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.writable && me.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar lreq = new IG$._rpc$();\r\n\t\t\t\t\t\tlreq.init(me, \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\t\t\tmbody: {option: \"lock\", detail: \"close\"}\r\n\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}, false);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tlreq.send();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tIG$.CubeModel.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\n\r\nIG$.dlgTableOrder = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 500,\r\n\theight: 610,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ttables,\r\n\t\t\ti, data = [],\r\n\t\t\tgrd_tables = me.down(\"[name=grd_tables]\"),\r\n\t\t\tp;\r\n\t\t\r\n\t\tcubemodel.tables = cubemodel.tables || [];\r\n\t\ttables = cubemodel.tables;\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\tp = {\r\n\t\t\t\tuid: tables[i]._mc.uid,\r\n\t\t\t\tname: tables[i]._mc.name,\r\n\t\t\t\tseq: tables[i]._mc.seq\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tp.disp = (p.seq) ? p.name + \"(\" + p.seq + \")\" : p.name;\r\n\t\t\tdata.push(p);\r\n\t\t}\r\n\t\t\r\n\t\tgrd_tables.store.loadData(data);\r\n\t},\r\n\t\r\n\tconfirmChanges: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ttables = cubemodel.tables,\r\n\t\t\tseq = {},\r\n\t\t\ti,\r\n\t\t\tgrd_tables = me.down(\"[name=grd_tables]\"),\r\n\t\t\trec, k;\r\n\t\t\t\r\n\t\tfor (i=0; i < grd_tables.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = grd_tables.store.data.items[i];\r\n\t\t\tseq[rec.get(\"uid\") + \"_\" + rec.get(\"seq\")] = i;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\tk = tables[i]._mc.uid + \"_\" + tables[i]._mc.seq;\r\n\t\t\ttables[i].sortindex = seq[k];\r\n\t\t}\r\n\t\t\r\n\t\ttables.sort(function(a, b) {\r\n\t\t\treturn a.sortindex - b.sortindex;\r\n\t\t});\r\n\t\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tchangeOrder: function(direction) {\r\n\t\tvar me = this,\r\n\t\t\tmgrid = me.down(\"[name=grd_tables]\"),\r\n\t\t\tsm = mgrid.getSelectionModel(),\r\n\t\t\tsel = sm.selected,\r\n\t\t\tri, rec;\r\n\t\t\t\r\n\t\tif (sel && sel.length == 1)\r\n\t\t{\r\n\t\t\trec = sel.items[0];\r\n\t\t\tri = mgrid.store.indexOf(rec);\r\n\t\t\t\r\n\t\t\tif (direction == -1)\r\n\t\t\t{\r\n\t\t\t\tif (ri > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tmgrid.store.remove(rec);\r\n\t\t\t\t\trec = mgrid.store.insert(ri-1, rec);\r\n\t\t\t\t\tsm.select(rec, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tif (ri+1 < mgrid.store.data.items.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tmgrid.store.remove(rec);\r\n\t\t\t\t\trec = mgrid.store.insert(ri+1, rec);\r\n\t\t\t\t\tsm.select(rec, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"L_TBL_ORD\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tname: \"grd_tables\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"uid\", \"seq\", \"disp\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\tpack: \"center\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"ig-btn-up\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.changeOrder(-1);\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\theight: 10\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"ig-btn-down\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.changeOrder(1);   \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.confirmChanges();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlgTableOrder.superclass.initComponent.apply(this, arguments);\r\n\t},\r\n\tlisteners: {\r\n\t\tafterrender: function(tobj) {\r\n\t\t\ttobj._init();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nIG$.dlgLoadPreview = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 950,\r\n\tautoHeight: true,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.table || me.inlineview)\r\n\t\t{\r\n\t\t\tme.load_content();\r\n\t\t}\r\n\t\telse if (me.dataset)\r\n\t\t{\r\n\t\t\tme.rs_load_content(me.dataset);\r\n\t\t}\r\n\t},\r\n\t\r\n\tload_content: function(passwd) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tinlineview = me.inlineview,\r\n\t\t\ttb_mc = me.table ? me.table._mc : null,\r\n\t\t\tmbody = {},\r\n\t\t\tpayload,\r\n\t\t\tmeta_type;\r\n\t\t\t\r\n\t\tif (inlineview)\r\n\t\t{\r\n\t\t\tpayload = {passwd: passwd, option: \"preview\"};\r\n\t\t\tmbody = inlineview;\r\n\t\t\tmeta_type = \"inlineview\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpayload = {uid: tb_mc.uid, type: tb_mc.type, passwd: passwd, option: \"preview\"};\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: payload,\r\n\t\t\t\tmbody: mbody,\r\n\t\t\t\tmeta_type: meta_type\r\n\t\t\t}, me, me.rs_load_content, me.err_load_content);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_load_content: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\thnode = jdoc.headers,\r\n\t\t\tdnode = jdoc.inline_data,\r\n\t\t\ti, j, darray, hnodes, row, data = [], cols = [], delimiter, cname, dkey, c,\r\n\t\t\tfields=[], store,\r\n\t\t\tdataview = me.down(\"[name=dataview]\"),\r\n\t\t\ttable = me.table ? me.table._mc : null,\r\n\t\t\tdval,\r\n\t\t\tumap = {};\r\n\t\t\r\n\t\tif (hnode && dnode)\r\n\t\t{\r\n\t\t\tif (table && table.columns)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < table.columns.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tumap[table.columns[i].name] = table.columns[i].alias;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdelimiter = jdoc.delimiter;\r\n\r\n\t\t\tfor (i=0; i < hnode.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcname = hnode[i].name;\r\n\t\t\t\tif (umap[cname] && umap[cname] != cname)\r\n\t\t\t\t{\r\n\t\t\t\t\tcname = umap[cname] + \" - \" + cname;\r\n\t\t\t\t}\r\n\t\t\t\tdkey = \"col_\" + i;\r\n\t\t\t\tcols.push({\r\n\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\twidth: 150,\r\n\t\t\t\t\ttext: cname,\r\n\t\t\t\t\tdataIndex: dkey\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tfields.push({name: dkey, mapping: dkey});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tc = cols.length;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < dnode.length; i++)\r\n\t\t\t{\r\n\t\t\t\trow = {};\r\n\t\t\t\tdval = dnode[i];\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < dval.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tdkey = \"col_\" + j;\r\n\t\t\t\t\trow[dkey] = dval[j];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdata.push(row);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstore = {\r\n\t\t\tstore: \"array\",\r\n\t\t\tfields: fields,\r\n\t\t\t$data: data\r\n\t\t};\r\n\t\t\r\n\t\tdataview.reconfigure(store, cols);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"L_PRV_DATA\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tlayout: \"fit\",\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \"Table data preview\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"dataview\",\r\n\t\t\t\t\t\t\theight: 400,\r\n\t\t\t\t\t\t\tstore: {},\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlgLoadPreview.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\n\r\nIG$.JoinRec = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 600,\r\n\tautoHeight: true,\r\n\t\r\n\tpadding: ig$.padding,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tgmain = me.down(\"[name=gmain]\"),\r\n\t\t\tjoins = me.joins,\r\n\t\t\ti, dp = [], d, j,\r\n\t\t\tjsrc, jtgt;\r\n\t\t\r\n\t\tfor (i=0; i < joins.length; i++)\r\n\t\t{\r\n\t\t\tj = joins[i];\r\n\t\t\tjsrc = j.source;\r\n\t\t\tjtgt = j.target;\r\n\t\t\td = {\r\n\t\t\t\tstableuid: jsrc.tableuid,\r\n\t\t\t\tstable : jsrc.tablename,\r\n\t\t\t\tsfield: jsrc.fieldname,\r\n\t\t\t\tttableuid: jtgt.tableuid,\r\n\t\t\t\tttable: jtgt.tablename,\r\n\t\t\t\ttfield: jtgt.fieldname,\r\n\t\t\t\tjoin: j.join\r\n\t\t\t};\r\n\t\t\tdp.push(d);\r\n\t\t}\r\n\t\t\r\n\t\tgmain.store.loadData(dp);\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tgmain = me.down(\"[name=gmain]\"),\r\n\t\t\trec, joins = me.joins, njoins = [], i,\r\n\t\t\tsel = {}, key, j;\r\n\t\t\r\n\t\tfor (i=0; i < gmain.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = gmain.store.data.items[i];\r\n\t\t\t\r\n\t\t\tkey = rec.get(\"stableuid\") + \"_\" + rec.get(\"sfield\") + \":\" + rec.get(\"ttableuid\") + \"_\" + rec.get(\"tfield\");\r\n\t\t\t\r\n\t\t\tsel[key] = 1;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < joins.length; i++)\r\n\t\t{\r\n\t\t\tj = joins[i];\r\n\t\t\tkey = j.source.tableuid + \"_\" + j.source.fieldname + \":\" + j.target.tableuid + \"_\" + j.target.fieldname;\r\n\t\t\t\r\n\t\t\tif (sel[key])\r\n\t\t\t{\r\n\t\t\t\tnjoins.push(j);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.callback && me.callback.execute(njoins);\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\r\n\tinitComponent : function() {\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"L_JOIN_RECOMMENDATIONS\"), // \"Join Recommendations\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tminHeight: 400,\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"gmain\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SRC_TBL\"), // \"Source Table\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"stable\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SRC_FIELD\"), // \"Source Field\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"sfield\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_TGT_TABLE\"), // \"Target Table\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"ttable\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_TGT_FIELD\"), // \"Target Field\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"tfield\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OP\"), // \"Operator\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"join\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\twidth: 45,\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\"stable\", \"sfield\", \"ttable\", \"tfield\", \"join\", \"stableuid\", \"ttableuid\"]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\r\n\t\tIG$.JoinRec.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.mgrUserDuty = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\tautoHeight: true,\r\n\tbodyPadding: ig$.padding,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.callback)\r\n\t\t{\r\n\t\t\tvar gridduty_sel = me.down(\"[name=gridduty_sel]\"),\r\n\t\t\t\ti,\r\n\t\t\t\tsel = []; // gridduty.getSelectionModel().getSelection();\r\n\t\t\t\t\r\n\t\t\tfor (i=0; i < gridduty_sel.store.data.length; i++)\r\n\t\t\t{\r\n\t\t\t\tsel.push(gridduty_sel.store.data.items[i]);\r\n\t\t\t}\r\n\t\t\tme.callback.execute(sel);\r\n\t\t}\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tloadDutyList: function() {\r\n\t\tvar panel = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(panel, \r\n\t\t\t{\r\n\t\t\t\tack: \"usercontent\",\r\n\t\t\t\tpayload: {address: \"/Auth\"},\r\n\t\t\t\tmbody: {option: 'select'}\r\n\t\t\t}, panel, panel.rs_loadDutyList, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadDutyList: function(jdoc) {\r\n\t\tvar i,\r\n\t\t\tcnodes,\r\n\t\t\tduties = [], \r\n\t\t\tduties_sel = [],\r\n\t\t\trec,\r\n\t\t\tduty,\r\n\t\t\tgridduty = this.down(\"[name=gridduty]\"),\r\n\t\t\tgridduty_sel = this.down(\"[name=gridduty_sel]\"),\r\n\t\t\tsel = {};\r\n\t\t\t// smodel = gridduty.getSelectionModel();\r\n\t\t\r\n\t\tif (this.sel)\r\n\t\t{\r\n\t\t\tfor (i=0; i < this.sel.length; i++)\r\n\t\t\t{\r\n\t\t\t\tsel[this.sel[i].sid] = this.sel[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tfor (i=0; i < jdoc.length; i++)\r\n\t\t\t{\r\n\t\t\t\tduty = jdoc[i];\r\n\t\t\t\tif (sel[duty.sid])\r\n\t\t\t\t{\r\n\t\t\t\t\tduties_sel.push(duty);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tduties.push(duty);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgridduty.store.loadData(duties);\r\n\t\tgridduty_sel.store.loadData(duties_sel);\r\n//\t\t\r\n//\t\tfor (i=0; i < gridduty.store.data.items.length; i++)\r\n//\t\t{\r\n//\t\t\trec = gridduty.store.data.items[i];\r\n//\t\t\t\r\n//\t\t\tif (sel[rec.get(\"sid\")])\r\n//\t\t\t{\r\n//\t\t\t\tsmodel.select(rec, true, true);\r\n//\t\t\t}\r\n//\t\t}\r\n\t},\r\n\t\r\n//\tcreateDuty: function() {\r\n//\t\tvar panel = this,\r\n//\t\t\tdlg = new IG$.makeItem({\r\n//\t\t\tinstance: me.instance,\r\n//\t\t\titemtype: \"Auth\",\r\n//\t\t\tcallback: new IG$.callBackObj(panel, panel.rs_createDuty)\r\n//\t\t});\r\n//\t\t\r\n//\t\tIG$.showDlg(me, dlg);\r\n//\t},\r\n//\t\r\n//\trs_createDuty: function(xdoc) {\r\n//\t\tthis.loadDutyList();\r\n//\t},\r\n\r\n\r\n\tmoveDuty: function(select) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tgrd_source = me.down(\"[name=gridduty\" + (select == false ? \"_sel\" : \"\") + \"]\"),\r\n\t\t\tgrd_target = me.down(\"[name=gridduty\" + (select == true ? \"_sel\" : \"\") + \"]\"),\r\n\t\t\tsel = grd_source.getSelectionModel().getSelection();\r\n\t\t\t\r\n\t\tif (sel.length > 0)\r\n\t\t{\r\n\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t{\r\n\t\t\t\tgrd_source.store.remove(sel[i]);\r\n\t\t\t\tgrd_target.store.add(sel[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"L_MGR_UD\");\r\n\t\t\r\n\t\tvar items = [\r\n\t\t\t{\r\n\t\t\t\txtype: \"form\",\r\n\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\tdefaults: {\r\n\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t},\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tbodyPadding: ig$.padding,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\tvalue: IRm$.r1(\"L_UD_DESC\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\tname: \"gridduty\",\r\n\t\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmultiSelect: true,\r\n\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\"name\", \"dutytype\", \"sid\", \"status\", \"type\"\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\tbodyPadding: ig$.padding,\r\n\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \">>\",\r\n\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.moveDuty(true);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"<<\",\r\n\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.moveDuty(false);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\tname: \"gridduty_sel\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmultiSelect: true,\r\n\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\"name\", \"dutytype\", \"sid\", \"status\", \"type\"\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t   ]\r\n\t\t\t\t\t   }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tvar buttons = [\r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis._confirm();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}, \r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\thandler:function() {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: items,\r\n\t\t\tbuttons: buttons\r\n\t\t});\r\n\t\t\r\n\t\tIG$.mgrUserDuty.superclass.initComponent.apply(this, arguments);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(ui) {\r\n\t\t\tthis.loadDutyList();\r\n\t\t}\r\n\t}\r\n});\r\n","/* file: codemapping.js */\r\n\r\nIG$.codemapping = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 540,\r\n\theight: 480,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\ti_cset_g = me.down(\"[name=i_cset_g]\"),\r\n\t\t\tdisplabel_c = me.down(\"[name=displabel_c]\"),\r\n\t\t\tp_1a = me.down(\"[name=p_1a]\"),\r\n\t\t\ti,\r\n\t\t\trec,\r\n\t\t\treq,\r\n\t\t\tp_1 = me.down(\"[name=p_1]\"),\r\n\t\t\tpitem = me.pitem;\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"p_1\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (pitem)\r\n\t\t{\r\n\t\t\tp_1.clearInvalid();\r\n\t\t\tpitem.name = p_1.getValue();\r\n\t\t\tpitem.description = me.down(\"[name=p_2]\").getValue();\r\n\t\t\tpitem.dtype = me.down(\"[name=p_3]\").getValue();\r\n\t\t\tpitem.sql_data = IG$._encodeVal(me.down(\"[name=p_4]\").getValue());\r\n\t\t\tpitem.static_data = [];\r\n\t\t\tpitem.datasource = me.down(\"[name=cbdatasource]\").getValue();\r\n\t\t\t\r\n\t\t\tif (!pitem.name)\r\n\t\t\t{\r\n\t\t\t\tp_1.markInvalid();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpitem.i_cdata = [];\r\n\t\t\t\r\n\t\t\tif (pitem.dtype == \"static\")\r\n\t\t\t{\r\n\t\t\t\tpitem.i_cset = me.down(\"[name=i_cset_s]\").getValue();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tpitem.i_cset = me.down(\"[name=i_cset]\").checkboxCmp.getValue();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trec = grd_data.store.data.items[i];\r\n\t\t\t\t\r\n\t\t\t\tif (rec.get(\"code\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tpitem.static_data.push({\r\n\t\t\t\t\t\tcode: rec.get(\"code\"),\r\n\t\t\t\t\t\tvalue: rec.get(\"value\")\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (pitem.dtype == \"static\" && rec.get(\"color\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpitem.i_cdata.push({code: rec.get(\"code\"), color: rec.get(\"color\")});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (pitem.dtype != \"static\")\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < i_cset_g.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = i_cset_g.store.data.items[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (rec.get(\"color\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpitem.i_cdata.push({code: rec.get(\"code\"), color: rec.get(\"color\")});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tp_1a._confirm();\r\n\t\t\t\r\n\t\t\tif (pitem.dtype == \"static\" || pitem.dtype == \"sql\")\r\n\t\t\t{\r\n\t\t\t\tpitem.displabel = displabel_c.getValue();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: me.pitem.uid, name: me.pitem.name, description: me.pitem.description},\r\n\t\t\t\t\tmbody: me.pitem,\r\n\t\t\t\t\tmeta_type: \"code_mapping\"\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme.callback && me.callback.execute(me.item);\r\n\t\t\t\t\tme.close();\r\n\t\t\t\t}, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\t_init: function() {\r\n\t\tthis._getDsource();\r\n\t},\r\n\t\r\n\t_getDsource: function() {\r\n\t\tvar me = this,\r\n\t\t\tinstance = me.instance,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {address: \"/\"},\r\n\t\t\t\tmbody: {option: \"standard\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\td,\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\tisadmin = instance.dlgLogin.jS2,\r\n\t\t\t\t\tcbdatasource = me.down(\"[name=cbdatasource]\"),\r\n\t\t\t\t\ti, tnodes, tnode;\r\n\t\t\t\t\r\n\t\t\t\tif (jdoc && jdoc.length)\r\n\t\t\t\t{\r\n\t\t\t\t\ttnodes = jdoc;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdp.push({dispname:\"-- Select Pool --\", uid:\"\"}); \r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\td = tnodes[i];\r\n\t\t\t\t\t\td.dispname = d.name;\r\n\t\t\t\t\t\tdp.push(d);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcbdatasource.store.loadData(dp);\r\n\t\t\t\t\tcbdatasource.setValue(\"\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme._getMeta();\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_getMeta: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me.uid, revision: me.revision},\r\n\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tme.pitem = jdoc.content;\r\n\t\t\t\tme.pitem.get = function(pname) {\r\n\t\t\t\t\treturn me.pitem[pname];\r\n\t\t\t\t};\r\n\t\t\t\tme.pitem.set = function(pname, value) {\r\n\t\t\t\t\tme.pitem[pname] = value;\r\n\t\t\t\t};\r\n\t\t\t\tme._applyMeta();\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_applyMeta: function() {\r\n\t\tvar me = this,\r\n\t\t\tpitem = me.pitem,\r\n\t\t\tp_1a = me.down(\"[name=p_1a]\"),\r\n\t\t\tvalues, i;\r\n\t\t\t\r\n\t\tif (pitem)\r\n\t\t{\r\n\t\t\tvalues = [\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_1\",\r\n\t\t\t\t\tv: pitem.name\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_2\",\r\n\t\t\t\t\tv: pitem.description\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_3\",\r\n\t\t\t\t\tv: pitem.dtype || \"\" // || (ig$.$l_ > 5 ? \"static\" : \"\")\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_4\",\r\n\t\t\t\t\tv: IG$._decodeVal(pitem.sql_data)\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"cbdatasource\",\r\n\t\t\t\t\tv: pitem.datasource\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"i_cset_s\",\r\n\t\t\t\t\tv: pitem.i_cset\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\t\r\n\t\t\tme.down(\"[name=p_1a]\").rec = pitem;\r\n\t\t\tif (pitem.dtype == \"sqljoin\")\r\n\t\t\t{\r\n\t\t\t\tp_1a.datasource = pitem.datasource;\r\n\t\t\t\tp_1a.loadContent();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme._applyVal(values);\r\n\t\t\t\r\n\t\t\tif (pitem.i_cset && pitem.i_cdata)\r\n\t\t\t{\r\n\t\t\t\tvar i_cset_m = {},\r\n\t\t\t\t\trec;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0;i < pitem.i_cdata.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = pitem.i_cdata[i];\r\n\t\t\t\t\ti_cset_m[rec.code] = rec.color;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < pitem.static_data.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = pitem.static_data[i];\r\n\t\t\t\t\trec.color = i_cset_m[rec.code];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.down(\"[name=grd_data]\").store.loadData(pitem.static_data);\r\n\t\t\tme.down(\"[name=i_cset_g]\").store.loadData(pitem.i_cdata);\r\n\t\t\tme.down(\"[name=displabel_c]\").setValue(pitem.displabel || \"\");\r\n\t\t\t\r\n\t\t\tif (pitem.i_cset)\r\n\t\t\t{\r\n\t\t\t\tme.down(\"[name=i_cset]\").expand();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t_applyVal: function(values) {\r\n\t\tvar me = this,\r\n\t\t\tc, i;\r\n\t\t\t\r\n\t\tfor (i=0; i < values.length; i++)\r\n\t\t{\r\n\t\t\tc = me.down(\"[name=\" + values[i].c + \"]\");\r\n\t\t\tc.setValue(values[i].v || \"\");\r\n\t\t}\r\n\t},\r\n\t\r\n\t_moveGrdSel: function(grid, direction) {\r\n\t\tvar records = grid.getSelectionModel().getSelection(),\r\n\t\t\trecord = records && records.length ? records[0] : null;\r\n\t\t\t\r\n\t\tif (!record) \r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar index = grid.getStore().indexOf(record);\r\n\t\t\r\n\t\tif (direction < 0) \r\n\t\t{\r\n\t\t\tindex--;\r\n\t\t\tif (index < 0) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} \r\n\t\telse \r\n\t\t{\r\n\t\t\tindex++;\r\n\t\t\tif (index >= grid.getStore().getCount()) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid.getStore().remove(record);\r\n\t\trecord = grid.getStore().insert(index, record);\r\n\t\tgrid.getSelectionModel().select(record, true);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this,\r\n\t\t\tp_3_data = [\r\n\t\t\t\t{name: IRm$.r1(\"B_SELECT\"), value: \"\"},\r\n\t\t\t\t{name: \"Static Values\", value: \"static\"},\r\n\t\t\t\t{name: \"SQL Query\", value: \"sql\"},\r\n\t\t\t\t{name: \"SQL Join\", value: \"sqljoin\"}\r\n\t\t\t];\r\n\r\n\t\t// ig$.$l_ = ig$.$l_ || 0;\r\n\t\t/*\r\n\t\tif (ig$.$l_ < 5)\r\n\t\t{\r\n\t\t\tp_3_data.push({name: \"SQL Join\", value: \"sqljoin\"});\r\n\t\t}\r\n\t\t*/\r\n\t\tme.title = IRm$.r1(\"T_CODE_MAPPING\");\r\n\t\t\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\t\r\n\t\t\tpadding: 0,\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\tname: \"p_1\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\tname: \"p_2\",\r\n\t\t\t\t\t\t\theight: 60\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MAPPING_TYPE\"),\r\n\t\t\t\t\t\t\t// hidden: ig$.$l_ > 5, \r\n\t\t\t\t\t\t\tname: \"p_3\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: p_3_data\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tchange: function(field, newvalue, oldvalue) {\r\n\t\t\t\t\t\t\t\t\tif (newvalue)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cbdatasource]\").setVisible(newvalue != \"static\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=lt_0]\").setVisible(newvalue == \"static\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=lt_1]\").setVisible(newvalue == \"sql\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=lt_2]\").setVisible(newvalue == \"sqljoin\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=i_cset]\").setVisible(newvalue != \"static\");\r\n\t\t\t\t\t\t\t\t\t\t// ig$.$l_ < 5 && \r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=displabel_c]\").setVisible(newvalue != \"sqljoin\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\tname: \"lt_dsource\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\tname: \"cbdatasource\",\r\n\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATASOURCE\"),\r\n\t\t\t\t\t\t\t\t\tdisplayField: \"dispname\",\r\n\t\t\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\tautoSelect: false,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"dispname\", \"uid\", \"isuserdb\", \"savepwd\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tselect: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\tnvalue = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tp_1a = me.down(\"[name=p_1a]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tp_3 = me.down(\"[name=p_3]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (p_3.getValue() == \"sqljoin\")\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tp_1a.datasource = nvalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\tp_1a.loadContent();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LABEL_VALUE\"),\r\n\t\t\t\t\t\t\t\t\tname: \"displabel_c\",\r\n\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\teditable: true,\r\n\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Mapped values\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"{CODE} {VALUE}\", value: \"{CODE} {VALUE}\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"{CODE} {SORT} {VALUE}\", value: \"{CODE} {SORT} {VALUE}\"}\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STATIC_DATA_VALUES\"), // \"Static Data Values\",\r\n\t\t\t\t\t\t\tname: \"lt_0\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\tname: \"i_cset_s\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_USE_COLORSET\"),\r\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\"),\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar t = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = this.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tgrd_data.columns[2].setVisible(t);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"grd_data\",\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.mdlgmode ? true : false,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_ROW\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd_data = this.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data.store.add({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DELETE_CHECKED\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd_data = this.down(\"[name=grd_data]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = grd_data.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i>=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data.store.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_UP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._moveGrdSel(grd_data, -1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DOWN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._moveGrdSel(grd_data, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"code\", \"value\", \"color\"]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CODE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"code\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: true\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TEXT\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t// xtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COLOR\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"color\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn \"<div class='igc-colorset-icon' style='background-color:\" + value + \";'></div><span>\" + value + \"</span>\";\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// tpl: \"<div style='width: 60px; height: 20px; background-color: {color}'></div>\"\r\n\t\t\t\t\t\t\t\t\t\t} /*,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 20,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar m = new $s.menu({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"colorpicker\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COLOR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect: function(cp, color) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.data.items[rowIndex].set(\"color\", \"#\" + color);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcp.hide();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tm.show();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SQL_DATA_VALUES\"), // \"SQL Data Values\",\r\n\t\t\t\t\t\t\tname: \"lt_1\",\r\n\t\t\t\t\t\t\tminHeight: 230,\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\tname: \"p_4\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\tautowidth: false,\r\n\t\t\t\t\t\t\t\t\tvalue: \"CODE, VALUE, SORT and additional fields in SELECT\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SQL_TABLE_JOIN\"), // \"SQL Table Join\",\r\n\t\t\t\t\t\t\tname: \"lt_2\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tminHeight: 600,\r\n\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\tnew IG$.codeMappingPanel({\r\n\t\t\t\t\t\t\t\t\tname: \"p_1a\",\r\n\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\tanchor: \"100%\",\r\n\t\t\t\t\t\t\t\t\td_m: \"cmap\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_COLORSET\"), // ig$.$l_ < 5 ? IRm$.r1(\"L_COLORSET\") : null, // \"ColorSet\",\r\n\t\t\t\t\t\t\tname: \"i_cset\",\r\n\t\t\t\t\t\t\tcheckboxToggle: true, // ig$.$l_ < 5 ? true : false,\r\n\t\t\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\t\t\theight: 200,\r\n\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"i_cset_g\",\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_ROW\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd_data = this.down(\"[name=i_cset_g]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data.store.add({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DELETE_CHECKED\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd_data = this.down(\"[name=i_cset_g]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = grd_data.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i>=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data.store.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_UP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=i_cset_g]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._moveGrdSel(grd_data, -1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DOWN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=i_cset_g]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._moveGrdSel(grd_data, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"code\", \"color\"]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_VALUE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"code\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COLOR\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"color\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn \"<div class='igc-colorset-icon' style='background-color:\" + value + \";'></div><span>\" + value + \"</span>\";\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.codemapping.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.dlgalias = $s.extend($s.window, {\r\n\txtype: \"window\",\r\n\t\r\n\tmodal: true,\r\n\tregion:'center',\r\n\t\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\tdefaults:{\r\n\t\tpadding: ig$.padding\r\n\t},\r\n\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\topt = {};\r\n\r\n\t\tif (me.getAllValues(opt))\r\n\t\t\treturn;\r\n\r\n\t\tme.callback.execute(opt);\r\n\t\tme.close();\r\n\t},\r\n\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: me.title || IRm$.r1('L_ALIAS'),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"datatype\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA_TYPE\"),\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t{name: \"PHYSICAL LOGICAL\", value: \"PL\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"LOGICAL PHYSICAL\", value: \"LP\"}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\tname: 'aliasmap',\r\n\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlgalias.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\nIG$.multiMeasure = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tpadding: ig$.padding,\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 550,\r\n\theight: 560,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_fdata: [\r\n\t\t{name: \"Distinct Count\", value: \"COUNT DISTINCT\", metric: 1},\r\n\t\t{name: \"Count\", value: \"COUNT\", metric: 1},\r\n\t\t{name: \"Sum\", value: \"SUM\", metric: 1},\r\n\t\t{name: \"Average\", value: \"AVG\", metric: 1},\r\n\t\t{name: \"Max\", value: \"MAX\", metric: 1},\r\n\t\t{name: \"Min\", value: \"MIN\", metric: 1},\r\n\t\t{name: \"Template\", value: \"TMPL\", metric: 0}\r\n\t],\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.callback)\r\n\t\t{\r\n\t\t\tvar r = [],\r\n\t\t\t\ti,\r\n\t\t\t\tmeasureview = this.down(\"[name=measureview]\"),\r\n\t\t\t\tclocation = this.down(\"[name=clocation]\"),\r\n\t\t\t\titem, cobj;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < measureview.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\titem = measureview.store.data.items[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!item.data.selected)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\tcobj = {\r\n\t\t\t\t\tnodepath: item.get(\"nodepath\"),\r\n\t\t\t\t\tformula: item.get(\"formula\"),\r\n\t\t\t\t\ttype: item.get(\"type\"),\r\n\t\t\t\t\tname: item.get(\"name\"),\r\n\t\t\t\t\tuid: item.get(\"uid\"),\r\n\t\t\t\t\tdatatype: item.get(\"datatype\"),\r\n\t\t\t\t\tmeasurename: item.get(\"measurename\"),\r\n\t\t\t\t\tctype: item.get(\"ctype\"),\r\n\t\t\t\t\tclocation: item.get(\"clocation\")\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tr.push(cobj);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (r.length == 0)\r\n\t\t\t{\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.rs_reg_measures({\r\n\t\t\t\titems: r, \r\n\t\t\t\tclocation: clocation.getValue(), \r\n\t\t\t\tdialog: me, \r\n\t\t\t\tvmode: me.vmode,\r\n\t\t\t\ttmpl: me.tmpl\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\trs_reg_measures: function(opt) {\r\n\t\tvar i, j,\r\n\t\t\tme = this,\r\n\t\t\taddress = [],\r\n\t\t\tcontent = {items: []},\r\n\t\t\tm_f,\r\n\t\t\titem,\r\n\t\t\t_r, _c,\r\n\t\t\tvmode = opt.vmode,\r\n\t\t\titems = opt.items,\r\n\t\t\tclocation = opt.clocation,\r\n\t\t\tcloc,\r\n\t\t\tdlg = opt.dialog,\r\n\t\t\t_parentpath = me.nodepath, req,\r\n\t\t\ttmpl = opt.tmpl,\r\n\t\t\tn1, n2,\r\n\t\t\tmname, pp,\r\n\t\t\tcitems = content.items,\r\n\t\t\tritem;\r\n\t\t\r\n\t\tme.mfolder = clocation;\r\n\t\t\r\n\t\tfor (i=0; i < items.length; i++)\r\n\t\t{\r\n\t\t\titem = items[i];\r\n\t\t\t\r\n\t\t\tif (opt.vmode)\r\n\t\t\t{\r\n\t\t\t\tcloc = item.clocation + \"/\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (clocation.substring(0, \"{parent}\".length) == \"{parent}\")\r\n\t\t\t\t{\r\n\t\t\t\t\tpp = item.nodepath.substring(0, item.nodepath.lastIndexOf(\"/\"));\r\n\t\t\t\t\tcloc = pp + clocation.substring(\"{parent}\".length) + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcloc = _parentpath + \"/\" + (clocation ? (clocation + \"/\") : \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\titem.cloc = cloc;\r\n\t\t\t\r\n\t\t\tmname = item.measurename;\r\n\t\t\t\r\n\t\t\tif (mname.indexOf(\"/\") > -1)\r\n\t\t\t{\r\n\t\t\t\tmname = mname.split(\"/\");\r\n\t\t\t\tmname = mname.join(\"&#x2f;\");\r\n\t\t\t}\r\n\r\n\t\t\t_r = {name: mname, uid: cloc + mname, type: item.ctype || \"Measure\", createstructure: \"T\"};\r\n\t\t\tif (me.mitem)\r\n\t\t\t{\r\n\t\t\t\t_r.pid = me.mitem.uid;\r\n\t\t\t}\r\n\t\t\taddress.push(_r);\r\n\t\t\t\r\n\t\t\tritem = me.mitem ? me.mitem : item;\r\n\t\t\t\r\n\t\t\tif (item.ctype == \"DateMetric\")\r\n\t\t\t{\r\n\t\t\t\t_c = {\r\n\t\t\t\t\tcubeuid: me.uid,\r\n\t\t\t\t\tdateformat: \"DATE\",\r\n\t\t\t\t\tfieldid: item.uid,\r\n\t\t\t\t\tfieldname: mname,\r\n\t\t\t\t\tdbtype: \"auto\",\r\n\t\t\t\t\tissql: true,\r\n\t\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tcitems.push(_c);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tswitch (item.formula)\r\n\t\t\t\t{\r\n//\t\t\t\tcase \"SUM\":\r\n//\t\t\t\tcase \"AVG\":\r\n//\t\t\t\tcase \"COUNT\":\r\n//\t\t\t\tcase \"MIN\":\r\n//\t\t\t\tcase \"MAX\":\r\n\t\t\t\t\t\r\n\t\t\t\tcase \"COUNT DISTINCT\":\r\n\t\t\t\tcase \"COUNT_DISTINCT\":\r\n\t\t\t\t\tm_f = \"COUNT(DISTINCT [\" + item.name + \"])\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"TMPL\":\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tm_f = item.formula + \"([\" + item.name + \"])\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (item.formula == \"TMPL\" && tmpl)\r\n\t\t\t\t{\r\n\t\t\t\t\tm_f = tmpl.expression;\r\n\t\t\t\t\t\r\n\t\t\t\t\tn1 = m_f.indexOf(\"[field]\");\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (n1 > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tm_f = m_f.substring(0, n1) + \"[\" + item.name + \"]\" + m_f.substring(n1 + \"[field]\".length);\r\n\t\t\t\t\t\tn1 = m_f.indexOf(\"[field]\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t_c = {\r\n\t\t\t\t\t\tmeta_type: \"measure\",\r\n\t\t\t\t\t\tname: item.measurename,\r\n\t\t\t\t\t\texpression_type: tmpl.expressiontype,\r\n\t\t\t\t\t\tcalcmode: tmpl.calcmode,\r\n\t\t\t\t\t\texpression: m_f,\r\n\t\t\t\t\t\trel_items: [\r\n\t\t\t\t\t\t\tritem\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (j=0; j < tmpl.fields.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttmpl.fields[j].type = tmpl.fields[j].type || tmpl.fields[j].itemtype;\r\n\t\t\t\t\t\t_c.items.push(tmpl.fields[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcitems.push(_c);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t_c = {\r\n\t\t\t\t\t\tmeta_type: \"measure\",\r\n\t\t\t\t\t\tname: item.measurename,\r\n\t\t\t\t\t\texpression_type: item.formula,\r\n\t\t\t\t\t\texpression: m_f,\r\n\t\t\t\t\t\trel_items: [\r\n\t\t\t\t\t\t\tritem\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcitems.push(_c);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: content\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.callback.execute();\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_getfmtvalue: function(t_format, mname, formula, mf) {\r\n\t\tvar n = mf ? mf : (t_format ? (/(\\[field\\]|\\[formula\\])/.test(t_format)) : 0),\r\n\t\t\tme = this;\r\n\t\t\r\n\t\tif (n)\r\n\t\t{\r\n\t\t\tvar cfunc = function(fvalue, mvalue, cvalue) {\r\n\t\t\t\tif (cvalue && cvalue.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar n = mvalue.indexOf(fvalue);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (n > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmvalue = mvalue.substring(0, n) + cvalue + mvalue.substring(n+fvalue.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn mvalue;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (!me._fmt_formu)\r\n\t\t\t{\r\n\t\t\t\tme._fmt_formu = {\r\n\t\t\t\t\t\"COUNT\": \"Count\",\r\n\t\t\t\t\t\"COUNT_DISTINCT\": \"Unique count\",\r\n\t\t\t\t\t\"COUNT DISTINCT\": \"Unique count\",\r\n\t\t\t\t\t\"SUM\": \"Total\",\r\n\t\t\t\t\t\"MIN\": \"Min.\",\r\n\t\t\t\t\t\"MAX\": \"Max.\",\r\n\t\t\t\t\t\"AVG\": \"Avg.\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmname = cfunc(\"[field]\", t_format, mname);\r\n\t\t\tif (me._fmt_formu[formula.toUpperCase()])\r\n\t\t\t{\r\n\t\t\t\tmname = cfunc(\"[formula]\", mname, me._fmt_formu[formula.toUpperCase()]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmname = cfunc(\"[formula]\", mname, formula);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn mname;\r\n\t},\r\n\t\r\n\tapply_template: function() {\r\n\t\tvar i,\r\n\t\t\tme = this,\r\n\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\trec,\r\n\t\t\tt_format = me.down(\"[name=t_format]\").getValue(),\r\n\t\t\tstore = measureview.getSelectionModel().selected,\r\n\t\t\tmname,\r\n\t\t\tn = t_format ? (/(\\[field\\]|\\[formula\\])/.test(t_format)) : 0;\r\n\t\t\t\r\n\t\tif (store.length == 0)\r\n\t\t{\r\n\t\t\tstore = measureview.store.data;\r\n\t\t}\r\n\t\t\r\n\t\tif (n)\r\n\t\t{\r\n\t\t\tfor (i=0; i < store.length; i++)\r\n\t\t\t{\r\n\t\t\t\trec = store.items[i];\r\n\t\t\t\tmname = rec.get(\"name\");\r\n\t\t\t\tmname = me._getfmtvalue(t_format, mname, rec.get(\"formula\"), n);\r\n\t\t\t\trec.set(\"measurename\", mname);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"T_M_MEASURE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MULTIMEASURE\"), // \"MultiMeasure\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_PATH\"), // Location\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.vmode == 1 || this.vmode == 2,\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"clocation\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MEASURE_NAME\"), // Measure Name\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"[formula] [field]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_APPLY\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (me.down(\"[name=t_format]\").getValue())\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tig$.measure_naming = me.down(\"[name=t_format]\").getValue();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.apply_template();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.vmode == 1 || this.vmode == 2,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"Location ex: {parent}/measures\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"Name template ex: [formula] [field]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"measureview\",\r\n\t\t\t\t\t\t\t\t\tcollapsible: false,\r\n\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"uid\", \"nodepath\", \"type\", \"datatype\", \"measurename\", \"formula\", \"ctype\", \"clocation\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_MEASURE_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"measurename\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_FACT_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"formula\",\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttriggerAction: \"all\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectOnTab: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: this._fdata\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tlazyRender: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlistClass: \"x-combo-list-small\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_SELECTED\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = measureview.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = measureview.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i >=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TEMPLATE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.measureEditor({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdmode: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcubeuid: me.pcube.uid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclItem: me.tmpl || {},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, function(param) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.tmpl = param ? param.citem : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = measureview.getSelectionModel().selected;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel.items[i].set(\"formula\", \"TMPL\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpcube = me.pcube,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomstyle = pcube ? pcube.customstyle : null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.cubeinfo.styles = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (customstyle)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < customstyle.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.cubeinfo.styles.push(customstyle[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.expressiontype = dlg.clItem.expressiontype || \"SUM([field])\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.expression = dlg.clItem.expression || \"SUM([field])\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.showDlg(me, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\tclocation = me.down(\"[name=clocation]\"),\r\n\t\t\t\t\t\tmeasures,\r\n\t\t\t\t\t\ti, f,\r\n\t\t\t\t\t\titem = me.mitem,\r\n\t\t\t\t\t\tformatvalue,\r\n\t\t\t\t\t\tmname, measurename;\r\n\t\t\t\t\t\r\n\t\t\t\t\tformatvalue = ig$.measure_naming || \"[formula] [field]\";\r\n\t\t\t\t\tme.down(\"[name=t_format]\").setValue(formatvalue);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.vmode == 2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnformat = formatvalue ? (/(\\[field\\]|\\[formula\\])/.test(formatvalue)) : 0;\r\n\t\t\t\t\t\tmeasures = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < me._fdata.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tf = me._fdata[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (f.metric > 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tmname = f.name;\r\n\t\t\t\t\t\t\t\tmname = me._getfmtvalue(formatvalue, mname, f.value, nformat);\r\n\t\t\t\t\t\t\t\tmeasurename = mname;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tmeasures.push({\r\n\t\t\t\t\t\t\t\t\tmeasurename: measurename,\r\n\t\t\t\t\t\t\t\t\tformula_desc: f.name,\r\n\t\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\t\tformula: f.value\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmeasureview.store.loadData(measures);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclocation.setValue(me.mfolder == null ? \"{parent}/measures\" : me.mfolder);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (me.metaitems)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmeasureview.store.loadData(me.metaitems);\r\n\t\t\t\t\t\t\tme.apply_template();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multiMeasure.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\nIG$.multiRename = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tpadding: ig$.padding,\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 560,\r\n\theight: 500,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tvar r = [],\r\n\t\t\ti,\r\n\t\t\tmeasureview = this.down(\"[name=measureview]\"),\r\n\t\t\titem, cobj;\r\n\t\t\r\n\t\tfor (i=0; i < measureview.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\titem = measureview.store.data.items[i];\r\n\t\t\t\r\n\t\t\tif (!item.get(\"cname\"))\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tcobj = {\r\n\t\t\t\tnodepath: item.get(\"nodepath\"),\r\n\t\t\t\ttype: item.get(\"type\"),\r\n\t\t\t\tname: item.get(\"cname\"),\r\n\t\t\t\tuid: item.get(\"uid\")\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tr.push(cobj);\r\n\t\t}\r\n\t\t\r\n\t\tif (r.length == 0)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tme.rs_rename_tool({\r\n\t\t\titems: r, \r\n\t\t\tdialog: me\r\n\t\t});\r\n\t},\r\n\t\r\n\trs_rename_tool: function(opt) {\r\n\t\tvar i, j,\r\n\t\t\tme = this,\r\n\t\t\taddress = [],\r\n\t\t\tcontent = {items: [], option: \"rename\"},\r\n\t\t\tm_f,\r\n\t\t\titem,\r\n\t\t\t_r, _c,\r\n\t\t\tvmode = opt.vmode,\r\n\t\t\titems = opt.items,\r\n\t\t\tdlg = opt.dialog,\r\n\t\t\treq,\r\n\t\t\tritem;\r\n\t\t\r\n\t\tfor (i=0; i < items.length; i++)\r\n\t\t{\r\n\t\t\titem = items[i];\r\n\t\t\t\r\n\t\t\t_r = {name: item.name, uid: item.uid, type: item.type, option: \"rename\"};\r\n\t\t\taddress.push(_r);\r\n\t\t}\r\n\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: content\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.callback && me.callback.execute();\r\n\t\t\t\tme.close();\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tapply_template: function() {\r\n\t\tvar me = this,\r\n\t\t\torig_filename = me.down(\"[name=orig_filename]\"),\r\n\t\t\tphoto = me.down(\"[name=photo]\"),\r\n\t\t\tmform = me.down(\"[name=mform]\");\r\n\t\t\r\n\t\tif (me.__cprog)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, \"Still progressing. Please wait!\", null, null, 0, \"warning\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (photo.getRawValue())\r\n\t\t{\r\n\t\t\tvar f = mform.getForm();\r\n\t\t\t// $(f).attr(\"accept-charset\", \"UTF-8\");\r\n\t\t\tdocument.charset = \"UTF-8\";\r\n\t\t\tvar fname = photo.getRawValue();\r\n\t\t\tif (fname.indexOf(\"\\\\\") > -1)\r\n\t\t\t{\r\n\t\t\t\tfname = fname.substring(fname.lastIndexOf(\"\\\\\")+1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\torig_filename.setValue(fname);\r\n\t\t\t\r\n\t\t\tme.__cprog = 1;\r\n\t\t\t\r\n\t\t\tmform.submit({\r\n\t\t\t\turl: ig$.servlet + \"/upload\",\r\n\t\t\t\twaitMsg: 'Uploading your data file',\r\n\t\t\t\tsuccess: function(fp, o) {\r\n\t\t\t\t\tvar node = fp.errorReader.jsonData,\r\n\t\t\t\t\t\tuid = node && node.result ? node.result.uid : null;\r\n\t\t\t\t\t\r\n\t\t\t\t\torig_filename.setValue(\"\");\r\n\t\t\t\t\tphoto.clearValue();\r\n\t\t\t\t\tme.processUploadedFile(uid);\r\n\t\t\t\t\tme.__cprog = 0;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.__cprog = 0;\r\n\t\t\tme.apply_template_final();\r\n\t\t}\r\n\t},\r\n\t\r\n\tprocessUploadedFile: function(uid) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"uploadcontent\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tfileuid: uid\r\n\t\t\t\t},\r\n\t\t\t\tmbody: {option: \"read_txt\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tc = jdoc.content,\r\n\t\t\t\t\t__dict,\r\n\t\t\t\t\tsval, line,\r\n\t\t\t\t\ti, n, v;\r\n\t\t\t\t\r\n\t\t\t\t__dict = me.__dict = me.__dict || {};\r\n\t\t\t\t\r\n\t\t\t\tif (c && c.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tsval = c.split(\"\\n\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < sval.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tline = sval[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (line.length && line.indexOf(\",\") > 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tn = line.substring(0, line.indexOf(\",\"));\r\n\t\t\t\t\t\t\tv = line.substring(line.indexOf(\",\") + 1);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (n && n.length && v && v.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t__dict[n] = v;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.apply_template_final(true);\r\n\t\t\t}\r\n\t\t);\r\n\t\t\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tapply_template_final: function() {\r\n\t\tvar i,\r\n\t\t\tme = this,\r\n\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\trec,\r\n\t\t\trenamemask = me.down(\"[name=renamemask]\").getValue(),\r\n\t\t\tremove_underline = me.down(\"[name=remove_underline]\").getValue(),\r\n\t\t\tstore = measureview.getSelectionModel().selected,\r\n\t\t\tmname,\r\n\t\t\tpname,\r\n\t\t\tcname,\r\n\t\t\tpwords = \"a,an,the,at,by,for,in,of,on,to,from,up,and,as,but,or,nor,yet,so,vs\".split(\",\"),\r\n\t\t\tpwordsmap = {},\r\n\t\t\tkmap = {\"id\": 1},\r\n\t\t\t__dict;\r\n\t\t\r\n\t\t__dict = me.__dict || {};\r\n\t\t\r\n\t\t\t\r\n\t\tif (store.length == 0)\r\n\t\t{\r\n\t\t\tstore = measureview.store.data;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < pwords.length; i++)\r\n\t\t{\r\n\t\t\tpwordsmap[pwords[i]] = 1;\r\n\t\t}\r\n\t\t\r\n\t\tvar cfunc = function(ctype, mname) {\r\n\t\t\tvar cname = \"\",\r\n\t\t\t\ti,\r\n\t\t\t\tc,\r\n\t\t\t\tp,\r\n\t\t\t\tl = mname.length,\r\n\t\t\t\tj, w, cc;\r\n\t\t\t\r\n\t\t\tif (__dict[mname])\r\n\t\t\t{\r\n\t\t\t\tmname = __dict[mname];\r\n\t\t\t\tl = mname.length;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tp = i > 0 ? mname.charAt(i-1) : null;\r\n\t\t\t\tc = mname.charAt(i);\r\n\t\t\t\t\r\n\t\t\t\tif (remove_underline && c == '_')\r\n\t\t\t\t{\r\n\t\t\t\t\tc = ' ';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tswitch (ctype)\r\n\t\t\t\t{\r\n\t\t\t\tcase \"lowercase\":\r\n\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"uppercase\":\r\n\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first_letter_uppercase\":\r\n\t\t\t\t\tif (i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first_of_each_word_uppercase\":\r\n\t\t\t\t\tif (i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (p == ' ' || p == '_')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first_of_each_word_uppercase_english\":\r\n\t\t\t\t\tif (i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (p == ' ' || p == '_')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tw = \"\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (j=i; j < l; j++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcc = mname.charAt(j);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (cc == ' ' || cc == '_')\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tw += cc;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!pwordsmap[w.toLowerCase()])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (kmap[w.toLowerCase()])\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tc = w;\r\n\t\t\t\t\t\t\t\ti += w.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcname += c;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn cname;\r\n\t\t};\r\n\t\t\r\n\t\tfor (i=0; i < store.length; i++)\r\n\t\t{\r\n\t\t\trec = store.items[i];\r\n\t\t\tmname = rec.get(\"name\");\r\n\t\t\tpname = rec.get(\"physical_name\");\r\n\t\t\t\r\n\t\t\tcname = cfunc(renamemask, pname || mname);\r\n\t\t\t\r\n\t\t\trec.set(\"cname\", cname);\r\n\t\t}\r\n\t},\r\n\r\n\t_alias: function() {\r\n\t\tvar me = this,\r\n\t\t\tpop = new IG$.dlgalias({\r\n\t\t\t\tinstance: me.instance,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(alias) {\r\n\t\t\t\t\tif (alias && alias.aliasmap)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme._upd_alias(alias);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\tIG$.checkLogin(me, pop);\r\n\t},\r\n\r\n\t_upd_alias: function(alias) {\r\n\t\tvar me = this,\r\n\t\t\taval = alias.aliasmap,\r\n\t\t\tdatatype = alias.datatype,\r\n\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\tmeasureviewstore = measureview.store,\r\n\t\t\tlns = aval.split(\"\\n\"),\r\n\t\t\ti, v, c, l, rec, lt,\r\n\t\t\taliasmap = {m1: {}, m2: {}};\r\n\r\n\t\tfor (i=0; i < lns.length; i++)\r\n\t\t{\r\n\t\t\tl = lns[i];\r\n\t\t\tv = c = null;\r\n\t\t\tif (l)\r\n\t\t\t{\r\n\t\t\t\tif (l.indexOf(\"\\t\") > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tc = l.substring(0, l.indexOf(\"\\t\"));\r\n\t\t\t\t\tv = l.substring(l.indexOf(\"\\t\") + 1);\r\n\t\t\t\t}\r\n\t\t\t\telse if (l.indexOf(\",\") > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tc = l.substring(0, l.indexOf(\",\"));\r\n\t\t\t\t\tv = l.substring(l.indexOf(\",\") + 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (c && v)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (datatype != \"LP\")\r\n\t\t\t\t\t\taliasmap.m1[c.toUpperCase()] = v;\r\n\t\t\t\t\tif (datatype != \"PL\")\r\n\t\t\t\t\t\taliasmap.m2[v.toUpperCase()] = c;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i=0; i < measureviewstore.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = measureviewstore.data.items[i];\r\n\r\n\t\t\tl = rec.get(\"physical_name\").toUpperCase();\r\n\r\n\t\t\tlt = aliasmap.m1[l] || aliasmap.m2[l];\r\n\r\n\t\t\tif (lt)\r\n\t\t\t{\r\n\t\t\t\trec.set(\"cname\", lt);\r\n\t\t\t}\r\n\t\t\telse if (rec.get(\"pname\"))\r\n\t\t\t{\r\n\t\t\t\tl = rec.get(\"pname\").toUpperCase();\r\n\t\t\t\tlt = aliasmap.m1[l] || aliasmap.m2[l];\r\n\r\n\t\t\t\tif (lt)\r\n\t\t\t\t{\r\n\t\t\t\t\trec.set(\"cname\", lt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"T_M_MEASURE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MULTI_RENAME\"), // \"Multi Rename\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: 'mform',\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"hiddenfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"_mts_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IG$._g$a\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"orig_filename\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_ORIG_NAME\") // Original name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'fileuploadfield',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'photo',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// labelWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmsgTarget: 'side',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchor: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// width: 320,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuttonText: IRm$.r1(\"L_SELECT_FILE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuttonConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: \"0 2 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"remove_underline\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_REMOVE_UNDERLINE\"), // Remove underline\",\r\n\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLED\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_RENAME_MASK\"), // Rename Mask\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"renamemask\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Unchanged\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"All lowercase\", value: \"lowercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"All UPPERCASE\", value: \"uppercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"First letter uppercase\", value: \"first_letter_uppercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"First of each word uppercase\", value: \"first_of_each_word_uppercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"First of each word uppercase (English in title)\", value: \"first_of_each_word_uppercase_english\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"clipboard csv\", value: \"clipboard_csv\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj, nvalue) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_alias = me.down(\"[name=t_alias]\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_alias.setVisible(nvalue == \"clipboard_csv\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_alias\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._alias();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_APPLY\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.apply_template();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"measureview\",\r\n\t\t\t\t\t\t\tcollapsible: false,\r\n\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_PHYSICAL_NAME\"),\r\n\t\t\t\t\t\t\t\t\t// dataIndex: \"physical_name\",\r\n\t\t\t\t\t\t\t\t\trenderer: function(text, metadata, record, rowindex, colindex, store) {\r\n\t\t\t\t\t\t\t\t\t\tvar pname = record.get(\"physical_name\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (record.get(\"pname\") && record.get(\"pname\") != pname)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tpname += \" (\" + record.get(\"pname\") + \")\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn pname;\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_NEW_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"cname\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_SELECTED\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore = measureview.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsel = measureview.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i >=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\tmform = me.down('[name=mform]');\r\n\t\t\t\t\t\r\n\t\t\t\t\tmeasureview.store.loadData(me.metaitems);\r\n\t\t\t\t\tmform.getForm().errorReader = new IG$.m2ER();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multiRename.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\n\r\nIG$.pvRecom = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tpadding: ig$.padding,\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 720,\r\n\theight: 580,\r\n\t\r\n\tcallback: null,\r\n\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrdrecom = me.down(\"[name=grdrecom]\"),\r\n\t\t\tmetaitems = me.metaitems;\r\n\r\n\t\tvar req = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"ai_service\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toption: \"generate_recommend\",\r\n\t\t\t\t\tuid: me.uid\r\n\t\t\t\t},\r\n\t\t\t\tmbody: {\r\n\t\t\t\t\tchildren: metaitems\r\n\t\t\t\t},\r\n\t\t\t\tmeta_type: \"metaitems\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\tai_pivot_msg = me.down(\"[name=ai_pivot_msg]\"),\r\n\t\t\t\t\tcolmap = {\r\n\t\t\t\t\t\trow: [],\r\n\t\t\t\t\t\tcol: [],\r\n\t\t\t\t\t\tmeasure: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\trecommends = jdoc.recommends,\r\n\t\t\t\t\tsuggestions = jdoc.suggestions,\r\n\t\t\t\t\tmessages = jdoc.messages;\r\n\r\n\t\t\t\tfor (i=0; i < recommends.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trecommends[i].is_saved = true;\r\n\t\t\t\t\tdp.push(recommends[i]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (suggestions)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < suggestions.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdp.push(suggestions[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgrdrecom.store.loadData(dp);\r\n\t\t\t\tai_pivot_msg.setValue(messages ? messages.join(\"\\n\") : \"\");\r\n\t\t\t}\r\n\t\t);\r\n\t\treq.send();\r\n\t},\r\n\r\n\t_createRpt: function(colmap, mgroup) {\r\n\t\tvar me = this;\r\n\t\tvar m = {\r\n\t\t\tcontent: {\r\n\t\t\t\tcube_objects: [{uid: me.uid}], type: \"Report\", objinfo: {}}, \r\n\t\t\t\ttype: \"Report\"\r\n\t\t\t};\r\n\t\tvar rpt = new IG$.clReports(m, \"report\");\r\n\t\tvar sht = new IG$.clReport({}, \"report\", false);\r\n\t\trpt.sheets.push(sht);\r\n\r\n\t\tvar i,\r\n\t\t\trname = \"\",\r\n\t\t\tmname = \"\",\r\n\t\t\tcname = \"\";\r\n\r\n\t\tfor (i=0; i < mgroup.length; i++)\r\n\t\t{\r\n\t\t\tmname += (!mname ? \"\" : \", \") + mgroup[i].name;\r\n\t\t\tmgroup[i].aggrfunc = \"SUM\";\r\n\t\t\tsht.model.measures.push(mgroup[i]);\r\n\t\t}\r\n\r\n\t\tfor (i=0; i < colmap.row.length; i++)\r\n\t\t{\r\n\t\t\trname += (!rname ? \"\" : \", \") + colmap.row[i].name;\r\n\t\t\tsht.model.rows.push(colmap.row[i]);\r\n\t\t}\r\n\r\n\t\tfor (i=0; i < colmap.col.length; i++)\r\n\t\t{\r\n\t\t\tcname += (!cname ? \"\" : \", \") + colmap.col[i].name;\r\n\t\t\tsht.model.cols.push(colmap.col[i]);\r\n\t\t}\r\n\r\n\t\tvar r = rpt.getCurrentPivot();\r\n\t\t// r.name = rname + (rname ? \":\" : \"\") + mname + (mname ? \":\" : \"\") + cname;\r\n\t\tr.name = mname + (mname && rname ? \" : \" : \"\") + rname;\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tgrdrecom = me.down(\"[name=grdrecom]\"),\r\n\t\t\tsel = grdrecom.getSelectionModel().selected,\r\n\t\t\ti, rec;\r\n\r\n\t\tvar reports = [];\r\n\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\trec = sel.items[i].data;\r\n\t\t\tif (rec.uid)\r\n\t\t\t\tcontinue;\r\n\t\t\treports.push(rec);\r\n\t\t}\r\n\r\n\t\tif (!reports.length)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"olapservice\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\toption: \"reg_multi_recom\",\r\n\t\t\t\t\tuid: me.uid\r\n\t\t\t\t},\r\n\t\t\t\tmbody: reports,\r\n\t\t\t\tmeta_type: \"reports\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.callback && me.callback.execute();\r\n\t\t\t\tme.close();\r\n\t\t\t}\r\n\t\t);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"T_PV_RECOM\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: ig$.padding,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"grdrecom\",\r\n\t\t\t\t\t\t\tbodyCls: \"grd_recom\",\r\n\t\t\t\t\t\t\tcollapsible: false,\r\n\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\trowHeight: 80,\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\t\t\t\t\twidth: 88,\r\n\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\tif (record.data.sheets && record.data.sheets[0].viewmode == \"chart\")\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tvar subtype = record.data.sheets[0].chart_option.subtype || \"default\";\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"<div class='recommend-thumb'><div class='ig-chart-base ig-chart-\" + subtype + \"' title='\" + subtype + \"'><span class='chart-icon'></span></div></div>\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse if (record.data.sheets)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"<div class='recommend-thumb'><div class='ig-chart-base ig-chart-htmltable' title='pivot table'><span class='chart-icon'></span></div></div>\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"description\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_SELECTED\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgrdrecom = me.down(\"[name=grdrecom]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore = grdrecom.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsel = grdrecom.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i >=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\tpopup_editor: true,\r\n\t\t\t\t\t\t\theight: 120,\r\n\t\t\t\t\t\t\tname: \"ai_pivot_msg\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_AI_PIVOT_REQ\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.pvRecom.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.d$QryTool = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:'center',\r\n\t\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 700,\r\n\tautoHeight: true,\r\n\tautoScroll: true,\r\n\t\r\n\tupdateChanges: function() {\r\n\t\tvar me = this,\r\n\t\t\tctrl = me.down(\"[name=ctrlpool]\"),\r\n\t\t\ti,\r\n\t\t\tcolumngrid = me.down(\"[name=columngrid]\"),\r\n\t\t\trec, p;\r\n\t\t\t\r\n\t\tme.sheetoption.sqloption.dbpool = ctrl.getValue();\r\n\t\tctrl = me.down(\"[name=sqlquery]\");\r\n\t\tme.sheetoption.sqloption.sql = ctrl.getValue();\r\n\t\tme.sheetoption.sqloption.sqlquery = me.sheetoption.sqloption.sql;\r\n\t\t\r\n\t\tme.sheetoption.sqloption.columns = [];\r\n\t\t\r\n\t\tfor (i=0; i < columngrid.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = columngrid.store.data.items[i];\r\n\t\t\tp = rec.data;\r\n\t\t\tp.dataoption = {};\r\n\t\t\tp.dataoption.data = rec.get(\"dataoption_data\");\r\n\t\t\tp.dataoption.datadelimiter = rec.get(\"dataoption_datadelimiter\");\r\n\t\t\tp.dataoption.coldelimiter = rec.get(\"dataoption_coldelimiter\");\r\n\t\t\tp.dataoption.valuetype = rec.get(\"dataoption_valuetype\");\r\n\t\t\t\r\n\t\t\tme.sheetoption.sqloption.columns.push(p);\r\n\t\t}\r\n\t},\r\n\t\r\n\tconfirmDialig: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.updateChanges();\r\n\t\t\r\n\t\tme.callback && me.callback.execute();\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tloadPool: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tpromptmap, cinfo,\r\n\t\t\tcolumnmap,\r\n\t\t\ti;\r\n\t\t\t\r\n\t\tif (!me.sheetoption.sqloption)\r\n\t\t{\r\n\t\t\tme.sheetoption.sqloption = {};\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=sqlquery]\").setValue(me.sheetoption.sqloption.sql || me.sheetoption.sqloption.sqlquery || \"\");\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {address: \"\"},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, me, me.rs_loadPool, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadPool: function(xdoc) {\r\n\t\tvar i,\r\n\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/item\"),\r\n\t\t\ttnodes = IG$.XGetChildNodes(tnode),\r\n\t\t\tctrlpool = this.down(\"[name=ctrlpool]\"),\r\n\t\t\tctrlquerytype = this.down(\"[name=ctrlquerytype]\"),\r\n\t\t\titems = [], item;\r\n\t\t\r\n\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t{\r\n\t\t\titem = IG$.XGetAttrProp(tnodes[i]);\r\n\t\t\titem.select = (this.sheetoption.sqloption.dbpool == item.name) ? true : false;\r\n\t\t\tif (item.name != \"MECBASE\") \r\n\t\t\t\titems.push(item);\r\n\t\t}\r\n\t\t\r\n\t\tctrlpool.store.loadData(items);\r\n\t\tctrlpool.setValue(this.sheetoption.sqloption.dbpool);\r\n\t\tctrlquerytype.setValue(\"stmt\");\r\n\t},\r\n\t\r\n\tgetMetaInfo: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tpgrid = me.down(\"[name=promptgrid]\"),\r\n\t\t\tcontent, i;\r\n\t\t\t\r\n\t\tme.updateChanges();\r\n\t\t\r\n\t\tcontent = {\r\n\t\t\tdbpool: me.down(\"[name=ctrlpool]\").getValue(),\r\n\t\t\tmethod: me.down(\"[name=ctrlquerytype]\").getValue(),\r\n\t\t\tsql: me.down(\"[name=sqlquery]\").getValue()\r\n\t\t};\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"olapservice\",\r\n\t\t\t\tpayload: {uid: me.uid, option: \"sqlcubedata\"},\r\n\t\t\t\tmbody: content\r\n\t\t\t}, me, me.rs_getMetaInfo, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_getMetaInfo: function(xdoc) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/columns\"),\r\n\t\t\ttnodes = tnode ? IG$.XGetChildNodes(tnode) : null,\r\n\t\t\trnode = IG$.XGetNode(xdoc, \"/smsg/result\"),\r\n\t\t\tcols=[], col,\r\n\t\t\tgcols = [],\r\n\t\t\tfields = [],\r\n\t\t\tdata = [], row,\r\n\t\t\tresults,\r\n\t\t\tcolumngrid = this.down(\"[name=columngrid]\"),\r\n\t\t\tcname, delim, n;\r\n\t\t\t\r\n\t\tif (tnodes)\r\n\t\t{\r\n\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcol = IG$.XGetAttrProp(tnodes[i]);\r\n\t\t\t\tcols.push(col);\r\n\t\t\t\t\r\n\t\t\t\tfields.push(\"c\" + i);\r\n\t\t\t\t\r\n\t\t\t\tgcols.push({\r\n\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\ttext: col.fieldname,\r\n\t\t\t\t\tminWidth: 120,\r\n\t\t\t\t\tdataIndex: \"c\" + i\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (rnode)\r\n\t\t\t{\r\n\t\t\t\tdelim = IG$.XGetAttr(rnode, \"delimiter\");\r\n\t\t\t\tresults = IG$.XGetTextVal(rnode);\r\n\t\t\t\tresults = results.split(delim);\r\n\t\t\t\t\r\n\t\t\t\trow = {};\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < results.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tn = i % cols.length;\r\n\t\t\t\t\tif (i > 0 && n == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata.push(row);\r\n\t\t\t\t\t\trow = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (data.length > 100)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trow[\"c\" + n] = results[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar storecolumn = Ext.create(\"Ext.data.ArrayStore\", {\r\n\t\t\tfields: fields\r\n\t\t})\r\n\t\t\t\r\n\t\tcolumngrid.reconfigure(storecolumn, gcols);\r\n\t\tcolumngrid.store.loadData(data);\r\n\t},\r\n\t\r\n\ttoolbarHandler: function(cmd) {\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_getmeta\":\r\n\t\t\tthis.getMetaInfo();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel=this,\r\n\t\t\tdoc = $(document);\r\n\t\t\r\n\t\tpanel.maxHeight = doc.height() - 20;\r\n\t\tpanel.title = IRm$.r1('I_SQLCUBE');\r\n\t\t\r\n\t\tpanel.title = IRm$.r1('I_QRY_TOOL');\r\n\t\t\r\n\t\tvar lpanel = {\r\n\t\t\txtype: \"panel\",\r\n\t\t\tlayout: {\r\n\t\t\t\ttype: \"vbox\",\r\n\t\t\t\talign: \"stretch\"\r\n\t\t\t},\r\n\t\t\tpadding: ig$.padding,\r\n\r\n\t\t\ttbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: 'combobox',\r\n\t\t\t\t\tname: \"ctrlpool\",\r\n\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATASOURCE\"), // \"Database Source\",\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"disp\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: 'combobox',\r\n\t\t\t\t\tname: \"ctrlquerytype\",\r\n\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\tfieldLabel: IRm$.r1(\"L_QUERY_TYPE\"), // Query Type\",\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"disp\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t{disp: \"Statement\", name: \"stmt\", selected: 1},\r\n\t\t\t\t\t\t\t{disp: \"PreparedStatement\", name: \"pstmt\"}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\tname: \"sqlquery\",\r\n\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SQL_QUERY\"), // SQL Query\",\r\n\t\t\t\t\theight: 160\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1('L_RUN_REPORT'),\r\n\t\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.toolbarHandler('cmd_getmeta'); \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\twidth: 10\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \" Click button to get result\",\r\n\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_DATA_RESULTS\"), // \"Data Results\",\r\n\t\t\t\t\tname: \"columngrid\",\r\n\t\t\t\t\theight: 250,\r\n\t\t\t\t\tstateful: true,\r\n\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"fieldname\", \"type\", \"datatype\", \"tablename\", \"dataoption_data\", \"dataoption_valuetype\", \"dataoption_datadelimiter\", \"dataoption_coldelimiter\", \"uid\", \"mapto\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\tlayout: 'fit',\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\tExt.apply(this, {\r\n\r\n\t\t\tautoScroll: true,\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\tlpanel\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.confirmDialig();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.loadPool();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.d$QryTool.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.sqlcube_wizard = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tregion: \"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: false,\r\n\tresizable:true,\r\n\t\r\n\twidth: 650,\r\n\theight: 500,\r\n\tautoScroll: false,\r\n\t\r\n\tbodyPadding: 0,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.getAllValues(me.sheetoption))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tme.callback && me.callback.execute(me);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinit: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\tme.setAllValues(me.sheetoption);\r\n\t},\r\n\t\t\r\n\tvalidateQuery: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tcontent;\r\n\t\t\t\r\n\t\tcontent = {\r\n\t\t\tdbpool: me.sheetoption.dbpool\r\n\t\t};\r\n\t\t\r\n\t\tif (me.getAllValues(content))\r\n\t\t\treturn;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"olapservice\",\r\n\t\t\t\tpayload: {uid: me.sheetoption.uid, option: \"sqlcubemeta\"},\r\n\t\t\t\tmbody: content,\r\n\t\t\t\tmeta_type: \"inlineview\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (jdoc && jdoc.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_VALIDATED\") + \"(\" + (jdoc[0].columns ? jdoc[0].columns.length : \"0\") + \" columns)\", null, null, 0, \"success\");\r\n\t\t\t\t}\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me=this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"I_SQLCUBE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tname: \"mainpanel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\tautoScroll: false,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_VIEW_NAME\"), // \"View name\",\r\n\t\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\tname: \"sql\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SQL_QUERY\"), // \"SQL Query\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_VALIDATE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.validateQuery();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t\tIG$.sqlcube_wizard.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.multimetric = $s.extend(IG$.v$pnl, {\r\n\r\n\tlayout: \"fit\",\r\n\t\r\n\tuid: null,\r\n\t\r\n\tparentnodepath: null,\r\n\titemtype: null,\r\n\tparentuid: null,\r\n\t\r\n\tcallback: null,\r\n\tobjinfo: null,\r\n\tseq: 0,\r\n\tbodyPadding: ig$.padding,\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\tname: \"elemtree\",\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\tfields: [\"name\", \"ukey\"]\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tselModel: Ext.create(Ext.selection.CheckboxModel, {\r\n\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\r\n\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-save',\r\n\t\t\t\t\t\t\ttooltip: 'Save Content',\r\n\t\t\t\t\t\t\thandler: function(){\r\n\t\t\t\t\t\t\t\tthis.storeContent(null);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t'-', \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-add',\r\n\t\t\t\t\t\t\ttooltip: 'Add Node',\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\thandler: function(){\r\n\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\tme.appendSelection();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-remove',\r\n\t\t\t\t\t\t\ttooltip: 'Delete Node',\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\tme.removeSelection();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_UNIQUE_VALUE\"),\r\n\t\t\t\t\t\t\tdataIndex: \"ukey\",\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_CONFIG_ITEM\"),\r\n\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex, item, e, record) {\r\n\t\t\t\t\t\t\t\t\t\tpanel.updateValues(rowIndex, record, \"edit\");\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: panel\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_DELETE_ITEM\"),\r\n\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex, item, e, record) {\r\n\t\t\t\t\t\t\t\t\t\tpanel.updateValues(rowIndex, record, \"delete\");\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: panel\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcheckchange: function(node, checked) {\r\n\t\t\t\t\t\t\tnode.set(\"chekced\", checked);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\r\n\t\t\tstoreContent: function(bclose) {\r\n\t\t\t\tvar panel = this,\r\n\t\t\t\t\txdoc = \"<item uid='\" + this.uid + \"'>\",\r\n\t\t\t\t\telemtree = panel.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store,\r\n\t\t\t\t\troot = store.getRootNode(),\r\n\t\t\t\t\tmdata;\r\n\t\t\t\t\r\n\t\t\t\tmdata = panel.getElementContent(root, null);\r\n\t\t\t\t\r\n\t\t\t\txdoc += \"<objinfo\" + IG$.XUpdateInfo(panel.objinfo, \"cubeuid\", \"s\") + \"/>\";\r\n\t\t\t\txdoc += \"<Elements lseq='\" + panel.seq + \"'><![CDATA[\" + mdata + \"]]></Elements>\";\r\n\t\t\t\txdoc += \"</item>\";\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: xdoc\r\n\t\t\t\t\t}, panel, panel.rs_storeContent, null, bclose);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_storeContent: function(xdoc, bclose) {\r\n\t\t\t\tthis.buildCube(bclose);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tbuildCube: function(bclose) {\r\n\t\t\t\tvar panel = this,\r\n\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: 17,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tuid: panel.uid,\r\n\t\t\t\t\t\t\tcubeuid: panel.objinfo.cubeuid,\r\n\t\t\t\t\t\t\taction: 'UpdateMetric'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, panel, panel.rs_buildCube, null, bclose);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_buildCube: function(xdoc, bclose) {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\t\r\n\t\t\t\tif (bclose)\r\n\t\t\t\t{\r\n\t\t\t\t\tbclose.close();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1('M_SAVED'), null, null, 0, \"success\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetElementContent: function(pnode, ppnode) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tdatanode = \"\",\r\n\t\t\t\t\tenode,\r\n\t\t\t\t\tseq;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < pnode.childNodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tenode = pnode.childNodes[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tseq = enode.get(\"seq\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tdatanode += \"\" + seq + \",\" + (ppnode ? ppnode.get(\"seq\") : \"\") + \",\" + enode.get(\"name\") + \"|\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (enode.childNodes && enode.childNodes.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdatanode += this.getElementContent(enode, enode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn datanode; \r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trefreshContent: function() {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: {option: 'diagnostics'}\r\n\t\t\t\t\t}, panel, panel.rs_refreshContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_refreshContent: function(xdoc) {\r\n\t\t\t\tvar panel = this,\r\n\t\t\t\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item\"),\r\n\t\t\t\t\tonode = IG$.XGetNode(xdoc, \"/smsg/item/objinfo\"),\r\n\t\t\t\t\tlseq,\r\n\t\t\t\t\tmitems = [], mitem,\r\n\t\t\t\t\ti, s;\r\n\t\t\t\t\r\n\t\t\t\tif (onode)\r\n\t\t\t\t{\r\n\t\t\t\t\tpanel.objinfo = IG$.XGetAttrProp(onode);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (panel.objinfo && panel.objinfo.sequence)\r\n\t\t\t\t{\r\n\t\t\t\t\tpanel.updateTreeNode(mitems);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tappendElementTree: function(childs, unode) {\r\n\t\t\t\tfor (var i=0; i < childs.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar nodeid = IG$.XGetAttr(childs[i], \"id\");\r\n\t\t\t\t\tvar nodetext = IG$.XGetAttr(childs[i], \"text\");\r\n\t\t\t\t\tvar snode = this.mtree.appendNodeElement(unode, nodeid, nodetext);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar subchilds = IG$.XGetChildNodes(childs[i]);\r\n\t\t\t\t\tif (subchilds && subchilds.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.appendElementTree(subchilds, snode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tupdateValues: function(rowindex, record, cmd) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store;\r\n\t\t\t\t\t\r\n\t\t\t\tif (cmd == \"delete\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif (record.get(\"root\") !== true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trecord.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tupdateTreeNode: function(data) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tpanel = me,\r\n\t\t\t\t\titem = this.clItem,\r\n\t\t\t\t\titems, objinfo = me.objinfo;\r\n\t\t\t\t\r\n\t\t\t\tpanel.setLoading(true);\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: 17,\r\n\t\t\t\t\t\tpayload: {uid: panel.uid, sequence: objinfo.sequence, action: \"55\"},\r\n\t\t\t\t\t\tmbody: {option: \"standard\"}\r\n\t\t\t\t\t}, panel, panel.rs_updateTreeNode, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_updateTreeNode: function(xdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/item\"),\r\n\t\t\t\t\ttnodes = (tnode ? IG$.XGetChildNodes(tnode) : null),\r\n\t\t\t\t\titems = [], item,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\ti;\r\n\t\t\t\t\r\n\t\t\t\tme.setLoading(false);\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\titem = IG$.XGetAttrProp(tnodes[i]);\r\n\t\t\t\t\titem.name = IG$.XGetTextVal(tnodes[i]);\r\n\t\t\t\t\titems.push(item);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telemtree.store.loadData(items);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trebuildTree: function(data) {\r\n\t\t\t\tvar r = [],\r\n\t\t\t\t\tks = {},\r\n\t\t\t\t\tp;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (i=0; i < data.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tks[data[i].seq] = data[i];\r\n\t\t\t\t\tif (data[i].pnode != null && ks[data[i].pnode])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = ks[data[i].pnode];\r\n\t\t\t\t\t\tp.leaf = false;\r\n\t\t\t\t\t\tdelete p.checked;\r\n\t\t\t\t\t\tdata[i].leaf = true;\r\n\t\t\t\t\t\tdata[i].checked = false;\r\n\t\t\t\t\t\tp.children = p.children || [];\r\n\t\t\t\t\t\tp.children.push(data[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata[i].leaf = true;\r\n\t\t\t\t\t\tdata[i].checked = false;\r\n\t\t\t\t\t\tr.push(data[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn r;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tappendSelection: function() {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store,\r\n\t\t\t\t\tselmodel = elemtree.getSelectionModel(),\r\n\t\t\t\t\tpvaluedesc, pvalues,\r\n\t\t\t\t\tsel, ncell, i, nname, nmax = 0, cname;\r\n\t\t\t\t\r\n\t\t\t\tif (selmodel.selected.items.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tsel = selmodel.selected.items[0];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tsel = elemtree.getRootNode();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tpvaluedesc = sel.get(\"valuedesc\");\r\n\t\t\t\tpvalues = sel.get(\"values\");\r\n\t\t\t\t\r\n\t\t\t\tsel.set(\"valuedesc\", \"\");\r\n\t\t\t\tsel.set(\"values\", \"\");\r\n\t\t\t\tsel.set(\"leaf\", false);\r\n\t\t\t\t\r\n\t\t\t\tnname = \"new item \";\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < sel.childNodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tcname = sel.childNodes[i].get(\"name\");\r\n\t\t\t\t\tif (cname.substring(0, nname.length) == nname)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcname = cname.substring(nname.length);\r\n\t\t\t\t\t\tcname = Number(cname);\r\n\t\t\t\t\t\tif (isNaN(cname) == false)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tnmax = Math.max(nmax, Number(cname) + 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tnmax = Math.max(nmax, me.seq+1);\r\n\t\t\t\tme.seq = nmax;\r\n\t\t\t\tnname += nmax;\r\n\t\t\t\t\r\n\t\t\t\tncell = {\r\n\t\t\t\t\tseq: nmax,\r\n\t\t\t\t\tname: nname,\r\n\t\t\t\t\tvalues: pvalues || \"\",\r\n\t\t\t\t\tvaluedesc: pvaluedesc || \"\",\r\n\t\t\t\t\tleaf: true,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t};\r\n\t\t\t\tsel.appendChild(ncell);\r\n\t\t\t\tsel.expand();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tremoveSelection: function() {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store,\r\n\t\t\t\t\troot = store.getRootNode(),\r\n\t\t\t\t\ti;\r\n\t\t\t\t\t\r\n\t\t\t\tme.removeSelectedRow(root);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tremoveSelectedRow: function(root) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tnode;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=root.childNodes.length-1; i>=0; i--)\r\n\t\t\t\t{\r\n\t\t\t\t\tnode = root.childNodes[i];\r\n\t\t\t\t\tif (node.get(\"checked\") == true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\troot.removeChild(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (node.childNodes && node.childNodes.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.removeSelectedRow(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.refreshContent();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multimetric.superclass.initComponent.apply(this);\r\n\t}\r\n});\r\n\r\nIG$.multiMeasureEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\t\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 600,\r\n\theight: 620,\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1('L_MC_ELEM_EDT');\r\n\t\tme.edt = new IG$.multimetric({\r\n\t\t\tuid: me.uid\r\n\t\t});\r\n\t\t$s.apply(this, {\r\n\t\t\t\r\n\t\t\tlayout: 'fit',\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\tthis.edt\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tedt = this.edt;\r\n\t\t\t\t\t\tedt.storeContent(this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multiMeasureEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.multimeasure = function (config) {\r\n\t$s.apply(this, config);\r\n\t\r\n\tIG$.multimeasure.superclass.constructor.call(this, {\r\n\t\tautoScroll:true,\r\n\t\tcollapseFirst:false,\r\n\t\tclosable: true,\r\n\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\thtml: \"<div class='elementeditor'></div>\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t});\r\n};\r\n\r\nfunction CMolapMeasure(node) {\r\n\tthis.measuretype = 'COUNT';\r\n\tthis.uid = null;\r\n\tthis.name = null;\r\n\tthis.nodepath = null;\r\n\tthis.baseItem = null;\r\n\t\r\n\tthis.parseMeasure = function(xdoc) {\r\n\t\tvar snode = IG$.XGetNode(xdoc, \"/smsg/item\");\r\n\t\tthis.name = IG$.XGetAttr(snode, \"name\");\r\n\t\tthis.nodepath = IG$.XGetAttr(snode, \"nodepath\");\r\n\t\tthis.uid = IG$.XGetAttr(snode, \"uid\");\r\n\t\tthis.isDisinct = true;\r\n\t\t\r\n\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item/objinfo\");\r\n\t\tif (snode)\r\n\t\t{\r\n\t\t\tthis.measuretype = IG$.XGetAttr(snode, 'measuretype');\r\n\t\t}\r\n\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item/BaseItem\");\r\n\t\tif (snode)\r\n\t\t{\r\n\t\t\tthis.baseItem = {};\r\n\t\t\tthis.baseItem.name = IG$.XGetAttr(snode, 'name');\r\n\t\t\tthis.baseItem.uid = IG$.XGetAttr(snode, 'uid');\r\n\t\t\tthis.baseItem.nodepath = IG$.XGetAttr(snode, 'nodepath');\r\n\t\t\tthis.baseItem.itemtype = IG$.XGetAttr(snode, 'type');\r\n\t\t}\r\n\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item/Options\");\r\n\t\tif (snode && snode.hasChildNodes() == true)\r\n\t\t{\r\n\t\t\tvar child = IG$.XGetChildNodes(snode);\r\n\t\t\t\r\n\t\t\tfor (i=0; i < child.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar tnode = child[i];\r\n\t\t\t\tvar nodevalue = IG$.XGetTextVal(child[i]);\r\n\t\t\t\tswitch (IG$.XGetAttr(tnode, 'name'))\r\n\t\t\t\t{\r\n\t\t\t\tcase 'isDistinct':\r\n\t\t\t\t\tthis.isDisinct = (nodevalue == 'F') ? false : true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.getMeasureXML = function() {\r\n\t\tvar me = this,\r\n\t\t\tr = {\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tname: me.name,\r\n\t\t\t\tnodepath: me.nodepath,\r\n\t\t\t\tmeasuretype: me.measuretype\r\n\t\t\t},\r\n\t\t\tbaseitem = me.baseItem;\r\n\t\t\r\n\t\tswitch (me.measuretype)\r\n\t\t{\r\n\t\tcase 'COUNT':\r\n\t\t\tr.rel_items = [];\r\n\t\t\tr.rel_items.push({\r\n\t\t\t\tuid: baseitem.uid,\r\n\t\t\t\tnodepath: baseitem.nodepath,\r\n\t\t\t\tname: baseitem.name,\r\n\t\t\t\ttype: baseitem.itemtype\r\n\t\t\t});\r\n\t\t\tr.options = [];\r\n\t\t\tr.options.push({\r\n\t\t\t\tname: \"isDisinct\",\r\n\t\t\t\tvalue: me.isDisinct ? \"T\" : \"F\"\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'SUM':\r\n\t\t\tbreak;\r\n\t\tcase 'MAX':\r\n\t\t\tbreak;\r\n\t\tcase 'DATE':\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t}\r\n\t\r\n\tif (node)\r\n\t{\r\n\t\tthis.parseMeasure(node);\r\n\t}\r\n}\r\n\r\nIG$.multimeasure = $s.extend(IG$.v$pnl, {\r\n\t// title: 'Make item',\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: 'vbox',\r\n\tlayoutConfig: {\r\n\t\talign: 'stretch'\r\n\t},\r\n\tclosable: true,\r\n\tresizable:false,\r\n\twidth: 400,\r\n\theight: 500,\r\n\tuid: null,\r\n\tcubeuid: null,\r\n\t\r\n\tparentnodepath: null,\r\n\titemtype: null,\r\n\tparentuid: null,\r\n\t\r\n\tmeasureObj: null,\r\n\tselectCombo: null,\r\n\t\r\n\tdefaults:{\r\n\t\tautoHeight:true\r\n\t},\r\n\t\r\n\tpivotSelectionChangedHandler: function(selvalue) {\r\n\t\tthis.measureObj.measuretype = selvalue;\r\n\t\tthis.resetMeasureUI();\r\n\t},\r\n\t\r\n\tmetricSelectedHandler: function(item) {\r\n\t\tthis.measureObj.baseItem = item;\r\n\t\tthis.baseItemField1.setValue(this.measureObj.baseItem.nodepath);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this;\r\n\r\n\t\tpanel.title = IRm$.r1(\"L_MULTI_MEASURE\");\r\n\t\t\r\n\t\tthis.baseItemField1 = new Ext.form.TextField({\r\n\t\t\tname: 'fmetric',\r\n\t\t\tallowBlank: false\r\n\t\t});\r\n\t\t\r\n\t\tthis.stabcontainer = new Ext.Container({\r\n\t\t\t\tflex: 3,\r\n\t\t\t\tlayout: 'card',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlayout: 'fit',\r\n\t\t\t\t\t\tlayoutConfig: {\r\n\t\t\t\t\t\t\talign: 'stretch'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titems: [{\r\n\t\t\t\t\t\t\txtype: 'fieldcontainer',\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_METRIC\"),\r\n\t\t\t\t\t\t\titems: [this.baseItemField1, {\r\n\t\t\t\t\t\t\t\txtype: 'button',\r\n\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\t\t\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\r\n\t\t\t\t\t\t\t\t\t\ttree_options: {\r\n\t\t\t\t\t\t\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\t\t\t\t\t\t\trootuid: panel.cubeuid\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tdlgitemsel.callback = new IG$.callBackObj(panel, panel.metricSelectedHandler);\r\n\t\t\t\t\t\t\t\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\thidden: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thtml: 'Sum of measure type',\r\n\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thtml: 'Max of measure type',\r\n\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thtml: 'Date of measure type',\r\n\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t});\r\n\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\theight: 40,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thtml: '<div class=\"pivotSelect\">Measure type:</div>',\r\n\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tafterlayout: function(ui) {\r\n\t\t\t\t\t\t\t\t\tui.addPivotSelectHandler();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tselectBoxAdded: false,\r\n\t\t\t\t\t\t\taddPivotSelectHandler: function() {\r\n\t\t\t\t\t\t\t\tif (this.selectBoxAdded == false)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvar container = $(\".pivotSelect\", panel.body.dom),\r\n\t\t\t\t\t\t\t\t\t\tselect = $('<select name=\"pivotSelect\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"COUNT\">Count Metric</option>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"SUM\">Sum data</option>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"MAX\">Max data</option>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"DATE\">Date Measure</option></select>');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tselect.change(function() {\r\n\t\t\t\t\t\t\t\t\t\tpanel.pivotSelectionChangedHandler.call(panel, this.value);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tselect.appendTo(container);\r\n\t\t\t\t\t\t\t\t\tthis.selectBoxAdded = true;\r\n\t\t\t\t\t\t\t\t\tpanel.selectCombo = select;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}, this.stabcontainer\r\n\t\t\t],\r\n\t\t\ttbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: 'icon-expand-all',\r\n\t\t\t\t\ttooltip: 'Save Content',\r\n\t\t\t\t\thandler: function(){\r\n\t\t\t\t\t\tthis.storeContent();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\r\n\t\t\tstoreContent: function() {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\tvar xdoc = panel.measureObj.getMeasureXML();\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: xdoc\r\n\t\t\t\t\t}, panel, panel.rs_storeContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_storeContent: function (xdoc) {\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1('M_SAVED'), null, null, 0, \"success\");\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trefreshContent: function() {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, panel, panel.rs_refreshContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_refreshContent: function (xdoc) {\r\n\t\t\t\tpanel.measureObj = new CMolapMeasure(xdoc);\r\n\t\t\t\tpanel.resetMeasureUI();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tresetMeasureUI: function() {\r\n\t\t\t\tthis.selectCombo[0].value = this.measureObj.measuretype;\r\n\t\t\t\tvar selvalue = this.measureObj.measuretype;\r\n\t\t\t\tvar tindex = 0;\r\n\t\t\t\tswitch (selvalue)\r\n\t\t\t\t{\r\n\t\t\t\tcase 'COUNT':\r\n\t\t\t\t\ttindex = 0;\r\n\t\t\t\t\tif (this.measureObj.baseItem)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.baseItemField1.setValue(this.measureObj.baseItem.nodepath);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'SUM':\r\n\t\t\t\t\ttindex = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MAX':\r\n\t\t\t\t\ttindex = 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'DATE':\r\n\t\t\t\t\ttindex = 3;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar stab = this.stabcontainer;\r\n\t\t\t\tfor (i=0; i < stab.items.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tstab.items.items[i].setVisible((i == tindex ? true : false));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multimeasure.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$._udgeditor = $s.extend($s.window, {\n\t\n\tmodal: false,\n\tisWindow: true,\n\tregion:'center',\n\t\"layout\": {\n\t\ttype: 'fit',\n\t\talign: 'stretch'\n\t},\n\t\n\tclosable: false,\n\tresizable:false,\n\twidth: 600,\n\theight: 620,\n\t\n\tcallback: null,\n\t\n\t_init: function() {\n\t\tvar me = this,\n\t\t\treq = new IG$._rpc$();\n\t\t\n\t\tif (me.uid)\n\t\t{\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"content\",\n\t\t\t\t\tpayload: {uid: this.uid},\n\t\t\t\t\tmbody: {option: \"diagnostics\"}\n\t\t\t\t}, me, me.rs_loadCnt, null);\n\t\t\treq.send();\n\t\t}\n\t\telse if (me.parentuid)\n\t\t{\n\t\t\tme.clItem = {};\n\t\t\tme.rs_loadCnt();\n\t\t}\n\t},\n\t\n\trs_loadCnt: function(jdoc) {\n\t\tvar me = this,\n\t\t\tcitem;\n\t\t\n\t\tif (jdoc)\n\t\t{\n\t\t\tme.clItem = jdoc.content;\n\t\t}\n\t\t\n\t\tcitem = me.clItem;\n\t\t\n\t\tcitem.rel_items = citem.rel_items || [];\n\t\tcitem.groupdata = citem.groupdata || [];\n\t\t\n\t\tme.down(\"[name=itemname]\").setValue(citem.name || \"\");\n\t\tme.down(\"[name=description]\").setValue(citem.description || \"\");\n\t\t\n\t\tvar targetitem = me.down(\"[name=targetitem]\"),\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tusesum = me.down(\"[name=usesum]\"),\n\t\t\texpandall = me.down(\"[name=expandall]\"),\n\t\t\tothervalues = me.down(\"[name=othervalues]\");\n\t\t\t\n\t\ttargetitem.setValue(citem.rel_items.length ? citem.rel_items[0].name : \"\");\n\t\tusesum.setValue(citem.usesum);\n\t\texpandall.setValue(citem.expandall);\n\t\tothervalues.setValue(citem.othervalues);\n\t\tme._updateTreeNode(citem.groupdata);\n\t\tme._getBO();\n\t},\n\t\n\t_getBO: function() {\n\t\tvar me = this;\n\t\t\t\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\n\t\t\tme.rs_getBO(jdoc);\n\t\t}));\n\t},\n\t\n\trs_getBO: function(jdoc) {\n\t\tvar tnode = jdoc && jdoc.length ? jdoc[0] : null,\n\t\t\tcnode;\n\t\t\n\t\tif (tnode)\n\t\t{\n\t\t\tthis.cubeuid = tnode.uid;\n\t\t}\n\t},\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tclItem = me.clItem,\n\t\t\txdoc, i,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tusesum = me.down(\"[name=usesum]\"),\n\t\t\texpandall = me.down(\"[name=expandall]\"),\n\t\t\tstore = udgtree.store,\n\t\t\troot = store.getRootNode(),\n\t\t\titem;\n\t\t\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\n\t\t\treturn;\n\t\t\n\t\tclItem.meta_type = \"udg_dimension\";\n\t\tclItem.name = me.down(\"[name=itemname]\").getValue();\n\t\tclItem.description = me.down(\"[name=description]\").getValue();\n\t\t\n\t\tclItem.groupdata = [];\n\t\tclItem.usesum = usesum.getValue();\n\t\tclItem.expandall = expandall.getValue();\n\t\tclItem.othervalues = me.down(\"[name=othervalues]\").getValue();\n\t\tme._updateStoreTree(root, clItem.groupdata);\n\t\tme._save(me.uid, clItem);\n\t},\n\t\n\t_save: function(uid, doc) {\n\t\tvar me = this,\n\t\t\treq = new IG$._rpc$();\n\t\treq.init(me, \n\t\t\t{\n\t\t\t\tack: \"writecontent\",\n\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: doc.name, description: doc.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + doc.name : null)},\n\t\t\t\tmbody: doc,\n\t\t\t\tmeta_type: \"udg_dimension\"\n\t\t\t}, me, function(jdoc) {\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1('M_SAVED'), null, null, 0, \"success\");\n\t\t\t\tme.callback && me.callback.execute(me.clItem);\n\t\t\t\tme.close();\n\t\t\t}, null);\n\t\treq.send();\n\t},\n\t\n\t_appendSel: function() {\n\t\tvar me = this,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tstore = udgtree.store,\n\t\t\tselmodel = udgtree.getSelectionModel(),\n\t\t\tpvaluedesc, pvalues,\n\t\t\tsel, ncell, i, nname, nmax = 0, cname;\n\t\t\n\t\tif (selmodel.selected.items.length > 0)\n\t\t{\n\t\t\tsel = selmodel.selected.items[0];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsel = udgtree.getRootNode();\n\t\t}\n\t\t\n\t\tpvaluedesc = sel.get(\"valuedesc\");\n\t\tpvalues = sel.get(\"values\");\n\t\t\n\t\tsel.set(\"valuedesc\", \"\");\n\t\tsel.set(\"values\", null);\n\t\tsel.set(\"leaf\", false);\n\t\t\n\t\tnname = \"new item \";\n\t\t\n\t\tfor (i=0; i < sel.childNodes.length; i++)\n\t\t{\n\t\t\tcname = sel.childNodes[i].get(\"name\");\n\t\t\tif (cname.substring(0, nname.length) == nname)\n\t\t\t{\n\t\t\t\tcname = cname.substring(nname.length);\n\t\t\t\tcname = Number(cname);\n\t\t\t\tif (isNaN(cname) == false)\n\t\t\t\t{\n\t\t\t\t\tnmax = Math.max(nmax, Number(cname) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tnname += nmax;\n\t\t\n\t\tncell = {\n\t\t\tname: nname,\n\t\t\tvalues: pvalues || null,\n\t\t\tvaluedesc: pvaluedesc || \"\",\n\t\t\tleaf: true,\n\t\t\tchecked: false\n\t\t};\n\t\tsel.appendChild(ncell);\n\t\tsel.expand();\n\t},\n\t\n\t_removeSel: function() {\n\t\tvar me = this,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tstore = udgtree.store,\n\t\t\troot = store.getRootNode(),\n\t\t\ti;\n\t\t\t\n\t\tme._removeSelRow(root);\n\t},\n\t\n\t_updateTreeNode: function(data) {\n\t\tvar me = this,\n\t\t\titem = this.clItem,\n\t\t\tudgtree = this.down(\"[name=udgtree]\"),\n\t\t\ttreedata = {\n\t\t\t\tname: \"User defined group\",\n\t\t\t\texpanded: true,\n\t\t\t\tleaf: false,\n\t\t\t\tchildren: []\n\t\t\t};\n\t\t\n\t\tme._buildNode(treedata.children, data || []);\n\t\tudgtree.store.setRootNode(treedata);\n\t\tudgtree.store.getRootNode().expand();\n\t},\n\t\n\t_buildNode: function(tarray, data) {\n\t\tvar me = this,\n\t\t\ti, j, udgtype,\n\t\t\tdt,\n\t\t\tdfilter,\n\t\t\trec, dval,\n\t\t\tvaluedesc;\n\t\t\n\t\tfor (i=0; i < data.length; i++)\n\t\t{\n\t\t\tdfilter = data[i];\n\t\t\trec = {\n\t\t\t\tftype: dfilter.ftype,\n\t\t\t\tudgtype: dfilter.udgtype,\n\t\t\t\tname: dfilter.name,\n\t\t\t\tvalues: dfilter.values\n\t\t\t};\n\t\t\t\n\t\t\tvaluedesc = \"\";\n\t\t\t\n\t\t\tif (!dfilter.children || (dfilter.children && dfilter.children.length == 0))\n\t\t\t{\n\t\t\t\tif (dfilter.values && dfilter.values.length)\n\t\t\t\t{\n\t\t\t\t\tfor (j=0; j < dfilter.values.length; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tudgtype = dfilter.values[j].udgtype;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (udgtype == \"formula\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvaluedesc = dfilter.values[j].code;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdval = dfilter.values[j].value || dfilter.values[j].code || \"\";\n\t\t\t\t\t\t\tvaluedesc += (valuedesc ? \",\" : \"\") + dval;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\trec.valuedesc = valuedesc;\n\t\t\t\n\t\t\tif (dfilter.children && dfilter.children.length)\n\t\t\t{\n\t\t\t\trec.children = [];\n\t\t\t\tme._buildNode(rec.children, dfilter.children);\n\t\t\t}\n\t\t\t\n\t\t\ttarray.push(rec);\n\t\t}\n\t},\n\t\n\t_updateStoreTree: function(unode, arr) {\n\t\tvar me = this,\n\t\t\ti,\n\t\t\tnode,\n\t\t\tcell,\n\t\t\tmvalue;\n\t\t\n\t\tfor (i=0; i < unode.childNodes.length; i++)\n\t\t{\n\t\t\tnode = unode.childNodes[i];\n\t\t\tcell = {\n\t\t\t\tname: node.get(\"name\"),\n\t\t\t\tftype: (node.childNodes && node.childNodes.length) ? \"group\" : \"condition\",\n\t\t\t\toperator: \"IN\",\n\t\t\t\tvaluetype: node.get(\"valuetype\"),\n\t\t\t\tvalues: node.get(\"values\")\n\t\t\t};\n\t\t\tarr.push(cell);\n\t\t\tif (node.childNodes && node.childNodes.length > 0)\n\t\t\t{\n\t\t\t\tcell.children = [];\n\t\t\t\tme._updateStoreTree(node, cell.children);\n\t\t\t}\n\t\t}\n\t},\n\t\n\t_removeSelRow: function(root) {\n\t\tvar me = this,\n\t\t\ti,\n\t\t\tnode, pnode, gname, m;\n\t\t\n\t\tfor (i=root.childNodes.length-1; i>=0; i--)\n\t\t{\n\t\t\tnode = root.childNodes[i];\n\t\t\tif (node.get(\"checked\") == true)\n\t\t\t{\n\t\t\t\troot.removeChild(node);\n\t\t\t}\n\t\t\telse if (node.childNodes && node.childNodes.length > 0)\n\t\t\t{\n\t\t\t\tme._removeSelRow(node);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (root.isRoot() == false && root.hasChildNodes() == false)\n\t\t{\n\t\t\tpnode = root.parentNode;\n\t\t\tgname = root.get(\"name\");\n\t\t\tm = 0;\n\t\t\tfor (i=0; i < pnode.childNodes.length; i++)\n\t\t\t{\n\t\t\t\tif (pnode.childNodes[i] == root)\n\t\t\t\t{\n\t\t\t\t\tm = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpnode.insertChild(m, {\n\t\t\t\tname: gname,\n\t\t\t\tvalues: null,\n\t\t\t\tvaluedesc: \"\",\n\t\t\t\tleaf: true,\n\t\t\t\tchecked: false\n\t\t\t});\n\t\t\tpnode.removeChild(root, false, false, false);\n\t\t}\n\t},\n\t\n\t_selItem: function(fieldname) {\n\t\tvar me = this,\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\n\t\t\t\tinstance: me.instance,\n\t\t\t\tmultiselect: fieldname == \"customfield\" ? 1 : 0,\n\t\t\t\tvisibleItems: fieldname == \"codemap\" ? \"folder;codemap\" : \"userdb;dataset;table;inlineview;metric;custommetric\",\n\t\t\t\ttree_options: {\n\t\t\t\t\tcubebrowse: true,\n\t\t\t\t\trootuid: me.cubeuid\n\t\t\t\t},\n\t\t\t\tcallback: new IG$.callBackObj(me, function(item) {\n\t\t\t\t\tvar me = this;\n\t\t\t\t\tme.clItem.rel_items = [item];\n\t\t\t\t\tme.down(\"[name=\" + fieldname + \"]\").setValue(item.name);\n\t\t\t\t}, fieldname)\n\t\t\t});\n\t\tIG$.checkLogin(me, dlgitemsel);\n\t},\n\t\n\t_updateValues: function(rowindex, record) {\n\t\tvar me = this,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tstore = udgtree.store;\n\t\t\t\n\t\tif (me.clItem && me.clItem.rel_items.length)\n\t\t{\n\t\t\tif (record.isRoot() == false) //  && record.childNodes.length == 0)\n\t\t\t{\n\t\t\t\tvar field = me.clItem.rel_items[0];\n\t\t\t\tvar vs = new IG$.udgValSel({\n\t\t\t\t\tfield: field,\n\t\t\t\t\trec: record,\n\t\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_editFilter, [record])\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tvs.show();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tIG$.ShowError(IRm$.r1(\"E_SEL_TGT\"), me); // \"Select target item before change data items.\", this);\n\t\t}\n\t},\n\t\n\t_loadExternal: function() {\n\t\tvar me = this;\n\t\tif (me.clItem && me.clItem.fields)\n\t\t{\n\t\t}\n\t\telse\n\t\t{\n\t\t\tIG$.ShowError(IRm$.r1(\"E_SEL_TGT\"), me); // \"Select target item before loading external data files.\", this);\n\t\t}\n\t},\n\t\n\trs_editFilter: function(val, param) {\n\t\tvar record = param[0],\n\t\t\tvalue = \"\",\n\t\t\tvaluedesc = \"\",\n\t\t\tv,\n\t\t\tselvalues = val.selection,\n\t\t\tselmode = val.selmode,\n\t\t\tsyntax = val.syntax,\n\t\t\ti,\n\t\t\tvalues = [];\n\t\t\n\t\tif (selmode == 2)\n\t\t{\n\t\t\trecord.set(\"udgtype\", \"formula\");\n\t\t\tvalues.push({\n\t\t\t\tcode: syntax\n\t\t\t});\n\t\t\t\n\t\t\tvaluedesc = syntax;\n\t\t}\n\t\telse\n\t\t{\n\t\t\trecord.set(\"udgtype\", \"normal\");\n\t\t\t\n\t\t\tfor (i=0; i < selvalues.length; i++)\n\t\t\t{\n\t\t\t\tv = selvalues[i].code || selvalues[i].text;\n\t\t\t\tvalues.push({\n\t\t\t\t\tcode: selvalues[i].code,\n\t\t\t\t\tvalue: selvalues[i].text\n\t\t\t\t});  \n\t\t\t\tvaluedesc += (i==0) ? v : \",\" + v;\n\t\t\t}\n\t\t}\n\t\t\n\t\trecord.set(\"values\", values);\n\t\trecord.set(\"valuedesc\", valuedesc);\n\t},\n\t\n\tinitComponent : function() {\n\t\tthis.title = IRm$.r1('T_UDG');\n\t\t\t\t \n\t\t$s.apply(this, {\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: 'panel',\n\t\t\t\t\t\"layout\": {\n\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\tautoScroll: true,\n\t\t\t\t\tpadding: ig$.padding,\n\t\t\t\t\t\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\tname: \"itemname\",\n\t\t\t\t\t\t\t\t\t_fasl: 1,\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tname: \"description\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\n\t\t\t\t\t\t\t\t\theight: 50\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_TARGET_OPTIONS\"), // \"Target options\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\n\t\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\t\t\tname: \"targetitem\",\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TARGET_ITEM\"), // Target Metric Item\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\n\t\t\t\t\t\t\t\t\t\t\thandler:function() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis._selItem('targetitem');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_IMP_FROM_EXCEL\"),\n\t\t\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tthis._loadExternal();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_USE_SUM_ON_FOLDER\"),\n\t\t\t\t\t\t\t\t\tname: \"usesum\",\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_EXPAND_ALL\"),\n\t\t\t\t\t\t\t\t\tname: \"expandall\",\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OTHER_VALUES\"),\n\t\t\t\t\t\t\t\t\tname: \"othervalues\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"treepanel\",\n\t\t\t\t\t\t\tname: \"udgtree\",\n\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\txtype: \"treestore\",\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\"gname\", \"values\", \"valuedesc\", \"ctype\", \"syntax\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tfolderSort: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thideHeaders: true,\n\t\t\t\t\t\t\trootVisible: true,\n\t\t\t\t\t\t\tuseArrows: true,\n\t\t\t\t\t\t\tmultiSelect: true,\n\t\t\t\t\t\t\tsingleExpand: false,\n\t\t\t\t\t\t\theight: 400,\n\t\t\t\t\t\t\tselModel: \"SINGLE\",\n\t\t\t\t\t\t\ttbar: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\", \n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\tme._appendSel();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_REMOVE\"),\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\tme._removeSel();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tplugins: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\n\t\t\t\t\t\t\t\t\tclicksToEdit: false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"treecolumn\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_GROUP_NAME\"),\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\teditor: {\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_VALUES\"),\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tdataIndex: \"valuedesc\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_CONFIG_ITEM\"),\n\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex, item, e, record) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\t\t\tme._updateValues(rowIndex, record);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\tcheckchange: function(node, checked) {\n\t\t\t\t\t\t\t\t\tnode.set(\"chekced\", checked);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcelldblclick: function(tobj, td, cellIndex, record, tr, rowIndex, e, eOpts) {\n\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\tif (record.isRoot() == false && record.hasChildNodes() == true)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar dlg = new IG$.udgGroupName({\n\t\t\t\t\t\t\t\t\t\t\tinstance: me.instance,\n\t\t\t\t\t\t\t\t\t\t\tgname: record.get(\"name\"),\n\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(this, function(name) {\n\t\t\t\t\t\t\t\t\t\t\t\trecord.set(\"name\", name);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tIG$.showDlg(me, dlg);\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons:[\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, {\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(tobj) {\n\t\t\t\t\tvar me = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tme._init();\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tIG$._udgeditor.superclass.initComponent.apply(this, arguments);\n\t}\n});\n\n\nIG$.udgGroupName = $s.extend($s.window, {\n\t\n\tisWindow: true,\n\tregion:'center',\n\t\"layout\": {\n\t\ttype: 'fit',\n\t\talign: 'stretch'\n\t},\n\t\n\tclosable: false,\n\tresizable:false,\n\twidth: 230,\n\tautoHeight: true,\n\tmodal: true,\n\t\n\tcallback: null,\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tgname = me.down(\"[name=gname]\").getValue();\n\t\t\n\t\tif (!gname)\n\t\t\treturn;\n\t\t\n\t\tme.callback && me.callback.execute(gname);\n\t\t\t\t\t\n\t\tme.close();\n\t},\n\t\n\tinitComponent : function() {\n\t\tthis.title = IRm$.r1('T_UDG');\n\t\t\n\t\t$s.apply(this, {\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: \"form\",\n\t\t\t\t\tlayout: \"anchor\",\n\t\t\t\t\tdefaults: {\n\t\t\t\t\t\tanchor: \"100%\"\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_GROUP_NAME\"), // Group name\",\n\t\t\t\t\t\t\tallowBlank: false,\n\t\t\t\t\t\t\tname: \"gname\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\tvalue: \"Set group name for this subject\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons:[\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(ui) {\n\t\t\t\t\tthis.down(\"[name=gname]\").setValue(this.gname || \"\");\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\t\t\n\t\tIG$.udgGroupName.superclass.initComponent.apply(this, arguments);\n\t}\n});\n\nIG$.udgValSel = $s.extend($s.window, {\n\tmodal: true,\n\tregion:'center',\n\t\"layout\": 'card',\n\t\n\tclosable: false,\n\tresizable:false,\n\twidth: 500,\n\theight: 400,\n\t\n\tfield: null,\n\t\n\tcallback: null,\n\tselmode: 0,\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tseldatas = [],\n\t\t\ti;\n\t\t\n\t\tif (me.selmode == 0)\n\t\t{\n\t\t\tvar sgrid = this.down(\"[name=_2]\"),\n\t\t\t\tselected = sgrid.store.data.items\n\t\t\t\n\t\t\tif (selected && selected.length > 0)\n\t\t\t{\n\t\t\t\tfor (i=0; i < selected.length; i++)\n\t\t\t\t{\n\t\t\t\t\tseldatas.push(selected[i].data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (me.selmode == 1)\n\t\t{\n\t\t\tvar sinp = me.down(\"[name=txtselvalues]\"),\n\t\t\t\tsel = sinp.getValue(),\n\t\t\t\tselected;\n\t\t\t\t\n\t\t\tif (sel)\n\t\t\t{\n\t\t\t\tselected = sel.split(\";\");\n\t\t\t\tfor (i=0; i < selected.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (selected[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tseldatas.push({\n\t\t\t\t\t\t\tcode: selected[i],\n\t\t\t\t\t\t\ttext: selected[i]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (me.selmode == 2)\n\t\t{\n\t\t}\n\t\t\n\t\tthis.callback && this.callback.execute({\n\t\t\tselmode: me.selmode,\n\t\t\tsyntax: me.down(\"[name=_s1]\").getValue(),\n\t\t\tselection: seldatas\n\t\t});\n\t\t\n\t\tme.close();\n\t},\n\t\n\t_init: function() {\n\t\tvar me = this,\n\t\t\trec = me.rec,\n\t\t\tsmode = 0,\n\t\t\t_s1 = me.down(\"[name=_s1]\");\n\t\t\t\n\t\tif (rec)\n\t\t{\n\t\t\tif (rec.get(\"udgtype\") == \"formula\")\n\t\t\t{\n\t\t\t\tsmode = 2;\n\t\t\t\t_s1.setValue(rec.get(\"syntax\"));\n\t\t\t}\n\t\t}\n\t\t\n\t\tme._viewmode(smode);\n\t},\n\t\n\t_viewmode: function(smode) {\n\t\tvar me = this,\n\t\t\t_mpanel = me.down(\"[name=_mpanel]\"),\n\t\t\tp = _mpanel.getLayout(),\n\t\t\tstext;\n\t\t\n\t\tme.selmode = smode;\n\t\tp.setActiveItem(me.selmode);\n\t},\n\t\n\tinitComponent : function() {\n\t\tvar _$valsel = new IG$.d$ValSel({\n\t\t\tsheetoption: this.sheetoption,\n\t\t\tprompt: this.prompt,\n\t\t\tfield: this.field\n\t\t});\n\t\t\n\t\tthis.title = IRm$.r1(\"T_VALUE_SELECT\");\n\t\t\t\t \n\t\t$s.apply(this, {\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: \"panel\",\n\t\t\t\t\tlayout: \"card\",\n\t\t\t\t\tname: \"_mpanel\",\n\t\t\t\t\ttbar: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COMBO_VAL\"),\n\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\tme._viewmode(0);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CUST_VAL\"),\n\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\tme._viewmode(1);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FORMULA\"),\n\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\tme._viewmode(2);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\titems: [\n\t\t\t\t\t\t_$valsel,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"form\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_CVAL_DESC\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_VALUES\"),\n\t\t\t\t\t\t\t\t\tname: \"txtselvalues\",\n\t\t\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"panel\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tname: \"_s1\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons:[\n\t\t\t\t'->',\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\n\t\t\t\t\tbodyCls: \"ig-btn-confirm\",\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\t\n\t\tIG$.udgValSel.superclass.initComponent.apply(this, arguments);\n\t},\n\tlisteners: {\n\t\tafterrender: function(tobj) {\n\t\t\ttobj._init();\n\t\t}\n\t}\n});"]}