{"version":3,"sources":["bubble.js","qavis.js","bulletchart.js"],"names":["m$B2","indicator","value","me","this","ind","rowdata","ellipses","label","$","html","container","append","paper","Raphael","invalidate","validateData","m$Bl","parent","mv","colorset","initVariables","prototype","i","ellipse","length","remove","text","name","color","push","validateDisplay","clearTimeout","setTimeout","updateDisplay","vgap","mradius","mwall","mvalue","tradius","tsum","ex","ey","er","w","IG$","j$ext","_w","h","_h","vmax","mcalc","max","vmin","min","clear","setSize","Math","sqrt","x","y","radius","hue","circle","set","attr","fill","stroke","opacity","animate","rx","ry","css","top","height","left","mx","bubbles","appendTo","initControl","loadData","dp","j","ncol","sname","nvalue","msum","be","ea","ma","Number","validateControl","bubble","lw","lh","lx","position","call","m$CompMatrix","xField","xFieldName","yField","yFieldName","compVal","dataSet","toString","compMatrixPlotCell","o","browser","window","bowser","hasSVG","SVGAngle","document","implementation","hasFeature","hasCanvas","msie","compItem","xMin","xMax","yMin","yMax","xRange","yRange","cr1","cr2","selected","width","canvas","updateExtremes","MAX_VALUE","MIN_VALUE","computeX","xFieldValue","computeY","yFieldValue","updatePlot","plotPointX","plotPointY","plotData","drawPlot","innerWidth","innerHeight","dcache","ctx","getContext","scale","fillStyle","fillRect","strokeStyle","lineWidth","key","cx","isNaN","cy","tx","floor","ty","beginPath","arc","PI","closePath","obj","mbody","updateDispList","commitProps","ComparisonMatrix","config","detailviewer","labelhtml","compItems","cells","textFields","showLabels","isDirty","margin","padding","backgroundColor","borderColor","display","bind","fadeOut","detailcontainer","right","bottom","uid","closebtn","click","correlationCoefficient","collection","len","xTotal","yTotal","xSquaredTotal","ySquaredTotal","xYTotal","xValue","yValue","pow","comparisonFunction","generateComparisonStatistics","fields","a","b","item","createOrRemoveCells","cid","ncells","matrixitems","cellToAdd","border","id","each","drawDetailPlot","pop","updateTextFields","textFieldToAdd","fontSize","innerText","textFieldToRemove","layoutTextFields","startY","textField","px","py","actualCellSize","layoutCells","firstTextField","index","cell","selectedItem","tt","toolTip","cellX","cellY","computeCellSize","availableWidthForCells","availableHeightForCells","p","commitProp","matrixowner","plotoption","matrix","chart","renderTo","defaultSeriesType","zoomType","echart_theme","title","xAxis","axisLabel","show","nameLocation","nameGap","startOnTick","endOnTick","showLastLabel","yAxis","tooltip","formatter","legend","enabled","layout","align","verticalAlign","floating","borderWidth","plotOptions","scatter","marker","states","hover","lineColor","series","type","symbolSize","data","pw","ph","vs","plotdetail","echarts","init","ig$","echarts_theme","renderer","setOption"],"mappings":"AAAA,SAASA,KAAsBC,EAAWC,GACtC,IAAIC,EAAKC,KACTD,EAAGE,IAAMJ,EACTE,EAAGG,QAAUJ,EACbC,EAAGI,SAAW,GACdJ,EAAGK,MAAQC,EAAE,+BACbN,EAAGO,KAAOD,EAAE,6BAEZN,EAAGE,IAAIM,UAAUC,OAAOT,EAAGO,MAC3BP,EAAGU,MAAQ,IAAIC,QAAQX,EAAGO,KAAK,IAC/BP,EAAGO,KAAKE,OAAOT,EAAGK,OAClBL,EAAGY,YAAc,EACjBZ,EAAGa,cAGP,CAmHA,SAASC,KAAwBC,GAC7Bd,KAAKc,OAASA,EACdd,KAAKe,GAAK,KACVf,KAAKgB,SAAW,CACZ,IAAM,GAAK,IAEfhB,KAAKiB,eACT,CAxHArB,KAAsBsB,UAAY,CAC9BN,aAAc,WACV,IACIO,EAIAC,EALArB,EAAKC,KAELG,EAAWJ,EAAGI,SACda,EAAWjB,EAAGE,IAAIe,SAClBd,EAAUH,EAAGG,QAGjB,IAAKiB,EAAE,EAAGA,EAAIhB,EAASkB,OAAQF,IAE3BhB,EAASgB,GAAGb,KAAKgB,SAMrB,IAJAnB,EAAW,GAEXJ,EAAGK,MAAMmB,KAAKrB,EAAQsB,MAEjBL,EAAE,EAAGA,EAAIjB,EAAQJ,MAAMuB,OAAQF,KAEhCC,EAAU,CAAC,GACHK,MAAQT,EAASG,EAAIH,EAASK,QACtClB,EAASuB,KAAKN,GAGlBrB,EAAGI,SAAWA,EAEdJ,EAAG4B,iBACP,EAEAA,gBAAiB,WACb,IAAI5B,EAAKC,KACLD,EAAGY,YAAc,GAEjBiB,aAAa7B,EAAGY,YAEpBkB,YAAW,WACP9B,EAAG+B,eACP,GAAG,IACP,EAEAA,cAAe,WACX,IAOIV,EAGAW,EAAMC,EAASC,EAAOC,EAAQC,EAASC,EAAMjB,EAAGV,EAChD4B,EAAIC,EAAIC,EAXRxC,EAAKC,KACLC,EAAMF,EAAGE,IACTK,EAAOP,EAAGO,KACVkC,EAAIC,IAAIC,MAAMC,GAAGrC,GACjBsC,EAAIH,IAAIC,MAAMG,GAAGvC,GACjBJ,EAAUH,EAAGG,QACbC,EAAWJ,EAAGI,SAEd2C,EAAO7C,EAAI8C,MAAMC,IACjBC,EAAkB,MAAVhD,EAAIc,GAAad,EAAI8C,MAAMG,IAAOjD,EAAIc,GAAKd,EAAI8C,MAAMG,IAAMjD,EAAIc,GAAKd,EAAI8C,MAAMG,IAGtF9C,EAAQL,EAAGK,MAEf,GAAIoC,EAAI,GAAKI,EAAI,EACjB,CAKI,IAJAnC,EAAQV,EAAGU,OACL0C,QACN1C,EAAM2C,QAAQZ,EAAGI,GAEbzC,GAAYA,EAASkB,OAAS,EAClC,CAKI,IAJAY,EAAQoB,KAAKH,IAAIV,EAAGI,GAEpBb,EAAQe,GAAQG,EAAQH,EAAOA,EAAOG,EAEjC9B,EAAE,EAAGA,EAAIhB,EAASkB,OAAQF,IAE3BiB,EAAa,GAALjB,EAASjB,EAAQJ,MAAMqB,GAAKiB,EAAOlC,EAAQJ,MAAMqB,GAK7D,IAFAgB,GAAWC,EAAOa,GAAQlB,GAAgB,GAARE,GAAsB,GAARA,EAE3Cd,EAAE,EAAGA,EAAIhB,EAASkB,OAAQF,IAE3Be,EAAe,GAALf,EAASjB,EAAQJ,MAAMqB,GAAKe,EAAShC,EAAQJ,MAAMqB,GAC7Da,EAAUqB,KAAKC,KAAKnB,EAAUA,EAAUD,EAASE,IACjDhB,EAAUjB,EAASgB,IACXoC,EAAIf,EAAE,EACdpB,EAAQoC,EAAIZ,EAAE,EACdxB,EAAQqC,OAASzB,EAAQ,EAG7B,IAAKb,EAAEhB,EAASkB,OAAS,EAAGF,GAAG,EAAGA,IAG9BkB,GADAjB,EAAUjB,EAASgB,IACNoC,EACbjB,EAAKlB,EAAQoC,EACbjB,EAAKnB,EAAQqC,OACbC,IAAMtC,EAAQK,MACdL,EAAQuC,OAASlD,EAAMmD,IACnBnD,EAAMW,QAAQiB,EAAIC,EAAKC,EAAKA,EAAK,EAAG,EAAG,GAClCsB,KAAK,CACFC,KAAM,QAAUJ,IAAM,iBAAmBA,IAAM,YAAaK,OAAQ,OAAQC,QAAS,IACtFC,QAAQ,CAACC,GAAI3B,EAAI4B,GAAI5B,EAAK,GAAI,IAAK,KAC1C9B,EAAMW,QAAQiB,EAAIC,EAAI,EAAG,GACpBuB,KAAK,CACFC,KAAM,eAAiBJ,IAAM,iBAAmBA,IAAM,aAAcK,OAAQ,SAC7EE,QAAQ,CAACC,GAAI3B,EAAI4B,GAAI5B,GAAK,IAAK,KACtC9B,EAAMW,QAAQiB,EAAIC,EAAI,EAAG,GACpBuB,KAAK,CACFE,OAAQ,OAAQD,KAAM,oBAAqBE,QAAS,IACrDC,QAAQ,CAACC,GAAI3B,EAAKA,EAAK,EAAG4B,GAAI5B,EAAKA,EAAK,IAAK,IAAK,KAGrE,CAEAxC,EAAGK,MAAMgE,IAAI,CAACC,IAAMzB,EAAIxC,EAAMkE,SAAW,EAAIC,MAAO/B,EAAIC,IAAIC,MAAMC,GAAG5C,EAAGK,QAAU,GACtF,CACJ,GAYJS,KAAwBK,UAAY,CAChCD,cAAe,WACX,IAAIlB,EAAKC,KACTD,EAAGsC,GAAK,GACRtC,EAAGyE,GAAK,GACRzE,EAAG0E,QAAU,GACb1E,EAAGgD,MAAQ,CAAC,EACZhD,EAAGQ,UAAYF,EAAE,8BAA8BqE,SAAS3E,EAAGe,OAC/D,EAEA6D,YAAa,WACT,IACIxD,EACAsD,EAFKzE,KAEQyE,QACjB,IAAKtD,EAAE,EAAGA,EAAIsD,EAAQpD,OAAQF,IAE1BsD,EAAQtD,GAAGb,KAAKgB,SAEpBmD,EAAU,EACd,EAEAG,SAAU,SAASC,GACf,IAGI1D,EAAG2D,EAAGC,EAENC,EAAOC,EACPnF,EAAOoF,EAGPC,EATApF,EAAKC,KACLoF,EAAKrF,EAAGqF,GACRC,EAAKtF,EAAGsF,GAKRtC,EAAQhD,EAAGgD,MAIf,GAAI8B,GAAMA,EAAGxD,OAAS,GAAK+D,GAAMA,EAAG/D,OAAS,GAAKgE,GAAMA,EAAGhE,OAAS,EACpE,CAEI,IAAKF,EAAE,EAAGA,EAAIkE,EAAGhE,OAAQF,IAErBkE,EAAGlE,GAAG6B,IAAM,EACZqC,EAAGlE,GAAG+B,IAAM,EAEhB,IAAK/B,EAAE,EAAGA,EAAI0D,EAAGxD,OAAQF,IACzB,CAII,IAHS,OAASA,EAClB6D,EAAQ,GACRlF,EAAQ,GACHgF,EAAE,EAAGA,EAAIM,EAAG/D,OAAQyD,IAErBC,EAAOK,EAAGN,GAAG3D,EACb6D,EAAc,GAALF,EAASD,EAAG1D,GAAG4D,GAAQC,EAAQ,IAAMH,EAAG1D,GAAG4D,GAExD,IAAKD,EAAE,EAAGA,EAAIO,EAAGhE,OAAQyD,IAErBC,EAAOM,EAAGP,GAAG3D,EACb8D,EAASK,OAAOT,EAAG1D,GAAG4D,IAEb,GAAL5D,GAEAkE,EAAGP,GAAG5B,IAAM+B,EACZI,EAAGP,GAAG9B,IAAMiC,IAIZI,EAAGP,GAAG5B,IAAMG,KAAKH,IAAImC,EAAGP,GAAG5B,IAAK+B,GAChCI,EAAGP,GAAG9B,IAAMK,KAAKL,IAAIqC,EAAGP,GAAG9B,IAAKiC,IAGpCC,EAAa,GAALJ,EAASG,EAASC,EAAOD,EAEjCnF,EAAM4B,KAAKuD,GAGN,GAAL9D,GAEA4B,EAAMG,IAAMgC,EACZnC,EAAMC,IAAMkC,IAIZnC,EAAMG,IAAMG,KAAKH,IAAIH,EAAMG,IAAKgC,GAChCnC,EAAMC,IAAMK,KAAKL,IAAID,EAAMC,IAAKkC,IAIpCC,EAAK,IAAIvF,KAAsBG,EADtB,CAACyB,KAAMwD,EAAOlF,MAAOA,IAE9BC,EAAG0E,QAAQ/C,KAAKyD,EAEpB,CAEApF,EAAGwF,iBACP,CACJ,EAEAA,gBAAiB,WACb,IAKIC,EACArE,EAAGsE,EAAIC,EAAIC,EALX7E,EAAST,EADJL,KACSc,QACd0B,EAAIC,IAAIC,MAAMC,GAAG7B,GACjB8B,EAAIH,IAAIC,MAAMG,GAAG/B,GACjB2D,EAJKzE,KAIQyE,QAIjB,GAAIjC,EAAI,GAAKI,EAAI,GAAK6B,GAAWA,EAAQpD,OAAS,EAK9C,IAHAsE,EAAK,EACLF,EAAKjD,EAAIiC,EAAQpD,OACjBqE,EAAK9C,EACAzB,EAAE,EAAGA,EAAIsD,EAAQpD,OAAQF,KAE1BqE,EAASf,EAAQtD,IACVb,KAAK8D,IAAI,CAACG,KAAMoB,EAAItB,IAAK,EAAGuB,SAAU,aAC7CnD,IAAIC,MAAMC,GAAG6C,EAAOlF,KAAMmF,GAC1BhD,IAAIC,MAAMG,GAAG2C,EAAOlF,KAAMoF,GAC1BF,EAAO7D,gBAAgBkE,KAAKL,GAC5BG,GAAMF,CAGlB;AChQJhD,IAAIqD,aAAe,WAElB,IAAI/F,EAAKC,KAKTD,EAAGgG,OAAS,KACZhG,EAAGiG,WAAa,KAKhBjG,EAAGkG,OAAS,KACZlG,EAAGmG,WAAa,KAOhBnG,EAAGoG,QAKHpG,EAAGqG,QAAU,KAEbrG,EAAGsG,SAAW,WAEb,OAAOtG,EAAGiG,WAAa,KAAOjG,EAAGmG,WAAa,MAAQnG,EAAGoG,OAC1D,CACD,EAEA1D,IAAI6D,mBAAqB,WAExB,IACCnF,EACAoF,EAFGxG,EAAKC,KAGRwG,EAAUC,OAAOC,OACjBC,EAAUF,QAAUA,OAAOG,UAAaC,SAASC,eAAeC,WAAW,oDAAqD,OAEjIhH,EAAGiH,WAAcL,IAAWH,EAAQS,KAEpClH,EAAGmH,SACHnH,EAAGoH,KACHpH,EAAGqH,KACHrH,EAAGsH,KACHtH,EAAGuH,KACHvH,EAAGwH,OACHxH,EAAGyH,OAEHzH,EAAG0H,IAAM,EACT1H,EAAG2H,IAAM,EAET3H,EAAG4H,SAEH5H,EAAG6H,MACH7H,EAAGuE,OAEHvE,EAAGO,KAAOD,EAAE,mCAEQ,GAAhBN,EAAGiH,YAENjH,EAAG8H,OAASxH,EAAE,qBACdN,EAAG8H,OAAOnD,SAAS3E,EAAGO,OAGvBP,EAAG+H,eAAiB,WAEnB,GAAG/H,EAAGmH,UAAYnH,EAAGmH,SAASd,QAC9B,CAKC,IAJArG,EAAGoH,KAAO7B,OAAOyC,UACjBhI,EAAGsH,KAAO/B,OAAOyC,UACjBhI,EAAGqH,KAAO9B,OAAO0C,UACjBjI,EAAGuH,KAAOhC,OAAO0C,UACZ7G,EAAE,EAAGA,EAAIpB,EAAGmH,SAASd,QAAQ/E,OAAQF,IAEzCoF,EAAIxG,EAAGmH,SAASd,QAAQjF,GAExBpB,EAAGoH,KAAO9D,KAAKH,IAAInD,EAAGoH,KAAKZ,EAAExG,EAAGmH,SAASnB,SACzChG,EAAGsH,KAAOhE,KAAKH,IAAInD,EAAGsH,KAAKd,EAAExG,EAAGmH,SAASjB,SACzClG,EAAGqH,KAAO/D,KAAKL,IAAIjD,EAAGqH,KAAKb,EAAExG,EAAGmH,SAASnB,SACzChG,EAAGuH,KAAOjE,KAAKL,IAAIjD,EAAGuH,KAAKf,EAAExG,EAAGmH,SAASjB,SAE1ClG,EAAGwH,OAASxH,EAAGqH,KAAOrH,EAAGoH,KACzBpH,EAAGyH,OAASzH,EAAGuH,KAAOvH,EAAGsH,IAC1B,CACD,EAEAtH,EAAGkI,SAAW,SAAS1B,GACtB,IAAI2B,EAAc3B,EAAExG,EAAGmH,SAASnB,QAEhC,OADY,GAAKhG,EAAGqH,KAAOc,GAAenI,EAAGwH,MAE9C,EAEAxH,EAAGoI,SAAW,SAAS5B,GACtB,IAAI6B,EAAc7B,EAAExG,EAAGmH,SAASjB,QAEhC,OADY,GAAKlG,EAAGuH,KAAOc,GAAerI,EAAGyH,MAE9C,EAEAzH,EAAGsI,WAAa,WACf,IAAIlH,EACHoF,EACA+B,EACAC,EAID,IAFAxI,EAAGyI,SAAW,GAETrH,EAAE,EAAGA,EAAIpB,EAAGmH,SAASd,QAAQ/E,OAAQF,IAEzCoF,EAAIxG,EAAGmH,SAASd,QAAQjF,GACxBmH,EAAavI,EAAGkI,SAAS1B,GACzBgC,EAAaxI,EAAGoI,SAAS5B,GAEzBxG,EAAGyI,SAAS9G,KAAK,CAAC4G,EAAYC,IAG/BxI,EAAG0I,UACJ,EAEA1I,EAAG0I,SAAW,WACb,IAAI1I,EAAKC,KAETD,EAAG6H,MAAQ7H,EAAGO,KAAKoI,aACnB3I,EAAGuE,OAASvE,EAAGO,KAAKqI,cAEpB,IACClH,EACAmH,EAAS,CAAC,EAgCX,IA9BAnH,EAAQ1B,EAAGmH,SAASf,QAAUpG,EAAG2H,IAAM,gBACrC3H,EAAGmH,SAASf,QAAUpG,EAAG0H,IAAM,oBAC/B,gBAEkB,GAAhB1H,EAAGiH,WAENjH,EAAG8H,OAAOD,MAAQ7H,EAAG6H,MACrB7H,EAAG8H,OAAOvD,OAASvE,EAAGuE,OAEtBvE,EAAG8I,IAAM9I,EAAG8H,OAAO,GAAGiB,WAAW,MACjC/I,EAAG8I,IAAIE,MAAM,EAAG,GAChBhJ,EAAG8I,IAAIG,UAAY,mBACnBjJ,EAAG8I,IAAII,SAAU,EAAG,EAAGlJ,EAAG6H,MAAO7H,EAAGuE,QACpCvE,EAAG8I,IAAIK,YAAc,UACrBnJ,EAAG8I,IAAIM,UAAY,EAEnBpJ,EAAG8I,IAAIG,UAAYvH,EAAQ,OAItB1B,EAAGU,MAMPV,EAAGU,MAAM0C,QAJTpD,EAAGU,MAAQC,QAAQX,EAAGO,KAAK,GAAI,EAAG,EAAGP,EAAG6H,MAAO7H,EAAGuE,QAQ/CnD,EAAE,EAAGA,EAAIpB,EAAGyI,SAASnH,OAAQF,IAClC,CACC,IAKCiI,EALG7C,EAAIxG,EAAGyI,SAASrH,GACnBkI,EAAqB,GAAfC,MAAM/C,EAAE,IAAeA,EAAE,GAAKxG,EAAG6H,MAAQ,EAC/C2B,EAAqB,GAAfD,MAAM/C,EAAE,KAAgB,EAAEA,EAAE,IAAMxG,EAAGuE,OAASvE,EAAGuE,OACvDkF,EAAKnG,KAAKoG,MAAMJ,GAChBK,EAAKrG,KAAKoG,MAAMF,GASZX,EAFLQ,GAHAI,GAAUA,EAAK,GAGC,KAFhBE,GAAUA,EAAK,MAMM,GAAhB3J,EAAGiH,WAENjH,EAAG8I,IAAIc,YACP5J,EAAG8I,IAAIe,IAAIP,EAAIE,EAAI,EAAG,EAAW,EAARlG,KAAKwG,IAAM,GACpC9J,EAAG8I,IAAIiB,YACP/J,EAAG8I,IAAI/E,OACP8E,EAAOQ,GAAO,CAACW,KAAK,EAAMC,MAAO,KAIjCpB,EAAOQ,GAAO,CAACW,IAAKhK,EAAGU,MAAMkD,OAAO0F,EAAIE,EAnBhC,GAmB6CS,MAAO,GAC5DpB,EAAOQ,GAAKW,IAAIlG,KAAK,OAAQpC,EAAQ,SAGxC,CAEAmH,EAAS,IACV,EAEA7I,EAAGkK,eAAiB,SAASzH,EAAGI,GAC/B7C,EAAG0I,UACJ,EAEA1I,EAAGmK,YAAc,WAChBnK,EAAG+H,iBACH/H,EAAGsI,YACJ,CACD,EAEA5F,IAAI0H,iBAAmB,SAASrJ,EAAQsJ,GAEvC,IACCC,EACAC,EAFGvK,EAAKC,KAITD,EAAGwK,UAAY,KACfxK,EAAGyK,MAAQ,GACXzK,EAAGe,OAASA,EACZf,EAAGqK,OAASA,EACZrK,EAAG0K,WAAa,GAChB1K,EAAG2K,WAAaN,EAAOM,aAAc,EAErC3K,EAAG0H,IAAqB,MAAd2C,EAAO3C,UAAoC,IAAd2C,EAAO3C,IAAsB,EAAI2C,EAAO3C,IAC/E1H,EAAG2H,IAAqB,MAAd0C,EAAO1C,UAAoC,IAAd0C,EAAO1C,IAAsB,EAAI0C,EAAO1C,IAE/E3H,EAAGQ,UAAYF,EAAE,uCACjBN,EAAGQ,UAAUmE,SAAS3E,EAAGe,SAEzBwJ,EAAYvK,EAAGuK,UAAYjK,EAAE,oCACnB+D,IAAI,CAACwB,SAAU,WAAYvB,IAAK,MAAOE,KAAM,MAAOqD,MAAO,MAAOtD,OAAQ,QACpFgG,EAAU5F,SAAS3E,EAAGe,QACtBf,EAAG4K,SAAU,GAEbN,EAAetK,EAAGsK,aAAehK,EAAE,qCACtB+D,IAAI,CACfwB,SAAU,WACVvB,IAAK,GACLE,KAAM,GACNqD,MAAO,IACPtD,OAAQ,IACRsG,OAAQ,EACRC,QAAS,EACTC,gBAAiB,UACjBC,YAAa,UACbC,QAAS,SAGXX,EAAa3F,SAAS3E,EAAGe,QACzBuJ,EAAaY,KAAK,SAAS,WAC1B5K,EAAEL,MAAMkL,SACT,IAEAnL,EAAGoL,gBAAkB9K,EAAE,wCACvBN,EAAGoL,gBAAgB/G,IAAI,CACrBwB,SAAU,WACVgF,OAAQ,WACRC,QAAS,EACTxG,IAAK,EAAGE,KAAM,EAAG6G,MAAO,EAAGC,OAAQ,IAIrCtL,EAAGuL,IAAM,EAETvL,EAAGoL,gBAAgBzG,SAAS2F,GAE5B,IAAIkB,EAAWlL,EAAE,4CAEjBkL,EAASnH,IAAI,CACZwB,SAAU,WACVvB,IAAK,EAAGuD,MAAO,GAAItD,OAAQ,GAAI8G,MAAO,IAEvCf,EAAa7J,OAAO+K,GACpBA,EAASN,KAAK,CACbO,MAAO,WACNnB,EAAaa,SACd,IAODnL,EAAG0L,uBAAyB,SAASC,EAAY3F,EAAQE,GAExD,IAMCM,EACApF,EAPGwK,EAAMD,EAAWrK,OACpBuK,EAAS,EACTC,EAAS,EACTC,EAAgB,EAChBC,EAAgB,EAChBC,EAAU,EAIX,IAAK7K,EAAE,EAAGA,EAAIuK,EAAWrK,OAAQF,IACjC,CAEC,IAAI8K,GADJ1F,EAAImF,EAAWvK,IACA4E,GACXmG,EAAS3F,EAAEN,GACf2F,GAAUK,EACVJ,GAAUK,EACVJ,GAAiBzI,KAAK8I,IAAIF,EAAO,GACjCF,GAAiB1I,KAAK8I,IAAID,EAAO,GACjCF,GAAWC,EAASC,CACrB,CAIA,OAHWP,EAAMK,EAAYJ,EAASC,IACrBxI,KAAKC,KAAOqI,EAAMG,EAAiBzI,KAAK8I,IAAIP,EAAO,IAClDvI,KAAKC,KAAOqI,EAAMI,EAAiB1I,KAAK8I,IAAIN,EAAO,IAEtE,EAEA9L,EAAGqM,mBAAqBrM,EAAG0L,uBAM3B1L,EAAGsM,6BAA+B,WAIjC,GAFAtM,EAAGwK,UAAY,GAEQ,GAApBxK,EAAGuM,OAAOjL,QAA6B,MAAdtB,EAAGqG,SAAwC,GAArBrG,EAAGqG,QAAQ/E,OAK7D,IAFA,IAAIsK,EAAM5L,EAAGuM,OAAOjL,OAEXkL,EAAI,EAAGA,EAAIZ,EAAKY,IAExB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAI,EAAIC,IAE3B,GAAGD,GAAKC,EACR,CACC,IAAIC,EAAO,IAAIhK,IAAIqD,aACnB2G,EAAKzG,WAAajG,EAAGuM,OAAOC,GAC5BE,EAAK1G,OAASwG,EACdE,EAAKvG,WAAanG,EAAGuM,OAAOE,GAC5BC,EAAKxG,OAASuG,EACdC,EAAKtG,QAAUpG,EAAGqM,mBAAmBrM,EAAGqG,QAASqG,EAAK1G,OAAQ0G,EAAKxG,QACnElG,EAAGwK,UAAU7I,KAAK+K,EAEnB,CAGH,EAEA1M,EAAG2M,oBAAsB,WACxB,IAC4BC,EADxB5M,EAAKC,KACR2L,EAAM5L,EAAGwK,UAAUlJ,OACnBuL,EAAS,GAIV,IAFA7M,EAAG8M,YAAc,CAAC,EAEZ9M,EAAGyK,MAAMnJ,OAASsK,GACxB,CACC,IAAImB,EAAY,IAAIrK,IAAI6D,mBACxBwG,EAAUxM,KAAK8D,IAAI,CAAC2I,OAAQ,oBAAqBnF,MAAO,IAAKtD,OAAQ,IAAKsB,SAAU,WAAYiF,QAAS,IAEzGiC,EAAUxM,KAAKoE,SAAS3E,EAAGQ,WAC3BoM,EAAM,aAAe5M,EAAGuL,IACxBwB,EAAUxM,KAAK,GAAG0M,GAAKL,EACvBG,EAAUE,GAAKL,EACf5M,EAAGuL,MAEHsB,EAAOlL,KAAKoL,GACZ/M,EAAGyK,MAAM9I,KAAKoL,GACd/M,EAAG8M,YAAYF,GAAOG,CACvB,CAUA,IARAzM,EAAE4M,KAAKL,GAAQ,SAASzL,EAAG2L,GAC1BA,EAAUxM,KAAK2K,KAAK,CACnBO,MAAO,WACNzL,EAAGmN,eAAeJ,EACnB,GAEF,IAEMnB,EAAM5L,EAAGyK,MAAMnJ,QACrB,CACoBtB,EAAGyK,MAAM2C,MACf7L,QACd,CACD,EAEAvB,EAAGqN,iBAAmB,WACrB,IAECb,EAEAc,EAJGtN,EAAKC,KACR2L,EAAM5L,EAAGuM,OAAOjL,OAKjB,IAAIkL,EAAI,EAAGA,EAAIZ,EAAKY,IAEhBxM,EAAG0K,WAAWpJ,OAASkL,EAAI,KAE7Bc,EAAiBhN,EAAE,wCACJ+D,IAAI,CAACkJ,SAAU,QAASzC,QAAS,UAAWD,OAAQ,EAAGhF,SAAU,WAAYgC,MAAO,MACnG7H,EAAG0K,WAAW/I,KAAK2L,GACnBA,EAAe3I,SAAS3E,EAAGuK,YAEhBvK,EAAG0K,WAAW8B,GAChB,GAAGgB,UAAYxN,EAAGuM,OAAOC,GAMpC,KAAMZ,EAAM5L,EAAG0K,WAAWpJ,QAC1B,CACyBoJ,WAAW0C,MACnCpN,EAAGyN,kBAAkBlM,QACtB,CACD,EAKAvB,EAAG0N,iBAAmB,WACrB,IAGCC,EACAnB,EACAoB,EACAC,EACAC,EAPG9N,EAAKC,KACR2L,EAAM5L,EAAG0K,WAAWpJ,OAOrB,GAAGsK,EAAM,EAKR,IAFA+B,EADiB3N,EAAG0K,WAAW,GACPnG,SAEpBiI,EAAI,EAAGA,EAAIZ,EAAKY,IAEnBoB,EAAY5N,EAAG0K,WAAW8B,GAC1BqB,EAAKrB,EAAIxM,EAAG+N,eAAiB,EAG5BD,EAFO,GAALtB,EAEG,EAIA,EAAMxM,EAAG+N,eAAiBJ,EAASC,EAAUrJ,SAEnDqJ,EAAUvJ,IAAI,CAACG,KAAMqJ,EAAIvJ,IAAKwJ,GAKjC,EAKA9N,EAAGgO,YAAc,WAEhB,IAAIhO,EAAKC,KACR0N,EAAS,EACV,GAAG3N,EAAG2K,YAAc3K,EAAG0K,WAAWpJ,OAAS,EAC3C,CACC,IAAI2M,EAAiBjO,EAAG0K,WAAW,GACnCiD,EAASM,EAAepI,WAAWvB,IAAM2J,EAAe1J,QACzD,CAIA,IAFA,IAAIqH,EAAM5L,EAAGuM,OAAOjL,OAChB4M,EAAQ,EACJ1B,EAAI,EAAGA,EAAIZ,EAAKY,IAEvB,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAI,EAAIC,IAE1B,GAAGD,GAAKC,EACR,CACC,IAAIC,EAAO1M,EAAGwK,UAAU0D,GAEpBC,EAAOnO,EAAGyK,MAAMyD,GACpBxB,EAAKrG,QAAUrG,EAAGqG,QAClB8H,EAAKhH,SAAWuF,EAChByB,EAAKvG,SAAY8E,GAAQ1M,EAAGoO,aAG5B,IAAIC,EACJA,EAAK3B,EAAK1G,OAAS,KAAO0G,EAAKxG,OAAS,KAAOwG,EAAKtG,QACpD+H,EAAKG,QAAUD,EAEf,IAAIE,EAAQ9B,EAAIzM,EAAG+N,eACfS,GAAShC,EAAI,GAAKxM,EAAG+N,eAAiBJ,EAC1CQ,EAAK5N,KAAK8D,IAAI,CAACG,KAAM+J,EAAOjK,IAAKkK,EAAO3G,MAAO7H,EAAG+N,eAAgBxJ,OAAQvE,EAAG+N,iBAE7EI,EAAKzG,IAAM1H,EAAG0H,IACdyG,EAAKxG,IAAM3H,EAAG2H,IAEI,GAAd3H,EAAG4K,QAENuD,EAAKhE,cAILgE,EAAKjE,iBAGNgE,GACD,CAGH,EAEAlO,EAAGyO,gBAAkB,SAAS5G,EAAOtD,GAEpC,IAAIvE,EAAKC,KACRyO,EAAyB7G,EACzB8G,EAA0BpK,EAa3B,OAXoB,GAAjBvE,EAAG2K,YAAsB3K,EAAG0K,WAAWpJ,OAAS,GAElDoN,EAAyB7G,EAAQ7H,EAAG0K,WAAW1K,EAAG0K,WAAWpJ,OAAS,GAAGuG,QACzE8G,EAA0BpK,EAASvE,EAAG0K,WAAW,GAAGnG,WAIpDmK,EAAyB7G,EACzB8G,EAA0BpK,GAEJjB,KAAKH,IAAIuL,EAAuBC,IAA4B3O,EAAGuM,OAAOjL,OAAS,EAEvG,EAEAtB,EAAGkK,eAAiB,WACnB,IAAIlK,EAAKC,KACR2O,EAAItO,EAAEN,EAAGe,QACT0B,EAAImM,EAAEjG,aACN9F,EAAI+L,EAAEhG,cAEP5I,EAAGQ,UAAU6D,IAAI,CAACwD,MAAOpF,EAAG8B,OAAQ1B,IAEpC7C,EAAG+N,eAAiB/N,EAAGyO,gBAAgBhM,EAAGI,GACtC7C,EAAG2K,YAAc3K,EAAG0K,WAAWpJ,OAAS,GAE3CtB,EAAG0N,mBAEJ1N,EAAGgO,aACJ,EAEAhO,EAAG6O,WAAa,WACf,IAAI7O,EAAKC,KAETD,EAAG4K,SAAU,EACb5K,EAAGsM,+BACHtM,EAAG2M,sBACH3M,EAAGqN,mBACHrN,EAAGkK,iBACHlK,EAAG4K,SAAU,CACd,CACD,EAEAlI,IAAI0H,iBAAiBjJ,UAAUgM,eAAiB,SAAS2B,GACxD,IAKCC,EALG/O,EAAKC,KACR+O,EAAShP,EAAG8M,YAAYgC,EAAY7B,IACpCvL,EAAQsN,EAAO7H,SAASf,QAAUpG,EAAG2H,IAAM,mBACzCqH,EAAO7H,SAASf,QAAUpG,EAAG0H,IAAM,uBACnC,oBAGH,GAAIsH,EACJ,CA2EED,EAAa,CACZE,MAAO,CACLC,SAAUlP,EAAGoL,gBAAgB,GAC7B+D,kBAAmB,UACnBC,SAAU,KACVC,aAAcrP,EAAGqK,OAAOgF,cAE1BC,MAAO,CACL9N,KAAMwN,EAAO7H,SAASlB,WAAa,QAAU+I,EAAO7H,SAAShB,YAE/DoJ,MAAO,CACLC,UAAW,CACXC,MAAM,EACNjO,KAAMwN,EAAO7H,SAASlB,YAEtBxE,KAAMuN,EAAO7H,SAASlB,WACtByJ,aAAc,SACdC,QAAS,GACTC,aAAa,EACbC,WAAW,EACXC,eAAe,EACf3M,IAAK,EACLF,IAAK,GAEP8M,MAAO,CACLT,MAAO,CACP9N,KAAMwN,EAAO7H,SAAShB,YAEtB1E,KAAMuN,EAAO7H,SAAShB,WACtBuJ,aAAc,SACdC,QAAS,GACTxM,IAAK,EACLF,IAAK,GAEP+M,QAAS,CACPC,UAAW,WACR,OACDjQ,EAAGwD,EAAG,KAAMxD,EAAGyD,CACjB,GAEFyM,OAAQ,CACPC,SAAS,EACRC,OAAQ,WACRC,MAAO,OACPC,cAAe,MACfC,UAAU,EACVxF,gBAAiB,UACjByF,YAAa,GAEfC,YAAa,CACZC,QAAS,CACRC,OAAQ,CACJjN,OAAQ,EACRkN,OAAQ,CACRC,MAAO,CACPV,SAAS,EACTW,UAAW,sBAIfF,OAAQ,CACJC,MAAO,CACPF,OAAQ,CACRR,SAAS,OAOfY,OAAQ,CAAC,CACRC,KAAM,UACNC,WAAY,EACZxP,KAAM,aACNC,MAAOA,EACPwP,KAAMlC,EAAOvG,YAMhB,IAAI1H,EAAST,EAAEN,EAAGe,QACjBoQ,EAAKpQ,EAAO8G,QACZuJ,EAAKrQ,EAAOwD,SACZ8M,EAAwB,IAAnB/N,KAAKH,IAAIiO,EAAID,GAEnBnR,EAAGsK,aAAajG,IAAI,CAACG,KAAO2M,EAAKE,EAAK,GAAK/M,IAAK,EAAGuD,MAAOwJ,EAAI9M,OAAQ8M,IACtErR,EAAGsK,aAAamF,OAQfzP,EAAGsR,WAAaC,QAAQC,KAAKzC,EAAWE,MAAMC,SAAUH,EAAWE,MAAMI,cAAgBoC,IAAIC,eAAiB,SAAU,CACvHC,SAAU,WAGX3R,EAAGsR,WAAWM,UAAU7C,EAE1B,CACD;AChuBA","file":"../../../../../../igco.min.js","sourcesContent":["function m$B2/*bubbleElement*/(indicator, value) {\r\n    var me = this;\r\n    me.ind = indicator;\r\n    me.rowdata = value;\r\n    me.ellipses = [];\r\n    me.label = $(\"<div class='bblabel'></div>\");\r\n    me.html = $(\"<div class='bbbox'></div>\");\r\n    \r\n    me.ind.container.append(me.html);\r\n    me.paper = new Raphael(me.html[0]);\r\n    me.html.append(me.label);\r\n    me.invalidate = -1;\r\n    me.validateData();\r\n    \r\n    // IG$.tooltip(me.html, \"\");\r\n}\r\n\r\nm$B2/*bubbleElement*/.prototype = {\r\n    validateData: function() {\r\n        var me = this,\r\n            i,\r\n            ellipses = me.ellipses,\r\n            colorset = me.ind.colorset,\r\n            rowdata = me.rowdata,\r\n            ellipse;\r\n        \r\n        for (i=0; i < ellipses.length; i++)\r\n        {\r\n            ellipses[i].html.remove();\r\n        }\r\n        ellipses = [];\r\n        \r\n        me.label.text(rowdata.name);\r\n        \r\n        for (i=0; i < rowdata.value.length; i++)\r\n        {\r\n            ellipse = {};\r\n            ellipse.color = colorset[i % colorset.length];\r\n            ellipses.push(ellipse);\r\n        }\r\n        \r\n        me.ellipses = ellipses;\r\n        \r\n        me.validateDisplay();\r\n    },\r\n    \r\n    validateDisplay: function() {\r\n        var me = this;\r\n        if (me.invalidate > -1)\r\n        {\r\n            clearTimeout(me.invalidate);\r\n        }\r\n        setTimeout(function() {\r\n            me.updateDisplay();\r\n        }, 100);\r\n    },\r\n    \r\n    updateDisplay: function() {\r\n        var me = this,\r\n            ind = me.ind,\r\n            html = me.html,\r\n            w = IG$.j$ext._w(html),\r\n            h = IG$.j$ext._h(html),\r\n            rowdata = me.rowdata,\r\n            ellipses = me.ellipses,\r\n            ellipse,\r\n            vmax = ind.mcalc.max,\r\n            vmin = (ind.mv == null ? ind.mcalc.min : (ind.mv > ind.mcalc.min ? ind.mv : ind.mcalc.min)),\r\n            vgap, mradius, mwall, mvalue, tradius, tsum, i, paper,\r\n            ex, ey, er,\r\n            label = me.label;\r\n        \r\n        if (w > 0 && h > 0)\r\n        {\r\n            paper = me.paper;\r\n            paper.clear();\r\n            paper.setSize(w, h);\r\n            \r\n            if (ellipses && ellipses.length > 0)\r\n            {\r\n                mwall = Math.min(w, h);\r\n\r\n                vgap = (vmax == vmin) ? vmax : vmax - vmin;\r\n\r\n                for (i=0; i < ellipses.length; i++)\r\n                {\r\n                    tsum = (i == 0 ? rowdata.value[i] : tsum + rowdata.value[i]);\r\n                }\r\n\r\n                tradius = (tsum - vmin) / vgap * (mwall * .8) + mwall * .1;\r\n\r\n                for (i=0; i < ellipses.length; i++)\r\n                {\r\n                    mvalue = (i == 0 ? rowdata.value[i] : mvalue + rowdata.value[i]);\r\n                    mradius = Math.sqrt(tradius * tradius * mvalue / tsum);\r\n                    ellipse = ellipses[i];\r\n                    ellipse.x = w/2;\r\n                    ellipse.y = h/2;\r\n                    ellipse.radius = mradius/2;\r\n                }\r\n                \r\n                for (i=ellipses.length - 1; i>=0; i--)\r\n                {\r\n                    ellipse = ellipses[i];\r\n                    ex = ellipse.x;\r\n                    ey = ellipse.y;\r\n                    er = ellipse.radius;\r\n                    hue = ellipse.color;\r\n                    ellipse.circle = paper.set(\r\n                        paper.ellipse(ex, ey + er - er / 5, 0, 0)\r\n                            .attr({\r\n                                fill: \"rhsb(\" + hue + \", 1, .25)-hsb(\" + hue + \", 1, .25)\", stroke: \"none\", opacity: 0\r\n                            }).animate({rx: er, ry: er / 2}, 400, \"<\"),\r\n                        paper.ellipse(ex, ey, 0, 0)\r\n                            .attr({\r\n                                fill: \"r(.5,.9)hsb(\" + hue + \", 1, .75)-hsb(\" + hue + \", .5, .25)\", stroke: \"none\"\r\n                            }).animate({rx: er, ry: er}, 400, \"<\"),\r\n                        paper.ellipse(ex, ey, 0, 0)\r\n                            .attr({\r\n                                stroke: \"none\", fill: \"r(.5,.1)#ccc-#ccc\", opacity: 0\r\n                            }).animate({rx: er - er / 5, ry: er - er / 20}, 400, \"<\")\r\n                    );\r\n                }\r\n            }\r\n            \r\n            me.label.css({top: (h - label.height() - 4), left: (w - IG$.j$ext._w(me.label)) / 2});\r\n        }\r\n    }\r\n};\r\n\r\nfunction m$Bl/*bubbleIndicator*/(parent) {\r\n    this.parent = parent;\r\n    this.mv = null;\r\n    this.colorset = [\r\n        0.23, 0.4, 0.3\r\n    ];\r\n    this.initVariables();\r\n}\r\n\r\nm$Bl/*bubbleIndicator*/.prototype = {\r\n    initVariables: function() {\r\n        var me = this;\r\n        me.ex = [];\r\n        me.mx = [];\r\n        me.bubbles = [];\r\n        me.mcalc = {};\r\n        me.container = $(\"<div class='bbmain'></div>\").appendTo(me.parent);\r\n    },\r\n    \r\n    initControl: function() {\r\n        var me = this,\r\n            i,\r\n            bubbles = me.bubbles;\r\n        for (i=0; i < bubbles.length; i++)\r\n        {\r\n            bubbles[i].html.remove();\r\n        }\r\n        bubbles = [];\r\n    },\r\n    \r\n    loadData: function(dp) {\r\n        var me = this,\r\n            ea = me.ea,\r\n            ma = me.ma,\r\n            i, j, ncol,\r\n            dpname,\r\n            sname, nvalue,\r\n            value, msum,\r\n            mcalc = me.mcalc,\r\n            bvalue,\r\n            be;\r\n        \r\n        if (dp && dp.length > 0 && ea && ea.length > 0 && ma && ma.length > 0)\r\n        {\r\n            // initialize\r\n            for (i=0; i < ma.length; i++)\r\n            {\r\n                ma[i].max = 0;\r\n                ma[i].min = 0;\r\n            }\r\n            for (i=0; i < dp.length; i++)\r\n            {\r\n                dpname = \"col_\" & i;\r\n                sname = \"\";\r\n                value = []; \r\n                for (j=0; j < ea.length; j++)\r\n                {\r\n                    ncol = ea[j].i;\r\n                    sname = (j == 0 ? dp[i][ncol] : sname + \" \" + dp[i][ncol]);\r\n                }\r\n                for (j=0; j < ma.length; j++)\r\n                {\r\n                    ncol = ma[j].i;\r\n                    nvalue = Number(dp[i][ncol]);\r\n\r\n                    if (i == 0)\r\n                    {\r\n                        ma[j].min = nvalue;\r\n                        ma[j].max = nvalue;\r\n                    }\r\n                    else\r\n                    {\r\n                        ma[j].min = Math.min(ma[j].min, nvalue);\r\n                        ma[j].max = Math.max(ma[j].max, nvalue);\r\n                    }\r\n\r\n                    msum = (j == 0 ? nvalue : msum + nvalue);\r\n\r\n                    value.push(nvalue);\r\n                }\r\n                \r\n                if (i == 0)\r\n                {\r\n                    mcalc.min = msum;\r\n                    mcalc.max = msum;\r\n                }\r\n                else\r\n                {\r\n                    mcalc.min = Math.min(mcalc.min, msum);\r\n                    mcalc.max = Math.max(mcalc.max, msum);\r\n                }\r\n                \r\n                bvalue = {name: sname, value: value};\r\n                be = new m$B2/*bubbleElement*/(me, bvalue);\r\n                me.bubbles.push(be);\r\n                // me..append(be.html);\r\n            }\r\n            \r\n            me.validateControl();\r\n        }\r\n    },\r\n    \r\n    validateControl: function() {\r\n        var me = this,\r\n            parent = $(me.parent),\r\n            w = IG$.j$ext._w(parent),\r\n            h = IG$.j$ext._h(parent),\r\n            bubbles = me.bubbles,\r\n            bubble,\r\n            i, lw, lh, lx;\r\n        \r\n        if (w > 0 && h > 0 && bubbles && bubbles.length > 0)\r\n        {\r\n            lx = 0;\r\n            lw = w / bubbles.length;\r\n            lh = h;\r\n            for (i=0; i < bubbles.length; i++)\r\n            {\r\n                bubble = bubbles[i];\r\n                bubble.html.css({left: lx, top: 0, position: 'absolute'});\r\n                IG$.j$ext._w(bubble.html, lw);\r\n                IG$.j$ext._h(bubble.html, lh);\r\n                bubble.validateDisplay.call(bubble);\r\n                lx += lw;\r\n            }\r\n        }\r\n    }\r\n};","IG$.m$CompMatrix = function()\r\n{\r\n\tvar me = this;\r\n\t\r\n\t/**\r\n\t * One attribute of the data set captured by this ComparisonItem.\r\n\t */\r\n\tme.xField = null;\r\n\tme.xFieldName = null;\r\n\t\r\n\t/**\r\n\t * The other attribute of the data set captured by this ComparisonItem.\r\n\t */\r\n\tme.yField = null;\r\n\tme.yFieldName = null;\r\n\t\r\n\t/**\r\n\t * The numerical relationship between the xField and the yField. When used in the\r\n\t * default implementation of the ComparisonMatrix, this value is the correlation\r\n\t * coefficent.\r\n\t */\r\n\tme.compVal;\r\n\t\r\n\t/**\r\n\t * The dataProvider of the ComparisonMatrix that created this ComparisonItem.\r\n\t */\r\n\tme.dataSet = null;\r\n\t\r\n\tme.toString = function()\r\n\t{\r\n\t\treturn me.xFieldName + \", \" + me.yFieldName + \" : \" + me.compVal;\r\n\t}\r\n}\r\n\r\nIG$.compMatrixPlotCell = function()\r\n{\r\n\tvar me = this,\r\n\t\ti,\r\n\t\to,\r\n\t\tbrowser = window.bowser,\r\n\t\thasSVG = (window && window.SVGAngle) || document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\");\r\n\t\t\r\n\tme.hasCanvas = (!hasSVG && !browser.msie) ? true : false;\r\n\t\r\n\tme.compItem;\r\n\tme.xMin;\r\n\tme.xMax;\r\n\tme.yMin;\r\n\tme.yMax;\r\n\tme.xRange;\r\n\tme.yRange;\r\n\t\r\n\tme.cr1 = 0;\r\n\tme.cr2 = 0;\r\n\t\r\n\tme.selected;\r\n\t\r\n\tme.width;\r\n\tme.height;\r\n\t\r\n\tme.html = $('<div class=\"matrixchart\"></div>');\r\n\t\r\n\tif (me.hasCanvas == true)\r\n\t{\r\n\t\tme.canvas = $('<canvas></canvas>');\r\n\t\tme.canvas.appendTo(me.html);\r\n\t}\r\n\t\r\n\tme.updateExtremes = function()\r\n\t{\r\n\t\tif(me.compItem && me.compItem.dataSet)\r\n\t\t{\r\n\t\t\tme.xMin = Number.MAX_VALUE;\r\n\t\t\tme.yMin = Number.MAX_VALUE;\r\n\t\t\tme.xMax = Number.MIN_VALUE;\r\n\t\t\tme.yMax = Number.MIN_VALUE;\r\n\t\t\tfor (i=0; i < me.compItem.dataSet.length; i++)\r\n\t\t\t{\r\n\t\t\t\to = me.compItem.dataSet[i];\r\n\t\t\t\t\r\n\t\t\t\tme.xMin = Math.min(me.xMin,o[me.compItem.xField]);\r\n\t\t\t\tme.yMin = Math.min(me.yMin,o[me.compItem.yField]);\r\n\t\t\t\tme.xMax = Math.max(me.xMax,o[me.compItem.xField]);\r\n\t\t\t\tme.yMax = Math.max(me.yMax,o[me.compItem.yField]);\r\n\t\t\t}\r\n\t\t\tme.xRange = me.xMax - me.xMin;\r\n\t\t\tme.yRange = me.yMax - me.yMin;\r\n\t\t}\r\n\t}\r\n\t\r\n\tme.computeX = function(o) {\r\n\t\tvar xFieldValue = o[me.compItem.xField],\r\n\t\t\txPercent = 1 - (me.xMax - xFieldValue) / me.xRange;\r\n\t\treturn xPercent;\r\n\t}\r\n\t\r\n\tme.computeY = function(o) {\r\n\t\tvar yFieldValue = o[me.compItem.yField],\r\n\t\t\tyPercent = 1 - (me.yMax - yFieldValue) / me.yRange;\r\n\t\treturn yPercent;\r\n\t}\r\n\t\r\n\tme.updatePlot = function() {\r\n\t\tvar i,\r\n\t\t\to,\r\n\t\t\tplotPointX,\r\n\t\t\tplotPointY;\r\n\t\t\r\n\t\tme.plotData = [];\r\n\t\t\r\n\t\tfor (i=0; i < me.compItem.dataSet.length; i++)\r\n\t\t{\r\n\t\t\to = me.compItem.dataSet[i];\r\n\t\t\tplotPointX = me.computeX(o);\r\n\t\t\tplotPointY = me.computeY(o);\r\n\r\n\t\t\tme.plotData.push([plotPointX, plotPointY]);\r\n\t\t}\r\n\t\t\r\n\t\tme.drawPlot();\r\n\t}\r\n\t\r\n\tme.drawPlot = function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.width = me.html.innerWidth();\r\n\t\tme.height = me.html.innerHeight();\r\n\t\t\r\n\t\tvar gap = 3,\r\n\t\t\tcolor,\r\n\t\t\tdcache = {};\r\n\t\t\t\r\n\t\tcolor = me.compItem.compVal > me.cr2 ? \"rgba(0,0,255,\" : \r\n\t\t\t\tme.compItem.compVal > me.cr1 ? \"rgba(150,150,150,\" :\r\n\t\t\t\t\"rgba(255,0,0,\";\r\n\t\t\r\n\t\tif (me.hasCanvas == true)\r\n\t\t{\r\n\t\t\tme.canvas.width = me.width;\r\n\t\t\tme.canvas.height = me.height;\r\n\t\t\t\r\n\t\t\tme.ctx = me.canvas[0].getContext('2d');\r\n\t\t\tme.ctx.scale(1, 1);\r\n\t\t\tme.ctx.fillStyle = \"rgb(255,255,255)\";\r\n\t\t\tme.ctx.fillRect (0, 0, me.width, me.height);\r\n\t\t\tme.ctx.strokeStyle = \"#5F5F5F\";\r\n\t\t\tme.ctx.lineWidth = 1;\r\n\t\t\t\r\n\t\t\tme.ctx.fillStyle = color + '.5)';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (!me.paper)\r\n\t\t\t{\r\n\t\t\t\tme.paper = Raphael(me.html[0], 0, 0, me.width, me.height);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tme.paper.clear();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < me.plotData.length; i++)\r\n\t\t{\r\n\t\t\tvar o = me.plotData[i],\r\n\t\t\t\tcx = (isNaN(o[0]) == false ? o[0] * me.width : 0),\r\n\t\t\t\tcy = (isNaN(o[1]) == false ? (1-o[1]) * me.height : me.height),\r\n\t\t\t\ttx = Math.floor(cx),\r\n\t\t\t\tty = Math.floor(cy),\r\n\t\t\t\tkey,\r\n\t\t\t\tradius = 2;\r\n\t\t\t\r\n\t\t\ttx = tx - tx % 5;\r\n\t\t\tty = ty - ty % 5;\r\n\t\t\t\r\n\t\t\tkey = '' + tx + ',' + ty;\r\n\t\t\t\r\n\t\t\tif (!dcache[key])\r\n\t\t\t{\r\n\t\t\t\tif (me.hasCanvas == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.ctx.beginPath();\r\n\t\t\t\t\tme.ctx.arc(cx, cy, 1, 0, Math.PI*2, true);\r\n\t\t\t\t\tme.ctx.closePath();\r\n\t\t\t\t\tme.ctx.fill();\r\n\t\t\t\t\tdcache[key] = {obj: true, mbody: 0};\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tdcache[key] = {obj: me.paper.circle(cx, cy, radius), mbody: 0};\r\n\t\t\t\t\tdcache[key].obj.attr(\"fill\", color + '0.5)');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tdcache = null;\r\n\t}\r\n\t\r\n\tme.updateDispList = function(w, h) {\r\n\t\tme.drawPlot();\r\n\t}\r\n\r\n\tme.commitProps = function() {\r\n\t\tme.updateExtremes();\r\n\t\tme.updatePlot();\r\n\t}\r\n}\r\n\r\nIG$.ComparisonMatrix = function(parent, config)\r\n{\r\n\tvar me = this,\r\n\t\tdetailviewer,\r\n\t\tlabelhtml;\r\n\t\r\n\tme.compItems = null;\r\n\tme.cells = [];\r\n\tme.parent = parent;\r\n\tme.config = config;\r\n\tme.textFields = [];\r\n\tme.showLabels = config.showLabels || true;\r\n\t\r\n\tme.cr1 = (config.cr1 == null || typeof config.cr1 == 'undefined') ? 0 : config.cr1;\r\n\tme.cr2 = (config.cr2 == null || typeof config.cr2 == 'undefined') ? 0 : config.cr2;\r\n\t\r\n\tme.container = $('<div class=\"matrixcontainer\"></div>');\r\n\tme.container.appendTo(me.parent);\r\n\t\r\n\tlabelhtml = me.labelhtml = $('<div class=\"matrixlabel\"></div>');\r\n\tlabelhtml.css({position: 'absolute', top: '0px', left: '0px', width: '0px', height: '0px'});\r\n\tlabelhtml.appendTo(me.parent);\r\n\tme.isDirty = false;\r\n\t\r\n\tdetailviewer = me.detailviewer = $('<div class=\"detailviewer\"></div>');\r\n\tdetailviewer.css({\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 10,\r\n\t\t\tleft: 10,\r\n\t\t\twidth: 100,\r\n\t\t\theight: 100,\r\n\t\t\tmargin: 0,\r\n\t\t\tpadding: 0,\r\n\t\t\tbackgroundColor: '#ececec',\r\n\t\t\tborderColor: '#222222',\r\n\t\t\tdisplay: 'none'\r\n\t\t}\r\n\t);\r\n\tdetailviewer.appendTo(me.parent);\r\n\tdetailviewer.bind('click', function() {\r\n\t\t$(this).fadeOut();\r\n\t});\r\n\t\r\n\tme.detailcontainer = $('<div class=\"detailmatrixplot\"></div>');\r\n\tme.detailcontainer.css({\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmargin: '20 0 0 0',\r\n\t\t\tpadding: 0,\r\n\t\t\ttop: 0, left: 0, right: 0, bottom: 0\r\n\t\t}\r\n\t);\r\n\t\r\n\tme.uid = 0;\r\n\t\r\n\tme.detailcontainer.appendTo(detailviewer);\r\n\t\r\n\tvar closebtn = $('<div class=\"detailmatrixclosebtn\"></div>');\r\n\r\n\tclosebtn.css({\r\n\t\tposition: 'absolute',\r\n\t\ttop: 2, width: 16, height: 16, right: 2\r\n\t});\r\n\tdetailviewer.append(closebtn);\r\n\tclosebtn.bind({\r\n\t\tclick: function() {\r\n\t\t\tdetailviewer.fadeOut();\r\n\t\t}\r\n\t});\r\n\t\r\n\t/**\r\n\t * Evaluates the correlation coefficent between the xField and yField properties\r\n\t * on the Objects in the collection.\r\n\t */\r\n\tme.correlationCoefficient = function(collection, xField, yField)\r\n\t{\r\n\t\tvar len = collection.length,\r\n\t\t\txTotal = 0,\r\n\t\t\tyTotal = 0,\r\n\t\t\txSquaredTotal = 0,\r\n\t\t\tySquaredTotal = 0,\r\n\t\t\txYTotal = 0,\r\n\t\t\to,\r\n\t\t\ti;\r\n\t\t\t\r\n\t\tfor (i=0; i < collection.length; i++)\r\n\t\t{\r\n\t\t\to = collection[i];\r\n\t\t\tvar xValue = o[xField];\r\n\t\t\tvar yValue = o[yField];\r\n\t\t\txTotal += xValue;\r\n\t\t\tyTotal += yValue;\r\n\t\t\txSquaredTotal += Math.pow(xValue,2);\r\n\t\t\tySquaredTotal += Math.pow(yValue,2);\r\n\t\t\txYTotal += xValue * yValue;\r\n\t\t}\r\n\t\tvar top = (len * xYTotal) - (xTotal * yTotal);\r\n\t\tvar bottomLeft = Math.sqrt( (len * xSquaredTotal) - Math.pow(xTotal,2) );\r\n\t\tvar bottomRight = Math.sqrt( (len * ySquaredTotal) - Math.pow(yTotal,2) );\r\n\t\treturn top/(bottomLeft * bottomRight);\r\n\t}\r\n\t\r\n\tme.comparisonFunction = me.correlationCoefficient;\r\n\r\n\t/**\r\n\t * Evaluate the relationship between each pair of attributes in the fields Array\r\n\t * using the comparisonFunction. \r\n\t */\r\n\tme.generateComparisonStatistics = function()\r\n\t{\r\n\t\tme.compItems = [];\r\n\t\t\r\n\t\tif(me.fields.length == 0 || me.dataSet == null || me.dataSet.length == 0)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tvar len = me.fields.length;\r\n\t\tvar index = 0;\r\n\t\tfor (var a = 0; a < len; a++)\r\n\t\t{\r\n\t\t\tfor (var b = 0; b < a + 1;  b++)\r\n\t\t\t{\r\n\t\t\t\tif(a != b)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar item = new IG$.m$CompMatrix();\r\n\t\t\t\t\titem.xFieldName = me.fields[a];\r\n\t\t\t\t\titem.xField = a;\r\n\t\t\t\t\titem.yFieldName = me.fields[b];\r\n\t\t\t\t\titem.yField = b;\r\n\t\t\t\t\titem.compVal = me.comparisonFunction(me.dataSet, item.xField, item.yField);\r\n\t\t\t\t\tme.compItems.push(item);\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tme.createOrRemoveCells = function() {\r\n\t\tvar me = this,\r\n\t\t\tlen = me.compItems.length, cid,\r\n\t\t\tncells = [];\r\n\t\t\r\n\t\tme.matrixitems = {};\r\n\t\t\r\n\t\twhile(me.cells.length < len)\r\n\t\t{\r\n\t\t\tvar cellToAdd = new IG$.compMatrixPlotCell();\r\n\t\t\tcellToAdd.html.css({border: '1px solid #a5a5a5', width: 200, height: 200, position: 'absolute', padding: 0});\r\n\t\t\t// cellToAdd.addEventListener(MouseEvent.CLICK, handleCellClick, false, 0, true);\r\n\t\t\tcellToAdd.html.appendTo(me.container);\r\n\t\t\tcid = 'matrixplot' + me.uid;\r\n\t\t\tcellToAdd.html[0].id = cid;\r\n\t\t\tcellToAdd.id = cid;\r\n\t\t\tme.uid++;\r\n\t\t\t\r\n\t\t\tncells.push(cellToAdd);\r\n\t\t\tme.cells.push(cellToAdd);\r\n\t\t\tme.matrixitems[cid] = cellToAdd;\r\n\t\t}\r\n\t\t\r\n\t\t$.each(ncells, function(i, cellToAdd) {\r\n\t\t\tcellToAdd.html.bind({\r\n\t\t\t\tclick: function() {\r\n\t\t\t\t\tme.drawDetailPlot(cellToAdd);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\twhile(len < me.cells.length)\r\n\t\t{\r\n\t\t\tvar cellToRemove = me.cells.pop();\r\n\t\t\tcellToRemove.remove();\r\n\t\t}\r\n\t}\r\n\t\r\n\tme.updateTextFields = function() {\r\n\t\tvar me = this,\r\n\t\t\tlen = me.fields.length,\r\n\t\t\ta,\r\n\t\t\ttextField,\r\n\t\t\ttextFieldToAdd;\r\n\t\t\r\n\t\tfor(a = 0; a < len; a++)\r\n\t\t{\r\n\t\t\tif(me.textFields.length < a + 1)\r\n\t\t\t{\r\n\t\t\t\ttextFieldToAdd = $('<div class=\"matrixtextfield\"></div>');\r\n\t\t\t\ttextFieldToAdd.css({fontSize: '0.8em', padding: '0 0 0 3', margin: 0, position: 'absolute', width: 130});\r\n\t\t\t\tme.textFields.push(textFieldToAdd);\r\n\t\t\t\ttextFieldToAdd.appendTo(me.labelhtml);\r\n\t\t\t}\r\n\t\t\ttextField = me.textFields[a];\r\n\t\t\ttextField[0].innerText = me.fields[a];\r\n\t\t\t\r\n\t\t\t// var metrics:TextLineMetrics = textField.getLineMetrics(0);\r\n\t\t\t// textField.width = metrics.width + 4;\r\n\t\t\t// textField.height = metrics.height + 2;\r\n\t\t}\r\n\t\twhile(len < me.textFields.length)\r\n\t\t{\r\n\t\t\tvar textFieldToRemove = textFields.pop();\r\n\t\t\tme.textFieldToRemove.remove();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Position the textFields along the edges of the matrix.\r\n\t */\r\n\tme.layoutTextFields = function() {\r\n\t\tvar me = this,\r\n\t\t\tlen = me.textFields.length,\r\n\t\t\tfirstTextField,\r\n\t\t\tstartY,\r\n\t\t\ta,\r\n\t\t\ttextField,\r\n\t\t\tpx,\r\n\t\t\tpy;\r\n\t\tif(len > 0)\r\n\t\t{\r\n\t\t\tfirstTextField = me.textFields[0];\r\n\t\t\tstartY = firstTextField.height();\r\n\t\t\t\r\n\t\t\tfor(a = 0; a < len; a++)\r\n\t\t\t{\r\n\t\t\t\ttextField = me.textFields[a];\r\n\t\t\t\tpx = a * me.actualCellSize + 1;\r\n\t\t\t\tif(a == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tpy = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tpy = (a) * me.actualCellSize + startY - textField.height();\r\n\t\t\t\t}\r\n\t\t\t\ttextField.css({left: px, top: py}); \r\n\t\t\t\t// textField.visible = true;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Arrange the cells in a stair-step fashion.\r\n\t */\r\n\tme.layoutCells = function()\r\n\t{\r\n\t\tvar me = this,\r\n\t\t\tstartY = 0;\r\n\t\tif(me.showLabels && me.textFields.length > 0)\r\n\t\t{\r\n\t\t\tvar firstTextField = me.textFields[0];\r\n\t\t\tstartY = firstTextField.position().top + firstTextField.height();\r\n\t\t}\r\n\t\t\r\n\t\tvar len = me.fields.length;\r\n\t\tvar index = 0;\r\n\t\tfor(var a = 0; a < len; a++)\r\n\t\t{\r\n\t\t\tfor(var b = 0; b < a + 1;  b++)\r\n\t\t\t{\r\n\t\t\t\tif(a != b)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar item = me.compItems[index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar cell = me.cells[index];\r\n\t\t\t\t\titem.dataSet = me.dataSet;\r\n\t\t\t\t\tcell.compItem = item;\r\n\t\t\t\t\tcell.selected = (item == me.selectedItem);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// toolTip isn't a part of IUIComponent, interesting, eh?\r\n\t\t\t\t\tvar tt = \"\";\r\n\t\t\t\t\ttt = item.xField + \"\\n\" + item.yField + \"\\n\" + item.compVal;\r\n\t\t\t\t\tcell.toolTip = tt;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar cellX = b * me.actualCellSize;\r\n\t\t\t\t\tvar cellY = (a - 1) * me.actualCellSize + startY;\r\n\t\t\t\t\tcell.html.css({left: cellX, top: cellY, width: me.actualCellSize, height: me.actualCellSize});\r\n\t\t\t\t\t\r\n\t\t\t\t\tcell.cr1 = me.cr1;\r\n\t\t\t\t\tcell.cr2 = me.cr2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.isDirty == true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcell.commitProps();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcell.updateDispList();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t \r\n\tme.computeCellSize = function(width, height)\r\n\t{\r\n\t\tvar me = this,\r\n\t\t\tavailableWidthForCells = width,\r\n\t\t\tavailableHeightForCells = height;\r\n\t\t\r\n\t\tif(me.showLabels == true && me.textFields.length > 0)\r\n\t\t{\r\n\t\t\tavailableWidthForCells = width - me.textFields[me.textFields.length - 1].width();\r\n\t\t\tavailableHeightForCells = height - me.textFields[0].height();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tavailableWidthForCells = width;\r\n\t\t\tavailableHeightForCells = height;\r\n\t\t}\r\n\t\tvar measuredCellSize = Math.min(availableWidthForCells,availableHeightForCells) / (me.fields.length - 1);\r\n\t\treturn measuredCellSize;\r\n\t}\r\n\t\r\n\tme.updateDispList = function() {\r\n\t\tvar me = this,\r\n\t\t\tp = $(me.parent),\r\n\t\t\tw = p.innerWidth(),\r\n\t\t\th = p.innerHeight();\r\n\t\t\t\r\n\t\tme.container.css({width: w, height: h});\r\n\t\t\r\n\t\tme.actualCellSize = me.computeCellSize(w, h);\r\n\t\tif (me.showLabels && me.textFields.length > 0)\r\n\t\t{\r\n\t\t\tme.layoutTextFields();\r\n\t\t}\r\n\t\tme.layoutCells();\r\n\t}\r\n\t\r\n\tme.commitProp = function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.isDirty = true;\r\n\t\tme.generateComparisonStatistics();\r\n\t\tme.createOrRemoveCells();\r\n\t\tme.updateTextFields();\r\n\t\tme.updateDispList();\r\n\t\tme.isDirty = false;\r\n\t}\t\r\n}\r\n\r\nIG$.ComparisonMatrix.prototype.drawDetailPlot = function(matrixowner) {\r\n\tvar me = this,\r\n\t\tmatrix = me.matrixitems[matrixowner.id],\r\n\t\tcolor = matrix.compItem.compVal > me.cr2 ? \"rgba(0,0,255,.5)\" : \r\n\t\t\t\tmatrix.compItem.compVal > me.cr1 ? \"rgba(150,150,150,.5)\" :\r\n\t\t\t\t\"rgba(255,0,0,0.5)\",\r\n\t\tplotoption;\r\n\t\r\n\tif (matrix)\r\n\t{\r\n// \t\tif (window.Highcharts)\r\n// \t\t{\r\n// \t\t\tplotoption = {\r\n// \t\t\t\tchart: {\r\n// \t\t\t\t\t renderTo: me.detailcontainer[0], \r\n// \t\t\t\t\t defaultSeriesType: 'scatter',\r\n// \t\t\t\t\t zoomType: 'xy'\r\n// \t\t\t\t},\r\n// \t\t\t\ttitle: {\r\n// \t\t\t\t\t text: matrix.compItem.xFieldName + \" vs. \" + matrix.compItem.yFieldName\r\n// \t\t\t\t},\r\n// \t\t\t\txAxis: {\r\n// \t\t\t\t\t title: {\r\n// \t\t\t\t\t\tenabled: true,\r\n// \t\t\t\t\t\ttext: matrix.compItem.xFieldName\r\n// \t\t\t\t\t },\r\n// \t\t\t\t\t startOnTick: true,\r\n// \t\t\t\t\t endOnTick: true,\r\n// \t\t\t\t\t showLastLabel: true,\r\n// \t\t\t\t\t min: 0,\r\n// \t\t\t\t\t max: 1\r\n// \t\t\t\t},\r\n// \t\t\t\tyAxis: {\r\n// \t\t\t\t\t title: {\r\n// \t\t\t\t\t\ttext: matrix.compItem.yFieldName\r\n// \t\t\t\t\t },\r\n// \t\t\t\t\t min: 0,\r\n// \t\t\t\t\t max: 1\r\n// \t\t\t\t},\r\n// \t\t\t\ttooltip: {\r\n// \t\t\t\t\t formatter: function() {\r\n// \t\t\t\t\t\t   return ''+\r\n// \t\t\t\t\t   me.x +', '+ me.y +'';\r\n// \t\t\t\t\t }\r\n// \t\t\t\t},\r\n// \t\t\t\tlegend: {\r\n// \t\t\t\t\tenabled: false,\r\n// \t\t\t\t\t layout: 'vertical',\r\n// \t\t\t\t\t align: 'left',\r\n// \t\t\t\t\t verticalAlign: 'top',\r\n// \t\t\t\t\t floating: true,\r\n// \t\t\t\t\t backgroundColor: '#FFFFFF',\r\n// \t\t\t\t\t borderWidth: 1\r\n// \t\t\t\t},\r\n// \t\t\t\tplotOptions: {\r\n// \t\t\t\t\tscatter: {\r\n// \t\t\t\t\t\tmarker: {\r\n// \t\t\t\t\t\t\t   radius: 5,\r\n// \t\t\t\t\t\t\t   states: {\r\n// \t\t\t\t\t\t\t\t  hover: {\r\n// \t\t\t\t\t\t\t\t\t enabled: true,\r\n// \t\t\t\t\t\t\t\t\t lineColor: 'rgb(100,100,100)'\r\n// \t\t\t\t\t\t\t\t  }\r\n// \t\t\t\t\t\t\t   }\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\tstates: {\r\n// \t\t\t\t\t\t\t   hover: {\r\n// \t\t\t\t\t\t\t\t  marker: {\r\n// \t\t\t\t\t\t\t\t\t enabled: false\r\n// \t\t\t\t\t\t\t\t  }\r\n// \t\t\t\t\t\t\t   }\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t}\r\n// \t\t\t\t},\r\n// \t\t\t\t\r\n// \t\t\t\tseries: [{\r\n// \t\t\t\t\t name: 'comparison',\r\n// \t\t\t\t\t color: color,\r\n// \t\t\t\t\t data: matrix.plotData\r\n// \t\t\t\t}]\r\n// \t\t\t};\r\n// \t\t}\r\n// \t\telse\r\n// \t\t{\r\n\t\t\tplotoption = {\r\n\t\t\t\tchart: {\r\n\t\t\t\t\t renderTo: me.detailcontainer[0], \r\n\t\t\t\t\t defaultSeriesType: 'scatter',\r\n\t\t\t\t\t zoomType: 'xy',\r\n\t\t\t\t\t echart_theme: me.config.echart_theme\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\t text: matrix.compItem.xFieldName + \" vs. \" + matrix.compItem.yFieldName\r\n\t\t\t\t},\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\t axisLabel: {\r\n\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\ttext: matrix.compItem.xFieldName\r\n\t\t\t\t\t },\r\n\t\t\t\t\t name: matrix.compItem.xFieldName,\r\n\t\t\t\t\t nameLocation: \"middle\",\r\n\t\t\t\t\t nameGap: 20,\r\n\t\t\t\t\t startOnTick: true,\r\n\t\t\t\t\t endOnTick: true,\r\n\t\t\t\t\t showLastLabel: true,\r\n\t\t\t\t\t min: 0,\r\n\t\t\t\t\t max: 1\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\t title: {\r\n\t\t\t\t\t\ttext: matrix.compItem.yFieldName\r\n\t\t\t\t\t },\r\n\t\t\t\t\t name: matrix.compItem.yFieldName,\r\n\t\t\t\t\t nameLocation: \"middle\",\r\n\t\t\t\t\t nameGap: 20,\r\n\t\t\t\t\t min: 0,\r\n\t\t\t\t\t max: 1\r\n\t\t\t\t},\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\t formatter: function() {\r\n\t\t\t\t\t\t   return ''+\r\n\t\t\t\t\t   me.x +', '+ me.y +'';\r\n\t\t\t\t\t }\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t layout: 'vertical',\r\n\t\t\t\t\t align: 'left',\r\n\t\t\t\t\t verticalAlign: 'top',\r\n\t\t\t\t\t floating: true,\r\n\t\t\t\t\t backgroundColor: '#FFFFFF',\r\n\t\t\t\t\t borderWidth: 1\r\n\t\t\t\t},\r\n\t\t\t\tplotOptions: {\r\n\t\t\t\t\tscatter: {\r\n\t\t\t\t\t\tmarker: {\r\n\t\t\t\t\t\t\t   radius: 5,\r\n\t\t\t\t\t\t\t   states: {\r\n\t\t\t\t\t\t\t\t  hover: {\r\n\t\t\t\t\t\t\t\t\t enabled: true,\r\n\t\t\t\t\t\t\t\t\t lineColor: 'rgb(100,100,100)'\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t   }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstates: {\r\n\t\t\t\t\t\t\t   hover: {\r\n\t\t\t\t\t\t\t\t  marker: {\r\n\t\t\t\t\t\t\t\t\t enabled: false\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t   }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tseries: [{\r\n\t\t\t\t\ttype: \"scatter\",\r\n\t\t\t\t\tsymbolSize: 5,\r\n\t\t\t\t\tname: 'comparison',\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tdata: matrix.plotData\r\n\t\t\t\t}]\r\n\t\t\t};\r\n// \t\t}\r\n\t\r\n\t\t// me.detailviewer.css({width: 400, height: 300});\r\n\t\tvar parent = $(me.parent),\r\n\t\t\tpw = parent.width(),\r\n\t\t\tph = parent.height(),\r\n\t\t\tvs = Math.min(ph, pw) * 0.85;\r\n\t\t\t\r\n\t\tme.detailviewer.css({left: (pw - vs - 10), top: 5, width: vs, height: vs});\r\n\t\tme.detailviewer.show();\r\n\t\t\r\n\t\t// if (window.Highcharts)\r\n\t\t// {\r\n\t\t// \tme.plotdetail = new Highcharts.Chart(plotoption);\r\n\t\t// }\r\n\t\t// else\r\n\t\t// {\r\n\t\t\tme.plotdetail = echarts.init(plotoption.chart.renderTo, plotoption.chart.echart_theme || ig$.echarts_theme || 'amplix', {\r\n\t\t\t\trenderer: \"canvas\" // \"svg\"\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tme.plotdetail.setOption(plotoption);\r\n\t\t// }\r\n\t}\r\n}",null]}